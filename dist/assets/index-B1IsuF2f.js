(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Al(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const Et={},Us=[],cn=()=>{},Rd=()=>!1,So=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Ml=n=>n.startsWith("onUpdate:"),me=Object.assign,Dl=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},gm=Object.prototype.hasOwnProperty,wt=(n,t)=>gm.call(n,t),tt=Array.isArray,zs=n=>Eo(n)==="[object Map]",Id=n=>Eo(n)==="[object Set]",rt=n=>typeof n=="function",te=n=>typeof n=="string",Rn=n=>typeof n=="symbol",Lt=n=>n!==null&&typeof n=="object",Ld=n=>(Lt(n)||rt(n))&&rt(n.then)&&rt(n.catch),Nd=Object.prototype.toString,Eo=n=>Nd.call(n),pm=n=>Eo(n).slice(8,-1),jd=n=>Eo(n)==="[object Object]",Rl=n=>te(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ii=Al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=n=>{const t=Object.create(null);return(e=>t[e]||(t[e]=n(e)))},mm=/-\w/g,He=Oo(n=>n.replace(mm,t=>t.slice(1).toUpperCase())),bm=/\B([A-Z])/g,Es=Oo(n=>n.replace(bm,"-$1").toLowerCase()),To=Oo(n=>n.charAt(0).toUpperCase()+n.slice(1)),Xo=Oo(n=>n?`on${To(n)}`:""),Gn=(n,t)=>!Object.is(n,t),Yr=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},$d=(n,t,e,s=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:s,value:e})},Ba=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Nc;const Po=()=>Nc||(Nc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Il(n){if(tt(n)){const t={};for(let e=0;e<n.length;e++){const s=n[e],i=te(s)?vm(s):Il(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(te(n)||Lt(n))return n}const ym=/;(?![^(]*\))/g,_m=/:([^]+)/,wm=/\/\*[^]*?\*\//g;function vm(n){const t={};return n.replace(wm,"").split(ym).forEach(e=>{if(e){const s=e.split(_m);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ge(n){let t="";if(te(n))t=n;else if(tt(n))for(let e=0;e<n.length;e++){const s=ge(n[e]);s&&(t+=s+" ")}else if(Lt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const xm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",km=Al(xm);function Fd(n){return!!n||n===""}const Bd=n=>!!(n&&n.__v_isRef===!0),Tt=n=>te(n)?n:n==null?"":tt(n)||Lt(n)&&(n.toString===Nd||!rt(n.toString))?Bd(n)?Tt(n.value):JSON.stringify(n,Wd,2):String(n),Wd=(n,t)=>Bd(t)?Wd(n,t.value):zs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,i],r)=>(e[Qo(s,r)+" =>"]=i,e),{})}:Id(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Qo(e))}:Rn(t)?Qo(t):Lt(t)&&!tt(t)&&!jd(t)?String(t):t,Qo=(n,t="")=>{var e;return Rn(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ce;class Sm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!t&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Ce;try{return Ce=this,t()}finally{Ce=e}}}on(){++this._on===1&&(this.prevScope=Ce,Ce=this)}off(){this._on>0&&--this._on===0&&(Ce=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(this.effects.length=0,e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Em(){return Ce}let Mt;const Zo=new WeakSet;class Vd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zo.has(this)&&(Zo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ud(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jc(this),zd(this);const t=Mt,e=Ke;Mt=this,Ke=!0;try{return this.fn()}finally{qd(this),Mt=t,Ke=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jl(t);this.deps=this.depsTail=void 0,jc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wa(this)&&this.run()}get dirty(){return Wa(this)}}let Hd=0,Li,Ni;function Ud(n,t=!1){if(n.flags|=8,t){n.next=Ni,Ni=n;return}n.next=Li,Li=n}function Ll(){Hd++}function Nl(){if(--Hd>0)return;if(Ni){let t=Ni;for(Ni=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Li;){let t=Li;for(Li=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){n||(n=s)}t=e}}if(n)throw n}function zd(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qd(n){let t,e=n.depsTail,s=e;for(;s;){const i=s.prevDep;s.version===-1?(s===e&&(e=i),jl(s),Om(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=t,n.depsTail=e}function Wa(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Yd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function Yd(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Gi)||(n.globalVersion=Gi,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Wa(n))))return;n.flags|=2;const t=n.dep,e=Mt,s=Ke;Mt=n,Ke=!0;try{zd(n);const i=n.fn(n._value);(t.version===0||Gn(i,n._value))&&(n.flags|=128,n._value=i,t.version++)}catch(i){throw t.version++,i}finally{Mt=e,Ke=s,qd(n),n.flags&=-3}}function jl(n,t=!1){const{dep:e,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),e.subs===n&&(e.subs=s,!s&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)jl(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function Om(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Ke=!0;const Kd=[];function Cn(){Kd.push(Ke),Ke=!1}function An(){const n=Kd.pop();Ke=n===void 0?!0:n}function jc(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=Mt;Mt=void 0;try{t()}finally{Mt=e}}}let Gi=0;class Tm{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $l{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Mt||!Ke||Mt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Mt)e=this.activeLink=new Tm(Mt,this),Mt.deps?(e.prevDep=Mt.depsTail,Mt.depsTail.nextDep=e,Mt.depsTail=e):Mt.deps=Mt.depsTail=e,Gd(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const s=e.nextDep;s.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=s),e.prevDep=Mt.depsTail,e.nextDep=void 0,Mt.depsTail.nextDep=e,Mt.depsTail=e,Mt.deps===e&&(Mt.deps=s)}return e}trigger(t){this.version++,Gi++,this.notify(t)}notify(t){Ll();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Nl()}}}function Gd(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Gd(s)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Va=new WeakMap,ws=Symbol(""),Ha=Symbol(""),Ji=Symbol("");function he(n,t,e){if(Ke&&Mt){let s=Va.get(n);s||Va.set(n,s=new Map);let i=s.get(e);i||(s.set(e,i=new $l),i.map=s,i.key=e),i.track()}}function kn(n,t,e,s,i,r){const o=Va.get(n);if(!o){Gi++;return}const a=l=>{l&&l.trigger()};if(Ll(),t==="clear")o.forEach(a);else{const l=tt(n),c=l&&Rl(e);if(l&&e==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Ji||!Rn(d)&&d>=u)&&a(h)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),c&&a(o.get(Ji)),t){case"add":l?c&&a(o.get("length")):(a(o.get(ws)),zs(n)&&a(o.get(Ha)));break;case"delete":l||(a(o.get(ws)),zs(n)&&a(o.get(Ha)));break;case"set":zs(n)&&a(o.get(ws));break}}Nl()}function As(n){const t=_t(n);return t===n?t:(he(t,"iterate",Ji),Ve(n)?t:t.map(oe))}function Co(n){return he(n=_t(n),"iterate",Ji),n}const Pm={__proto__:null,[Symbol.iterator](){return ta(this,Symbol.iterator,oe)},concat(...n){return As(this).concat(...n.map(t=>tt(t)?As(t):t))},entries(){return ta(this,"entries",n=>(n[1]=oe(n[1]),n))},every(n,t){return gn(this,"every",n,t,void 0,arguments)},filter(n,t){return gn(this,"filter",n,t,e=>e.map(oe),arguments)},find(n,t){return gn(this,"find",n,t,oe,arguments)},findIndex(n,t){return gn(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return gn(this,"findLast",n,t,oe,arguments)},findLastIndex(n,t){return gn(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return gn(this,"forEach",n,t,void 0,arguments)},includes(...n){return ea(this,"includes",n)},indexOf(...n){return ea(this,"indexOf",n)},join(n){return As(this).join(n)},lastIndexOf(...n){return ea(this,"lastIndexOf",n)},map(n,t){return gn(this,"map",n,t,void 0,arguments)},pop(){return pi(this,"pop")},push(...n){return pi(this,"push",n)},reduce(n,...t){return $c(this,"reduce",n,t)},reduceRight(n,...t){return $c(this,"reduceRight",n,t)},shift(){return pi(this,"shift")},some(n,t){return gn(this,"some",n,t,void 0,arguments)},splice(...n){return pi(this,"splice",n)},toReversed(){return As(this).toReversed()},toSorted(n){return As(this).toSorted(n)},toSpliced(...n){return As(this).toSpliced(...n)},unshift(...n){return pi(this,"unshift",n)},values(){return ta(this,"values",oe)}};function ta(n,t,e){const s=Co(n),i=s[t]();return s!==n&&!Ve(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=e(r.value)),r}),i}const Cm=Array.prototype;function gn(n,t,e,s,i,r){const o=Co(n),a=o!==n&&!Ve(n),l=o[t];if(l!==Cm[t]){const h=l.apply(n,r);return a?oe(h):h}let c=e;o!==n&&(a?c=function(h,d){return e.call(this,oe(h),d,n)}:e.length>2&&(c=function(h,d){return e.call(this,h,d,n)}));const u=l.call(o,c,s);return a&&i?i(u):u}function $c(n,t,e,s){const i=Co(n);let r=e;return i!==n&&(Ve(n)?e.length>3&&(r=function(o,a,l){return e.call(this,o,a,l,n)}):r=function(o,a,l){return e.call(this,o,oe(a),l,n)}),i[t](r,...s)}function ea(n,t,e){const s=_t(n);he(s,"iterate",Ji);const i=s[t](...e);return(i===-1||i===!1)&&Wl(e[0])?(e[0]=_t(e[0]),s[t](...e)):i}function pi(n,t,e=[]){Cn(),Ll();const s=_t(n)[t].apply(n,e);return Nl(),An(),s}const Am=Al("__proto__,__v_isRef,__isVue"),Jd=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Rn));function Mm(n){Rn(n)||(n=String(n));const t=_t(this);return he(t,"has",n),t.hasOwnProperty(n)}class Xd{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return r;if(e==="__v_raw")return s===(i?r?Wm:ef:r?tf:Zd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=tt(t);if(!i){let l;if(o&&(l=Pm[e]))return l;if(e==="hasOwnProperty")return Mm}const a=Reflect.get(t,e,pe(t)?t:s);if((Rn(e)?Jd.has(e):Am(e))||(i||he(t,"get",e),r))return a;if(pe(a)){const l=o&&Rl(e)?a:a.value;return i&&Lt(l)?za(l):l}return Lt(a)?i?za(a):Ao(a):a}}class Qd extends Xd{constructor(t=!1){super(!1,t)}set(t,e,s,i){let r=t[e];if(!this._isShallow){const l=Xn(r);if(!Ve(s)&&!Xn(s)&&(r=_t(r),s=_t(s)),!tt(t)&&pe(r)&&!pe(s))return l||(r.value=s),!0}const o=tt(t)&&Rl(e)?Number(e)<t.length:wt(t,e),a=Reflect.set(t,e,s,pe(t)?t:i);return t===_t(i)&&(o?Gn(s,r)&&kn(t,"set",e,s):kn(t,"add",e,s)),a}deleteProperty(t,e){const s=wt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&s&&kn(t,"delete",e,void 0),i}has(t,e){const s=Reflect.has(t,e);return(!Rn(e)||!Jd.has(e))&&he(t,"has",e),s}ownKeys(t){return he(t,"iterate",tt(t)?"length":ws),Reflect.ownKeys(t)}}class Dm extends Xd{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Rm=new Qd,Im=new Dm,Lm=new Qd(!0);const Ua=n=>n,wr=n=>Reflect.getPrototypeOf(n);function Nm(n,t,e){return function(...s){const i=this.__v_raw,r=_t(i),o=zs(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=i[n](...s),u=e?Ua:t?Zr:oe;return!t&&he(r,"iterate",l?Ha:ws),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function vr(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function jm(n,t){const e={get(i){const r=this.__v_raw,o=_t(r),a=_t(i);n||(Gn(i,a)&&he(o,"get",i),he(o,"get",a));const{has:l}=wr(o),c=t?Ua:n?Zr:oe;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&he(_t(i),"iterate",ws),i.size},has(i){const r=this.__v_raw,o=_t(r),a=_t(i);return n||(Gn(i,a)&&he(o,"has",i),he(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=_t(a),c=t?Ua:n?Zr:oe;return!n&&he(l,"iterate",ws),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return me(e,n?{add:vr("add"),set:vr("set"),delete:vr("delete"),clear:vr("clear")}:{add(i){!t&&!Ve(i)&&!Xn(i)&&(i=_t(i));const r=_t(this);return wr(r).has.call(r,i)||(r.add(i),kn(r,"add",i,i)),this},set(i,r){!t&&!Ve(r)&&!Xn(r)&&(r=_t(r));const o=_t(this),{has:a,get:l}=wr(o);let c=a.call(o,i);c||(i=_t(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Gn(r,u)&&kn(o,"set",i,r):kn(o,"add",i,r),this},delete(i){const r=_t(this),{has:o,get:a}=wr(r);let l=o.call(r,i);l||(i=_t(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&kn(r,"delete",i,void 0),c},clear(){const i=_t(this),r=i.size!==0,o=i.clear();return r&&kn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Nm(i,n,t)}),e}function Fl(n,t){const e=jm(n,t);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(wt(e,i)&&i in s?e:s,i,r)}const $m={get:Fl(!1,!1)},Fm={get:Fl(!1,!0)},Bm={get:Fl(!0,!1)};const Zd=new WeakMap,tf=new WeakMap,ef=new WeakMap,Wm=new WeakMap;function Vm(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hm(n){return n.__v_skip||!Object.isExtensible(n)?0:Vm(pm(n))}function Ao(n){return Xn(n)?n:Bl(n,!1,Rm,$m,Zd)}function nf(n){return Bl(n,!1,Lm,Fm,tf)}function za(n){return Bl(n,!0,Im,Bm,ef)}function Bl(n,t,e,s,i){if(!Lt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const r=Hm(n);if(r===0)return n;const o=i.get(n);if(o)return o;const a=new Proxy(n,r===2?s:e);return i.set(n,a),a}function qs(n){return Xn(n)?qs(n.__v_raw):!!(n&&n.__v_isReactive)}function Xn(n){return!!(n&&n.__v_isReadonly)}function Ve(n){return!!(n&&n.__v_isShallow)}function Wl(n){return n?!!n.__v_raw:!1}function _t(n){const t=n&&n.__v_raw;return t?_t(t):n}function Um(n){return!wt(n,"__v_skip")&&Object.isExtensible(n)&&$d(n,"__v_skip",!0),n}const oe=n=>Lt(n)?Ao(n):n,Zr=n=>Lt(n)?za(n):n;function pe(n){return n?n.__v_isRef===!0:!1}function z(n){return sf(n,!1)}function zm(n){return sf(n,!0)}function sf(n,t){return pe(n)?n:new qm(n,t)}class qm{constructor(t,e){this.dep=new $l,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:_t(t),this._value=e?t:oe(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,s=this.__v_isShallow||Ve(t)||Xn(t);t=s?t:_t(t),Gn(t,e)&&(this._rawValue=t,this._value=s?t:oe(t),this.dep.trigger())}}function Kt(n){return pe(n)?n.value:n}const Ym={get:(n,t,e)=>t==="__v_raw"?n:Kt(Reflect.get(n,t,e)),set:(n,t,e,s)=>{const i=n[t];return pe(i)&&!pe(e)?(i.value=e,!0):Reflect.set(n,t,e,s)}};function rf(n){return qs(n)?n:new Proxy(n,Ym)}class Km{constructor(t,e,s){this.fn=t,this.setter=e,this._value=void 0,this.dep=new $l(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Mt!==this)return Ud(this,!0),!0}get value(){const t=this.dep.track();return Yd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Gm(n,t,e=!1){let s,i;return rt(n)?s=n:(s=n.get,i=n.set),new Km(s,i,e)}const xr={},to=new WeakMap;let hs;function Jm(n,t=!1,e=hs){if(e){let s=to.get(e);s||to.set(e,s=[]),s.push(n)}}function Xm(n,t,e=Et){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=e,c=x=>i?x:Ve(x)||i===!1||i===0?Sn(x,1):Sn(x);let u,h,d,f,p=!1,g=!1;if(pe(n)?(h=()=>n.value,p=Ve(n)):qs(n)?(h=()=>c(n),p=!0):tt(n)?(g=!0,p=n.some(x=>qs(x)||Ve(x)),h=()=>n.map(x=>{if(pe(x))return x.value;if(qs(x))return c(x);if(rt(x))return l?l(x,2):x()})):rt(n)?t?h=l?()=>l(n,2):n:h=()=>{if(d){Cn();try{d()}finally{An()}}const x=hs;hs=u;try{return l?l(n,3,[f]):n(f)}finally{hs=x}}:h=cn,t&&i){const x=h,k=i===!0?1/0:i;h=()=>Sn(x(),k)}const m=Em(),b=()=>{u.stop(),m&&m.active&&Dl(m.effects,u)};if(r&&t){const x=t;t=(...k)=>{x(...k),b()}}let y=g?new Array(n.length).fill(xr):xr;const w=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const k=u.run();if(i||p||(g?k.some((E,O)=>Gn(E,y[O])):Gn(k,y))){d&&d();const E=hs;hs=u;try{const O=[k,y===xr?void 0:g&&y[0]===xr?[]:y,f];y=k,l?l(t,3,O):t(...O)}finally{hs=E}}}else u.run()};return a&&a(w),u=new Vd(h),u.scheduler=o?()=>o(w,!1):w,f=x=>Jm(x,!1,u),d=u.onStop=()=>{const x=to.get(u);if(x){if(l)l(x,4);else for(const k of x)k();to.delete(u)}},t?s?w(!0):y=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Sn(n,t=1/0,e){if(t<=0||!Lt(n)||n.__v_skip||(e=e||new Map,(e.get(n)||0)>=t))return n;if(e.set(n,t),t--,pe(n))Sn(n.value,t,e);else if(tt(n))for(let s=0;s<n.length;s++)Sn(n[s],t,e);else if(Id(n)||zs(n))n.forEach(s=>{Sn(s,t,e)});else if(jd(n)){for(const s in n)Sn(n[s],t,e);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&Sn(n[s],t,e)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dr(n,t,e,s){try{return s?n(...s):n()}catch(i){Mo(i,t,e)}}function dn(n,t,e,s){if(rt(n)){const i=dr(n,t,e,s);return i&&Ld(i)&&i.catch(r=>{Mo(r,t,e)}),i}if(tt(n)){const i=[];for(let r=0;r<n.length;r++)i.push(dn(n[r],t,e,s));return i}}function Mo(n,t,e,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Et;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,l,c)===!1)return}a=a.parent}if(r){Cn(),dr(r,null,10,[n,l,c]),An();return}}Qm(n,e,i,s,o)}function Qm(n,t,e,s=!0,i=!1){if(i)throw n;console.error(n)}const xe=[];let sn=-1;const Ys=[];let Wn=null,Fs=0;const of=Promise.resolve();let eo=null;function En(n){const t=eo||of;return n?t.then(this?n.bind(this):n):t}function Zm(n){let t=sn+1,e=xe.length;for(;t<e;){const s=t+e>>>1,i=xe[s],r=Xi(i);r<n||r===n&&i.flags&2?t=s+1:e=s}return t}function Vl(n){if(!(n.flags&1)){const t=Xi(n),e=xe[xe.length-1];!e||!(n.flags&2)&&t>=Xi(e)?xe.push(n):xe.splice(Zm(t),0,n),n.flags|=1,af()}}function af(){eo||(eo=of.then(cf))}function tb(n){tt(n)?Ys.push(...n):Wn&&n.id===-1?Wn.splice(Fs+1,0,n):n.flags&1||(Ys.push(n),n.flags|=1),af()}function Fc(n,t,e=sn+1){for(;e<xe.length;e++){const s=xe[e];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;xe.splice(e,1),e--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lf(n){if(Ys.length){const t=[...new Set(Ys)].sort((e,s)=>Xi(e)-Xi(s));if(Ys.length=0,Wn){Wn.push(...t);return}for(Wn=t,Fs=0;Fs<Wn.length;Fs++){const e=Wn[Fs];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Wn=null,Fs=0}}const Xi=n=>n.id==null?n.flags&2?-1:1/0:n.id;function cf(n){try{for(sn=0;sn<xe.length;sn++){const t=xe[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),dr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<xe.length;sn++){const t=xe[sn];t&&(t.flags&=-2)}sn=-1,xe.length=0,lf(),eo=null,(xe.length||Ys.length)&&cf()}}let ae=null,uf=null;function no(n){const t=ae;return ae=n,uf=n&&n.type.__scopeId||null,t}function Je(n,t=ae,e){if(!t||n._n)return n;const s=(...i)=>{s._d&&ro(-1);const r=no(t);let o;try{o=n(...i)}finally{no(r),s._d&&ro(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ke(n,t){if(ae===null)return n;const e=No(ae),s=n.dirs||(n.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=Et]=t[i];r&&(rt(r)&&(r={mounted:r,updated:r}),r.deep&&Sn(o),s.push({dir:r,instance:e,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function ss(n,t,e,s){const i=n.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Cn(),dn(l,e,8,[n.el,a,n,t]),An())}}const eb=Symbol("_vte"),nb=n=>n.__isTeleport,sb=Symbol("_leaveCb");function Hl(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Hl(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function mt(n,t){return rt(n)?me({name:n.name},t,{setup:n}):n}function hf(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const so=new WeakMap;function ji(n,t,e,s,i=!1){if(tt(n)){n.forEach((p,g)=>ji(p,t&&(tt(t)?t[g]:t),e,s,i));return}if(Ks(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ji(n,t,e,s.component.subTree);return}const r=s.shapeFlag&4?No(s.component):s.el,o=i?null:r,{i:a,r:l}=n,c=t&&t.r,u=a.refs===Et?a.refs={}:a.refs,h=a.setupState,d=_t(h),f=h===Et?Rd:p=>wt(d,p);if(c!=null&&c!==l){if(Bc(t),te(c))u[c]=null,f(c)&&(h[c]=null);else if(pe(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(rt(l))dr(l,a,12,[o,u]);else{const p=te(l),g=pe(l);if(p||g){const m=()=>{if(n.f){const b=p?f(l)?h[l]:u[l]:l.value;if(i)tt(b)&&Dl(b,r);else if(tt(b))b.includes(r)||b.push(r);else if(p)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,n.k&&(u[n.k]=y)}}else p?(u[l]=o,f(l)&&(h[l]=o)):g&&(l.value=o,n.k&&(u[n.k]=o))};if(o){const b=()=>{m(),so.delete(n)};b.id=-1,so.set(n,b),Re(b,e)}else Bc(n),m()}}}function Bc(n){const t=so.get(n);t&&(t.flags|=8,so.delete(n))}Po().requestIdleCallback;Po().cancelIdleCallback;const Ks=n=>!!n.type.__asyncLoader,df=n=>n.type.__isKeepAlive;function ib(n,t){ff(n,"a",t)}function rb(n,t){ff(n,"da",t)}function ff(n,t,e=de){const s=n.__wdc||(n.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Do(t,s,e),e){let i=e.parent;for(;i&&i.parent;)df(i.parent.vnode)&&ob(s,t,e,i),i=i.parent}}function ob(n,t,e,s){const i=Do(t,n,s,!0);zl(()=>{Dl(s[t],i)},e)}function Do(n,t,e=de,s=!1){if(e){const i=e[n]||(e[n]=[]),r=t.__weh||(t.__weh=(...o)=>{Cn();const a=fr(e),l=dn(t,e,n,o);return a(),An(),l});return s?i.unshift(r):i.push(r),r}}const In=n=>(t,e=de)=>{(!tr||n==="sp")&&Do(n,(...s)=>t(...s),e)},ab=In("bm"),Ln=In("m"),lb=In("bu"),Ul=In("u"),gf=In("bum"),zl=In("um"),cb=In("sp"),ub=In("rtg"),hb=In("rtc");function db(n,t=de){Do("ec",n,t)}const fb="components";function gb(n,t){return mb(fb,n,!0,t)||n}const pb=Symbol.for("v-ndc");function mb(n,t,e=!0,s=!1){const i=ae||de;if(i){const r=i.type;{const a=iy(r,!1);if(a&&(a===t||a===He(t)||a===To(He(t))))return r}const o=Wc(i[n]||r[n],t)||Wc(i.appContext[n],t);return!o&&s?r:o}}function Wc(n,t){return n&&(n[t]||n[He(t)]||n[To(He(t))])}function Ro(n,t,e,s){let i;const r=e,o=tt(n);if(o||te(n)){const a=o&&qs(n);let l=!1,c=!1;a&&(l=!Ve(n),c=Xn(n),n=Co(n)),i=new Array(n.length);for(let u=0,h=n.length;u<h;u++)i[u]=t(l?c?Zr(oe(n[u])):oe(n[u]):n[u],u,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=t(a+1,a,void 0,r)}else if(Lt(n))if(n[Symbol.iterator])i=Array.from(n,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(n);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(n[u],u,l,r)}}else i=[];return i}function pf(n,t,e={},s,i){if(ae.ce||ae.parent&&Ks(ae.parent)&&ae.parent.ce){const c=Object.keys(e).length>0;return j(),Ft(Ot,null,[H("slot",e,s)],c?-2:64)}let r=n[t];r&&r._c&&(r._d=!1),j();const o=r&&mf(r(e)),a=e.key||o&&o.key,l=Ft(Ot,{key:(a&&!Rn(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&n._===1?64:-2);return r&&r._c&&(r._d=!0),l}function mf(n){return n.some(t=>Zi(t)?!(t.type===Mn||t.type===Ot&&!mf(t.children)):!0)?n:null}const qa=n=>n?Nf(n)?No(n):qa(n.parent):null,$i=me(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>qa(n.parent),$root:n=>qa(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>yf(n),$forceUpdate:n=>n.f||(n.f=()=>{Vl(n.update)}),$nextTick:n=>n.n||(n.n=En.bind(n.proxy)),$watch:n=>jb.bind(n)}),na=(n,t)=>n!==Et&&!n.__isScriptSetup&&wt(n,t),bb={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return e[t];case 3:return r[t]}else{if(na(s,t))return o[t]=1,s[t];if(i!==Et&&wt(i,t))return o[t]=2,i[t];if((c=n.propsOptions[0])&&wt(c,t))return o[t]=3,r[t];if(e!==Et&&wt(e,t))return o[t]=4,e[t];Ya&&(o[t]=0)}}const u=$i[t];let h,d;if(u)return t==="$attrs"&&he(n.attrs,"get",""),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==Et&&wt(e,t))return o[t]=4,e[t];if(d=l.config.globalProperties,wt(d,t))return d[t]},set({_:n},t,e){const{data:s,setupState:i,ctx:r}=n;return na(i,t)?(i[t]=e,!0):s!==Et&&wt(s,t)?(s[t]=e,!0):wt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(r[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(e[a]||n!==Et&&a[0]!=="$"&&wt(n,a)||na(t,a)||(l=r[0])&&wt(l,a)||wt(s,a)||wt($i,a)||wt(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:wt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Vc(n){return tt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let Ya=!0;function yb(n){const t=yf(n),e=n.proxy,s=n.ctx;Ya=!1,t.beforeCreate&&Hc(t.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:w,unmounted:x,render:k,renderTracked:E,renderTriggered:O,errorCaptured:D,serverPrefetch:$,expose:K,inheritAttrs:X,components:ot,directives:St,filters:ee}=t;if(c&&_b(c,s,null),o)for(const G in o){const at=o[G];rt(at)&&(s[G]=at.bind(e))}if(i){const G=i.call(e,e);Lt(G)&&(n.data=Ao(G))}if(Ya=!0,r)for(const G in r){const at=r[G],Pt=rt(at)?at.bind(e,e):rt(at.get)?at.get.bind(e,e):cn,ye=!rt(at)&&rt(at.set)?at.set.bind(e):cn,_e=Ne({get:Pt,set:ye});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>_e.value,set:Yt=>_e.value=Yt})}if(a)for(const G in a)bf(a[G],s,e,G);if(l){const G=rt(l)?l.call(e):l;Reflect.ownKeys(G).forEach(at=>{Kr(at,G[at])})}u&&Hc(u,n,"c");function it(G,at){tt(at)?at.forEach(Pt=>G(Pt.bind(e))):at&&G(at.bind(e))}if(it(ab,h),it(Ln,d),it(lb,f),it(Ul,p),it(ib,g),it(rb,m),it(db,D),it(hb,E),it(ub,O),it(gf,y),it(zl,x),it(cb,$),tt(K))if(K.length){const G=n.exposed||(n.exposed={});K.forEach(at=>{Object.defineProperty(G,at,{get:()=>e[at],set:Pt=>e[at]=Pt,enumerable:!0})})}else n.exposed||(n.exposed={});k&&n.render===cn&&(n.render=k),X!=null&&(n.inheritAttrs=X),ot&&(n.components=ot),St&&(n.directives=St),$&&hf(n)}function _b(n,t,e=cn){tt(n)&&(n=Ka(n));for(const s in n){const i=n[s];let r;Lt(i)?"default"in i?r=Ge(i.from||s,i.default,!0):r=Ge(i.from||s):r=Ge(i),pe(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Hc(n,t,e){dn(tt(n)?n.map(s=>s.bind(t.proxy)):n.bind(t.proxy),t,e)}function bf(n,t,e,s){let i=s.includes(".")?Mf(e,s):()=>e[s];if(te(n)){const r=t[n];rt(r)&&Js(i,r)}else if(rt(n))Js(i,n.bind(e));else if(Lt(n))if(tt(n))n.forEach(r=>bf(r,t,e,s));else{const r=rt(n.handler)?n.handler.bind(e):t[n.handler];rt(r)&&Js(i,r,n)}}function yf(n){const t=n.type,{mixins:e,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!e&&!s?l=t:(l={},i.length&&i.forEach(c=>io(l,c,o,!0)),io(l,t,o)),Lt(t)&&r.set(t,l),l}function io(n,t,e,s=!1){const{mixins:i,extends:r}=t;r&&io(n,r,e,!0),i&&i.forEach(o=>io(n,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const a=wb[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const wb={data:Uc,props:zc,emits:zc,methods:Pi,computed:Pi,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:Pi,directives:Pi,watch:xb,provide:Uc,inject:vb};function Uc(n,t){return t?n?function(){return me(rt(n)?n.call(this,this):n,rt(t)?t.call(this,this):t)}:t:n}function vb(n,t){return Pi(Ka(n),Ka(t))}function Ka(n){if(tt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function we(n,t){return n?[...new Set([].concat(n,t))]:t}function Pi(n,t){return n?me(Object.create(null),n,t):t}function zc(n,t){return n?tt(n)&&tt(t)?[...new Set([...n,...t])]:me(Object.create(null),Vc(n),Vc(t??{})):t}function xb(n,t){if(!n)return t;if(!t)return n;const e=me(Object.create(null),n);for(const s in t)e[s]=we(n[s],t[s]);return e}function _f(){return{app:null,config:{isNativeTag:Rd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kb=0;function Sb(n,t){return function(s,i=null){rt(s)||(s=me({},s)),i!=null&&!Lt(i)&&(i=null);const r=_f(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:kb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:oy,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&rt(u.install)?(o.add(u),u.install(c,...h)):rt(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||H(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),n(f,u,d),l=!0,c._container=u,u.__vue_app__=c,No(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(dn(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Gs;Gs=c;try{return u()}finally{Gs=h}}};return c}}let Gs=null;function Kr(n,t){if(de){let e=de.provides;const s=de.parent&&de.parent.provides;s===e&&(e=de.provides=Object.create(s)),e[n]=t}}function Ge(n,t,e=!1){const s=Zb();if(s||Gs){let i=Gs?Gs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return e&&rt(t)?t.call(s&&s.proxy):t}}const wf={},vf=()=>Object.create(wf),xf=n=>Object.getPrototypeOf(n)===wf;function Eb(n,t,e,s=!1){const i={},r=vf();n.propsDefaults=Object.create(null),kf(n,t,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);e?n.props=s?i:nf(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function Ob(n,t,e,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,a=_t(i),[l]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Io(n.emitsOptions,d))continue;const f=t[d];if(l)if(wt(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const p=He(d);i[p]=Ga(l,a,p,f,n,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{kf(n,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!wt(t,h)&&((u=Es(h))===h||!wt(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(i[h]=Ga(l,a,h,void 0,n,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!wt(t,h))&&(delete r[h],c=!0)}c&&kn(n.attrs,"set","")}function kf(n,t,e,s){const[i,r]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ii(l))continue;const c=t[l];let u;i&&wt(i,u=He(l))?!r||!r.includes(u)?e[u]=c:(a||(a={}))[u]=c:Io(n.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=_t(e),c=a||Et;for(let u=0;u<r.length;u++){const h=r[u];e[h]=Ga(i,l,h,c[h],n,!wt(c,h))}}return o}function Ga(n,t,e,s,i,r){const o=n[e];if(o!=null){const a=wt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&rt(l)){const{propsDefaults:c}=i;if(e in c)s=c[e];else{const u=fr(i);s=c[e]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(e,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Es(e))&&(s=!0))}return s}const Tb=new WeakMap;function Sf(n,t,e=!1){const s=e?Tb:t.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},a=[];let l=!1;if(!rt(n)){const u=h=>{l=!0;const[d,f]=Sf(h,t,!0);me(o,d),f&&a.push(...f)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return Lt(n)&&s.set(n,Us),Us;if(tt(r))for(let u=0;u<r.length;u++){const h=He(r[u]);qc(h)&&(o[h]=Et)}else if(r)for(const u in r){const h=He(u);if(qc(h)){const d=r[u],f=o[h]=tt(d)||rt(d)?{type:d}:me({},d),p=f.type;let g=!1,m=!0;if(tt(p))for(let b=0;b<p.length;++b){const y=p[b],w=rt(y)&&y.name;if(w==="Boolean"){g=!0;break}else w==="String"&&(m=!1)}else g=rt(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||wt(f,"default"))&&a.push(h)}}const c=[o,a];return Lt(n)&&s.set(n,c),c}function qc(n){return n[0]!=="$"&&!Ii(n)}const ql=n=>n==="_"||n==="_ctx"||n==="$stable",Yl=n=>tt(n)?n.map(on):[on(n)],Pb=(n,t,e)=>{if(t._n)return t;const s=Je((...i)=>Yl(t(...i)),e);return s._c=!1,s},Ef=(n,t,e)=>{const s=n._ctx;for(const i in n){if(ql(i))continue;const r=n[i];if(rt(r))t[i]=Pb(i,r,s);else if(r!=null){const o=Yl(r);t[i]=()=>o}}},Of=(n,t)=>{const e=Yl(t);n.slots.default=()=>e},Tf=(n,t,e)=>{for(const s in t)(e||!ql(s))&&(n[s]=t[s])},Cb=(n,t,e)=>{const s=n.slots=vf();if(n.vnode.shapeFlag&32){const i=t._;i?(Tf(s,t,e),e&&$d(s,"_",i,!0)):Ef(t,s)}else t&&Of(n,t)},Ab=(n,t,e)=>{const{vnode:s,slots:i}=n;let r=!0,o=Et;if(s.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:Tf(i,t,e):(r=!t.$stable,Ef(t,i)),o=t}else t&&(Of(n,t),o={default:1});if(r)for(const a in i)!ql(a)&&o[a]==null&&delete i[a]},Re=zb;function Mb(n){return Db(n)}function Db(n,t){const e=Po();e.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=cn,insertStaticContent:p}=n,g=(_,v,S,C=null,M=null,T=null,N=void 0,L=null,I=!!v.dynamicChildren)=>{if(_===v)return;_&&!mi(_,v)&&(C=A(_),Yt(_,M,T,!0),_=null),v.patchFlag===-2&&(I=!1,v.dynamicChildren=null);const{type:R,ref:J,shapeFlag:B}=v;switch(R){case Lo:m(_,v,S,C);break;case Mn:b(_,v,S,C);break;case ia:_==null&&y(v,S,C,N);break;case Ot:ot(_,v,S,C,M,T,N,L,I);break;default:B&1?k(_,v,S,C,M,T,N,L,I):B&6?St(_,v,S,C,M,T,N,L,I):(B&64||B&128)&&R.process(_,v,S,C,M,T,N,L,I,U)}J!=null&&M?ji(J,_&&_.ref,T,v||_,!v):J==null&&_&&_.ref!=null&&ji(_.ref,null,T,_,!0)},m=(_,v,S,C)=>{if(_==null)s(v.el=a(v.children),S,C);else{const M=v.el=_.el;v.children!==_.children&&c(M,v.children)}},b=(_,v,S,C)=>{_==null?s(v.el=l(v.children||""),S,C):v.el=_.el},y=(_,v,S,C)=>{[_.el,_.anchor]=p(_.children,v,S,C,_.el,_.anchor)},w=({el:_,anchor:v},S,C)=>{let M;for(;_&&_!==v;)M=d(_),s(_,S,C),_=M;s(v,S,C)},x=({el:_,anchor:v})=>{let S;for(;_&&_!==v;)S=d(_),i(_),_=S;i(v)},k=(_,v,S,C,M,T,N,L,I)=>{v.type==="svg"?N="svg":v.type==="math"&&(N="mathml"),_==null?E(v,S,C,M,T,N,L,I):$(_,v,M,T,N,L,I)},E=(_,v,S,C,M,T,N,L)=>{let I,R;const{props:J,shapeFlag:B,transition:q,dirs:Z}=_;if(I=_.el=o(_.type,T,J&&J.is,J),B&8?u(I,_.children):B&16&&D(_.children,I,null,C,M,sa(_,T),N,L),Z&&ss(_,null,C,"created"),O(I,_,_.scopeId,N,C),J){for(const Ct in J)Ct!=="value"&&!Ii(Ct)&&r(I,Ct,null,J[Ct],T,C);"value"in J&&r(I,"value",null,J.value,T),(R=J.onVnodeBeforeMount)&&en(R,C,_)}Z&&ss(_,null,C,"beforeMount");const ft=Rb(M,q);ft&&q.beforeEnter(I),s(I,v,S),((R=J&&J.onVnodeMounted)||ft||Z)&&Re(()=>{R&&en(R,C,_),ft&&q.enter(I),Z&&ss(_,null,C,"mounted")},M)},O=(_,v,S,C,M)=>{if(S&&f(_,S),C)for(let T=0;T<C.length;T++)f(_,C[T]);if(M){let T=M.subTree;if(v===T||Rf(T.type)&&(T.ssContent===v||T.ssFallback===v)){const N=M.vnode;O(_,N,N.scopeId,N.slotScopeIds,M.parent)}}},D=(_,v,S,C,M,T,N,L,I=0)=>{for(let R=I;R<_.length;R++){const J=_[R]=L?Vn(_[R]):on(_[R]);g(null,J,v,S,C,M,T,N,L)}},$=(_,v,S,C,M,T,N)=>{const L=v.el=_.el;let{patchFlag:I,dynamicChildren:R,dirs:J}=v;I|=_.patchFlag&16;const B=_.props||Et,q=v.props||Et;let Z;if(S&&is(S,!1),(Z=q.onVnodeBeforeUpdate)&&en(Z,S,v,_),J&&ss(v,_,S,"beforeUpdate"),S&&is(S,!0),(B.innerHTML&&q.innerHTML==null||B.textContent&&q.textContent==null)&&u(L,""),R?K(_.dynamicChildren,R,L,S,C,sa(v,M),T):N||at(_,v,L,null,S,C,sa(v,M),T,!1),I>0){if(I&16)X(L,B,q,S,M);else if(I&2&&B.class!==q.class&&r(L,"class",null,q.class,M),I&4&&r(L,"style",B.style,q.style,M),I&8){const ft=v.dynamicProps;for(let Ct=0;Ct<ft.length;Ct++){const vt=ft[Ct],Oe=B[vt],Te=q[vt];(Te!==Oe||vt==="value")&&r(L,vt,Oe,Te,M,S)}}I&1&&_.children!==v.children&&u(L,v.children)}else!N&&R==null&&X(L,B,q,S,M);((Z=q.onVnodeUpdated)||J)&&Re(()=>{Z&&en(Z,S,v,_),J&&ss(v,_,S,"updated")},C)},K=(_,v,S,C,M,T,N)=>{for(let L=0;L<v.length;L++){const I=_[L],R=v[L],J=I.el&&(I.type===Ot||!mi(I,R)||I.shapeFlag&198)?h(I.el):S;g(I,R,J,null,C,M,T,N,!0)}},X=(_,v,S,C,M)=>{if(v!==S){if(v!==Et)for(const T in v)!Ii(T)&&!(T in S)&&r(_,T,v[T],null,M,C);for(const T in S){if(Ii(T))continue;const N=S[T],L=v[T];N!==L&&T!=="value"&&r(_,T,L,N,M,C)}"value"in S&&r(_,"value",v.value,S.value,M)}},ot=(_,v,S,C,M,T,N,L,I)=>{const R=v.el=_?_.el:a(""),J=v.anchor=_?_.anchor:a("");let{patchFlag:B,dynamicChildren:q,slotScopeIds:Z}=v;Z&&(L=L?L.concat(Z):Z),_==null?(s(R,S,C),s(J,S,C),D(v.children||[],S,J,M,T,N,L,I)):B>0&&B&64&&q&&_.dynamicChildren?(K(_.dynamicChildren,q,S,M,T,N,L),(v.key!=null||M&&v===M.subTree)&&Pf(_,v,!0)):at(_,v,S,J,M,T,N,L,I)},St=(_,v,S,C,M,T,N,L,I)=>{v.slotScopeIds=L,_==null?v.shapeFlag&512?M.ctx.activate(v,S,C,N,I):ee(v,S,C,M,T,N,I):ht(_,v,I)},ee=(_,v,S,C,M,T,N)=>{const L=_.component=Qb(_,C,M);if(df(_)&&(L.ctx.renderer=U),ty(L,!1,N),L.asyncDep){if(M&&M.registerDep(L,it,N),!_.el){const I=L.subTree=H(Mn);b(null,I,v,S),_.placeholder=I.el}}else it(L,_,v,S,M,T,N)},ht=(_,v,S)=>{const C=v.component=_.component;if(Hb(_,v,S))if(C.asyncDep&&!C.asyncResolved){G(C,v,S);return}else C.next=v,C.update();else v.el=_.el,C.vnode=v},it=(_,v,S,C,M,T,N)=>{const L=()=>{if(_.isMounted){let{next:B,bu:q,u:Z,parent:ft,vnode:Ct}=_;{const Ze=Cf(_);if(Ze){B&&(B.el=Ct.el,G(_,B,N)),Ze.asyncDep.then(()=>{_.isUnmounted||L()});return}}let vt=B,Oe;is(_,!1),B?(B.el=Ct.el,G(_,B,N)):B=Ct,q&&Yr(q),(Oe=B.props&&B.props.onVnodeBeforeUpdate)&&en(Oe,ft,B,Ct),is(_,!0);const Te=Kc(_),Qe=_.subTree;_.subTree=Te,g(Qe,Te,h(Qe.el),A(Qe),_,M,T),B.el=Te.el,vt===null&&Ub(_,Te.el),Z&&Re(Z,M),(Oe=B.props&&B.props.onVnodeUpdated)&&Re(()=>en(Oe,ft,B,Ct),M)}else{let B;const{el:q,props:Z}=v,{bm:ft,m:Ct,parent:vt,root:Oe,type:Te}=_,Qe=Ks(v);is(_,!1),ft&&Yr(ft),!Qe&&(B=Z&&Z.onVnodeBeforeMount)&&en(B,vt,v),is(_,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Te);const Ze=_.subTree=Kc(_);g(null,Ze,S,C,_,M,T),v.el=Ze.el}if(Ct&&Re(Ct,M),!Qe&&(B=Z&&Z.onVnodeMounted)){const Ze=v;Re(()=>en(B,vt,Ze),M)}(v.shapeFlag&256||vt&&Ks(vt.vnode)&&vt.vnode.shapeFlag&256)&&_.a&&Re(_.a,M),_.isMounted=!0,v=S=C=null}};_.scope.on();const I=_.effect=new Vd(L);_.scope.off();const R=_.update=I.run.bind(I),J=_.job=I.runIfDirty.bind(I);J.i=_,J.id=_.uid,I.scheduler=()=>Vl(J),is(_,!0),R()},G=(_,v,S)=>{v.component=_;const C=_.vnode.props;_.vnode=v,_.next=null,Ob(_,v.props,C,S),Ab(_,v.children,S),Cn(),Fc(_),An()},at=(_,v,S,C,M,T,N,L,I=!1)=>{const R=_&&_.children,J=_?_.shapeFlag:0,B=v.children,{patchFlag:q,shapeFlag:Z}=v;if(q>0){if(q&128){ye(R,B,S,C,M,T,N,L,I);return}else if(q&256){Pt(R,B,S,C,M,T,N,L,I);return}}Z&8?(J&16&&Qt(R,M,T),B!==R&&u(S,B)):J&16?Z&16?ye(R,B,S,C,M,T,N,L,I):Qt(R,M,T,!0):(J&8&&u(S,""),Z&16&&D(B,S,C,M,T,N,L,I))},Pt=(_,v,S,C,M,T,N,L,I)=>{_=_||Us,v=v||Us;const R=_.length,J=v.length,B=Math.min(R,J);let q;for(q=0;q<B;q++){const Z=v[q]=I?Vn(v[q]):on(v[q]);g(_[q],Z,S,null,M,T,N,L,I)}R>J?Qt(_,M,T,!0,!1,B):D(v,S,C,M,T,N,L,I,B)},ye=(_,v,S,C,M,T,N,L,I)=>{let R=0;const J=v.length;let B=_.length-1,q=J-1;for(;R<=B&&R<=q;){const Z=_[R],ft=v[R]=I?Vn(v[R]):on(v[R]);if(mi(Z,ft))g(Z,ft,S,null,M,T,N,L,I);else break;R++}for(;R<=B&&R<=q;){const Z=_[B],ft=v[q]=I?Vn(v[q]):on(v[q]);if(mi(Z,ft))g(Z,ft,S,null,M,T,N,L,I);else break;B--,q--}if(R>B){if(R<=q){const Z=q+1,ft=Z<J?v[Z].el:C;for(;R<=q;)g(null,v[R]=I?Vn(v[R]):on(v[R]),S,ft,M,T,N,L,I),R++}}else if(R>q)for(;R<=B;)Yt(_[R],M,T,!0),R++;else{const Z=R,ft=R,Ct=new Map;for(R=ft;R<=q;R++){const De=v[R]=I?Vn(v[R]):on(v[R]);De.key!=null&&Ct.set(De.key,R)}let vt,Oe=0;const Te=q-ft+1;let Qe=!1,Ze=0;const gi=new Array(Te);for(R=0;R<Te;R++)gi[R]=0;for(R=Z;R<=B;R++){const De=_[R];if(Oe>=Te){Yt(De,M,T,!0);continue}let tn;if(De.key!=null)tn=Ct.get(De.key);else for(vt=ft;vt<=q;vt++)if(gi[vt-ft]===0&&mi(De,v[vt])){tn=vt;break}tn===void 0?Yt(De,M,T,!0):(gi[tn-ft]=R+1,tn>=Ze?Ze=tn:Qe=!0,g(De,v[tn],S,null,M,T,N,L,I),Oe++)}const Rc=Qe?Ib(gi):Us;for(vt=Rc.length-1,R=Te-1;R>=0;R--){const De=ft+R,tn=v[De],Ic=v[De+1],Lc=De+1<J?Ic.el||Ic.placeholder:C;gi[R]===0?g(null,tn,S,Lc,M,T,N,L,I):Qe&&(vt<0||R!==Rc[vt]?_e(tn,S,Lc,2):vt--)}}},_e=(_,v,S,C,M=null)=>{const{el:T,type:N,transition:L,children:I,shapeFlag:R}=_;if(R&6){_e(_.component.subTree,v,S,C);return}if(R&128){_.suspense.move(v,S,C);return}if(R&64){N.move(_,v,S,U);return}if(N===Ot){s(T,v,S);for(let B=0;B<I.length;B++)_e(I[B],v,S,C);s(_.anchor,v,S);return}if(N===ia){w(_,v,S);return}if(C!==2&&R&1&&L)if(C===0)L.beforeEnter(T),s(T,v,S),Re(()=>L.enter(T),M);else{const{leave:B,delayLeave:q,afterLeave:Z}=L,ft=()=>{_.ctx.isUnmounted?i(T):s(T,v,S)},Ct=()=>{T._isLeaving&&T[sb](!0),B(T,()=>{ft(),Z&&Z()})};q?q(T,ft,Ct):Ct()}else s(T,v,S)},Yt=(_,v,S,C=!1,M=!1)=>{const{type:T,props:N,ref:L,children:I,dynamicChildren:R,shapeFlag:J,patchFlag:B,dirs:q,cacheIndex:Z}=_;if(B===-2&&(M=!1),L!=null&&(Cn(),ji(L,null,S,_,!0),An()),Z!=null&&(v.renderCache[Z]=void 0),J&256){v.ctx.deactivate(_);return}const ft=J&1&&q,Ct=!Ks(_);let vt;if(Ct&&(vt=N&&N.onVnodeBeforeUnmount)&&en(vt,v,_),J&6)Me(_.component,S,C);else{if(J&128){_.suspense.unmount(S,C);return}ft&&ss(_,null,v,"beforeUnmount"),J&64?_.type.remove(_,v,S,U,C):R&&!R.hasOnce&&(T!==Ot||B>0&&B&64)?Qt(R,v,S,!1,!0):(T===Ot&&B&384||!M&&J&16)&&Qt(I,v,S),C&&Be(_)}(Ct&&(vt=N&&N.onVnodeUnmounted)||ft)&&Re(()=>{vt&&en(vt,v,_),ft&&ss(_,null,v,"unmounted")},S)},Be=_=>{const{type:v,el:S,anchor:C,transition:M}=_;if(v===Ot){Ee(S,C);return}if(v===ia){x(_);return}const T=()=>{i(S),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:N,delayLeave:L}=M,I=()=>N(S,T);L?L(_.el,T,I):I()}else T()},Ee=(_,v)=>{let S;for(;_!==v;)S=d(_),i(_),_=S;i(v)},Me=(_,v,S)=>{const{bum:C,scope:M,job:T,subTree:N,um:L,m:I,a:R}=_;Yc(I),Yc(R),C&&Yr(C),M.stop(),T&&(T.flags|=8,Yt(N,_,v,S)),L&&Re(L,v),Re(()=>{_.isUnmounted=!0},v)},Qt=(_,v,S,C=!1,M=!1,T=0)=>{for(let N=T;N<_.length;N++)Yt(_[N],v,S,C,M)},A=_=>{if(_.shapeFlag&6)return A(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const v=d(_.anchor||_.el),S=v&&v[eb];return S?d(S):v};let W=!1;const F=(_,v,S)=>{_==null?v._vnode&&Yt(v._vnode,null,null,!0):g(v._vnode||null,_,v,null,null,null,S),v._vnode=_,W||(W=!0,Fc(),lf(),W=!1)},U={p:g,um:Yt,m:_e,r:Be,mt:ee,mc:D,pc:at,pbc:K,n:A,o:n};return{render:F,hydrate:void 0,createApp:Sb(F)}}function sa({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function is({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Rb(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Pf(n,t,e=!1){const s=n.children,i=t.children;if(tt(s)&&tt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Vn(i[r]),a.el=o.el),!e&&a.patchFlag!==-2&&Pf(o,a)),a.type===Lo&&a.patchFlag!==-1&&(a.el=o.el),a.type===Mn&&!a.el&&(a.el=o.el)}}function Ib(n){const t=n.slice(),e=[0];let s,i,r,o,a;const l=n.length;for(s=0;s<l;s++){const c=n[s];if(c!==0){if(i=e[e.length-1],n[i]<c){t[s]=i,e.push(s);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,n[e[a]]<c?r=a+1:o=a;c<n[e[r]]&&(r>0&&(t[s]=e[r-1]),e[r]=s)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function Cf(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Cf(t)}function Yc(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Lb=Symbol.for("v-scx"),Nb=()=>Ge(Lb);function Js(n,t,e){return Af(n,t,e)}function Af(n,t,e=Et){const{immediate:s,deep:i,flush:r,once:o}=e,a=me({},e),l=t&&s||!t&&r!=="post";let c;if(tr){if(r==="sync"){const f=Nb();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=cn,f.resume=cn,f.pause=cn,f}}const u=de;a.call=(f,p,g)=>dn(f,u,p,g);let h=!1;r==="post"?a.scheduler=f=>{Re(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,p)=>{p?f():Vl(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Xm(n,t,a);return tr&&(c?c.push(d):l&&d()),d}function jb(n,t,e){const s=this.proxy,i=te(n)?n.includes(".")?Mf(s,n):()=>s[n]:n.bind(s,s);let r;rt(t)?r=t:(r=t.handler,e=t);const o=fr(this),a=Af(i,r.bind(s),e);return o(),a}function Mf(n,t){const e=t.split(".");return()=>{let s=n;for(let i=0;i<e.length&&s;i++)s=s[e[i]];return s}}const $b=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${He(t)}Modifiers`]||n[`${Es(t)}Modifiers`];function Fb(n,t,...e){if(n.isUnmounted)return;const s=n.vnode.props||Et;let i=e;const r=t.startsWith("update:"),o=r&&$b(s,t.slice(7));o&&(o.trim&&(i=e.map(u=>te(u)?u.trim():u)),o.number&&(i=e.map(Ba)));let a,l=s[a=Xo(t)]||s[a=Xo(He(t))];!l&&r&&(l=s[a=Xo(Es(t))]),l&&dn(l,n,6,i);const c=s[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,dn(c,n,6,i)}}const Bb=new WeakMap;function Df(n,t,e=!1){const s=e?Bb:t.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},a=!1;if(!rt(n)){const l=c=>{const u=Df(c,t,!0);u&&(a=!0,me(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(Lt(n)&&s.set(n,null),null):(tt(r)?r.forEach(l=>o[l]=null):me(o,r),Lt(n)&&s.set(n,o),o)}function Io(n,t){return!n||!So(t)?!1:(t=t.slice(2).replace(/Once$/,""),wt(n,t[0].toLowerCase()+t.slice(1))||wt(n,Es(t))||wt(n,t))}function Kc(n){const{type:t,vnode:e,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=n,m=no(n);let b,y;try{if(e.shapeFlag&4){const x=i||s,k=x;b=on(c.call(k,x,u,h,f,d,p)),y=a}else{const x=t;b=on(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=t.props?a:Wb(a)}}catch(x){Fi.length=0,Mo(x,n,1),b=H(Mn)}let w=b;if(y&&g!==!1){const x=Object.keys(y),{shapeFlag:k}=w;x.length&&k&7&&(r&&x.some(Ml)&&(y=Vb(y,r)),w=Zs(w,y,!1,!0))}return e.dirs&&(w=Zs(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(e.dirs):e.dirs),e.transition&&Hl(w,e.transition),b=w,no(m),b}const Wb=n=>{let t;for(const e in n)(e==="class"||e==="style"||So(e))&&((t||(t={}))[e]=n[e]);return t},Vb=(n,t)=>{const e={};for(const s in n)(!Ml(s)||!(s.slice(9)in t))&&(e[s]=n[s]);return e};function Hb(n,t,e){const{props:s,children:i,component:r}=n,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return s?Gc(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Io(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Gc(s,o,c):!0:!!o;return!1}function Gc(n,t,e){const s=Object.keys(t);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==n[r]&&!Io(e,r))return!0}return!1}function Ub({vnode:n,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=t.vnode).el=e,t=t.parent;else break}}const Rf=n=>n.__isSuspense;function zb(n,t){t&&t.pendingBranch?tt(n)?t.effects.push(...n):t.effects.push(n):tb(n)}const Ot=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),ia=Symbol.for("v-stc"),Fi=[];let Fe=null;function j(n=!1){Fi.push(Fe=n?null:[])}function qb(){Fi.pop(),Fe=Fi[Fi.length-1]||null}let Qi=1;function ro(n,t=!1){Qi+=n,n<0&&Fe&&t&&(Fe.hasOnce=!0)}function If(n){return n.dynamicChildren=Qi>0?Fe||Us:null,qb(),Qi>0&&Fe&&Fe.push(n),n}function Q(n,t,e,s,i,r){return If(P(n,t,e,s,i,r,!0))}function Ft(n,t,e,s,i){return If(H(n,t,e,s,i,!0))}function Zi(n){return n?n.__v_isVNode===!0:!1}function mi(n,t){return n.type===t.type&&n.key===t.key}const Lf=({key:n})=>n??null,Gr=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?te(n)||pe(n)||rt(n)?{i:ae,r:n,k:t,f:!!e}:n:null);function P(n,t=null,e=null,s=0,i=null,r=n===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Lf(t),ref:t&&Gr(t),scopeId:uf,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ae};return a?(Kl(l,e),r&128&&n.normalize(l)):e&&(l.shapeFlag|=te(e)?8:16),Qi>0&&!o&&Fe&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Fe.push(l),l}const H=Yb;function Yb(n,t=null,e=null,s=0,i=null,r=!1){if((!n||n===pb)&&(n=Mn),Zi(n)){const a=Zs(n,t,!0);return e&&Kl(a,e),Qi>0&&!r&&Fe&&(a.shapeFlag&6?Fe[Fe.indexOf(n)]=a:Fe.push(a)),a.patchFlag=-2,a}if(ry(n)&&(n=n.__vccOpts),t){t=Kb(t);let{class:a,style:l}=t;a&&!te(a)&&(t.class=ge(a)),Lt(l)&&(Wl(l)&&!tt(l)&&(l=me({},l)),t.style=Il(l))}const o=te(n)?1:Rf(n)?128:nb(n)?64:Lt(n)?4:rt(n)?2:0;return P(n,t,e,s,i,o,r,!0)}function Kb(n){return n?Wl(n)||xf(n)?me({},n):n:null}function Zs(n,t,e=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=n,c=t?Gb(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&Lf(c),ref:t&&t.ref?e&&r?tt(r)?r.concat(Gr(t)):[r,Gr(t)]:Gr(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Ot?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Zs(n.ssContent),ssFallback:n.ssFallback&&Zs(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&s&&Hl(u,l.clone(u)),u}function jt(n=" ",t=0){return H(Lo,null,n,t)}function gt(n="",t=!1){return t?(j(),Ft(Mn,null,n)):H(Mn,null,n)}function on(n){return n==null||typeof n=="boolean"?H(Mn):tt(n)?H(Ot,null,n.slice()):Zi(n)?Vn(n):H(Lo,null,String(n))}function Vn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Zs(n)}function Kl(n,t){let e=0;const{shapeFlag:s}=n;if(t==null)t=null;else if(tt(t))e=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Kl(n,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!xf(t)?t._ctx=ae:i===3&&ae&&(ae.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:ae},e=32):(t=String(t),s&64?(e=16,t=[jt(t)]):e=8);n.children=t,n.shapeFlag|=e}function Gb(...n){const t={};for(let e=0;e<n.length;e++){const s=n[e];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=ge([t.class,s.class]));else if(i==="style")t.style=Il([t.style,s.style]);else if(So(i)){const r=t[i],o=s[i];o&&r!==o&&!(tt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function en(n,t,e,s=null){dn(n,t,7,[e,s])}const Jb=_f();let Xb=0;function Qb(n,t,e){const s=n.type,i=(t?t.appContext:n.appContext)||Jb,r={uid:Xb++,vnode:n,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sf(s,i),emitsOptions:Df(s,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:s.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Fb.bind(null,r),n.ce&&n.ce(r),r}let de=null;const Zb=()=>de||ae;let oo,Ja;{const n=Po(),t=(e,s)=>{let i;return(i=n[e])||(i=n[e]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};oo=t("__VUE_INSTANCE_SETTERS__",e=>de=e),Ja=t("__VUE_SSR_SETTERS__",e=>tr=e)}const fr=n=>{const t=de;return oo(n),n.scope.on(),()=>{n.scope.off(),oo(t)}},Jc=()=>{de&&de.scope.off(),oo(null)};function Nf(n){return n.vnode.shapeFlag&4}let tr=!1;function ty(n,t=!1,e=!1){t&&Ja(t);const{props:s,children:i}=n.vnode,r=Nf(n);Eb(n,s,r,t),Cb(n,i,e||t);const o=r?ey(n,t):void 0;return t&&Ja(!1),o}function ey(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,bb);const{setup:s}=e;if(s){Cn();const i=n.setupContext=s.length>1?sy(n):null,r=fr(n),o=dr(s,n,0,[n.props,i]),a=Ld(o);if(An(),r(),(a||n.sp)&&!Ks(n)&&hf(n),a){if(o.then(Jc,Jc),t)return o.then(l=>{Xc(n,l)}).catch(l=>{Mo(l,n,0)});n.asyncDep=o}else Xc(n,o)}else jf(n)}function Xc(n,t,e){rt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Lt(t)&&(n.setupState=rf(t)),jf(n)}function jf(n,t,e){const s=n.type;n.render||(n.render=s.render||cn);{const i=fr(n);Cn();try{yb(n)}finally{An(),i()}}}const ny={get(n,t){return he(n,"get",""),n[t]}};function sy(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,ny),slots:n.slots,emit:n.emit,expose:t}}function No(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(rf(Um(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in $i)return $i[e](n)},has(t,e){return e in t||e in $i}})):n.proxy}function iy(n,t=!0){return rt(n)?n.displayName||n.name:n.name||t&&n.__name}function ry(n){return rt(n)&&"__vccOpts"in n}const Ne=(n,t)=>Gm(n,t,tr);function $f(n,t,e){try{ro(-1);const s=arguments.length;return s===2?Lt(t)&&!tt(t)?Zi(t)?H(n,null,[t]):H(n,t):H(n,null,t):(s>3?e=Array.prototype.slice.call(arguments,2):s===3&&Zi(e)&&(e=[e]),H(n,t,e))}finally{ro(1)}}const oy="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xa;const Qc=typeof window<"u"&&window.trustedTypes;if(Qc)try{Xa=Qc.createPolicy("vue",{createHTML:n=>n})}catch{}const Ff=Xa?n=>Xa.createHTML(n):n=>n,ay="http://www.w3.org/2000/svg",ly="http://www.w3.org/1998/Math/MathML",wn=typeof document<"u"?document:null,Zc=wn&&wn.createElement("template"),cy={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,s)=>{const i=t==="svg"?wn.createElementNS(ay,n):t==="mathml"?wn.createElementNS(ly,n):e?wn.createElement(n,{is:e}):wn.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>wn.createTextNode(n),createComment:n=>wn.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>wn.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,s,i,r){const o=e?e.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===r||!(i=i.nextSibling)););else{Zc.innerHTML=Ff(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const a=Zc.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},uy=Symbol("_vtc");function hy(n,t,e){const s=n[uy];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const tu=Symbol("_vod"),dy=Symbol("_vsh"),fy=Symbol(""),gy=/(?:^|;)\s*display\s*:/;function py(n,t,e){const s=n.style,i=te(e);let r=!1;if(e&&!i){if(t)if(te(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&Jr(s,a,"")}else for(const o in t)e[o]==null&&Jr(s,o,"");for(const o in e)o==="display"&&(r=!0),Jr(s,o,e[o])}else if(i){if(t!==e){const o=s[fy];o&&(e+=";"+o),s.cssText=e,r=gy.test(e)}}else t&&n.removeAttribute("style");tu in n&&(n[tu]=r?s.display:"",n[dy]&&(s.display="none"))}const eu=/\s*!important$/;function Jr(n,t,e){if(tt(e))e.forEach(s=>Jr(n,t,s));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const s=my(n,t);eu.test(e)?n.setProperty(Es(s),e.replace(eu,""),"important"):n[s]=e}}const nu=["Webkit","Moz","ms"],ra={};function my(n,t){const e=ra[t];if(e)return e;let s=He(t);if(s!=="filter"&&s in n)return ra[t]=s;s=To(s);for(let i=0;i<nu.length;i++){const r=nu[i]+s;if(r in n)return ra[t]=r}return t}const su="http://www.w3.org/1999/xlink";function iu(n,t,e,s,i,r=km(t)){s&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(su,t.slice(6,t.length)):n.setAttributeNS(su,t,e):e==null||r&&!Fd(e)?n.removeAttribute(t):n.setAttribute(t,r?"":Rn(e)?String(e):e)}function ru(n,t,e,s,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?Ff(e):e);return}const r=n.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(a!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=Fd(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(i||t)}function Bs(n,t,e,s){n.addEventListener(t,e,s)}function by(n,t,e,s){n.removeEventListener(t,e,s)}const ou=Symbol("_vei");function yy(n,t,e,s,i=null){const r=n[ou]||(n[ou]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=_y(t);if(s){const c=r[t]=xy(s,i);Bs(n,a,c,l)}else o&&(by(n,a,o,l),r[t]=void 0)}}const au=/(?:Once|Passive|Capture)$/;function _y(n){let t;if(au.test(n)){t={};let s;for(;s=n.match(au);)n=n.slice(0,n.length-s[0].length),t[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Es(n.slice(2)),t]}let oa=0;const wy=Promise.resolve(),vy=()=>oa||(wy.then(()=>oa=0),oa=Date.now());function xy(n,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;dn(ky(s,e.value),t,5,[s])};return e.value=n,e.attached=vy(),e}function ky(n,t){if(tt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const lu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Sy=(n,t,e,s,i,r)=>{const o=i==="svg";t==="class"?hy(n,s,o):t==="style"?py(n,e,s):So(t)?Ml(t)||yy(n,t,e,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ey(n,t,s,o))?(ru(n,t,s),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&iu(n,t,s,o,r,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!te(s))?ru(n,He(t),s,r,t):(t==="true-value"?n._trueValue=s:t==="false-value"&&(n._falseValue=s),iu(n,t,s,o))};function Ey(n,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in n&&lu(t)&&rt(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return lu(t)&&te(e)?!1:t in n}const cu=n=>{const t=n.props["onUpdate:modelValue"]||!1;return tt(t)?e=>Yr(t,e):t};function Oy(n){n.target.composing=!0}function uu(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const aa=Symbol("_assign"),Se={created(n,{modifiers:{lazy:t,trim:e,number:s}},i){n[aa]=cu(i);const r=s||i.props&&i.props.type==="number";Bs(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),r&&(a=Ba(a)),n[aa](a)}),e&&Bs(n,"change",()=>{n.value=n.value.trim()}),t||(Bs(n,"compositionstart",Oy),Bs(n,"compositionend",uu),Bs(n,"change",uu))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:s,trim:i,number:r}},o){if(n[aa]=cu(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Ba(n.value):n.value,l=t??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(s&&t===e||i&&n.value.trim()===l)||(n.value=l))}},Ty=me({patchProp:Sy},cy);let hu;function Py(){return hu||(hu=Mb(Ty))}const Cy=((...n)=>{const t=Py().createApp(...n),{mount:e}=t;return t.mount=s=>{const i=My(s);if(!i)return;const r=t._component;!rt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,Ay(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function Ay(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function My(n){return te(n)?document.querySelector(n):n}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ws=typeof document<"u";function Bf(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Dy(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Bf(n.default)}const yt=Object.assign;function la(n,t){const e={};for(const s in t){const i=t[s];e[s]=Xe(i)?i.map(n):n(i)}return e}const Bi=()=>{},Xe=Array.isArray;function du(n,t){const e={};for(const s in n)e[s]=s in t?t[s]:n[s];return e}const Wf=/#/g,Ry=/&/g,Iy=/\//g,Ly=/=/g,Ny=/\?/g,Vf=/\+/g,jy=/%5B/g,$y=/%5D/g,Hf=/%5E/g,Fy=/%60/g,Uf=/%7B/g,By=/%7C/g,zf=/%7D/g,Wy=/%20/g;function Gl(n){return n==null?"":encodeURI(""+n).replace(By,"|").replace(jy,"[").replace($y,"]")}function Vy(n){return Gl(n).replace(Uf,"{").replace(zf,"}").replace(Hf,"^")}function Qa(n){return Gl(n).replace(Vf,"%2B").replace(Wy,"+").replace(Wf,"%23").replace(Ry,"%26").replace(Fy,"`").replace(Uf,"{").replace(zf,"}").replace(Hf,"^")}function Hy(n){return Qa(n).replace(Ly,"%3D")}function Uy(n){return Gl(n).replace(Wf,"%23").replace(Ny,"%3F")}function zy(n){return Uy(n).replace(Iy,"%2F")}function er(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const qy=/\/$/,Yy=n=>n.replace(qy,"");function ca(n,t,e="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),r=t.slice(l,a>0?a:t.length),i=n(r.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Xy(s??t,e),{fullPath:s+r+o,path:s,query:i,hash:er(o)}}function Ky(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function fu(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function Gy(n,t,e){const s=t.matched.length-1,i=e.matched.length-1;return s>-1&&s===i&&ti(t.matched[s],e.matched[i])&&qf(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function ti(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function qf(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!Jy(n[e],t[e]))return!1;return!0}function Jy(n,t){return Xe(n)?gu(n,t):Xe(t)?gu(t,n):n===t}function gu(n,t){return Xe(t)?n.length===t.length&&n.every((e,s)=>e===t[s]):n.length===1&&n[0]===t}function Xy(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=e.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Za=(function(n){return n.pop="pop",n.push="push",n})({}),ua=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function Qy(n){if(!n)if(Ws){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Yy(n)}const Zy=/^[^#]+#/;function t_(n,t){return n.replace(Zy,"#")+t}function e_(n,t){const e=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:t.behavior,left:s.left-e.left-(t.left||0),top:s.top-e.top-(t.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function n_(n){let t;if("el"in n){const e=n.el,s=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?s?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=e_(i,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function pu(n,t){return(history.state?history.state.position-t:-1)+n}const tl=new Map;function s_(n,t){tl.set(n,t)}function i_(n){const t=tl.get(n);return tl.delete(n),t}function r_(n){return typeof n=="string"||n&&typeof n=="object"}function Yf(n){return typeof n=="string"||typeof n=="symbol"}let Vt=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const Kf=Symbol("");Vt.MATCHER_NOT_FOUND+"",Vt.NAVIGATION_GUARD_REDIRECT+"",Vt.NAVIGATION_ABORTED+"",Vt.NAVIGATION_CANCELLED+"",Vt.NAVIGATION_DUPLICATED+"";function ei(n,t){return yt(new Error,{type:n,[Kf]:!0},t)}function pn(n,t){return n instanceof Error&&Kf in n&&(t==null||!!(n.type&t))}const o_=["params","query","hash"];function a_(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const e of o_)e in n&&(t[e]=n[e]);return JSON.stringify(t,null,2)}function l_(n){const t={};if(n===""||n==="?")return t;const e=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<e.length;++s){const i=e[s].replace(Vf," "),r=i.indexOf("="),o=er(r<0?i:i.slice(0,r)),a=r<0?null:er(i.slice(r+1));if(o in t){let l=t[o];Xe(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function mu(n){let t="";for(let e in n){const s=n[e];if(e=Hy(e),s==null){s!==void 0&&(t+=(t.length?"&":"")+e);continue}(Xe(s)?s.map(i=>i&&Qa(i)):[s&&Qa(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+e,i!=null&&(t+="="+i))})}return t}function c_(n){const t={};for(const e in n){const s=n[e];s!==void 0&&(t[e]=Xe(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const u_=Symbol(""),bu=Symbol(""),$o=Symbol(""),Jl=Symbol(""),el=Symbol("");function bi(){let n=[];function t(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Hn(n,t,e,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ei(Vt.NAVIGATION_ABORTED,{from:e,to:t})):d instanceof Error?l(d):r_(d)?l(ei(Vt.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>n.call(s&&s.instances[i],t,e,c));let h=Promise.resolve(u);n.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function ha(n,t,e,s,i=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Bf(l)){const c=(l.__vccOpts||l)[t];c&&r.push(Hn(c,e,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Dy(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Hn(d,e,s,o,a,i)()}))}}return r}function h_(n,t){const e=[],s=[],i=[],r=Math.max(t.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(n.matched.find(c=>ti(c,a))?s.push(a):e.push(a));const l=n.matched[o];l&&(t.matched.find(c=>ti(c,l))||i.push(l))}return[e,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let d_=()=>location.protocol+"//"+location.host;function Gf(n,t){const{pathname:e,search:s,hash:i}=t,r=n.indexOf("#");if(r>-1){let o=i.includes(n.slice(r))?n.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),fu(a,"")}return fu(e,n)+s+i}function f_(n,t,e,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=Gf(n,location),p=e.value,g=t.value;let m=0;if(d){if(e.value=f,t.value=d,o&&o===p){o=null;return}m=g?d.position-g.position:0}else s(f);i.forEach(b=>{b(e.value,p,{delta:m,type:Za.pop,direction:m?m>0?ua.forward:ua.back:ua.unknown})})};function l(){o=e.value}function c(d){i.push(d);const f=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(yt({},d.state,{scroll:jo()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function yu(n,t,e,s=!1,i=!1){return{back:n,current:t,forward:e,replaced:s,position:window.history.length,scroll:i?jo():null}}function g_(n){const{history:t,location:e}=window,s={value:Gf(n,e)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=n.indexOf("#"),d=h>-1?(e.host&&document.querySelector("base")?n:n.slice(h))+l:d_()+n+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),e[u?"replace":"assign"](d)}}function o(l,c){r(l,yt({},t.state,yu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=yt({},i.value,t.state,{forward:l,scroll:jo()});r(u.current,u,!0),r(l,yt({},yu(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function p_(n){n=Qy(n);const t=g_(n),e=f_(n,t.state,t.location,t.replace);function s(r,o=!0){o||e.pauseListeners(),history.go(r)}const i=yt({location:"",base:n,go:s,createHref:t_.bind(null,n)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function m_(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),p_(n)}let ys=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var ne=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(ne||{});const b_={type:ys.Static,value:""},y_=/[a-zA-Z0-9_]/;function __(n){if(!n)return[[]];if(n==="/")return[[b_]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(f){throw new Error(`ERR (${e})/"${c}": ${f}`)}let e=ne.Static,s=e;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(e===ne.Static?r.push({type:ys.Static,value:c}):e===ne.Param||e===ne.ParamRegExp||e===ne.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:ys.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&e!==ne.ParamRegExp){s=e,e=ne.EscapeNext;continue}switch(e){case ne.Static:l==="/"?(c&&h(),o()):l===":"?(h(),e=ne.Param):d();break;case ne.EscapeNext:d(),e=s;break;case ne.Param:l==="("?e=ne.ParamRegExp:y_.test(l)?d():(h(),e=ne.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ne.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:e=ne.ParamRegExpEnd:u+=l;break;case ne.ParamRegExpEnd:h(),e=ne.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===ne.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const _u="[^/]+?",w_={sensitive:!1,strict:!1,start:!0,end:!0};var ve=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(ve||{});const v_=/[.+*?^${}()[\]/\\]/g;function x_(n,t){const e=yt({},w_,t),s=[];let i=e.start?"^":"";const r=[];for(const c of n){const u=c.length?[]:[ve.Root];e.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=ve.Segment+(e.sensitive?ve.BonusCaseSensitive:0);if(d.type===ys.Static)h||(i+="/"),i+=d.value.replace(v_,"\\$&"),f+=ve.Static;else if(d.type===ys.Param){const{value:p,repeatable:g,optional:m,regexp:b}=d;r.push({name:p,repeatable:g,optional:m});const y=b||_u;if(y!==_u){f+=ve.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let w=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,f+=ve.Dynamic,m&&(f+=ve.BonusOptional),g&&(f+=ve.BonusRepeatable),y===".*"&&(f+=ve.BonusWildcard)}u.push(f)}s.push(u)}if(e.strict&&e.end){const c=s.length-1;s[c][s[c].length-1]+=ve.BonusStrict}e.strict||(i+="/?"),e.end?i+="$":e.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",p=r[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===ys.Static)u+=f.value;else if(f.type===ys.Param){const{value:p,repeatable:g,optional:m}=f,b=p in c?c[p]:"";if(Xe(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Xe(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function k_(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=t[e]-n[e];if(s)return s;e++}return n.length<t.length?n.length===1&&n[0]===ve.Static+ve.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===ve.Static+ve.Segment?1:-1:0}function Jf(n,t){let e=0;const s=n.score,i=t.score;for(;e<s.length&&e<i.length;){const r=k_(s[e],i[e]);if(r)return r;e++}if(Math.abs(i.length-s.length)===1){if(wu(s))return 1;if(wu(i))return-1}return i.length-s.length}function wu(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const S_={strict:!1,end:!0,sensitive:!1};function E_(n,t,e){const s=x_(__(n.path),e),i=yt(s,{record:n,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function O_(n,t){const e=[],s=new Map;t=du(S_,t);function i(h){return s.get(h)}function r(h,d,f){const p=!f,g=xu(h);g.aliasOf=f&&f.record;const m=du(t,h),b=[g];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of x)b.push(xu(yt({},g,{components:f?f.record.components:g.components,path:k,aliasOf:f?f.record:g})))}let y,w;for(const x of b){const{path:k}=x;if(d&&k[0]!=="/"){const E=d.record.path,O=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(k&&O+k)}if(y=E_(x,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),p&&h.name&&!ku(y)&&o(h.name)),Xf(y)&&l(y),g.children){const E=g.children;for(let O=0;O<E.length;O++)r(E[O],y,f&&f.children[O])}f=f||y}return w?()=>{o(w)}:Bi}function o(h){if(Yf(h)){const d=s.get(h);d&&(s.delete(h),e.splice(e.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=e.indexOf(h);d>-1&&(e.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return e}function l(h){const d=C_(h,e);e.splice(d,0,h),h.record.name&&!ku(h)&&s.set(h.record.name,h)}function c(h,d){let f,p={},g,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ei(Vt.MATCHER_NOT_FOUND,{location:h});m=f.record.name,p=yt(vu(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&vu(h.params,f.keys.map(w=>w.name))),g=f.stringify(p)}else if(h.path!=null)g=h.path,f=e.find(w=>w.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=d.name?s.get(d.name):e.find(w=>w.re.test(d.path)),!f)throw ei(Vt.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,p=yt({},d.params,h.params),g=f.stringify(p)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:g,params:p,matched:b,meta:P_(b)}}n.forEach(h=>r(h));function u(){e.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function vu(n,t){const e={};for(const s of t)s in n&&(e[s]=n[s]);return e}function xu(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:T_(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function T_(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const s in n.components)t[s]=typeof e=="object"?e[s]:e;return t}function ku(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function P_(n){return n.reduce((t,e)=>yt(t,e.meta),{})}function C_(n,t){let e=0,s=t.length;for(;e!==s;){const r=e+s>>1;Jf(n,t[r])<0?s=r:e=r+1}const i=A_(n);return i&&(s=t.lastIndexOf(i,s-1)),s}function A_(n){let t=n;for(;t=t.parent;)if(Xf(t)&&Jf(n,t)===0)return t}function Xf({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Su(n){const t=Ge($o),e=Ge(Jl),s=Ne(()=>{const l=Kt(n.to);return t.resolve(l)}),i=Ne(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=e.matched;if(!u||!h.length)return-1;const d=h.findIndex(ti.bind(null,u));if(d>-1)return d;const f=Eu(l[c-2]);return c>1&&Eu(u)===f&&h[h.length-1].path!==f?h.findIndex(ti.bind(null,l[c-2])):d}),r=Ne(()=>i.value>-1&&I_(e.params,s.value.params)),o=Ne(()=>i.value>-1&&i.value===e.matched.length-1&&qf(e.params,s.value.params));function a(l={}){if(R_(l)){const c=t[Kt(n.replace)?"replace":"push"](Kt(n.to)).catch(Bi);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ne(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function M_(n){return n.length===1?n[0]:n}const D_=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Su,setup(n,{slots:t}){const e=Ao(Su(n)),{options:s}=Ge($o),i=Ne(()=>({[Ou(n.activeClass,s.linkActiveClass,"router-link-active")]:e.isActive,[Ou(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&M_(t.default(e));return n.custom?r:$f("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},r)}}}),Xl=D_;function R_(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function I_(n,t){for(const e in t){const s=t[e],i=n[e];if(typeof s=="string"){if(s!==i)return!1}else if(!Xe(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Eu(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Ou=(n,t,e)=>n??t??e,L_=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const s=Ge(el),i=Ne(()=>n.route||s.value),r=Ge(bu,0),o=Ne(()=>{let c=Kt(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ne(()=>i.value.matched[o.value]);Kr(bu,Ne(()=>o.value+1)),Kr(u_,a),Kr(el,i);const l=z();return Js(()=>[l.value,a.value,n.name],([c,u,h],[d,f,p])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ti(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=n.name,h=a.value,d=h&&h.components[u];if(!d)return Tu(e.default,{Component:d,route:c});const f=h.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=$f(d,yt({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Tu(e.default,{Component:m,route:c})||m}}});function Tu(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const Qf=L_;function N_(n){const t=O_(n.routes,n),e=n.parseQuery||l_,s=n.stringifyQuery||mu,i=n.history,r=bi(),o=bi(),a=bi(),l=zm(jn);let c=jn;Ws&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=la.bind(null,A=>""+A),h=la.bind(null,zy),d=la.bind(null,er);function f(A,W){let F,U;return Yf(A)?(F=t.getRecordMatcher(A),U=W):U=A,t.addRoute(U,F)}function p(A){const W=t.getRecordMatcher(A);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(A=>A.record)}function m(A){return!!t.getRecordMatcher(A)}function b(A,W){if(W=yt({},W||l.value),typeof A=="string"){const S=ca(e,A,W.path),C=t.resolve({path:S.path},W),M=i.createHref(S.fullPath);return yt(S,C,{params:d(C.params),hash:er(S.hash),redirectedFrom:void 0,href:M})}let F;if(A.path!=null)F=yt({},A,{path:ca(e,A.path,W.path).path});else{const S=yt({},A.params);for(const C in S)S[C]==null&&delete S[C];F=yt({},A,{params:h(S)}),W.params=h(W.params)}const U=t.resolve(F,W),dt=A.hash||"";U.params=u(d(U.params));const _=Ky(s,yt({},A,{hash:Vy(dt),path:U.path})),v=i.createHref(_);return yt({fullPath:_,hash:dt,query:s===mu?c_(A.query):A.query||{}},U,{redirectedFrom:void 0,href:v})}function y(A){return typeof A=="string"?ca(e,A,l.value.path):yt({},A)}function w(A,W){if(c!==A)return ei(Vt.NAVIGATION_CANCELLED,{from:W,to:A})}function x(A){return O(A)}function k(A){return x(yt(y(A),{replace:!0}))}function E(A,W){const F=A.matched[A.matched.length-1];if(F&&F.redirect){const{redirect:U}=F;let dt=typeof U=="function"?U(A,W):U;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=y(dt):{path:dt},dt.params={}),yt({query:A.query,hash:A.hash,params:dt.path!=null?{}:A.params},dt)}}function O(A,W){const F=c=b(A),U=l.value,dt=A.state,_=A.force,v=A.replace===!0,S=E(F,U);if(S)return O(yt(y(S),{state:typeof S=="object"?yt({},dt,S.state):dt,force:_,replace:v}),W||F);const C=F;C.redirectedFrom=W;let M;return!_&&Gy(s,U,F)&&(M=ei(Vt.NAVIGATION_DUPLICATED,{to:C,from:U}),_e(U,U,!0,!1)),(M?Promise.resolve(M):K(C,U)).catch(T=>pn(T)?pn(T,Vt.NAVIGATION_GUARD_REDIRECT)?T:ye(T):at(T,C,U)).then(T=>{if(T){if(pn(T,Vt.NAVIGATION_GUARD_REDIRECT))return O(yt({replace:v},y(T.to),{state:typeof T.to=="object"?yt({},dt,T.to.state):dt,force:_}),W||C)}else T=ot(C,U,!0,v,dt);return X(C,U,T),T})}function D(A,W){const F=w(A,W);return F?Promise.reject(F):Promise.resolve()}function $(A){const W=Ee.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(A):A()}function K(A,W){let F;const[U,dt,_]=h_(A,W);F=ha(U.reverse(),"beforeRouteLeave",A,W);for(const S of U)S.leaveGuards.forEach(C=>{F.push(Hn(C,A,W))});const v=D.bind(null,A,W);return F.push(v),Qt(F).then(()=>{F=[];for(const S of r.list())F.push(Hn(S,A,W));return F.push(v),Qt(F)}).then(()=>{F=ha(dt,"beforeRouteUpdate",A,W);for(const S of dt)S.updateGuards.forEach(C=>{F.push(Hn(C,A,W))});return F.push(v),Qt(F)}).then(()=>{F=[];for(const S of _)if(S.beforeEnter)if(Xe(S.beforeEnter))for(const C of S.beforeEnter)F.push(Hn(C,A,W));else F.push(Hn(S.beforeEnter,A,W));return F.push(v),Qt(F)}).then(()=>(A.matched.forEach(S=>S.enterCallbacks={}),F=ha(_,"beforeRouteEnter",A,W,$),F.push(v),Qt(F))).then(()=>{F=[];for(const S of o.list())F.push(Hn(S,A,W));return F.push(v),Qt(F)}).catch(S=>pn(S,Vt.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function X(A,W,F){a.list().forEach(U=>$(()=>U(A,W,F)))}function ot(A,W,F,U,dt){const _=w(A,W);if(_)return _;const v=W===jn,S=Ws?history.state:{};F&&(U||v?i.replace(A.fullPath,yt({scroll:v&&S&&S.scroll},dt)):i.push(A.fullPath,dt)),l.value=A,_e(A,W,F,v),ye()}let St;function ee(){St||(St=i.listen((A,W,F)=>{if(!Me.listening)return;const U=b(A),dt=E(U,Me.currentRoute.value);if(dt){O(yt(dt,{replace:!0,force:!0}),U).catch(Bi);return}c=U;const _=l.value;Ws&&s_(pu(_.fullPath,F.delta),jo()),K(U,_).catch(v=>pn(v,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_CANCELLED)?v:pn(v,Vt.NAVIGATION_GUARD_REDIRECT)?(O(yt(y(v.to),{force:!0}),U).then(S=>{pn(S,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_DUPLICATED)&&!F.delta&&F.type===Za.pop&&i.go(-1,!1)}).catch(Bi),Promise.reject()):(F.delta&&i.go(-F.delta,!1),at(v,U,_))).then(v=>{v=v||ot(U,_,!1),v&&(F.delta&&!pn(v,Vt.NAVIGATION_CANCELLED)?i.go(-F.delta,!1):F.type===Za.pop&&pn(v,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),X(U,_,v)}).catch(Bi)}))}let ht=bi(),it=bi(),G;function at(A,W,F){ye(A);const U=it.list();return U.length?U.forEach(dt=>dt(A,W,F)):console.error(A),Promise.reject(A)}function Pt(){return G&&l.value!==jn?Promise.resolve():new Promise((A,W)=>{ht.add([A,W])})}function ye(A){return G||(G=!A,ee(),ht.list().forEach(([W,F])=>A?F(A):W()),ht.reset()),A}function _e(A,W,F,U){const{scrollBehavior:dt}=n;if(!Ws||!dt)return Promise.resolve();const _=!F&&i_(pu(A.fullPath,0))||(U||!F)&&history.state&&history.state.scroll||null;return En().then(()=>dt(A,W,_)).then(v=>v&&n_(v)).catch(v=>at(v,A,W))}const Yt=A=>i.go(A);let Be;const Ee=new Set,Me={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:g,resolve:b,options:n,push:x,replace:k,go:Yt,back:()=>Yt(-1),forward:()=>Yt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:it.add,isReady:Pt,install(A){A.component("RouterLink",Xl),A.component("RouterView",Qf),A.config.globalProperties.$router=Me,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Kt(l)}),Ws&&!Be&&l.value===jn&&(Be=!0,x(i.location).catch(U=>{}));const W={};for(const U in jn)Object.defineProperty(W,U,{get:()=>l.value[U],enumerable:!0});A.provide($o,Me),A.provide(Jl,nf(W)),A.provide(el,l);const F=A.unmount;Ee.add(A),A.unmount=function(){Ee.delete(A),Ee.size<1&&(c=jn,St&&St(),St=null,l.value=jn,Be=!1,G=!1),F()}}};function Qt(A){return A.reduce((W,F)=>W.then(()=>$(F)),Promise.resolve())}return Me}function li(){return Ge($o)}function j_(n){return Ge(Jl)}const $_={class:"navLabel"},F_=mt({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(n){return li(),(t,e)=>(j(),Ft(Kt(Xl),{to:n.route,class:ge("navLink"+(n.active===n.label?" active":""))},{default:Je(()=>[P("i",{class:ge(n.icon)},null,2),P("span",$_,Tt(n.label),1)]),_:1},8,["to","class"]))}}),Rt=(n,t)=>{const e=n.__vccOpts||n;for(const[s,i]of t)e[s]=i;return e},da=Rt(F_,[["__scopeId","data-v-5fb478db"]]),B_={class:"nav-bar"},W_=mt({__name:"NavBar",props:{active:{}},setup(n){return(t,e)=>(j(),Q("nav",B_,[H(da,{label:"Home",icon:"fas fa-home",route:"/home",active:n.active},null,8,["active"]),H(da,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:n.active},null,8,["active"]),H(da,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:n.active},null,8,["active"])]))}}),V_=Rt(W_,[["__scopeId","data-v-4d2e0921"]]);var nl=function(n,t){return nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])},nl(n,t)};function Zf(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nl(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ao=function(){return ao=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++){e=arguments[s];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ao.apply(this,arguments)};function ci(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(e[s[i]]=n[s[i]]);return e}function tg(n,t,e,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,e):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,s);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(i<3?o(r):i>3?o(t,e,r):o(t,e))||r);return i>3&&r&&Object.defineProperty(t,e,r),r}function eg(n,t){return function(e,s){t(e,s,n)}}function ng(n,t,e,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&n?s.static?n:n.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=e.length-1;f>=0;f--){var p={};for(var g in s)p[g]=g==="access"?{}:s[g];for(var g in s.access)p.access[g]=s.access[g];p.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,e[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function sg(n,t,e){for(var s=arguments.length>2,i=0;i<t.length;i++)e=s?t[i].call(n,e):t[i].call(n);return s?e:void 0}function ig(n){return typeof n=="symbol"?n:"".concat(n)}function rg(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function og(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function V(n,t,e,s){function i(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,t||[])).next())})}function ag(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){e.label=c[1];break}if(c[0]===6&&e.label<r[1]){e.label=r[1],r=c;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(c);break}r[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Fo=Object.create?(function(n,t,e,s){s===void 0&&(s=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,s,i)}):(function(n,t,e,s){s===void 0&&(s=e),n[s]=t[e]});function lg(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Fo(t,n,e)}function lo(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],s=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ql(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var s=e.call(n),i,r=[],o;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=s.return)&&e.call(s)}finally{if(o)throw o.error}}return r}function cg(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ql(arguments[t]));return n}function ug(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var s=Array(n),i=0,t=0;t<e;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function hg(n,t,e){if(e||arguments.length===2)for(var s=0,i=t.length,r;s<i;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return n.concat(r||Array.prototype.slice.call(t))}function ni(n){return this instanceof ni?(this.v=n,this):new ni(n)}function dg(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=e.apply(n,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,h)}}function a(f,p){s[f]&&(i[f]=function(g){return new Promise(function(m,b){r.push([f,g,m,b])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(s[f](p))}catch(g){d(r[0][3],g)}}function c(f){f.value instanceof ni?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}}function fg(n){var t,e;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,r){t[i]=n[i]?function(o){return(e=!e)?{value:ni(n[i](o)),done:!1}:r?r(o):o}:r}}function gg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof lo=="function"?lo(n):n[Symbol.iterator](),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(r){e[r]=n[r]&&function(o){return new Promise(function(a,l){o=n[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function pg(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var H_=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},sl=function(n){return sl=Object.getOwnPropertyNames||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[e.length]=s);return e},sl(n)};function mg(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=sl(n),s=0;s<e.length;s++)e[s]!=="default"&&Fo(t,n,e[s]);return H_(t,n),t}function bg(n){return n&&n.__esModule?n:{default:n}}function yg(n,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(n):s?s.value:t.get(n)}function _g(n,t,e,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function wg(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function vg(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],e&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),n.stack.push({value:t,dispose:s,async:e})}else e&&n.stack.push({async:!0});return t}var U_=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var s=new Error(e);return s.name="SuppressedError",s.error=n,s.suppressed=t,s};function xg(n){function t(r){n.error=n.hasError?new U_(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}var e,s=0;function i(){for(;e=n.stack.pop();)try{if(!e.async&&s===1)return s=0,n.stack.push(e),Promise.resolve().then(i);if(e.dispose){var r=e.dispose.call(e.value);if(e.async)return s|=2,Promise.resolve(r).then(i,function(o){return t(o),i()})}else s|=1}catch(o){t(o)}if(s===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function kg(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,s,i,r,o){return s?t?".jsx":".js":i&&(!r||!o)?e:i+r+"."+o.toLowerCase()+"js"}):n}const z_={__extends:Zf,__assign:ao,__rest:ci,__decorate:tg,__param:eg,__esDecorate:ng,__runInitializers:sg,__propKey:ig,__setFunctionName:rg,__metadata:og,__awaiter:V,__generator:ag,__createBinding:Fo,__exportStar:lg,__values:lo,__read:Ql,__spread:cg,__spreadArrays:ug,__spreadArray:hg,__await:ni,__asyncGenerator:dg,__asyncDelegator:fg,__asyncValues:gg,__makeTemplateObject:pg,__importStar:mg,__importDefault:bg,__classPrivateFieldGet:yg,__classPrivateFieldSet:_g,__classPrivateFieldIn:wg,__addDisposableResource:vg,__disposeResources:xg,__rewriteRelativeImportExtension:kg},q_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vg,get __assign(){return ao},__asyncDelegator:fg,__asyncGenerator:dg,__asyncValues:gg,__await:ni,__awaiter:V,__classPrivateFieldGet:yg,__classPrivateFieldIn:wg,__classPrivateFieldSet:_g,__createBinding:Fo,__decorate:tg,__disposeResources:xg,__esDecorate:ng,__exportStar:lg,__extends:Zf,__generator:ag,__importDefault:bg,__importStar:mg,__makeTemplateObject:pg,__metadata:og,__param:eg,__propKey:ig,__read:Ql,__rest:ci,__rewriteRelativeImportExtension:kg,__runInitializers:sg,__setFunctionName:rg,__spread:cg,__spreadArray:hg,__spreadArrays:ug,__values:lo,default:z_},Symbol.toStringTag,{value:"Module"})),Y_="modulepreload",K_=function(n){return"/paperWeight/dist/"+n},Pu={},ui=function(t,e,s){let i=Promise.resolve();if(e&&e.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(e.map(u=>{if(u=K_(u),u in Pu)return;Pu[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Y_,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},G_=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...e)):t=fetch,(...e)=>t(...e)};class Zl extends Error{constructor(t,e="FunctionsError",s){super(t),this.name=e,this.context=s}}class Cu extends Zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Au extends Zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mu extends Zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var il;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(il||(il={}));class J_{constructor(t,{headers:e={},customFetch:s,region:i=il.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=G_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(e,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${e}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new Cu(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Au(f);if(!f.ok)throw new Mu(f);let g=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield f.json():g==="application/octet-stream"||g==="application/pdf"?m=yield f.blob():g==="text/event-stream"?m=f:g==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new Cu(r)}:{data:null,error:r,response:r instanceof Mu||r instanceof Au?r.context:void 0}}})}}function X_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Sg(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),e}var le={};const hi=Sg(q_);var kr={},Sr={},Er={},Or={},Tr={},Q_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},si=Q_();const Z_=si.fetch,Eg=si.fetch.bind(si),Og=si.Headers,t0=si.Request,e0=si.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:Og,Request:t0,Response:e0,default:Eg,fetch:Z_},Symbol.toStringTag,{value:"Module"})),n0=Sg(Os);var Pr={},Du;function Tg(){if(Du)return Pr;Du=1,Object.defineProperty(Pr,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Pr.default=n,Pr}var Ru;function Pg(){if(Ru)return Tr;Ru=1,Object.defineProperty(Tr,"__esModule",{value:!0});const n=hi,t=n.__importDefault(n0),e=n.__importDefault(Tg());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let p=null,g=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(g=[],p=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p?.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,y="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return Tr.default=s,Tr}var Iu;function Cg(){if(Iu)return Or;Iu=1,Object.defineProperty(Or,"__esModule",{value:!0});const t=hi.__importDefault(Pg());class e extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Or.default=e,Or}var Lu;function tc(){if(Lu)return Er;Lu=1,Object.defineProperty(Er,"__esModule",{value:!0});const t=hi.__importDefault(Cg());class e extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Er.default=e,Er}var Nu;function Ag(){if(Nu)return Sr;Nu=1,Object.defineProperty(Sr,"__esModule",{value:!0});const t=hi.__importDefault(tc());class e{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Sr.default=e,Sr}var ju;function s0(){if(ju)return kr;ju=1,Object.defineProperty(kr,"__esModule",{value:!0});const n=hi,t=n.__importDefault(Ag()),e=n.__importDefault(tc());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{d.searchParams.append(g,m)})):(h="POST",f=o);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new e.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return kr.default=s,kr}var $u;function i0(){if($u)return le;$u=1,Object.defineProperty(le,"__esModule",{value:!0}),le.PostgrestError=le.PostgrestBuilder=le.PostgrestTransformBuilder=le.PostgrestFilterBuilder=le.PostgrestQueryBuilder=le.PostgrestClient=void 0;const n=hi,t=n.__importDefault(s0());le.PostgrestClient=t.default;const e=n.__importDefault(Ag());le.PostgrestQueryBuilder=e.default;const s=n.__importDefault(tc());le.PostgrestFilterBuilder=s.default;const i=n.__importDefault(Cg());le.PostgrestTransformBuilder=i.default;const r=n.__importDefault(Pg());le.PostgrestBuilder=r.default;const o=n.__importDefault(Tg());return le.PostgrestError=o.default,le.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},le}var r0=i0();const o0=X_(r0),{PostgrestClient:a0,PostgrestQueryBuilder:MA,PostgrestFilterBuilder:DA,PostgrestTransformBuilder:RA,PostgrestBuilder:IA,PostgrestError:LA}=o0;class l0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const s=e.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const s=this.getWebSocketConstructor();return new s(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const c0="2.76.1",u0=`realtime-js/${c0}`,h0="1.0.0",rl=1e4,d0=1e3,f0=100;var Wi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Wi||(Wi={}));var se;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(se||(se={}));var qe;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(qe||(qe={}));var ol;(function(n){n.websocket="websocket"})(ol||(ol={}));var ms;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ms||(ms={}));class g0{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,e,s)}_decodeBroadcast(t,e,s){const i=e.getUint8(1),r=e.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+i));o=o+i;const l=s.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Mg{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(At||(At={}));const Fu=(n,t,e={})=>{var s;const i=(s=e.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((r,o)=>(r[o]=p0(o,n,t,i),r),{}):{}},p0=(n,t,e,s)=>{const i=t.find(a=>a.name===n),r=i?.type,o=e[n];return r&&!s.includes(r)?Dg(r,o):al(o)},Dg=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return _0(t,e)}switch(n){case At.bool:return m0(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return b0(t);case At.json:case At.jsonb:return y0(t);case At.timestamp:return w0(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return al(t);default:return al(t)}},al=n=>n,m0=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},b0=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},y0=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},_0=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,s=n[e];if(n[0]==="{"&&s==="}"){let r;const o=n.slice(1,e);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Dg(t,a))}return n},w0=n=>typeof n=="string"?n.replace(" ","T"):n,Rg=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fa{constructor(t,e,s={},i=rl){this.channel=t,this.event=e,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var s;return this._hasReceived(t)&&e((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bu;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Bu||(Bu={}));class Vi{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Vi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,s,i){const r=this.cloneDeep(t),o=this.transformState(e),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=h.filter(m=>d.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(t,e,s,i){const{joins:r,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(s=>e(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,s)=>{const i=t[s];return"metas"in i?e[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):e[s]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wu;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Wu||(Wu={}));var Hi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Hi||(Hi={}));var vn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class ec{constructor(t,e={config:{}},s){var i,r;if(this.topic=t,this.params=e,this.socket=s,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vi(this),this.broadcastEndpointURL=Rg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(vn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(vn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(vn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<m;y++){const w=g[y],{filter:{event:x,schema:k,table:E,filter:O}}=w,D=f&&f[y];if(D&&D.event===x&&D.schema===k&&D.table===E&&D.filter===O)b.push(Object.assign(Object.assign({},w),{id:D.id}));else{this.unsubscribe(),this.state=se.errored,t?.(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vn.SUBSCRIBED);return}}).receive("error",f=>{this.state=se.errored,t?.(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,s){return this.state===se.joined&&t===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,s)}async httpSend(t,e,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,e={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=e.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new fa(this,qe.leave,{},t),s.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,e,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(r),o}_push(t,e,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fa(this,t,e,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>f0){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,s){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,s){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qe;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,e,s);if(e&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var p,g,m,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return x&&((g=e.ids)===null||g===void 0?void 0:g.includes(x))&&(k==="*"||k?.toLocaleLowerCase()===((m=e.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=e?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:g,table:m,commit_timestamp:b,type:y,errors:w}=p;d=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(d,s)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,s){const i=t.toLocaleLowerCase(),r={type:i,filter:e,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,e){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&ec.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Fu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Fu(t.columns,t.old_record)),e}}const ga=()=>{},Cr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v0=[1e3,2e3,5e3,1e4],x0=1e4,k0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S0{constructor(t,e){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rl,this.transport=null,this.heartbeatIntervalMs=Cr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ga,this.ref=0,this.reconnectTimer=null,this.logger=ga,this.conn=null,this.sendBuffer=[],this.serializer=new g0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>ui(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=e?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${ol.websocket}`,this.httpEndpoint=Rg(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h0}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,s){this.logger(t,e,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return ms.Connecting;case Wi.open:return ms.Open;case Wi.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new ec(`realtime:${t}`,e,this);return this.channels.push(r),r}}push(t){const{topic:e,event:s,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(d0,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Cr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=e,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${s}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{const s=new Blob([k0],{type:"application/javascript"});e=URL.createObjectURL(s)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(s=>{const i={access_token:e,version:u0};e&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,s,i,r,o,a,l,c,u;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:rl,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Cr.HEARTBEAT_INTERVAL,this.worker=(r=t?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:ga,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>v0[h-1]||x0),this.encode=(c=t?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class nc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class E0 extends nc{constructor(t,e,s){super(t),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ll extends nc{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const sc=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...e)):t=fetch,(...e)=>t(...e)},O0=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ui(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),cl=n=>{if(Array.isArray(n))return n.map(e=>cl(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,s])=>{const i=e.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=cl(s)}),t},T0=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},pa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),P0=(n,t,e)=>V(void 0,void 0,void 0,function*(){const s=yield O0();n instanceof s&&!e?.noResolveJson?n.json().then(i=>{const r=n.status||500,o=i?.statusCode||r+"";t(new E0(pa(i),r,o))}).catch(i=>{t(new ll(pa(i),i))}):t(new ll(pa(n),n))}),C0=(n,t,e,s)=>{const i={method:n,headers:t?.headers||{}};return n==="GET"||!s?i:(T0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function gr(n,t,e,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,C0(t,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>P0(l,a,s))})})}function nr(n,t,e,s){return V(this,void 0,void 0,function*(){return gr(n,"GET",t,e,s)})}function ze(n,t,e,s,i){return V(this,void 0,void 0,function*(){return gr(n,"POST",t,s,i,e)})}function ul(n,t,e,s,i){return V(this,void 0,void 0,function*(){return gr(n,"PUT",t,s,i,e)})}function A0(n,t,e,s){return V(this,void 0,void 0,function*(){return gr(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),s)})}function ic(n,t,e,s,i){return V(this,void 0,void 0,function*(){return gr(n,"DELETE",t,s,i,e)})}class M0{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var Ig;class D0{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ig]="BlobDownloadBuilder",this.promise=null}asStream(){return new M0(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}Ig=Symbol.toStringTag;const R0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I0{constructor(t,e={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=s,this.fetch=sc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,s,i){return V(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Vu),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=yield(t=="PUT"?ul:ze)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}upload(t,e,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,s)})}uploadToSignedUrl(t,e,s,i){return V(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=Object.assign({upsert:Vu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield ul(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return V(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");const r=yield ze(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new nc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}update(t,e,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,s)})}move(t,e,s){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}copy(t,e,s){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,s){return V(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield ze(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,s){return V(this,void 0,void 0,function*(){try{const i=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}download(t,e){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(t),l=()=>nr(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new D0(l,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const s=yield nr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:cl(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}exists(t){return V(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield A0(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s)&&s instanceof ll){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,e){const s=this._getFinalPath(t),i=[],r=e?.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&i.push(r);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}list(t,e,s){return V(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},R0),e),{prefix:t||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}listV2(t,e){return V(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const Lg="2.76.1",Ng={"X-Client-Info":`storage-js/${Lg}`};class L0{constructor(t,e={},s,i){this.shouldThrowOnError=!1;const r=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),e),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return V(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}createBucket(t){return V(this,arguments,void 0,function*(e,s={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return V(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}class N0{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),e),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);const s=e.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield nr(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}const rc={"X-Client-Info":`storage-js/${Lg}`,"Content-Type":"application/json"};class jg extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function je(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class ma extends jg{constructor(t,e,s){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class j0 extends jg{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}}var Hu;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hu||(Hu={}));const oc=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...e)):t=fetch,(...e)=>t(...e)},$0=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Uu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),F0=(n,t,e)=>V(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){const i=n.status||500,r=n;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new ma(Uu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ma(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ma(a,i,o))}}else t(new j0(Uu(n),n))}),B0=(n,t,e,s)=>{const i={method:n,headers:t?.headers||{}};return s?($0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),e)):i};function W0(n,t,e,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,B0(t,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>F0(l,a,s))})})}function $e(n,t,e,s,i){return V(this,void 0,void 0,function*(){return W0(n,"POST",t,s,i,e)})}class V0{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rc),e),this.fetch=oc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getIndex(t,e){return V(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return V(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}}class H0{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rc),e),this.fetch=oc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $e(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}}class U0{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rc),e),this.fetch=oc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield $e(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}}class z0 extends U0{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new q0(this.url,this.headers,t,this.fetch)}}class q0 extends V0{constructor(t,e,s,i){super(t,e,i),this.vectorBucketName=s}createIndex(t){const e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Y0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Y0 extends H0{constructor(t,e,s,i,r){super(t,e,r),this.vectorBucketName=s,this.indexName=i}putVectors(t){const e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class K0 extends L0{constructor(t,e={},s,i){super(t,e,s,i)}from(t){return new I0(this.url,this.headers,t,this.fetch)}get vectors(){return new z0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new N0(this.url+"/iceberg",this.headers,this.fetch)}}const G0="2.76.1";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const J0={"X-Client-Info":`supabase-js-${Ci}/${G0}`},X0={headers:J0},Q0={schema:"public"},Z0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tw={},ew=n=>{let t;return n?t=n:typeof fetch>"u"?t=Eg:t=fetch,(...e)=>t(...e)},nw=()=>typeof Headers>"u"?Og:Headers,sw=(n,t,e)=>{const s=ew(e),i=nw();return async(r,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:n;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function iw(n){return n.endsWith("/")?n:n+"/"}function rw(n,t){var e,s;const{db:i,auth:r,realtime:o,global:a}=n,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(e=h?.headers)!==null&&e!==void 0?e:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}function ow(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $g="2.76.1",Vs=30*1e3,hl=3,ba=hl*Vs,aw="http://localhost:9999",lw="supabase.auth.token",cw={"X-Client-Info":`gotrue-js/${$g}`},dl="X-Supabase-Api-Version",Fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hw=600*1e3;class sr extends Error{constructor(t,e,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=s}}function Y(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class dw extends sr{constructor(t,e,s){super(t,e,s),this.name="AuthApiError",this.status=e,this.code=s}}function fw(n){return Y(n)&&n.name==="AuthApiError"}class bs extends sr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class ts extends sr{constructor(t,e,s,i){super(t,s,i),this.name=e,this.status=s}}class Bn extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gw(n){return Y(n)&&n.name==="AuthSessionMissingError"}class Ms extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ar extends ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mr extends ts{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pw(n){return Y(n)&&n.name==="AuthImplicitGrantRedirectError"}class zu extends ts{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fl extends ts{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function ya(n){return Y(n)&&n.name==="AuthRetryableFetchError"}class qu extends ts{constructor(t,e,s){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=s}}class gl extends ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yu=` 	
\r=`.split(""),mw=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Yu.length;t+=1)n[Yu[t].charCodeAt(0)]=-2;for(let t=0;t<co.length;t+=1)n[co[t].charCodeAt(0)]=t;return n})();function Ku(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;e(co[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;e(co[s]),t.queuedBits-=6}}function Bg(n,t,e){const s=mw[n];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Gu(n){const t=[],e=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{_w(o,s,e)};for(let o=0;o<n.length;o+=1)Bg(n.charCodeAt(o),i,r);return t.join("")}function bw(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function yw(n,t){for(let e=0;e<n.length;e+=1){let s=n.charCodeAt(e);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}bw(s,t)}}function _w(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Xs(n){const t=[],e={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)Bg(n.charCodeAt(i),e,s);return new Uint8Array(t)}function ww(n){const t=[];return yw(n,e=>t.push(e)),new Uint8Array(t)}function _s(n){const t=[],e={queue:0,queuedBits:0},s=i=>{t.push(i)};return n.forEach(i=>Ku(i,e,s)),Ku(null,e,s),t.join("")}function vw(n){return Math.round(Date.now()/1e3)+n}function xw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const Ie=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},Wg=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function kw(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return e.searchParams.forEach((s,i)=>{t[i]=s}),t}const Vg=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...e)):t=fetch,(...e)=>t(...e)},Sw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Hs=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},os=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},$n=async(n,t)=>{await n.removeItem(t)};class Bo{constructor(){this.promise=new Bo.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Bo.promiseConstructor=Promise;function _a(n){const t=n.split(".");if(t.length!==3)throw new gl("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!uw.test(t[s]))throw new gl("JWT not in base64url format");return{header:JSON.parse(Gu(t[0])),payload:JSON.parse(Gu(t[1])),signature:Xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ew(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Ow(n,t){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!t(r,null,o)){s(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function Tw(n){return("0"+n.toString(16)).substr(-2)}function Pw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=e.length;let i="";for(let r=0;r<56;r++)i+=e.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,Tw).join("")}async function Cw(n){const e=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function Aw(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await Cw(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(n,t,e=!1){const s=Pw();let i=s;e&&(i+="/PASSWORD_RECOVERY"),await Hs(n,`${t}-code-verifier`,i);const r=await Aw(s);return[r,s===r?"plain":"s256"]}const Mw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dw(n){const t=n.headers.get(dl);if(!t||!t.match(Mw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rw(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function Iw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(n){if(!Lw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wa(){const n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const s=e.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ju(n){return JSON.parse(JSON.stringify(n))}const ds=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Nw=[502,503,504];async function Xu(n){var t;if(!Sw(n))throw new fl(ds(n),0);if(Nw.includes(n.status))throw new fl(ds(n),n.status);let e;try{e=await n.json()}catch(r){throw new bs(ds(r),r)}let s;const i=Dw(n);if(i&&i.getTime()>=Fg["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?s=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(s=e.error_code),s){if(s==="weak_password")throw new qu(ds(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Bn}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new qu(ds(e),n.status,e.weak_password.reasons);throw new dw(ds(e),n.status||500,s)}const jw=(n,t,e,s)=>{const i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),e))};async function et(n,t,e,s){var i;const r=Object.assign({},s?.headers);r[dl]||(r[dl]=Fg["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $w(n,t,e+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function $w(n,t,e,s,i,r){const o=jw(t,s,i,r);let a;try{a=await n(e,Object.assign({},o))}catch(l){throw console.error(l),new fl(ds(l),0)}if(a.ok||await Xu(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Xu(l)}}function Ue(n){var t;let e=null;Ww(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=vw(n.expires_in)));const s=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:s},error:null}}function Qu(n){const t=Ue(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,s)=>e&&typeof s=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Un(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Fw(n){return{data:n,error:null}}function Bw(n){const{action_link:t,email_otp:e,hashed_token:s,redirect_to:i,verification_type:r}=n,o=ci(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zu(n){return n}function Ww(n){return n.access_token&&n.refresh_token&&n.expires_in}const va=["global","local","others"];class Vw{constructor({url:t="",headers:e={},fetch:s}){this.url=t,this.headers=e,this.fetch=Vg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=va[0]){if(va.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${va.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,e={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:e}=t,s=ci(t,["options"]),i=Object.assign(Object.assign({},s),e);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bw,redirectTo:e?.redirectTo})}catch(e){if(Y(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Un})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Zu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rs(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Un})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Rs(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,e=!1){Rs(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Rs(t.userId);try{const{data:e,error:s}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:s}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Rs(t.userId),Rs(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Zu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}}function th(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}const Is={debug:!!(globalThis&&Wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hw extends Hg{}async function Uw(n,t,e){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await e()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Hw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Is.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ug(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function qw(n){return parseInt(n,16)}function Yw(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Kw(n){var t;const{chainId:e,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const f=Ug(n.address),p=u?`${u}://${s}`:s,g=n.statement?`${n.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${e}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${m}
${b}`}class Zt extends Error{constructor({message:t,code:e,cause:s,name:i}){var r;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=e}}class uo extends Zt{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function Gw({error:n,options:t}){var e,s,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=r.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Zt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(zg(o)){if(r.rp.id!==o)return new Zt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Jw({error:n,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Zt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(zg(s)){if(e.rpId!==s)return new Zt({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Xw{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Qw=new Xw;function Zw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:e,excludeCredentials:s}=n,i=ci(n,["challenge","user","excludeCredentials"]),r=Xs(t).buffer,o=Object.assign(Object.assign({},e),{id:Xs(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Xs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function tv(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:e}=n,s=ci(n,["challenge","allowCredentials"]),i=Xs(t).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(e&&e.length>0){r.allowCredentials=new Array(e.length);for(let o=0;o<e.length;o++){const a=e[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Xs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function ev(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n;return{id:n.id,rawId:n.id,response:{attestationObject:_s(new Uint8Array(n.response.attestationObject)),clientDataJSON:_s(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nv(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const e=n,s=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:_s(new Uint8Array(i.authenticatorData)),clientDataJSON:_s(new Uint8Array(i.clientDataJSON)),signature:_s(new Uint8Array(i.signature)),userHandle:i.userHandle?_s(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function eh(){var n,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function sv(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",t)}:{data:null,error:new uo("Empty credential response",t)}}catch(t){return{data:null,error:Gw({error:t,options:n})}}}async function iv(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",t)}:{data:null,error:new uo("Empty credential response",t)}}catch(t){return{data:null,error:Jw({error:t,options:n})}}}const rv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ov={userVerification:"preferred",hints:["security-key"]};function ho(...n){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of n)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(e(o))s[r]=o;else if(t(o)){const a=s[r];t(a)?s[r]=ho(a,o):s[r]=ho(o)}else s[r]=o}return s}function av(n,t){return ho(rv,n,t||{})}function lv(n,t){return ho(ov,n,t||{})}class cv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!o)return{data:null,error:a};const l=i??Qw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=av(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await sv({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=lv(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await iv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:e,webauthn:s}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!e)return{data:null,error:new sr("rpId is required for WebAuthn authentication")};try{if(!eh())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:e,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!e)return{data:null,error:new sr("rpId is required for WebAuthn registration")};try{if(!eh())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:e,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:e,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in register",o)}}}}zw();const uv={url:aw,storageKey:lw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nh(n,t,e){return await e()}const Ls={};class ir{get jwks(){var t,e;return(e=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{cachedAt:t})}constructor(t){var e,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ir.nextInstanceID,ir.nextInstanceID+=1,this.instanceID>0&&Ie()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},uv),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Vw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vg(i.fetch),this.lock=i.lock||nh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ie()&&(!((e=globalThis?.navigator)===null||e===void 0)&&e.locks)?this.lock=Uw:this.lock=nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cv(this)},this.persistSession?(i.storage?this.storage=i.storage:Wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=th(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=th(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$g}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=kw(window.location.href);let s="none";if(this._isImplicitGrantCallback(e)?s="implicit":await this._isPKCECallback(e)&&(s="pkce"),Ie()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(e,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),pw(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Y(e)?{error:e}:{error:new bs("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,s,i;try{const r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ue}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var e,s,i;try{let r;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ds(this.storage,this.storageKey)),r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(e=d?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ue})}else if("phone"in t){const{phone:u,password:h,options:d}=t;r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ue})}else throw new Ar("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let e;if("email"in t){const{email:r,password:o,options:a}=t;e=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Qu})}else if("phone"in t){const{phone:r,password:o,options:a}=t;e=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Qu})}else throw new Ar("You must provide either an email or phone number and a password");const{data:s,error:i}=e;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ms}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,s,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,s,i,r,o,a,l,c,u,h,d;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:g,wallet:m,statement:b,options:y}=t;let w;if(Ie())if(typeof m=="object")w=m;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")w=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const x=new URL((e=y?.url)!==null&&e!==void 0?e:window.location.href),k=await w.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Ug(k[0]);let O=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!O){const $=await w.request({method:"eth_chainId"});O=qw($)}const D={domain:x.host,address:E,statement:b,uri:x.href,version:"1",chainId:O,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Kw(D),p=await w.request({method:"personal_sign",params:[Yw(f),E]})}try{const{data:g,error:m}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ue});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ms}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(Y(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var e,s,i,r,o,a,l,c,u,h,d,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:b,statement:y,options:w}=t;let x;if(Ie())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const k=new URL((e=w?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)p=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:m,error:b}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:_s(g)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ue});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ms}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(Y(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const e=await os(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(e??"").split("/");try{const{data:r,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ue});if(await $n(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(Y(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:e,provider:s,token:i,access_token:r,nonce:o}=t,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Ue}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ms}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,s,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ds(this.storage,this.storageKey));const{error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(e=l?.data)!==null&&e!==void 0?e:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Ar("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var e,s;try{let i,r;"options"in t&&(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo,r=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Ue});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ds(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Fw})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:s}=t;if(s)throw s;if(!e)throw new Bn;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:r}=t,{error:o}=await et(this.fetch,"POST",e,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:r}=t,{data:o,error:a}=await et(this.fetch,"POST",e,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Ar("You must provide either an email or phone number and a type")}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await e()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=e();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ba:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await os(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=wa()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):await this._useSession(async e=>{var s,i,r;const{data:o,error:a}=e;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Un})})}catch(e){if(Y(e))return gw(e)&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Bn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ds(this.storage,this.storageKey));const{data:c,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Un});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const e=Date.now()/1e3;let s=e,i=!0,r=null;const{payload:o}=_a(t.access_token);if(o.exp&&(s=o.exp,i=s<=e),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-e,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(e){if(Y(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var s;if(!t){const{data:o,error:a}=e;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Bn;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Y(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!Ie())throw new Mr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new zu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mr("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zu("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new Mr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:g,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(Y(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var s;const{data:i,error:r}=e;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(fw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=xw(),s={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async e=>{var s,i;try{const{data:{session:r},error:o}=e;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,e={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ds(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:e,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var e;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ie()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(Y(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async linkIdentityIdToken(t){return await this._useSession(async e=>{var s;try{const{error:i,data:{session:r}}=e;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ue}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ms}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async e=>{var s,i;const{data:r,error:o}=e;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const s=Date.now();return await Ow(async i=>(i>0&&await Ew(200*Math.pow(2,i-1)),this._debug(e,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ue})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ya(r)&&Date.now()+o-s<Vs})}catch(s){if(this._debug(e,"error",s),Y(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",s),Ie()&&!e.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await os(this.storage,this.storageKey);if(i&&this.userStorage){let o=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Hs(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:wa()}else if(i&&!i.user&&!i.user){const o=await os(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await $n(this.storage,this.storageKey+"-user"),await Hs(this.storage,this.storageKey,i)):i.user=wa()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ba;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${ba}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ya(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var e,s;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Bo;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Bn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),Y(r)){const o={data:null,error:r};return ya(r)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:e});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,e)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),s=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&e.user&&await Hs(this.userStorage,this.storageKey+"-user",{user:e.user});const i=Object.assign({},e);delete i.user;const r=Ju(i);await Hs(this.storage,this.storageKey,r)}else{const i=Ju(e);await Hs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await $n(this.storage,this.storageKey),await $n(this.storage,this.storageKey+"-code-verifier"),await $n(this.storage,this.storageKey+"-user"),this.userStorage&&await $n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${hl} ticks`),i<=hl&&await this._callRefreshToken(s.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,s){const i=[`provider=${encodeURIComponent(e)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var s;const{data:i,error:r}=e;return r?{data:null,error:r}:await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var s,i;const{data:r,error:o}=e;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var s;const{data:i,error:r}=e;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ev(t.webauthn.credential_response):nv(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(e){if(Y(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var s;const{data:i,error:r}=e;if(r)return{data:null,error:r};const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(Y(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){var t;const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=e?.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,s;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_a(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(e=i.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,e={keys:[]}){let s=e.keys.find(a=>a.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+hw>i)return s;const{data:r,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,e={}){try{let s=t;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=_a(s);e?.allowExpired||Rw(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=Iw(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,ww(`${a}.${l}`)))throw new gl("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}ir.nextInstanceID=0;const hv=ir;class dv extends hv{constructor(t){super(t)}}class fv{constructor(t,e,s){var i,r,o;this.supabaseUrl=t,this.supabaseKey=e;const a=ow(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Q0,realtime:tw,auth:Object.assign(Object.assign({},Z0),{storageKey:l}),global:X0},u=rw(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=sw(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new a0(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new K0(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new J_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,e;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(e=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dv({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new S0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,s)=>{this._handleTokenChanged(e,"CLIENT",s?.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gv=(n,t,e)=>new fv(n,t,e);function pv(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mv="https://gkyqqlkxpfskmtryfmyp.supabase.co",bv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",Ht=gv(mv,bv),yv=mt({__name:"App",setup(n){z("/home");const t=li(),e=j_();async function s(){e.name==="SignIn"||e.name==="SignUp"||(await Ht.auth.getUser()).data.user||t.push({name:"SignIn"})}return s(),(i,r)=>(j(),Q(Ot,null,[H(Kt(Qf)),H(V_,{active:Kt(e).name||""},null,8,["active"])],64))}}),_v={key:0,class:"bubbleError"},wv=mt({__name:"ErrorBubble",props:["errorMsg"],setup(n){return(t,e)=>n.errorMsg?(j(),Q("div",_v,[e[0]||(e[0]=P("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),P("p",null,Tt(n.errorMsg),1)])):gt("",!0)}}),qg=Rt(wv,[["__scopeId","data-v-26b1daef"]]),vv={},xv={class:"loading"};function kv(n,t){return j(),Q("div",xv,[...t[0]||(t[0]=[P("i",{class:"fa-solid fa-spinner"},null,-1)])])}const di=Rt(vv,[["render",kv],["__scopeId","data-v-72d81299"]]),Sv=["disabled"],Ev=mt({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n,s=t;return(i,r)=>(j(),Q("button",{class:ge(["bubbleButton",{red:e.red},{fullWidth:e.fullWidth}]),disabled:n.loading,onClick:r[0]||(r[0]=o=>s("click"))},[pf(i.$slots,"default",{},void 0),jt(" "+Tt(n.label||""),1)],10,Sv))}}),Dn=Rt(Ev,[["__scopeId","data-v-2fc2d1c3"]]),Ov={class:"margins"},Tv={key:0},Pv=mt({__name:"SignInView",setup(n){const t=li(),e=z(""),s=z(""),i=z(null),r=z(!0),o=z(!1);async function a(){try{r.value=!0,i.value=null,o.value=!1;const{data:c,error:u}=await Ht.auth.signInWithPassword({email:e.value,password:s.value});if(u)throw u;o.value=!0,t.push({name:"Home"})}catch(c){i.value=c.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function l(){if(!(await Ht.auth.getUser()).data.user){r.value=!1;return}t.push({name:"Home"})}return l(),(c,u)=>(j(),Q(Ot,null,[r.value?(j(),Ft(di,{key:0})):gt("",!0),P("div",Ov,[u[4]||(u[4]=P("h2",null,"Sign In",-1)),u[5]||(u[5]=P("h3",null,"Email",-1)),ke(P("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>e.value=h),type:"email",placeholder:"example@example.com"},null,512),[[Se,e.value]]),u[6]||(u[6]=P("h3",null,"Password",-1)),ke(P("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[Se,s.value]]),H(Dn,{loading:r.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),P("p",null,[H(Kt(Xl),{to:{name:"SignUp"}},{default:Je(()=>[...u[3]||(u[3]=[jt("Don't have an account? Sign Up",-1)])]),_:1})]),H(qg,{errorMsg:i.value},null,8,["errorMsg"]),o.value?(j(),Q("div",Tv,"You are now signed in.")):gt("",!0)])],64))}}),Cv=Rt(Pv,[["__scopeId","data-v-94565b56"]]),Av={class:"margins"},Mv=["disabled"],Dv={__name:"SignUpView",setup(n){const t=li(),e=z(""),s=z(""),i=z(""),r=z(!1),o=z("");async function a(){try{r.value=!0;const{error:l}=await Ht.auth.signUp({email:s.value,password:i.value,options:{data:{display_name:e.value}}});if(l)throw l;t.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{r.value=!1}}return(l,c)=>(j(),Q(Ot,null,[r.value?(j(),Ft(di,{key:0})):gt("",!0),P("div",Av,[c[3]||(c[3]=P("h2",null,"Sign Up",-1)),c[4]||(c[4]=P("h3",null,"Display name",-1)),ke(P("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[Se,e.value]]),c[5]||(c[5]=P("h3",null,"Email",-1)),ke(P("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[Se,s.value]]),c[6]||(c[6]=P("h3",null,"Password",-1)),ke(P("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[Se,i.value]]),P("button",{class:"bubbleButton",disabled:r.value,onClick:a},"Sign Up",8,Mv),H(qg,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},Rv=Rt(Dv,[["__scopeId","data-v-f3ba868a"]]),Iv={},Lv={class:"cont"};function Nv(n,t){return j(),Q("div",Lv,[...t[0]||(t[0]=[P("i",{class:"fa-solid fa-envelope"},null,-1),P("h1",null,"Please check your email to finalise your account.",-1),P("h3",null,"Follow the link, then login using your email and password.",-1)])])}const jv=Rt(Iv,[["render",Nv],["__scopeId","data-v-ab9688cb"]]),$v={key:0,class:"item"},yi=mt({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(n){return(t,e)=>n.label?(j(),Q("div",$v,[n.icon?(j(),Q("i",{key:0,class:ge(n.icon)},null,2)):gt("",!0),jt(" "+Tt(n.label),1)])):gt("",!0)}}),Fv=mt({__name:"IconButton",props:{icon:{}},emits:["click"],setup(n,{emit:t}){return(e,s)=>(j(),Q("button",{onClick:s[0]||(s[0]=i=>e.$emit("click")),class:"icon-button"},[P("i",{class:ge(n.icon)},null,2)]))}}),Bv=Rt(Fv,[["__scopeId","data-v-667d6651"]]),Wv={class:"popupOverlay"},Vv={key:0,class:"fa-solid fa-triangle-exclamation",style:{color:"var(--errorBorder)","margin-right":"10px"}},Hv={class:"buttonContainer"},Uv=mt({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean},error:{type:Boolean}},emits:["confirm","cancel"],setup(n,{emit:t}){return(e,s)=>(j(),Q("div",Wv,[P("div",{class:ge(["popupContainer softBubble marginsWidth",{error:n.error}])},[P("h2",null,[n.error?(j(),Q("i",Vv)):gt("",!0),jt(" "+Tt(n.title),1)]),P("p",null,[jt(Tt(n.message)+" ",1),pf(e.$slots,"default",{},void 0)]),P("div",Hv,[H(Dn,{label:n.confirmText,red:n.confirmRed||!1||n.error||!1,loading:!1,onClick:s[0]||(s[0]=i=>e.$emit("confirm"))},null,8,["label","red"]),n.cancelText?(j(),Ft(Dn,{key:0,label:n.cancelText,red:n.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>e.$emit("cancel"))},null,8,["label","red"])):gt("",!0)])],2)]))}}),fi=Rt(Uv,[["__scopeId","data-v-82f8d070"]]),zv=mt({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(t,e)=>n.visible?(j(),Ft(fi,{key:0,title:`Delete Workout: ${n.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:e[0]||(e[0]=s=>t.$emit("confirm")),onCancel:e[1]||(e[1]=s=>t.$emit("cancel"))},null,8,["title"])):gt("",!0)}}),qv={class:"thumbnail"},Yv={class:"greyed"},Kv={class:"items"},Gv={id:"deleteContainer"},Jv=mt({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(n,{emit:t}){li();const e=n,s=t,i=z(!1),r=z(!1);async function o(){i.value=!0,await e.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=gb("RouterLink");return j(),Q(Ot,null,[i.value?(j(),Ft(di,{key:0})):gt("",!0),H(zv,{visible:r.value,workout:n.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),P("div",qv,[H(c,{class:"link",to:`/viewWorkout/${n.workout.getId()}`},{default:Je(()=>[P("h3",null,[jt(Tt(n.workout.getTitle())+" ",1),P("span",Yv,Tt(n.workout.getDateString()),1)])]),_:1},8,["to"]),P("div",Kv,[H(yi,{icon:"fa-solid fa-dumbbell",label:n.workout.getVolumeString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-clock",label:n.workout.getDurationString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-list",label:n.workout.countSetsString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-fire",label:n.workout.getEnergyString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-heart",label:n.workout.getHeartRateString()},null,8,["label"])]),P("div",Gv,[H(Bv,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),Xv=Rt(Jv,[["__scopeId","data-v-6d8b0740"]]),Qv={},Zv={class:"container"};function tx(n,t){return j(),Q("div",Zv,[...t[0]||(t[0]=[P("i",{class:"fas fa-dumbbell fa-8x"},null,-1),P("h2",null,"No Workouts Found",-1),P("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const ex=Rt(Qv,[["render",tx],["__scopeId","data-v-56405e8b"]]);class nx{title;workout_id;start_time;end_time;energy;heart_rate;volume;set_count;constructor(t){this.title=t.title,this.workout_id=t.workout_id,this.start_time=t.start_time,this.end_time=t.end_time,this.energy=t.energy,this.heart_rate=t.heart_rate,this.volume=t.volume,this.set_count=t.set_count}getDuration(){const t=new Date(this.start_time).getTime();return(new Date(this.end_time).getTime()-t)/1e3}getDurationString(){const t=this.getDuration(),e=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return e>0&&r.push(`${e}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getTitle(){return this.title}getDateString(){return new Date(this.start_time).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}getWorkoutId(){return this.workout_id}getStartTime(){return new Date(this.start_time)}getEndTime(){return new Date(this.end_time)}getEnergy(){return this.energy}getEnergyString(){return this.energy!==null?`${this.energy} kj`:null}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate!==null?`${this.heart_rate} bpm`:null}getVolume(){return this.volume}getVolumeString(){return this.volume!==null?`${this.volume} kg`:null}getId(){return this.workout_id}countSets(){return this.set_count}countSetsString(){return this.set_count!==null?`${this.set_count} sets`:null}}let xa=class pl{reps=0;weight=0;notes="";id=null;exercise;static async create(t,e){if(t.id){const{data:s,error:i}=await Ht.from("sets").select("*").eq("id",t.id).single();if(i)throw new Error(`Failed to fetch set from DB: ${i.message}`);return new pl(s,e)}return new pl(t,e)}constructor(t,e){this.exercise=e,this.reps=t.reps||0,this.weight=t.weight||0,this.notes=t.notes||"",this.id=t.id||null,this.createNewId()}async initialDBCheck(){this.id!==null&&await this.getFromDB(),this.createNewId()}async getFromDB(){if(this.id===null)return null;const{data:t,error:e}=await Ht.from("sets").select("*").eq("id",this.id).single();if(e)throw new Error(`Failed to fetch set from DB: ${e.message}`);return this.reps=t.reps,this.weight=t.weight,this.notes=t.notes,t}async deleteFromDB(){if(this.id===null)return;const{error:t}=await Ht.from("sets").delete().eq("id",this.id);if(t)throw new Error(`Failed to delete set from DB: ${t.message}`)}async waitForExercise(){for(;this.exercise===null;)await new Promise(t=>setTimeout(t,50))}async getExercise(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Exercise is not set for this Set.");return this.exercise}async createNewId(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Cannot create set without associated exercise.");const t=await this.exercise.getWorkoutId(),e=await this.exercise.getId(),{data:s,error:i}=await Ht.from("sets").insert({exercise_id:e,workout_id:t,reps:this.reps,weight:this.weight,notes:this.notes}).select("id").single();if(i)throw new Error(`Failed to create new set ID: ${i.message}`);return this.id=s.id,this.id}async updateDB(){if(this.id===null){await this.createNewId();return}const{error:t}=await Ht.from("sets").update({reps:this.reps,weight:this.weight,notes:this.notes,exercise_id:this.exercise?await this.exercise.getId():""}).eq("id",this.id);if(t)throw new Error(`Failed to update set in DB: ${t.message}`);const s=(await this.getExercise()).getWorkout();s&&s.changeMade()}deserialize(){return{id:this.id}}getReps(){return this.reps}getWeight(){return this.weight}getNotes(){return this.notes}setReps(t){this.reps=t}setWeight(t){this.weight=t}setNotes(t){this.notes=t}setExercise(t){this.exercise=t}getId(){return this.id}};class fo{name;sets;notes;workout;id;constructor(t,e,s=[]){this.name=t.exercise,this.workout=e,this.notes=t.notes,this.id=t.id;for(const i of s)i.setExercise(this);this.sets=s,this.getId()}static async create(t,e){const s=[];for(const i of t.sets){const r=await xa.create(i,null);s.push(r)}return new fo(t,e,s)}async getId(){if(this.id)return this.id;const{data:t,error:e}=await Ht.from("exercises").select().eq("name",this.name.toLowerCase());if(e)throw new Error(`Failed to fetch exercise ID: ${e.message}`);return t===null||t.length===0?await this.createNewId():(this.id=t[0].id,this.name=t[0].name,this.id)}async createNewIdIfNeeded(){const{data:t,error:e}=await Ht.from("exercises").select().eq("name",this.name);if(e)throw new Error(`Failed to fetch exercise ID: ${e.message}`);return t===null||t.length===0?await this.createNewId():(this.id=t[0].id,this.name=t[0].name,this.id)}async createNewId(){const{data:t,error:e}=await Ht.from("exercises").insert([{name:this.name.toLowerCase()}]).select("id").single();if(e)throw new Error(`Failed to create new exercise ID: ${e.message}`);return this.id=t.id,this.id}deserialize(){return{exercise:this.name,sets:this.sets.map(t=>t.deserialize()),notes:this.notes,id:this.id}}addNewSet(){if(this.sets.length===0){const i=new xa({reps:0,weight:0,unit:"kg",notes:"",id:null},this);this.sets.push(i),i.createNewId(),this.workout&&this.workout.changeMade();return}const t=this.sets[this.sets.length-1],e=new xa({reps:t.getReps(),weight:t.getWeight(),unit:"kg",notes:t.getNotes(),id:null},this);this.sets.push(e),e.createNewId(),this.workout&&this.workout.changeMade()}removeSet(t){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");const e=this.sets[t];this.sets.splice(t,1),e.deleteFromDB(),this.workout&&this.workout.changeMade()}removeFromWorkout(){if(!this.workout)return;if(this.workout.getExercises().indexOf(this)===-1)throw new Error("Exercise not found in workout")}updateSet(t,e){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");const s=this.sets[t];s.setReps(e.reps),s.setWeight(e.weight),s.setNotes(e.notes),this.workout&&this.workout.changeMade()}setName(t){this.name=t,this.createNewId(),this.workout&&this.workout.changeMade()}setWorkout(t){this.workout=t}setNotes(t){this.notes=t,this.workout&&this.workout.changeMade()}reorderUp(){if(!this.workout)return;const t=this.workout.getExercises(),e=t.indexOf(this);e<=0||([t[e-1],t[e]]=[t[e],t[e-1]],this.workout.setExercises(t))}reorderDown(){if(!this.workout)return;const t=this.workout.getExercises(),e=t.indexOf(this);e===-1||e>=t.length-1||([t[e+1],t[e]]=[t[e],t[e+1]],this.workout.setExercises(t))}getVolume(){let t=0;for(const e of this.sets){let s=e.getReps()*e.getWeight();t+=s}return t}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}async waitForWorkout(){for(;!this.workout;)await new Promise(t=>setTimeout(t,50))}async getWorkoutId(){return await this.waitForWorkout(),this.workout?this.workout.getId():""}getWorkout(){return this.workout}}class lt{static addPeriod(t,e,s){const i=new Date(t);switch(e){case"day":i.setDate(i.getDate()+s);break;case"week":i.setDate(i.getDate()+s*7);break;case"month":i.setMonth(i.getMonth()+s);break;case"year":i.setFullYear(i.getFullYear()+s);break}return i}static getStartOfTerm(t,e){switch(e){case"month":const s=new Date;return s.setMonth(s.getMonth()-t),lt.getStartOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-t),lt.getStartOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-t*7),lt.getStartOfWeek(r);default:return null}}static getEndOfTerm(t,e){switch(e){case"month":const s=new Date;return s.setMonth(s.getMonth()-t),lt.getEndOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-t),lt.getEndOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-t*7),lt.getEndOfWeek(r);default:return null}}static getStartOfWeek(t){t=new Date(t);var e=t.getDay(),s=t.getDate()-e+(e==0?-6:1);return t.setDate(s),t.setHours(0,0,0,0),t}static getEndOfWeek(t){const e=lt.getStartOfWeek(t),s=new Date(e);return s.setDate(e.getDate()+6),s.setHours(23,59,59,999),s}static getStartOfPreviousWeek(t){const e=lt.getStartOfWeek(t),s=new Date(e);return s.setDate(e.getDate()-7),s}static getStartOfMonth(t){const e=new Date(t);return e.setDate(1),e.setHours(0,0,0,0),e}static getEndOfMonth(t){const e=t.getFullYear(),s=t.getMonth();return new Date(e,s+1,0,23,59,59,999)}static getStartOfPreviousMonth(t){const e=lt.getStartOfMonth(t),s=new Date(e);return s.setMonth(e.getMonth()-1),s}static getStartOfYear(t){const e=new Date(t);return e.setMonth(0),e.setDate(1),e.setHours(0,0,0,0),e}static getEndOfYear(t){const e=t.getFullYear();return new Date(e,11,31,23,59,59,999)}static getStartOfPreviousYear(t){const e=lt.getStartOfYear(t),s=new Date(e);return s.setFullYear(e.getFullYear()-1),s}static getStart(t,e){switch(e){case"week":return lt.getStartOfWeek(t);case"month":return lt.getStartOfMonth(t);case"year":return lt.getStartOfYear(t);default:return t}}static getEnd(t,e){switch(e){case"week":return lt.getEndOfWeek(t);case"month":return lt.getEndOfMonth(t);case"year":return lt.getEndOfYear(t);default:return t}}static getStartOfPrevious(t,e){switch(e){case"week":return lt.getStartOfPreviousWeek(t);case"month":return lt.getStartOfPreviousMonth(t);case"year":return lt.getStartOfPreviousYear(t);default:return t}}static getDurationString(t){if(t<=0)return null;const e=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return e>0&&r.push(`${e}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}static getPeriodString(t,e){const s=new Date,i=lt.addPeriod(lt.getStart(s,t),t,-e),r=lt.addPeriod(lt.getEnd(s,t),t,-e);switch(t){case"month":return`
                    ${i.toLocaleString("default",{month:"long"})} 
                    ${i.getFullYear()}
                `;case"year":return`${i.getFullYear()}`;case"week":return`
                    ${i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}  
                    ${r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}
                `;default:return""}}}class un{static stringifyItem(t,e){switch(e){case"time":return lt.getDurationString(t)||"0 s";case"workouts":return t.toString()+(t===1?" workout":" workouts");case"energy":return un.commaNumber(t)+" kj";case"volume":return un.commaNumber(t)+" kg";default:return un.commaNumber(t)}}static fullNameForType(t){switch(t){case"time":return"Workout time";case"workouts":return"Number of workouts";case"energy":return"Energy burned";case"volume":return"Volume";default:return t}}static commaNumber(t){let e="";for(let s=0;s<t.toString().length;s++){e+=t.toString()[s];const i=t.toString().length-s-1;i%3===0&&i!==0&&(e+=",")}return e}}class Wo{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;constructor(t,e){this.title=t.title,this.workout_id=t.workout_id,this.start_time=new Date(t.start_time),this.end_time=new Date(t.end_time),this.created_at=new Date(t.created_at),this.notes=t.notes,this.energy=t.energy,this.heart_rate=t.heart_rate,this.exercises=e}static async create(t){const e=[];for(const i of t.exercises_full){const r=await fo.create(i,null);e.push(r)}const s=new Wo(t,e);for(const i of e)i.setWorkout(s);return s}async deleteWorkout(){const{data:t,error:e}=await Ht.from("workouts").delete().eq("workout_id",this.workout_id);e&&console.error("Failed to delete workout:",e)}changeMade(){this.unsavedChanges++,!this.saving&&this.saveChanges()}async saveChanges(){this.saving=!0;const t=this.unsavedChanges,{data:e,error:s}=await Ht.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(s&&console.error("Failed to save workout changes:",s),this.unsavedChanges-=t,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(t){if(t<0||t>=this.exercises.length)throw new Error("Index out of bounds");this.exercises.splice(t,1),this.changeMade()}addEmptyExercise(){const t={exercise:"New Exercise",sets:[],notes:"",id:null},e=new fo(t,this);this.exercises.push(e),this.changeMade()}setExercises(t){this.exercises=t,this.changeMade()}setHeartRate(t){this.heart_rate=t,this.changeMade()}setEnergy(t){this.energy=t,this.changeMade()}setTitle(t){this.title=t,this.changeMade()}setStartDate(t){this.start_time=t,this.changeMade()}setEndDate(t){this.end_time=t,this.changeMade()}deserialize(){const t=[],e=[];for(const s of this.exercises)t.push(s.deserialize()),e.push(s.getName());return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:t,exercises:e,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate,volume:this.getVolume(),set_count:this.countSets()}}savingInProgress(){return this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const t=this.getEnergy();return t===null?null:`${un.commaNumber(t)} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let t=0;for(const e of this.exercises)t+=e.getVolume();return t}getVolumeString(){const t=this.getVolume();return t===0?null:`${un.commaNumber(t)} kg`}countSets(){let t=0;for(const e of this.exercises)t+=e.countSets();return t}countSetsString(){const t=this.countSets();return t===0?null:`${t} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const t=this.getDuration();if(t<=0)return null;const e=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return e>0&&r.push(`${e}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return this.exercises.length}getItem(t){switch(t){case"workouts":return 1;case"time":return this.getDuration();case"energy":return this.getEnergy();case"volume":return this.getVolume();default:throw new Error(`Unknown item: ${t}`)}}}async function sx(){const n=await Ht.from("workouts").select(),t=[];for(const e of n.data||[])t.push(await Wo.create(e));return t.sort((e,s)=>s.getStartTime().getTime()-e.getStartTime().getTime()),t}async function ix(){const{data:n,error:t}=await Ht.from("workouts").select("title, workout_id, start_time, end_time, energy, heart_rate, volume, set_count");if(t)return console.error("Error fetching workouts info:",t),[];const e=[];for(const s of n||[])e.push(new nx(s));return e.sort((s,i)=>i.getStartTime().getTime()-s.getStartTime().getTime()),e}const rx={class:"viewArea"},ox={class:"thumbnailContainer margins"},ax=mt({__name:"HomeView",setup(n){const t=z([]),e=z(!0);Ln(async()=>{await s()});async function s(){t.value=await ix(),e.value=!1}return(i,r)=>(j(),Q(Ot,null,[e.value?(j(),Ft(di,{key:0})):gt("",!0),P("div",rx,[P("div",ox,[(j(!0),Q(Ot,null,Ro(t.value,o=>(j(),Ft(Xv,{key:o.getId(),workout:o,onReload:r[0]||(r[0]=a=>s())},null,8,["workout"]))),128))]),!e.value&&t.value.length===0?(j(),Ft(ex,{key:0})):gt("",!0)])],64))}}),lx=Rt(ax,[["__scopeId","data-v-6bb036d2"]]),cx={key:0,id:"urlsCount"},ux=mt({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(n){return(t,e)=>n.pageCount>0?(j(),Q("div",cx,[jt(" pages "+Tt(n.pageCount)+" ",1),H(Dn,{label:"Upload",loading:!1,onClick:e[0]||(e[0]=s=>t.$emit("uploadWorkoutData"))}),H(Dn,{label:"Retake",loading:!1,onClick:e[1]||(e[1]=s=>t.$emit("retakePhoto"))})])):gt("",!0)}}),hx=Rt(ux,[["__scopeId","data-v-0d77d51b"]]),ac=mt({__name:"ErrorPopup",props:{error:{}},emits:["close"],setup(n){return(t,e)=>n.error.shouldDisplay()?(j(),Ft(fi,{key:0,title:n.error.getTitle(),message:n.error.getMessage(),confirmText:"OK",error:!0,onConfirm:e[0]||(e[0]=s=>n.error.clearError())},null,8,["title","message"])):gt("",!0)}});class lc{title;message;display;constructor(){this.title="",this.message="",this.display=!1}setError(t,e){this.title=t,this.message=e,this.display=!0}clearError(){this.title="",this.message="",this.display=!1}getTitle(){return this.title}getMessage(){return this.message}shouldDisplay(){return this.display}}const dx={class:"viewArea"},fx=mt({__name:"UploadView",setup(n){const t=z(0),e=li(),s=z(null),i=z(null),r=z([]),o=z(0),a=z(null),l=z(new lc);Ln(async()=>{const g={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(g).then(m=>{a.value=m,s?s.value.srcObject=m:(l.value.setError("Error creating video feed","Video element not found"),console.error("Video element not found"))}).catch(m=>{l.value.setError("Error accessing camera",m.message),console.error("Error accessing camera: ",m)})}),gf(()=>{a.value&&a.value.getTracks().forEach(g=>g.stop())});const c=async()=>{if(!s.value||!i.value){console.error("Video or canvas element not found"),l.value.setError("Error capturing image","Video or canvas element not found");return}const{data:{user:g},error:m}=await Ht.auth.getUser();if(m||!g){console.error("User not authenticated"),l.value.setError("User not authenticated",m?.message||"No user found");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const b=i.value.getContext("2d");if(!b){l.value.setError("Error capturing image","Failed to get canvas context"),console.error("Failed to get canvas context");return}b.drawImage(s.value,0,0),i.value.toBlob(async y=>{if(!y){l.value.setError("Error capturing image","Failed to capture image blob"),console.error("Failed to capture image");return}const w=new File([y],`photo-${Date.now()}-${g.id}.jpg`,{type:"image/jpeg"}),{data:x,error:k}=await Ht.storage.from("workoutImage").upload(`photos/${g.id}/${w.name}`,w,{contentType:"image/jpeg",upsert:!1});if(k){l.value.setError("Error uploading image",k.message),console.error("Error uploading image: ",k);return}r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${x.path}`),o.value++},"image/jpeg",.8)};function u(g,m){let b=m?g.startTime:g.endTime;if(!b)return null;const y=new Date;return b.year||(b.year=y.getFullYear()),b.month||(b.month=y.getMonth()+1),b.day||(b.day=y.getDate()),b.hour||(b.hour=y.getHours()),b.minute||(b.minute=y.getMinutes()),new Date(b.year,b.month-1,b.day,b.hour,b.minute,0)}async function h(g){t.value++;const m=u(g,!0),b=u(g,!1);let y=[];for(const E of g.exercises||[])y.push(E.exercise);let w=g.energy&&g.energy.amount||null;w!=null&&g.energy.unit==="kJ"&&(w=w/4.184),w!=null&&(w=Math.round(w));const x=g.heart_rate||null,k=(await Ht.auth.getUser()).data.user?.id;return t.value--,{user_id:k,start_time:m?m.toISOString():null,end_time:b?b.toISOString():null,title:g.title||"unnamed workout",exercises_full:g.exercises||[],exercises:y,notes:g.notes||"",energy:w,heart_rate:x}}async function d(){const g=await p(r.value);if(!g){l.value.setError("Error generating workout data","No workout data generated. Please try again by clicking the upload button again."),console.error("No workout data generated");return}const{data:m,error:b}=await f(g);if(b){l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),console.error("Error uploading workout data: ",b);return}e.push({name:"Home"})}async function f(g){t.value++;const{data:m,error:b}=await Ht.from("workouts").insert([await h(g)]);return b?(console.error("Error uploading workout data: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),t.value--,{data:m,error:b}):(t.value--,{data:m,error:b})}async function p(g){t.value++;const{data:m,error:b}=await Ht.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:g}});return b?(console.error("Error invoking function: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),t.value--,""):(t.value--,m)}return(g,m)=>(j(),Q(Ot,null,[t.value>0?(j(),Ft(di,{key:0})):gt("",!0),H(ac,{error:l.value},null,8,["error"]),P("div",dx,[P("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),P("button",{class:"captureButton",onClick:m[0]||(m[0]=b=>c())}),H(hx,{pageCount:o.value,onUploadWorkoutData:m[1]||(m[1]=b=>d()),onRetakePhoto:m[2]||(m[2]=b=>{r.value.pop(),o.value--})},null,8,["pageCount"]),P("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)])],64))}}),gx=Rt(fx,[["__scopeId","data-v-54ae7180"]]),px={key:0,class:"overview-item"},mx={class:"overview-title"},bx={class:"overview-value"},yx=mt({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(n){return(t,e)=>n.value?(j(),Q("div",px,[P("p",mx,Tt(n.label),1),P("h1",bx,[P("i",{class:ge(n.icon+" overview-icon")},null,2),jt(Tt(n.value),1)])])):gt("",!0)}}),_i=Rt(yx,[["__scopeId","data-v-5430079f"]]),_x={class:"softBubble overview"},wx=mt({__name:"WorkoutOverview",props:{workout:{}},setup(n){return(t,e)=>(j(),Q("div",_x,[H(_i,{icon:"fa-solid fa-clock",label:"duration",value:n.workout.getDurationString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-dumbbell",label:"volume",value:n.workout.getVolumeString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-list",label:"sets",value:n.workout.countSets()},null,8,["value"]),H(_i,{icon:"fa-solid fa-fire",label:"energy",value:n.workout.getEnergyString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:n.workout.getHeartRateString()},null,8,["value"])]))}}),vx=Rt(wx,[["__scopeId","data-v-90dd851b"]]),xx={class:"inputs"},kx={class:"flexCol"},Sx=mt({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(n,{emit:t}){const e=z(0),s=z(0),i=z(""),r=n,o=t;function a(){r.set.setWeight(Number(e.value)),r.set.setReps(Number(s.value)),r.set.setNotes(i.value),r.set.updateDB(),o("cancel")}function l(){e.value=r.set.getWeight()||0,s.value=r.set.getReps()||0,i.value=r.set.getNotes()||""}return Ln(()=>{l()}),Ul(()=>{l()}),(c,u)=>(j(),Ft(fi,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:Je(()=>[P("div",xx,[ke(P("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>e.value=h),min:"0"},null,512),[[Se,e.value]]),u[6]||(u[6]=jt(" kg ",-1)),u[7]||(u[7]=P("i",{class:"fa-solid fa-xmark"},null,-1)),ke(P("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[Se,s.value]]),u[8]||(u[8]=jt(" reps ",-1))]),P("div",kx,[ke(P("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[Se,i.value]]),H(Dn,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:Je(()=>[...u[9]||(u[9]=[P("i",{class:"fa-solid fa-trash"},null,-1),jt(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),Ex=Rt(Sx,[["__scopeId","data-v-33f6dca8"]]),Ox={class:"setlabel"},Tx={class:"setdetails"},Px={key:0},Cx={key:1,class:"fa-solid fa-note-sticky noteIcon"},Ax=mt({__name:"SetContainer",props:{set:{},index:{},exercise:{}},setup(n){const t=z(!1);return(e,s)=>(j(),Q(Ot,null,[t.value?(j(),Ft(Ex,{key:0,set:n.set,exercise:n.exercise,index:n.index,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["set","exercise","index"])):gt("",!0),P("tr",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"setItem"},[P("td",Ox,Tt(n.index+1),1),P("td",Tx,[n.set.getWeight()!==null?(j(),Q("span",Px,[jt(Tt(n.set.getWeight())+" kg ",1),s[2]||(s[2]=P("i",{class:"fa-solid fa-xmark"},null,-1))])):gt("",!0),jt(" "+Tt(n.set.getReps())+" reps ",1),n.set.getNotes()!==""&&n.set.getNotes()!==null?(j(),Q("i",Cx)):gt("",!0)])])],64))}}),Mx=Rt(Ax,[["__scopeId","data-v-23d52368"]]),Dx=mt({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(t,e)=>n.visible?(j(),Ft(fi,{key:0,title:`Remove Exercise: ${n.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:e[0]||(e[0]=s=>t.$emit("confirm")),onCancel:e[1]||(e[1]=s=>t.$emit("cancel"))},null,8,["title"])):gt("",!0)}}),Rx={class:"inputs"},Ix=mt({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(n,{emit:t}){const e=z(""),s=z(""),i=z(!1),r=n,o=t;function a(){r.exercise.setName(e.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return Ln(()=>{e.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Ul(()=>{e.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(j(),Q(Ot,null,[H(fi,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:Je(()=>[P("div",Rx,[ke(P("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>e.value=h)},null,512),[[Se,e.value]]),ke(P("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[Se,s.value]])]),H(Dn,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:Je(()=>[...u[7]||(u[7]=[P("i",{class:"fa-solid fa-trash"},null,-1),jt(" Remove Exercise ",-1)])]),_:1})]),_:1}),H(Dx,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),Lx=Rt(Ix,[["__scopeId","data-v-66211c76"]]),Nx={class:"exerciseContainer softBubble"},jx={class:"exerciseTitle"},$x={key:0,class:"reorderHandles clickable"},Fx={class:"setsContainer"},Bx={key:0},Wx={key:1},Vx={colspan:"2"},Hx={class:"setLabel"},Ux={class:"setDetails"},zx=mt({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{}},setup(n){const t=z(!1);return(e,s)=>(j(),Q(Ot,null,[t.value?(j(),Ft(Lx,{key:0,exercise:n.exercise,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["exercise"])):gt("",!0),P("div",Nx,[P("h2",jx,[P("span",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"clickable"},[jt(Tt(n.exercise.getName())+" ",1),s[5]||(s[5]=P("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),n.index!==0?(j(),Q("div",$x,[P("i",{onClick:s[2]||(s[2]=i=>n.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):gt("",!0)]),P("table",Fx,[n.showSets?(j(),Q("thead",Bx,[...s[6]||(s[6]=[P("tr",null,[P("th",{class:"greyed",colspan:"1"},"set"),P("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):gt("",!0),n.showSets?(j(),Q("tbody",Wx,[(j(!0),Q(Ot,null,Ro(n.exercise.getSets(),(i,r)=>(j(),Ft(Mx,{key:r,index:r,set:i,exercise:n.exercise},null,8,["index","set","exercise"]))),128)),P("tr",null,[P("td",Vx,[P("button",{onClick:s[3]||(s[3]=i=>n.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[P("i",{class:"fa-solid fa-plus"},null,-1),jt("Add set",-1)])])])])])):gt("",!0),P("tfoot",null,[P("tr",null,[P("td",Hx,[s[8]||(s[8]=P("b",null,"sets:",-1)),jt(" "+Tt(n.exercise.countSets()),1)]),P("td",Ux,[s[9]||(s[9]=P("b",null,"volume:",-1)),jt(" "+Tt(n.exercise.getVolume())+" kg ",1),n.index!==n.exercise.getWorkout().countExercises()-1?(j(),Q("i",{key:0,onClick:s[4]||(s[4]=i=>n.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):gt("",!0)])])])])])],64))}}),qx=mt({__name:"SavingDisplay",props:{workout:{}},setup(n){return(t,e)=>(j(),Q("div",{class:ge(["savingDisplay",{display:n.workout.savingInProgress()}])},[...e[0]||(e[0]=[P("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),Yx=Rt(qx,[["__scopeId","data-v-2e9e3957"]]),Kx={class:"inputs"},Gx=mt({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(n,{emit:t}){const e=n,s=t,i=z(e.workout.getTitle()),r=z(e.workout.getHeartRate()||""),o=z(e.workout.getEnergy()||""),a=z(e.workout.getStartTime()),l=z(e.workout.getEndTime());function c(){e.workout.setTitle(i.value),e.workout.setHeartRate(Number(r.value)||null),e.workout.setEnergy(Number(o.value)||null),e.workout.setStartDate(a.value),e.workout.setEndDate(l.value),s("cancel")}const u=Ne({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=Ne({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(j(),Ft(fi,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=p=>c()),onCancel:f[6]||(f[6]=p=>s("cancel"))},{default:Je(()=>[P("div",Kx,[f[7]||(f[7]=P("label",{for:"titleInput"},"Title:",-1)),ke(P("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[Se,i.value]]),f[8]||(f[8]=P("label",{for:"startDate"},"Start Date and Time:",-1)),ke(P("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=p=>u.value=p)},null,512),[[Se,u.value]]),f[9]||(f[9]=P("label",{for:"endDate"},"End Date and Time:",-1)),ke(P("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=p=>h.value=p)},null,512),[[Se,h.value]]),f[10]||(f[10]=P("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),ke(P("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=p=>r.value=p),min:"0"},null,512),[[Se,r.value,void 0,{number:!0}]]),f[11]||(f[11]=P("label",{for:"energyInput"},"Energy Burned (kj):",-1)),ke(P("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p),min:"0"},null,512),[[Se,o.value,void 0,{number:!0}]])])]),_:1}))}}),Jx=Rt(Gx,[["__scopeId","data-v-d96ddd76"]]),Xx={key:1,class:"viewArea"},Qx={class:"margins"},Zx={class:"greyed"},tk={key:0,class:"softBubble"},ek=mt({__name:"ViewWorkout",props:["workout_id"],setup(n){const t=n,e=z(null),s=z(!0),i=z(!0),r=z(!1),o=z(new lc);return Ln(async()=>{const{data:a,error:l}=await Ht.from("workouts").select().eq("workout_id",t.workout_id).single();if(l){if(console.error("Error fetching workout:",l),l.code=="PGRST116"){o.value.setError("Workout not found","The requested workout does not exist."),i.value=!1;return}o.value.setError("Error fetching workout","Please try again."),i.value=!1;return}e.value=await Wo.create(a),i.value=!1}),(a,l)=>(j(),Q(Ot,null,[H(ac,{error:o.value},null,8,["error"]),r.value&&e.value?(j(),Ft(Jx,{key:0,workout:e.value,onCancel:l[0]||(l[0]=c=>r.value=!1)},null,8,["workout"])):gt("",!0),e.value?(j(),Q("div",Xx,[P("div",Qx,[P("h2",null,[jt(Tt(e.value.getTitle())+" ",1),P("i",{class:"fa-solid fa-ellipsis clickable",onClick:l[1]||(l[1]=c=>r.value=!0)})]),P("p",Zx,Tt(e.value.getDateString()),1),e.value.getNotes()!==""?(j(),Q("p",tk,Tt(e.value.getNotes()),1)):gt("",!0),H(vx,{workout:e.value},null,8,["workout"]),H(Dn,{onClick:l[2]||(l[2]=c=>s.value=!s.value),fullWidth:""},{default:Je(()=>[P("i",{class:ge(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),jt(" "+Tt(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(j(!0),Q(Ot,null,Ro(e.value.getExercises(),(c,u)=>(j(),Ft(zx,{key:c.getName(),exercise:c,showSets:s.value,index:u},null,8,["exercise","showSets","index"]))),128)),H(Yx,{workout:e.value},null,8,["workout"]),H(Dn,{onClick:l[3]||(l[3]=c=>e.value.addEmptyExercise()),fullWidth:""},{default:Je(()=>[...l[4]||(l[4]=[P("i",{class:"fa-solid fa-plus"},null,-1),jt(" Add Exercise ",-1)])]),_:1})])])):gt("",!0),i.value?(j(),Ft(di,{key:2})):gt("",!0)],64))}}),nk=Rt(ek,[["__scopeId","data-v-577a13c0"]]),sk={class:"container"},ik={class:"selector"},rk=["onClick"],ok=mt({__name:"Selector",props:{options:{}},emits:["select"],setup(n,{emit:t}){const e=n,s=z("");return Ln(()=>{e.options.length>0&&(s.value=e.options[0].value)}),(i,r)=>(j(),Q("div",sk,[P("div",ik,[(j(!0),Q(Ot,null,Ro(n.options,o=>(j(),Q("div",{key:o.value,class:ge({selectorOption:!0,clickable:!0,selected:o.value===s.value}),onClick:a=>{s.value=o.value,i.$emit("select",o.value)}},Tt(o.label),11,rk))),128))])]))}}),ak=Rt(ok,[["__scopeId","data-v-77cbf122"]]);function lk(n,t,e,s){if(n.length===0)return[];const i=[...n].sort((h,d)=>h.x.getTime()-d.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=lt.addPeriod(lt.getStartOfTerm(0,e)||r,e,-s),l=lt.addPeriod(lt.getEndOfTerm(0,e)||o,e,-s),c=Yg(a,l,t),u=new Array(c.length-1).fill(0);for(const{x:h,y:d}of n){const f=uk(h,c);f>=0&&f<u.length&&(u[f]+=d)}return u}function ck(n,t,e,s){if(n.length===0)return[];const i=[...n].sort((u,h)=>u.x.getTime()-h.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=lt.addPeriod(lt.getStartOfTerm(0,e)||r,e,-s),l=lt.addPeriod(lt.getEndOfTerm(0,e)||o,e,-s),c=Yg(a,l,t);return c.slice(0,-1).map((u,h)=>hk(u,c[h+1],t))}function Yg(n,t,e){const s=[];let i=sh(n,e);const r=ka(t,e,1);for(;i<=r;)s.push(new Date(i)),i=sh(ka(i,e,1),e);return s.length===1&&s.push(ka(s[0],e,1)),s}function uk(n,t){for(let e=0;e<t.length-1;e++)if(n>=t[e]&&n<t[e+1])return e;return n>=t[t.length-1]?t.length-2:-1}function hk(n,t,e){const s=i=>{switch(e){case"day":return i.toLocaleDateString(void 0,{month:"short",day:"numeric"});case"week":return`${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`;case"month":return i.toLocaleDateString(void 0,{month:"short",year:"2-digit"});case"year":return i.getFullYear().toString()}};if(e==="week"){const i=new Date(t);return i.setDate(i.getDate()-1),`${s(n)}  ${s(i)}`}return s(n)}function sh(n,t){const e=new Date(n);switch(t){case"day":e.setHours(0,0,0,0);break;case"week":e.setHours(0,0,0,0);const s=e.getDay();e.setDate(e.getDate()-(s===0?6:s-1));break;case"month":e.setDate(1),e.setHours(0,0,0,0);break;case"year":e.setMonth(0,1),e.setHours(0,0,0,0);break}return e}function ka(n,t,e){const s=new Date(n);switch(t){case"day":s.setDate(s.getDate()+e);break;case"week":s.setDate(s.getDate()+e*7);break;case"month":s.setMonth(s.getMonth()+e);break;case"year":s.setFullYear(s.getFullYear()+e);break}return s}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pr(n){return n+.5|0}const zn=(n,t,e)=>Math.max(Math.min(n,e),t);function Ai(n){return zn(pr(n*2.55),0,255)}function Jn(n){return zn(pr(n*255),0,255)}function xn(n){return zn(pr(n/2.55)/100,0,1)}function ih(n){return zn(pr(n*100),0,100)}const We={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ml=[..."0123456789ABCDEF"],dk=n=>ml[n&15],fk=n=>ml[(n&240)>>4]+ml[n&15],Dr=n=>(n&240)>>4===(n&15),gk=n=>Dr(n.r)&&Dr(n.g)&&Dr(n.b)&&Dr(n.a);function pk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&We[n[1]]*17,g:255&We[n[2]]*17,b:255&We[n[3]]*17,a:t===5?We[n[4]]*17:255}:(t===7||t===9)&&(e={r:We[n[1]]<<4|We[n[2]],g:We[n[3]]<<4|We[n[4]],b:We[n[5]]<<4|We[n[6]],a:t===9?We[n[7]]<<4|We[n[8]]:255})),e}const mk=(n,t)=>n<255?t(n):"";function bk(n){var t=gk(n)?dk:fk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+mk(n.a,t):void 0}const yk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kg(n,t,e){const s=t*Math.min(e,1-e),i=(r,o=(r+n/30)%12)=>e-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function _k(n,t,e){const s=(i,r=(i+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function wk(n,t,e){const s=Kg(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)s[i]*=1-t-e,s[i]+=t;return s}function vk(n,t,e,s,i){return n===i?(t-e)/s+(t<e?6:0):t===i?(e-n)/s+2:(n-t)/s+4}function cc(n){const e=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(e,s,i),o=Math.min(e,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=vk(e,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function uc(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Jn)}function hc(n,t,e){return uc(Kg,n,t,e)}function xk(n,t,e){return uc(wk,n,t,e)}function kk(n,t,e){return uc(_k,n,t,e)}function Gg(n){return(n%360+360)%360}function Sk(n){const t=yk.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Ai(+t[5]):Jn(+t[5]));const i=Gg(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=xk(i,r,o):t[1]==="hsv"?s=kk(i,r,o):s=hc(i,r,o),{r:s[0],g:s[1],b:s[2],a:e}}function Ek(n,t){var e=cc(n);e[0]=Gg(e[0]+t),e=hc(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Ok(n){if(!n)return;const t=cc(n),e=t[0],s=ih(t[1]),i=ih(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${i}%, ${xn(n.a)})`:`hsl(${e}, ${s}%, ${i}%)`}const rh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tk(){const n={},t=Object.keys(oh),e=Object.keys(rh);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<e.length;i++)r=e[i],a=a.replace(r,rh[r]);r=parseInt(oh[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let Rr;function Pk(n){Rr||(Rr=Tk(),Rr.transparent=[0,0,0,0]);const t=Rr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ck=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ak(n){const t=Ck.exec(n);let e=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];e=t[8]?Ai(o):zn(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Ai(s):zn(s,0,255)),i=255&(t[4]?Ai(i):zn(i,0,255)),r=255&(t[6]?Ai(r):zn(r,0,255)),{r:s,g:i,b:r,a:e}}}function Mk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Sa=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ns=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Dk(n,t,e){const s=Ns(xn(n.r)),i=Ns(xn(n.g)),r=Ns(xn(n.b));return{r:Jn(Sa(s+e*(Ns(xn(t.r))-s))),g:Jn(Sa(i+e*(Ns(xn(t.g))-i))),b:Jn(Sa(r+e*(Ns(xn(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Ir(n,t,e){if(n){let s=cc(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=hc(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Jg(n,t){return n&&Object.assign(t||{},n)}function ah(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Jn(n[3]))):(t=Jg(n,{r:0,g:0,b:0,a:1}),t.a=Jn(t.a)),t}function Rk(n){return n.charAt(0)==="r"?Ak(n):Sk(n)}class rr{constructor(t){if(t instanceof rr)return t;const e=typeof t;let s;e==="object"?s=ah(t):e==="string"&&(s=pk(t)||Pk(t)||Rk(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Jg(this._rgb);return t&&(t.a=xn(t.a)),t}set rgb(t){this._rgb=ah(t)}rgbString(){return this._valid?Mk(this._rgb):void 0}hexString(){return this._valid?bk(this._rgb):void 0}hslString(){return this._valid?Ok(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=Dk(this._rgb,t._rgb,e)),this}clone(){return new rr(this.rgb)}alpha(t){return this._rgb.a=Jn(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=pr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ir(this._rgb,2,t),this}darken(t){return Ir(this._rgb,2,-t),this}saturate(t){return Ir(this._rgb,1,t),this}desaturate(t){return Ir(this._rgb,1,-t),this}rotate(t){return Ek(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mn(){}const Ik=(()=>{let n=0;return()=>n++})();function ct(n){return n==null}function Nt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ut(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ut(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Le(n,t){return Ut(n)?n:t}function nt(n,t){return typeof n>"u"?t:n}const Lk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Xg=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Dt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function kt(n,t,e,s){let i,r,o;if(Nt(n))for(r=n.length,i=0;i<r;i++)t.call(e,n[i],i);else if(ut(n))for(o=Object.keys(n),r=o.length,i=0;i<r;i++)t.call(e,n[o[i]],o[i])}function go(n,t){let e,s,i,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(i=n[e],r=t[e],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function po(n){if(Nt(n))return n.map(po);if(ut(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let i=0;for(;i<s;++i)t[e[i]]=po(n[e[i]]);return t}return n}function Qg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Nk(n,t,e,s){if(!Qg(n))return;const i=t[n],r=e[n];ut(i)&&ut(r)?or(i,r,s):t[n]=po(r)}function or(n,t,e){const s=Nt(t)?t:[t],i=s.length;if(!ut(n))return n;e=e||{};const r=e.merger||Nk;let o;for(let a=0;a<i;++a){if(o=s[a],!ut(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,e)}return n}function Ui(n,t){return or(n,t,{merger:jk})}function jk(n,t,e){if(!Qg(n))return;const s=t[n],i=e[n];ut(s)&&ut(i)?Ui(s,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=po(i))}const lh={"":n=>n,x:n=>n.x,y:n=>n.y};function $k(n){const t=n.split("."),e=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function Fk(n){const t=$k(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function Qn(n,t){return(lh[t]||(lh[t]=Fk(t)))(n)}function dc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ar=n=>typeof n<"u",Zn=n=>typeof n=="function",ch=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Bk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const pt=Math.PI,It=2*pt,Wk=It+pt,mo=Number.POSITIVE_INFINITY,Vk=pt/180,Gt=pt/2,as=pt/4,uh=pt*2/3,qn=Math.log10,hn=Math.sign;function zi(n,t,e){return Math.abs(n-t)<e}function hh(n){const t=Math.round(n);n=zi(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(qn(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function Hk(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((i,r)=>i-r).pop(),t}function Uk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ii(n){return!Uk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function zk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Zg(n,t,e){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ye(n){return n*(pt/180)}function fc(n){return n*(180/pt)}function dh(n){if(!Ut(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tp(n,t){const e=t.x-n.x,s=t.y-n.y,i=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*pt&&(r+=It),{angle:r,distance:i}}function bl(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function qk(n,t){return(n-t+Wk)%It-pt}function ue(n){return(n%It+It)%It}function lr(n,t,e,s){const i=ue(n),r=ue(t),o=ue(e),a=ue(r-i),l=ue(o-i),c=ue(i-r),u=ue(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function re(n,t,e){return Math.max(t,Math.min(e,n))}function Yk(n){return re(n,-32768,32767)}function On(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function gc(n,t,e){e=e||(o=>n[o]<t);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,e(r)?i=r:s=r;return{lo:i,hi:s}}const Tn=(n,t,e,s)=>gc(n,e,s?i=>{const r=n[i][t];return r<e||r===e&&n[i+1][t]===e}:i=>n[i][t]<e),Kk=(n,t,e)=>gc(n,e,s=>n[s][t]>=e);function Gk(n,t,e){let s=0,i=n.length;for(;s<i&&n[s]<t;)s++;for(;i>s&&n[i-1]>e;)i--;return s>0||i<n.length?n.slice(s,i):n}const ep=["push","pop","shift","splice","unshift"];function Jk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ep.forEach(e=>{const s="_onData"+dc(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function fh(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(ep.forEach(r=>{delete n[r]}),delete n._chartjs)}function np(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const sp=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ip(n,t){let e=[],s=!1;return function(...i){e=i,s||(s=!0,sp.call(window,()=>{s=!1,n.apply(t,e)}))}}function Xk(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const pc=n=>n==="start"?"left":n==="end"?"right":"center",ce=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Qk=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function rp(n,t,e){const s=t.length;let i=0,r=s;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(i=Math.min(Tn(l,u,h).lo,e?s:Tn(t,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(m=>!ct(m[a.axis]));i-=Math.max(0,g)}i=re(i,0,s-1)}if(p){let g=Math.max(Tn(l,o.axis,d,!0).hi+1,e?0:Tn(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(g-1).findIndex(b=>!ct(b[a.axis]));g+=Math.max(0,m)}r=re(g,i,s)-i}else r=s-i}return{start:i,count:r}}function op(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,i),r}const Lr=n=>n===0||n===1,gh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*It/e)),ph=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*It/e)+1,qi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Gt)+1,easeOutSine:n=>Math.sin(n*Gt),easeInOutSine:n=>-.5*(Math.cos(pt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Lr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Lr(n)?n:gh(n,.075,.3),easeOutElastic:n=>Lr(n)?n:ph(n,.075,.3),easeInOutElastic(n){return Lr(n)?n:n<.5?.5*gh(n*2,.1125,.45):.5+.5*ph(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-qi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?qi.easeInBounce(n*2)*.5:qi.easeOutBounce(n*2-1)*.5+.5};function mc(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function mh(n){return mc(n)?n:new rr(n)}function Ea(n){return mc(n)?n:new rr(n).saturate(.5).darken(.1).hexString()}const Zk=["x","y","borderWidth","radius","tension"],tS=["color","borderColor","backgroundColor"];function eS(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:tS},numbers:{type:"number",properties:Zk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nS(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bh=new Map;function sS(n,t){t=t||{};const e=n+JSON.stringify(t);let s=bh.get(e);return s||(s=new Intl.NumberFormat(n,t),bh.set(e,s)),s}function mr(n,t,e){return sS(t,e).format(n)}const ap={values(n){return Nt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=iS(n,e)}const o=qn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),mr(n,s,l)},logarithmic(n,t,e){if(n===0)return"0";const s=e[t].significand||n/Math.pow(10,Math.floor(qn(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?ap.numeric.call(this,n,t,e):""}};function iS(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Vo={formatters:ap};function rS(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ks=Object.create(null),yl=Object.create(null);function Yi(n,t){if(!t)return n;const e=t.split(".");for(let s=0,i=e.length;s<i;++s){const r=e[s];n=n[r]||(n[r]=Object.create(null))}return n}function Oa(n,t,e){return typeof t=="string"?or(Yi(n,t),e):or(Yi(n,""),t)}class oS{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ea(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ea(i.borderColor),this.hoverColor=(s,i)=>Ea(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Oa(this,t,e)}get(t){return Yi(this,t)}describe(t,e){return Oa(yl,t,e)}override(t,e){return Oa(ks,t,e)}route(t,e,s,i){const r=Yi(this,t),o=Yi(this,s),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[i];return ut(l)?Object.assign({},c,l):nt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var $t=new oS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eS,nS,rS]);function aS(n){return!n||ct(n.size)||ct(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function bo(n,t,e,s,i){let r=t[i];return r||(r=t[i]=n.measureText(i).width,e.push(i)),r>s&&(s=r),s}function lS(n,t,e,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=e[l],h!=null&&!Nt(h))o=bo(n,i,r,o,h);else if(Nt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Nt(d)&&(o=bo(n,i,r,o,d));n.restore();const f=r.length/2;if(f>e.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function ls(n,t,e){const s=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*s)/s+i}function yh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function _l(n,t,e,s){lp(n,t,e,s,null)}function lp(n,t,e,s,i){let r,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*Vk;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(m),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(e,s,i/2,g,0,0,It):n.arc(e,s,g,0,It),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(e+Math.sin(m)*u,s-Math.cos(m)*g),m+=uh,n.lineTo(e+Math.sin(m)*u,s-Math.cos(m)*g),m+=uh,n.lineTo(e+Math.sin(m)*u,s-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+as)*l,h=Math.cos(m+as)*(i?i/2-c:l),a=Math.sin(m+as)*l,d=Math.sin(m+as)*(i?i/2-c:l),n.arc(e-h,s-a,c,m-pt,m-Gt),n.arc(e+d,s-o,c,m-Gt,m),n.arc(e+h,s+a,c,m,m+Gt),n.arc(e-d,s+o,c,m+Gt,m+pt),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(e-u,s-l,2*u,2*l);break}m+=as;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(e-h,s-a),n.lineTo(e+d,s-o),n.lineTo(e+h,s+a),n.lineTo(e-d,s+o),n.closePath();break;case"crossRot":m+=as;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(e-h,s-a),n.lineTo(e+h,s+a),n.moveTo(e+d,s-o),n.lineTo(e-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(e-h,s-a),n.lineTo(e+h,s+a),n.moveTo(e+d,s-o),n.lineTo(e-d,s+o),m+=as,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(e-h,s-a),n.lineTo(e+h,s+a),n.moveTo(e+d,s-o),n.lineTo(e-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(m)*(i?i/2:g),s+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Pn(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ho(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Uo(n){n.restore()}function cS(n,t,e,s,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else i==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function uS(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function hS(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ct(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function dS(n,t,e,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function fS(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ss(n,t,e,s,i,r={}){const o=Nt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,hS(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&fS(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),ct(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,s,r.maxWidth)),n.fillText(c,e,s,r.maxWidth),dS(n,e,s,c,r),s+=Number(i.lineHeight);n.restore()}function cr(n,t){const{x:e,y:s,w:i,h:r,radius:o}=t;n.arc(e+o.topLeft,s+o.topLeft,o.topLeft,1.5*pt,pt,!0),n.lineTo(e,s+r-o.bottomLeft),n.arc(e+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,pt,Gt,!0),n.lineTo(e+i-o.bottomRight,s+r),n.arc(e+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Gt,0,!0),n.lineTo(e+i,s+o.topRight),n.arc(e+i-o.topRight,s+o.topRight,o.topRight,0,-Gt,!0),n.lineTo(e+o.topLeft,s)}const gS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mS(n,t){const e=(""+n).match(gS);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const bS=n=>+n||0;function bc(n,t){const e={},s=ut(t),i=s?Object.keys(t):t,r=ut(n)?s?o=>nt(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of i)e[o]=bS(r(o));return e}function cp(n){return bc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(n){return bc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function be(n){const t=cp(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ie(n,t){n=n||{},t=t||$t.font;let e=nt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=nt(n.style,t.style);s&&!(""+s).match(pS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:nt(n.family,t.family),lineHeight:mS(nt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:nt(n.weight,t.weight),string:""};return i.string=aS(i),i}function Mi(n,t,e,s){let i,r,o;for(i=0,r=n.length;i<r;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function yS(n,t,e){const{min:s,max:i}=n,r=Xg(t,(i-s)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function es(n,t){return Object.assign(Object.create(n),t)}function yc(n,t=[""],e,s,i=()=>n[0]){const r=e||n;typeof s>"u"&&(s=fp("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>yc([a,...n],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return hp(a,l,()=>OS(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return wh(a).includes(l)},ownKeys(a){return wh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ri(n,t,e,s){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:up(n,s),setContext:r=>ri(n,r,e,s),override:r=>ri(n.override(r),t,e,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return hp(r,o,()=>wS(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function up(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:s,isScriptable:Zn(e)?e:()=>e,isIndexable:Zn(s)?s:()=>s}}const _S=(n,t)=>n?n+dc(t):t,_c=(n,t)=>ut(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hp(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function wS(n,t,e){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=n;let a=s[t];return Zn(a)&&o.isScriptable(t)&&(a=vS(t,a,n,e)),Nt(a)&&a.length&&(a=xS(t,a,n,o.isIndexable)),_c(t,a)&&(a=ri(a,i,r&&r[t],o)),a}function vS(n,t,e,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(r,o||s);return a.delete(n),_c(n,l)&&(l=wc(i._scopes,i,n,l)),l}function xS(n,t,e,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&s(n))return t[r.index%t.length];if(ut(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=wc(c,i,n,u);t.push(ri(h,r,o&&o[n],a))}}return t}function dp(n,t,e){return Zn(n)?n(t,e):n}const kS=(n,t)=>n===!0?t:typeof n=="string"?Qn(t,n):void 0;function SS(n,t,e,s,i){for(const r of t){const o=kS(e,r);if(o){n.add(o);const a=dp(o._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==s)return a}else if(o===!1&&typeof s<"u"&&e!==s)return null}return!1}function wc(n,t,e,s){const i=t._rootScopes,r=dp(t._fallback,e,s),o=[...n,...i],a=new Set;a.add(s);let l=_h(a,o,e,r||e,s);return l===null||typeof r<"u"&&r!==e&&(l=_h(a,o,r,l,s),l===null)?!1:yc(Array.from(a),[""],i,r,()=>ES(t,e,s))}function _h(n,t,e,s,i){for(;e;)e=SS(n,t,e,s,i);return e}function ES(n,t,e){const s=n._getTarget();t in s||(s[t]={});const i=s[t];return Nt(i)&&ut(e)?e:i||{}}function OS(n,t,e,s){let i;for(const r of t)if(i=fp(_S(r,n),e),typeof i<"u")return _c(n,i)?wc(e,s,n,i):i}function fp(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function wh(n){let t=n._keys;return t||(t=n._keys=TS(n._scopes)),t}function TS(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function gp(n,t,e,s){const{iScale:i}=n,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+e,u=t[c],o[a]={r:i.parse(Qn(u,r),c)};return o}const PS=Number.EPSILON||1e-14,oi=(n,t)=>t<n.length&&!n[t].skip&&n[t],pp=n=>n==="x"?"y":"x";function CS(n,t,e,s){const i=n.skip?t:n,r=t,o=e.skip?t:e,a=bl(r,i),l=bl(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function AS(n,t,e){const s=n.length;let i,r,o,a,l,c=oi(n,0);for(let u=0;u<s-1;++u)if(l=c,c=oi(n,u+1),!(!l||!c)){if(zi(t[u],0,PS)){e[u]=e[u+1]=0;continue}i=e[u]/t[u],r=e[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=i*o*t[u],e[u+1]=r*o*t[u])}}function MS(n,t,e="x"){const s=pp(e),i=n.length;let r,o,a,l=oi(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=oi(n,c+1),!a)continue;const u=a[e],h=a[s];o&&(r=(u-o[e])/3,a[`cp1${e}`]=u-r,a[`cp1${s}`]=h-r*t[c]),l&&(r=(l[e]-u)/3,a[`cp2${e}`]=u+r,a[`cp2${s}`]=h+r*t[c])}}function DS(n,t="x"){const e=pp(t),s=n.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=oi(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=oi(n,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[e]-l[e])/u:0}r[o]=a?c?hn(i[o-1])!==hn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}AS(n,i,r),MS(n,r,t)}function Nr(n,t,e){return Math.max(Math.min(n,e),t)}function RS(n,t){let e,s,i,r,o,a=Pn(n[0],t);for(e=0,s=n.length;e<s;++e)o=r,r=a,a=e<s-1&&Pn(n[e+1],t),r&&(i=n[e],o&&(i.cp1x=Nr(i.cp1x,t.left,t.right),i.cp1y=Nr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Nr(i.cp2x,t.left,t.right),i.cp2y=Nr(i.cp2y,t.top,t.bottom)))}function IS(n,t,e,s,i){let r,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")DS(n,i);else{let c=s?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=CS(c,a,n[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&RS(n,e)}function vc(){return typeof window<"u"&&typeof document<"u"}function xc(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function yo(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const zo=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function LS(n,t){return zo(n).getPropertyValue(t)}const NS=["top","right","bottom","left"];function xs(n,t,e){const s={};e=e?"-"+e:"";for(let i=0;i<4;i++){const r=NS[i];s[r]=parseFloat(n[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const jS=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function $S(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(jS(i,r,n.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function fs(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,i=zo(e),r=i.boxSizing==="border-box",o=xs(i,"padding"),a=xs(i,"border","width"),{x:l,y:c,box:u}=$S(n,e),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*e.width/s),y:Math.round((c-d)/p*e.height/s)}}function FS(n,t,e){let s,i;if(t===void 0||e===void 0){const r=n&&xc(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const o=r.getBoundingClientRect(),a=zo(r),l=xs(a,"border","width"),c=xs(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,s=yo(a.maxWidth,r,"clientWidth"),i=yo(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||mo,maxHeight:i||mo}}const Yn=n=>Math.round(n*10)/10;function BS(n,t,e,s){const i=zo(n),r=xs(i,"margin"),o=yo(i.maxWidth,n,"clientWidth")||mo,a=yo(i.maxHeight,n,"clientHeight")||mo,l=FS(n,t,e);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=xs(i,"border","width"),f=xs(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Yn(Math.min(c,o,l.maxWidth)),u=Yn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Yn(c/2)),(t!==void 0||e!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Yn(Math.floor(u*s))),{width:c,height:u}}function vh(n,t,e){const s=t||1,i=Yn(n.height*s),r=Yn(n.width*s);n.height=Yn(n.height),n.width=Yn(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(n.currentDevicePixelRatio=s,o.height=i,o.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const WS=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};vc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function xh(n,t){const e=LS(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function gs(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function VS(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function HS(n,t,e,s){const i={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=gs(n,i,e),a=gs(i,r,e),l=gs(r,t,e),c=gs(o,a,e),u=gs(a,l,e);return gs(c,u,e)}const US=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},zS=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Qs(n,t,e){return n?US(t,e):zS()}function mp(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function bp(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function yp(n){return n==="angle"?{between:lr,compare:qk,normalize:ue}:{between:On,compare:(t,e)=>t-e,normalize:t=>t}}function kh({start:n,end:t,count:e,loop:s,style:i}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:i}}function qS(n,t,e){const{property:s,start:i,end:r}=e,{between:o,normalize:a}=yp(s),l=t.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function _p(n,t,e){if(!e)return[n];const{property:s,start:i,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=yp(s),{start:u,end:h,loop:d,style:f}=qS(n,t,e),p=[];let g=!1,m=null,b,y,w;const x=()=>l(i,w,b)&&a(i,w)!==0,k=()=>a(r,b)===0||l(r,w,b),E=()=>g||x(),O=()=>!g||k();for(let D=u,$=u;D<=h;++D)y=t[D%o],!y.skip&&(b=c(y[s]),b!==w&&(g=l(b,i,r),m===null&&E()&&(m=a(b,i)===0?D:$),m!==null&&O()&&(p.push(kh({start:m,end:D,loop:d,count:o,style:f})),m=null),$=D,w=b));return m!==null&&p.push(kh({start:m,end:h,loop:d,count:o,style:f})),p}function wp(n,t){const e=[],s=n.segments;for(let i=0;i<s.length;i++){const r=_p(s[i],n.points,t);r.length&&e.push(...r)}return e}function YS(n,t,e,s){let i=0,r=t-1;if(e&&!s)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(r+=i);r>i&&n[r%t].skip;)r--;return r%=t,{start:i,end:r}}function KS(n,t,e,s){const i=n.length,r=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function GS(n,t){const e=n.points,s=n.options.spanGaps,i=e.length;if(!i)return[];const r=!!n._loop,{start:o,end:a}=YS(e,i,r,s);if(s===!0)return Sh(n,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Sh(n,KS(e,o,l,c),e,t)}function Sh(n,t,e,s){return!s||!s.setContext||!e?t:JS(n,t,e,s)}function JS(n,t,e,s){const i=n._chart.getContext(),r=Eh(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=r,h=t[0].start,d=h;function f(p,g,m,b){const y=a?-1:1;if(p!==g){for(p+=l;e[p%l].skip;)p-=y;for(;e[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:b}),u=b,h=g%l)}}for(const p of t){h=a?h:p.start;let g=e[h%l],m;for(d=h+1;d<=p.end;d++){const b=e[d%l];m=Eh(s.setContext(es(i,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),XS(m,u)&&f(h,d-1,p.loop,u),g=b,u=m}h<d-1&&f(h,d-1,p.loop,u)}return c}function Eh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function XS(n,t){if(!t)return!1;const e=[],s=function(i,r){return mc(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function jr(n,t,e){return n.options.clip?n[e]:t[e]}function QS(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:jr(e,t,"left"),right:jr(e,t,"right"),top:jr(s,t,"top"),bottom:jr(s,t,"bottom")}:t}function vp(n,t){const e=t._clip;if(e.disabled)return!1;const s=QS(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ZS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const r=e.listeners[i],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(s-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=sp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var yn=new ZS;const Oh="transparent",tE={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=mh(n||Oh),i=s.valid&&mh(t||Oh);return i&&i.valid?i.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class eE{constructor(t,e,s,i){const r=e[s];i=Mi([t.to,i,r,t.from]);const o=Mi([t.from,r,i]);this._active=!0,this._fn=t.fn||tE[t.type||typeof o],this._easing=qi[t.easing]||qi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Mi([t.to,e,i,t.from]),this._from=Mi([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<s),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=r;return}l=e/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class xp{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ut(t))return;const e=Object.keys($t.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ut(r))return;const o={};for(const a of e)o[a]=r[a];(Nt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,e){const s=e.options,i=sE(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&nE(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}const u=e[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new eE(d,t,c,u),i.push(h)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return yn.add(this._chart,s),!0}}function nE(n,t){const e=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function sE(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Th(n,t){const e=n&&n.options||{},s=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function iE(n,t,e){if(e===!1)return!1;const s=Th(n,e),i=Th(t,e);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function rE(n){let t,e,s,i;return ut(n)?(t=n.top,e=n.right,s=n.bottom,i=n.left):t=e=s=i=n,{top:t,right:e,bottom:s,left:i,disabled:n===!1}}function kp(n,t){const e=[],s=n._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)e.push(s[i].index);return e}function Ph(n,t,e,s={}){const i=n.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===e){if(u=!0,s.all)continue;break}c=n.values[l],Ut(c)&&(r||t===0||hn(t)===hn(c))&&(t+=c)}return!u&&!s.all?0:t}function oE(n,t){const{iScale:e,vScale:s}=t,i=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:n[u]};return a}function Ta(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function aE(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function lE(n){const{min:t,max:e,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function cE(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function Ch(n,t,e,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function Ah(n,t){const{chart:e,_cachedMeta:s}=n,i=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=aE(r,o,s),h=t.length;let d;for(let f=0;f<h;++f){const p=t[f],{[l]:g,[c]:m}=p,b=p._stacks||(p._stacks={});d=b[c]=cE(i,u,g),d[a]=m,d._top=Ch(d,o,!0,s.type),d._bottom=Ch(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Pa(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function uE(n,t){return es(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function hE(n,t,e){return es(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function wi(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const Ca=n=>n==="reset"||n==="none",Mh=(n,t)=>t?n:Object.assign({},n),dE=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:kp(e,!0),values:null};class ns{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ta(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&wi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=e.xAxisID=nt(s.xAxisID,Pa(t,"x")),o=e.yAxisID=nt(s.yAxisID,Pa(t,"y")),a=e.rAxisID=nt(s.rAxisID,Pa(t,"r")),l=e.indexAxis,c=e.iAxisID=i(l,r,o,a),u=e.vAxisID=i(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&fh(this._data,this),t._stacked&&wi(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(ut(e)){const i=this._cachedMeta;this._data=oE(e,i)}else if(s!==e){if(s){fh(s,this);const i=this._cachedMeta;wi(i),i._parsed=[]}e&&Object.isExtensible(e)&&Jk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Ta(e.vScale,e),e.stack!==s.stack&&(i=!0,wi(e),e.stack=s.stack),this._resyncElements(t),(i||r!==e._stacked)&&(Ah(this,e._parsed),e._stacked=Ta(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&e===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Nt(i[t])?d=this.parseArrayData(s,i,t,e):ut(i[t])?d=this.parseObjectData(s,i,t,e):d=this.parsePrimitiveData(s,i,t,e);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)s._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&Ah(this,d)}parsePrimitiveData(t,e,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+s,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(e[p],p)};return h}parseArrayData(t,e,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=e[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=e[d],c[u]={x:r.parse(Qn(f,a),d),y:o.parse(Qn(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const i=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:kp(i,!0),values:e._stacks[t.axis]._visualValues};return Ph(a,o,r.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const r=s[e.axis];let o=r===null?NaN:r;const a=i&&s._stacks[e.axis];i&&a&&(i.values=a,o=Ph(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=dE(e,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=lE(a);let d,f;function p(){f=i[d];const g=f[a.axis];return!Ut(f[t.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],Ut(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=rE(nt(this.options.clip,iE(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,i=s.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=hE(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=uE(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&ar(s);if(a)return Mh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys($t.elements[t]),p=()=>this.getContext(s,i,e),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Mh(g,l))),g}_resolveAnimations(t,e,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,s,e))}const c=new xp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ca(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:o}}updateElement(t,e,s,i){Ca(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!Ca(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,s=!0){const i=this._cachedMeta,r=i.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&wi(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fE(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=e.length;i<r;i++)s=s.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=np(s.sort((i,r)=>i-r))}return n._cache.$bar}function gE(n){const t=n.iScale,e=fE(t,n.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(ar(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=e.length;i<r;++i)o=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function pE(n,t,e,s){const i=e.barThickness;let r,o;return ct(i)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[n]-r/2}}function mE(n,t,e,s){const i=t.pixels,r=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:e.barPercentage,start:c}}function bE(n,t,e,s){const i=e.parse(n[0],s),r=e.parse(n[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function Sp(n,t,e,s){return Nt(n)?bE(n,t,e,s):t[e.axis]=e.parse(n,s),t}function Dh(n,t,e,s){const i=n.iScale,r=n.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=e,u=e+s;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Sp(d,h,r,c));return l}function Aa(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function yE(n,t,e){return n!==0?hn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function _E(n){let t,e,s,i,r;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:s,reverse:t,top:i,bottom:r}}function wE(n,t,e,s){let i=t.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=_E(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?i=c:(e._bottom||0)===s?i=u:(r[Rh(u,o,a,l)]=!0,i=c)),r[Rh(i,o,a,l)]=!0,n.borderSkipped=r}function Rh(n,t,e,s){return s?(n=vE(n,t,e),n=Ih(n,e,t)):n=Ih(n,t,e),n}function vE(n,t,e){return n===t?e:n===e?t:n}function Ih(n,t,e){return n==="start"?t:n==="end"?e:n}function xE(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class kE extends ns{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,i){return Dh(t,e,s,i)}parseArrayData(t,e,s,i){return Dh(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=s,f=s+i;d<f;++d)g=e[d],p={},p[r.axis]=r.parse(Qn(g,c),d),h.push(Sp(Qn(g,u),p,o,d));return h}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const r=s._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:i}=e,r=this.getParsed(t),o=r._custom,a=Aa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,i);for(let f=e;f<e+s;f++){const p=this.getParsed(f),g=r||ct(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!b||Aa(p._custom)||o===b._top||o===b._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const w=y.options||t[f].options;wE(y,w,b,o),xE(y,w,u.ratio),this.updateElement(t[f],f,y,i)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(ct(d)||isNaN(d))return!0};for(const u of i)if(!(e!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[nt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const i=this._getStacks(t,s),r=e!==void 0?i.indexOf(e):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||gE(e),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Aa(c);let h=l[e.axis],d=0,f=s?this.applyStack(e,l,s):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&hn(h)!==hn(c.barEnd)&&(d=0),d+=h);const m=!ct(r)&&!u?r:d;let b=e.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=e.getPixelForValue(d+f):p=b,g=p-b,Math.abs(g)<o){g=yE(g,e,a)*o,h===a&&(b-=g/2);const y=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),x=Math.min(y,w),k=Math.max(y,w);b=Math.max(Math.min(b,k),x),p=b+g,s&&!u&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(p)-e.getValueForPixel(b))}if(b===e.getPixelForValue(a)){const y=hn(g)*e.getLineWidthForValue(a)/2;b+=y,g-=y}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(t,e){const s=e.scale,i=this.options,r=i.skipNull,o=nt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(e.grouped){const u=r?this._getStackCount(t):e.stackCount,h=i.barThickness==="flex"?mE(t,e,i,u*c):pE(t,e,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(nt(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+f;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[e.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class SE extends ns{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,i){const r=super.parsePrimitiveData(t,e,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,e,s,i){const r=super.parseArrayData(t,e,s,i);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=nt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,e,s,i){const r=super.parseObjectData(t,e,s,i);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=nt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,i),u=o.axis,h=a.axis;for(let d=e;d<e+s;d++){const f=t[d],p=!r&&this.getParsed(d),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),b=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(b),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(g.options.radius=0)),this.updateElement(f,d,g,i)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return e!=="active"&&(i.radius=0),i.radius+=nt(s&&s._custom,r),i}}function EE(n,t,e){let s=1,i=1,r=0,o=0;if(t<It){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,x,k)=>lr(w,a,l,!0)?1:Math.max(x,x*e,k,k*e),p=(w,x,k)=>lr(w,a,l,!0)?-1:Math.min(x,x*e,k,k*e),g=f(0,c,h),m=f(Gt,u,d),b=p(pt,c,h),y=p(pt+Gt,u,d);s=(g-b)/2,i=(m-y)/2,r=-(g+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class kc extends ns{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(ut(s[t])){const{key:l="value"}=this._parsing;r=c=>+Qn(s[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Ye(this.options.rotation-90)}_getCircumference(){return Ye(this.options.circumference)}_getRotationExtents(){let t=It,e=-It;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(Lk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=EE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),w=Xg(this.options.radius,y),x=Math.max(w*l,0),k=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/It)}updateElements(t,e,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,i);let b=this._getRotation(),y;for(y=0;y<e;++y)b+=this._circumference(y,r);for(y=e;y<e+s;++y){const w=this._circumference(y,r),x=t[y],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:p,innerRadius:f};m&&(k.options=g||this.resolveDataElementOptions(y,x.active?"active":i)),b+=w,this.updateElement(x,y,k,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,i;for(i=0;i<e.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?It*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=mr(e._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,r,o,a,l;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class OE extends ns{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=rp(e,i,o);this._drawStart=a,this._drawCount=l,op(e)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=ii(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=e+s,w=t.length;let x=e>0&&this.getParsed(e-1);for(let k=0;k<w;++k){const E=t[k],O=b?E:{};if(k<e||k>=y){O.skip=!0;continue}const D=this.getParsed(k),$=ct(D[f]),K=O[d]=o.getPixelForValue(D[d],k),X=O[f]=r||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[f],k);O.skip=isNaN(K)||isNaN(X)||$,O.stop=k>0&&Math.abs(D[d]-x[d])>m,g&&(O.parsed=D,O.raw=c.data[k]),h&&(O.options=u||this.resolveDataElementOptions(k,E.active?"active":i)),b||this.updateElement(E,k,O,i),x=D}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Ep extends ns{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=mr(e._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,s,i){return gp.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*pt;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<e;++p)f+=this._computeAngle(p,i,g);for(p=e;p<e+s;p++){const m=t[p];let b=f,y=f+this._computeAngle(p,i,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":i)};this.updateElement(m,p,x,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?Ye(this.resolveDataElementOptions(t,e).angle||s):0}}class TE extends kc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class PE extends ns{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,i){return gp.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta,s=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=e;a<e+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class CE extends ns{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=rp(e,s,i);if(this._drawStart=r,this._drawCount=o,op(e)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=ii(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let w=e>0&&this.getParsed(e-1);for(let x=e;x<e+s;++x){const k=t[x],E=this.getParsed(x),O=y?k:{},D=ct(E[p]),$=O[f]=o.getPixelForValue(E[f],x),K=O[p]=r||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],x);O.skip=isNaN($)||isNaN(K)||D,O.stop=x>0&&Math.abs(E[f]-w[f])>b,m&&(O.parsed=E,O.raw=c.data[x]),d&&(O.options=h||this.resolveDataElementOptions(x,k.active?"active":i)),y||this.updateElement(k,x,O,i),w=E}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}var AE=Object.freeze({__proto__:null,BarController:kE,BubbleController:SE,DoughnutController:kc,LineController:OE,PieController:TE,PolarAreaController:Ep,RadarController:PE,ScatterController:CE});function cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sc{static override(t){Object.assign(Sc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return cs()}parse(){return cs()}format(){return cs()}add(){return cs()}diff(){return cs()}startOf(){return cs()}endOf(){return cs()}}var Op={_date:Sc};function ME(n,t,e,s){const{controller:i,data:r,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Kk:Tn;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,e-h),f=c(r,t,e+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,t,e);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!ct(g[h.axis]));u.lo-=Math.max(0,f);const p=d.slice(u.hi).findIndex(g=>!ct(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function qo(n,t,e,s,i){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=ME(r[a],t,o,i);for(let f=h;f<=d;++f){const p=u[f];p.skip||s(p,c,f)}}}function DE(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=e?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ma(n,t,e,s,i){const r=[];return!i&&!n.isPointInArea(t)||qo(n,e,t,function(a,l,c){!i&&!Pn(a,n.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function RE(n,t,e,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=tp(o,{x:t.x,y:t.y});lr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return qo(n,e,t,r),i}function IE(n,t,e,s,i,r){let o=[];const a=DE(e);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,i);if(s&&!f)return;const p=u.getCenterPoint(i);if(!(!!r||n.isPointInArea(p))&&!f)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return qo(n,e,t,c),o}function Da(n,t,e,s,i,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!s?RE(n,t,e,i):IE(n,t,e,s,i,r)}function Lh(n,t,e,s,i){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return qo(n,e,t,(l,c,u)=>{l[o]&&l[o](t[e],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var LE={modes:{index(n,t,e,s){const i=fs(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Ma(n,i,r,s,o):Da(n,i,r,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,s){const i=fs(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?Ma(n,i,r,s,o):Da(n,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,s){const i=fs(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Ma(n,i,r,s,o)},nearest(n,t,e,s){const i=fs(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Da(n,i,r,e.intersect,s,o)},x(n,t,e,s){const i=fs(t,n);return Lh(n,i,"x",e.intersect,s)},y(n,t,e,s){const i=fs(t,n);return Lh(n,i,"y",e.intersect,s)}}};const Tp=["left","top","right","bottom"];function vi(n,t){return n.filter(e=>e.pos===t)}function Nh(n,t){return n.filter(e=>Tp.indexOf(e.pos)===-1&&e.box.axis===t)}function xi(n,t){return n.sort((e,s)=>{const i=t?s:e,r=t?e:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function NE(n){const t=[];let e,s,i,r,o,a;for(e=0,s=(n||[]).length;e<s;++e)i=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function jE(n){const t={};for(const e of n){const{stack:s,pos:i,stackWeight:r}=e;if(!s||!Tp.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function $E(n,t){const e=jE(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return e}function FE(n){const t=NE(n),e=xi(t.filter(c=>c.box.fullSize),!0),s=xi(vi(t,"left"),!0),i=xi(vi(t,"right")),r=xi(vi(t,"top"),!0),o=xi(vi(t,"bottom")),a=Nh(t,"x"),l=Nh(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:vi(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function jh(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function Pp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function BE(n,t,e,s){const{pos:i,box:r}=e,o=n.maxPadding;if(!ut(i)){e.size&&(n[i]-=e.size);const h=s[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?r.height:r.width),e.size=h.size/h.count,n[i]+=e.size}r.getPadding&&Pp(o,r.getPadding());const a=Math.max(0,t.outerWidth-jh(o,n,"left","right")),l=Math.max(0,t.outerHeight-jh(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function WE(n){const t=n.maxPadding;function e(s){const i=Math.max(t[s]-n[s],0);return n[s]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function VE(n,t){const e=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return s(n?["left","right"]:["top","bottom"])}function Di(n,t,e,s){const i=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,VE(a.horizontal,t));const{same:h,other:d}=BE(t,e,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Di(i,t,e,s)||u}function $r(n,t,e,s,i){n.top=e,n.left=t,n.right=t+s,n.bottom=e+i,n.width=s,n.height=i}function $h(n,t,e,s){const i=e.padding;let{x:r,y:o}=t;for(const a of n){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;ar(c.start)&&(o=c.start),l.fullSize?$r(l,i.left,o,e.outerWidth-i.right-i.left,d):$r(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;ar(c.start)&&(r=c.start),l.fullSize?$r(l,r,i.top,d,e.outerHeight-i.bottom-i.top):$r(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var fe={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const i=be(n.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(e-i.height,0),a=FE(n.boxes),l=a.vertical,c=a.horizontal;kt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);Pp(d,be(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),p=$E(l.concat(c),h);Di(a.fullSize,f,h,p),Di(l,f,h,p),Di(c,f,h,p)&&Di(l,f,h,p),WE(f),$h(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,$h(a.rightAndBottom,f,h,p),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},kt(a.chartArea,g=>{const m=g.box;Object.assign(m,n.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Cp{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class HE extends Cp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xr="$chartjs",UE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fh=n=>n===null||n==="";function zE(n,t){const e=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[Xr]={initial:{height:s,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Fh(i)){const r=xh(n,"width");r!==void 0&&(n.width=r)}if(Fh(s))if(n.style.height==="")n.height=n.width/(t||2);else{const r=xh(n,"height");r!==void 0&&(n.height=r)}return n}const Ap=WS?{passive:!0}:!1;function qE(n,t,e){n&&n.addEventListener(t,e,Ap)}function YE(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Ap)}function KE(n,t){const e=UE[n.type]||n.type,{x:s,y:i}=fs(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function _o(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function GE(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||_o(a.addedNodes,s),o=o&&!_o(a.removedNodes,s);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function JE(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||_o(a.removedNodes,s),o=o&&!_o(a.addedNodes,s);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const ur=new Map;let Bh=0;function Mp(){const n=window.devicePixelRatio;n!==Bh&&(Bh=n,ur.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function XE(n,t){ur.size||window.addEventListener("resize",Mp),ur.set(n,t)}function QE(n){ur.delete(n),ur.size||window.removeEventListener("resize",Mp)}function ZE(n,t,e){const s=n.canvas,i=s&&xc(s);if(!i)return;const r=ip((a,l)=>{const c=i.clientWidth;e(a,l),c<i.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),XE(n,r),o}function Ra(n,t,e){e&&e.disconnect(),t==="resize"&&QE(n)}function tO(n,t,e){const s=n.canvas,i=ip(r=>{n.ctx!==null&&e(KE(r,n))},n);return qE(s,t,i),i}class eO extends Cp{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(zE(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Xr])return!1;const s=e[Xr].initial;["height","width"].forEach(r=>{const o=s[r];ct(o)?e.removeAttribute(r):e.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[Xr],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:GE,detach:JE,resize:ZE}[e]||tO;i[e]=o(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];if(!i)return;({attach:Ra,detach:Ra,resize:Ra}[e]||YE)(t,e,i),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return BS(t,e,s,i)}isAttached(t){const e=t&&xc(t);return!!(e&&e.isConnected)}}function nO(n){return!vc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?HE:eO}let Nn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return ii(this.x)&&ii(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function sO(n,t){const e=n.options.ticks,s=iO(n),i=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?oO(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return aO(t,c,r,o/i),c;const u=rO(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fr(t,c,u,ct(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Fr(t,c,u,r[h],r[h+1]);return Fr(t,c,u,l,ct(f)?t.length:l+f),c}return Fr(t,c,u),c}function iO(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(s,i))}function rO(n,t,e){const s=lO(n),i=t.length/e;if(!s)return Math.max(i,1);const r=Hk(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function oO(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function aO(n,t,e,s){let i=0,r=e[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===r&&(t.push(n[o]),i++,r=e[i*s])}function Fr(n,t,e,s,i){const r=nt(s,0),o=Math.min(nt(i,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),i&&(l=i-s,e=l/Math.floor(l/e)),u=r;u<0;)a++,u=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(r+a*e))}function lO(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const cO=n=>n==="left"?"right":n==="right"?"left":n,Wh=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Vh=(n,t)=>Math.min(t||n,n);function Hh(n,t){const e=[],s=n.length/t,i=n.length;let r=0;for(;r<i;r+=s)e.push(n[Math.floor(r)]);return e}function uO(n,t,e){const s=n.ticks.length,i=Math.min(t,s-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(e&&(s===1?c=Math.max(l-r,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function hO(n,t){kt(n,e=>{const s=e.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[s[r]];s.splice(0,i)}})}function ki(n){return n.drawTicks?n.tickLength:0}function Uh(n,t){if(!n.display)return 0;const e=ie(n.font,t),s=be(n.padding);return(Nt(n.text)?n.text.length:1)*e.lineHeight+s.height}function dO(n,t){return es(n,{scale:t,type:"scale"})}function fO(n,t,e){return es(n,{tick:e,index:t,type:"tick"})}function gO(n,t,e){let s=pc(n);return(e&&t!=="right"||!e&&t==="right")&&(s=cO(s)),s}function pO(n,t,e,s){const{top:i,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-i,m=a-r;if(n.isHorizontal()){if(f=ce(s,r,a),ut(e)){const b=Object.keys(e)[0],y=e[b];p=u[b].getPixelForValue(y)+g-t}else e==="center"?p=(c.bottom+c.top)/2+g-t:p=Wh(n,e,t);d=a-r}else{if(ut(e)){const b=Object.keys(e)[0],y=e[b];f=u[b].getPixelForValue(y)-m+t}else e==="center"?f=(c.left+c.right)/2-m+t:f=Wh(n,e,t);p=ce(s,o,i),h=e==="left"?-Gt:Gt}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Ts extends Nn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=Le(t,Number.POSITIVE_INFINITY),e=Le(e,Number.NEGATIVE_INFINITY),s=Le(s,Number.POSITIVE_INFINITY),i=Le(i,Number.NEGATIVE_INFINITY),{min:Le(t,s),max:Le(e,i),minDefined:Ut(t),maxDefined:Ut(e)}}getMinMax(t){let{min:e,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:e,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),r||(s=Math.max(s,o.max));return e=r&&e>s?s:e,s=i&&e>s?e:s,{min:Le(e,Le(s,e)),max:Le(s,Le(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Hh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=sO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Dt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Vh(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!e.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=re(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-ki(t.grid)-e.padding-Uh(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=fc(Math.min(Math.asin(re((u.highest.height+6)/a,-1,1)),Math.asin(re(l/c,-1,1))-Math.asin(re(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Uh(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=ki(r)+l):(t.height=this.maxHeight,t.width=ki(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,p=Ye(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const b=s.mirror?0:m*h.width+g*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:g*h.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*t.width,f=s*e.height):(d=s*t.height,f=i*e.width):r==="start"?f=e.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=e.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)ct(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Hh(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/Vh(e,s));let c=0,u=0,h,d,f,p,g,m,b,y,w,x,k;for(h=0;h<e;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),i.font=m=g.string,b=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,w=x=0,!ct(p)&&!Nt(p))w=bo(i,b.data,b.gc,w,p),x=y;else if(Nt(p))for(d=0,f=p.length;d<f;++d)k=p[d],!ct(k)&&!Nt(k)&&(w=bo(i,b.data,b.gc,w,k),x+=y);o.push(w),a.push(x),c=Math.max(w,c),u=Math.max(x,u)}hO(r,e);const E=o.indexOf(c),O=a.indexOf(u),D=$=>({width:o[$]||0,height:a[$]||0});return{first:D(0),last:D(e-1),widest:D(E),highest:D(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Yk(this._alignToPixels?ls(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=fO(this.getContext(),t,s))}return this.$context||(this.$context=dO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ye(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=ki(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,b=function(it){return ls(s,it,g)};let y,w,x,k,E,O,D,$,K,X,ot,St;if(o==="top")y=b(this.bottom),O=this.bottom-d,$=y-m,X=b(t.top)+m,St=t.bottom;else if(o==="bottom")y=b(this.top),X=t.top,St=b(t.bottom)-m,O=y+m,$=this.top+d;else if(o==="left")y=b(this.right),E=this.right-d,D=y-m,K=b(t.left)+m,ot=t.right;else if(o==="right")y=b(this.left),K=t.left,ot=b(t.right)-m,E=y+m,D=this.left+d;else if(e==="x"){if(o==="center")y=b((t.top+t.bottom)/2+.5);else if(ut(o)){const it=Object.keys(o)[0],G=o[it];y=b(this.chart.scales[it].getPixelForValue(G))}X=t.top,St=t.bottom,O=y+m,$=O+d}else if(e==="y"){if(o==="center")y=b((t.left+t.right)/2);else if(ut(o)){const it=Object.keys(o)[0],G=o[it];y=b(this.chart.scales[it].getPixelForValue(G))}E=y-m,D=E-d,K=t.left,ot=t.right}const ee=nt(i.ticks.maxTicksLimit,h),ht=Math.max(1,Math.ceil(h/ee));for(w=0;w<h;w+=ht){const it=this.getContext(w),G=r.setContext(it),at=a.setContext(it),Pt=G.lineWidth,ye=G.color,_e=at.dash||[],Yt=at.dashOffset,Be=G.tickWidth,Ee=G.tickColor,Me=G.tickBorderDash||[],Qt=G.tickBorderDashOffset;x=uO(this,w,l),x!==void 0&&(k=ls(s,x,Pt),c?E=D=K=ot=k:O=$=X=St=k,f.push({tx1:E,ty1:O,tx2:D,ty2:$,x1:K,y1:X,x2:ot,y2:St,width:Pt,color:ye,borderDash:_e,borderDashOffset:Yt,tickWidth:Be,tickColor:Ee,tickBorderDash:Me,tickBorderDashOffset:Qt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=ki(s.grid),f=d+u,p=h?-u:f,g=-Ye(this.labelRotation),m=[];let b,y,w,x,k,E,O,D,$,K,X,ot,St="middle";if(i==="top")E=this.bottom-p,O=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+p,O=this._getXAxisLabelAlignment();else if(i==="left"){const ht=this._getYAxisLabelAlignment(d);O=ht.textAlign,k=ht.x}else if(i==="right"){const ht=this._getYAxisLabelAlignment(d);O=ht.textAlign,k=ht.x}else if(e==="x"){if(i==="center")E=(t.top+t.bottom)/2+f;else if(ut(i)){const ht=Object.keys(i)[0],it=i[ht];E=this.chart.scales[ht].getPixelForValue(it)+f}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")k=(t.left+t.right)/2-f;else if(ut(i)){const ht=Object.keys(i)[0],it=i[ht];k=this.chart.scales[ht].getPixelForValue(it)}O=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(l==="start"?St="top":l==="end"&&(St="bottom"));const ee=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){w=a[b],x=w.label;const ht=r.setContext(this.getContext(b));D=this.getPixelForTick(b)+r.labelOffset,$=this._resolveTickFontOptions(b),K=$.lineHeight,X=Nt(x)?x.length:1;const it=X/2,G=ht.color,at=ht.textStrokeColor,Pt=ht.textStrokeWidth;let ye=O;o?(k=D,O==="inner"&&(b===y-1?ye=this.options.reverse?"left":"right":b===0?ye=this.options.reverse?"right":"left":ye="center"),i==="top"?c==="near"||g!==0?ot=-X*K+K/2:c==="center"?ot=-ee.highest.height/2-it*K+K:ot=-ee.highest.height+K/2:c==="near"||g!==0?ot=K/2:c==="center"?ot=ee.highest.height/2-it*K:ot=ee.highest.height-X*K,h&&(ot*=-1),g!==0&&!ht.showLabelBackdrop&&(k+=K/2*Math.sin(g))):(E=D,ot=(1-X)*K/2);let _e;if(ht.showLabelBackdrop){const Yt=be(ht.backdropPadding),Be=ee.heights[b],Ee=ee.widths[b];let Me=ot-Yt.top,Qt=0-Yt.left;switch(St){case"middle":Me-=Be/2;break;case"bottom":Me-=Be;break}switch(O){case"center":Qt-=Ee/2;break;case"right":Qt-=Ee;break;case"inner":b===y-1?Qt-=Ee:b>0&&(Qt-=Ee/2);break}_e={left:Qt,top:Me,width:Ee+Yt.width,height:Be+Yt.height,color:ht.backdropColor}}m.push({label:x,font:$,textOffset:ot,options:{rotation:g,color:G,strokeColor:at,strokeWidth:Pt,textAlign:ye,textBaseline:St,translation:[k,E],backdrop:_e}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ye(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return e==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const l=i[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ls(t,this.left,o)-o/2,u=ls(t,this.right,a)+a/2,h=d=l):(h=ls(t,this.top,o)-o/2,d=ls(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,h),e.lineTo(u,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Ho(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ss(s,c,0,u,l,a)}i&&Uo(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const r=ie(s.font),o=be(s.padding),a=s.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||ut(e)?(l+=o.bottom,Nt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=pO(this,l,e,a);Ss(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:gO(a,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=nt(t.grid&&t.grid.z,-1),i=nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ts.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ie(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Br{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;yO(e)&&(s=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,mO(t,o,s),this.override&&$t.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in $t[i]&&(delete $t[i][s],this.override&&delete ks[s])}}function mO(n,t,e){const s=or(Object.create(null),[e?$t.get(e):{},$t.get(t),n.defaults]);$t.set(t,s),n.defaultRoutes&&bO(t,n.defaultRoutes),n.descriptors&&$t.describe(t,n.descriptors)}function bO(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),i=s.pop(),r=[n].concat(s).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");$t.route(r,i,l,a)})}function yO(n){return"id"in n&&"defaults"in n}class _O{constructor(){this.controllers=new Br(ns,"datasets",!0),this.elements=new Br(Nn,"elements"),this.plugins=new Br(Object,"plugins"),this.scales=new Br(Ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):kt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,s){const i=dc(t);Dt(s["before"+i],[],s),e[t](s),Dt(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var rn=new _O;class wO{constructor(){this._init=void 0}notify(t,e,s,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,e,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[e,i,r.options];if(Dt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=nt(s.options&&s.options.plugins,{}),r=vO(s);return i===!1&&!e?[]:kO(t,r,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function vO(n){const t={},e=[],s=Object.keys(rn.plugins.items);for(let r=0;r<s.length;r++)e.push(rn.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function xO(n,t){return!t&&n===!1?null:n===!0?{}:n}function kO(n,{plugins:t,localIds:e},s,i){const r=[],o=n.getContext();for(const a of t){const l=a.id,c=xO(s[l],i);c!==null&&r.push({plugin:a,options:SO(n.config,{plugin:a,local:e[l]},c,o)})}return r}function SO(n,{plugin:t,local:e},s,i){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(s,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wl(n,t){const e=$t.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function EO(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function OO(n,t){return n===t?"_index_":"_value_"}function zh(n){if(n==="x"||n==="y"||n==="r")return n}function TO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function vl(n,...t){if(zh(n))return n;for(const e of t){const s=e.axis||TO(e.position)||n.length>1&&zh(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function qh(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function PO(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return qh(n,"x",e[0])||qh(n,"y",e[0])}return{}}function CO(n,t){const e=ks[n.type]||{scales:{}},s=t.scales||{},i=wl(n.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=vl(o,a,PO(o,n),$t.scales[a.type]),c=OO(l,i),u=e.scales||{};r[o]=Ui(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||wl(a,t),u=(ks[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=EO(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Ui(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ui(a,[$t.scales[a.type],$t.scale])}),r}function Dp(n){const t=n.options||(n.options={});t.plugins=nt(t.plugins,{}),t.scales=CO(n,t)}function Rp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function AO(n){return n=n||{},n.data=Rp(n.data),Dp(n),n}const Yh=new Map,Ip=new Set;function Wr(n,t){let e=Yh.get(n);return e||(e=t(),Yh.set(n,e),Ip.add(e)),e}const Si=(n,t,e)=>{const s=Qn(t,e);s!==void 0&&n.add(s)};class MO{constructor(t){this._config=AO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Rp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Dp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Wr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Wr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Wr(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return(!i||e)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>Si(l,t,h))),u.forEach(h=>Si(l,i,h)),u.forEach(h=>Si(l,ks[r]||{},h)),u.forEach(h=>Si(l,$t,h)),u.forEach(h=>Si(l,yl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ip.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,ks[e]||{},$t.datasets[e]||{},{type:e},$t,yl]}resolveNamedOptions(t,e,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Kh(this._resolverCache,t,i);let l=o;if(RO(o,e)){r.$shared=!1,s=Zn(s)?s():s;const c=this.createResolver(t,s,a);l=ri(o,s,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,s=[""],i){const{resolver:r}=Kh(this._resolverCache,t,s);return ut(e)?ri(r,e,void 0,i):r}}function Kh(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const i=e.join();let r=s.get(i);return r||(r={resolver:yc(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const DO=n=>ut(n)&&Object.getOwnPropertyNames(n).some(t=>Zn(n[t]));function RO(n,t){const{isScriptable:e,isIndexable:s}=up(n);for(const i of t){const r=e(i),o=s(i),a=(o||r)&&n[i];if(r&&(Zn(a)||DO(a))||o&&Nt(a))return!0}return!1}var IO="4.5.1";const LO=["top","bottom","left","right","chartArea"];function Gh(n,t){return n==="top"||n==="bottom"||LO.indexOf(n)===-1&&t==="x"}function Jh(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function Xh(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Dt(e&&e.onComplete,[n],t)}function NO(n){const t=n.chart,e=t.options.animation;Dt(e&&e.onProgress,[n],t)}function Lp(n){return vc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Qr={},Qh=n=>{const t=Lp(n);return Object.values(Qr).filter(e=>e.canvas===t).pop()};function jO(n,t,e){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=t){const o=n[i];delete n[i],(e>0||r>t)&&(n[r+e]=o)}}}function $O(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}class Ec{static defaults=$t;static instances=Qr;static overrides=ks;static registry=rn;static version=IO;static getChart=Qh;static register(...t){rn.add(...t),Zh()}static unregister(...t){rn.remove(...t),Zh()}constructor(t,e){const s=this.config=new MO(e),i=Lp(t),r=Qh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||nO(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ik(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xk(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Qr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",Xh),yn.listen(this,"progress",NO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:r}=this;return ct(t)?e&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yh(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(t,e){yn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Dt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};kt(e,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=vl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kt(r,o=>{const a=o.options,l=a.id,c=vl(l,a),u=nt(a.type,o.dtype);(a.position===void 0||Gh(a.position,c)!==Gh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=rn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),kt(i,(o,a)=>{o||delete s[a]}),kt(s,o=>{fe.configure(this,o,o.options),fe.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>e){for(let i=e;i<s;++i)this._destroyDatasetMeta(i);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Jh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,i)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const r=e[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||wl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=rn.getController(a),{datasetElementType:c,dataElementType:u}=$t.datasets[a];Object.assign(l,{dataElementType:rn.getElement(u),datasetElementType:c&&rn.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){kt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||kt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Jh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,t=>{fe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!ch(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of e){const o=s==="_removeElements"?-r:r;jO(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<e;r++)if(!ch(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fe.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],kt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Zn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),Xh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,r;for(i=0,r=e.length;i<r;++i){const o=e[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=vp(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Ho(e,i),t.controller.draw(),i&&Uo(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Pn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const r=LE.modes[e];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);ar(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),yn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),yh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Qr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};kt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){kt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},kt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!go(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(e,t),a=s?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:r}=this,o=e,a=this._getActiveElements(t,i,s,o),l=Bk(t),c=$O(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Dt(r.onHover,[t,a,this],this),l&&Dt(r.onClick,[t,a,this],this));const u=!go(a,i);return(u||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=c,u}_getActiveElements(t,e,s,i){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Zh(){return kt(Ec.instances,n=>n._plugins.invalidate())}function FO(n,t,e){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,ue(s-e));if(n.beginPath(),n.arc(i,r,o-c/2,s+h/2,e-h/2),a>0){const d=Math.min(c/a,ue(s-e));n.arc(i,r,a+c/2,e-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*ue(s-e));if(u==="round")n.arc(i,r,d,e-pt/2,s+pt/2,!0);else if(u==="bevel"){const f=2*d*d,p=-f*Math.cos(e+pt/2)+i,g=-f*Math.sin(e+pt/2)+r,m=f*Math.cos(s+pt/2)+i,b=f*Math.sin(s+pt/2)+r;n.lineTo(p,g),n.lineTo(m,b)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function BO(n,t,e){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;n.beginPath(),n.arc(r,o,a,s-c,e+c),l>i?(c=i/l,n.arc(r,o,l,e+c,s-c,!0)):n.arc(r,o,i,e+Gt,s-Gt),n.closePath(),n.clip()}function WO(n){return bc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function VO(n,t,e,s){const i=WO(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(e-Math.min(r,l))*s/2;return re(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:re(i.innerStart,0,o),innerEnd:re(i.innerEnd,0,o)}}function js(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function wo(n,t,e,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+s+e-c,0),d=u>0?u+s+e+c:0;let f=0;const p=i-l;if(s){const ht=u>0?u-s:0,it=h>0?h-s:0,G=(ht+it)/2,at=G!==0?p*G/(G+s):p;f=(p-at)/2}const g=Math.max(.001,p*h-e/pt)/h,m=(p-g)/2,b=l+m+f,y=i-m-f,{outerStart:w,outerEnd:x,innerStart:k,innerEnd:E}=VO(t,d,h,y-b),O=h-w,D=h-x,$=b+w/O,K=y-x/D,X=d+k,ot=d+E,St=b+k/X,ee=y-E/ot;if(n.beginPath(),r){const ht=($+K)/2;if(n.arc(o,a,h,$,ht),n.arc(o,a,h,ht,K),x>0){const Pt=js(D,K,o,a);n.arc(Pt.x,Pt.y,x,K,y+Gt)}const it=js(ot,y,o,a);if(n.lineTo(it.x,it.y),E>0){const Pt=js(ot,ee,o,a);n.arc(Pt.x,Pt.y,E,y+Gt,ee+Math.PI)}const G=(y-E/d+(b+k/d))/2;if(n.arc(o,a,d,y-E/d,G,!0),n.arc(o,a,d,G,b+k/d,!0),k>0){const Pt=js(X,St,o,a);n.arc(Pt.x,Pt.y,k,St+Math.PI,b-Gt)}const at=js(O,b,o,a);if(n.lineTo(at.x,at.y),w>0){const Pt=js(O,$,o,a);n.arc(Pt.x,Pt.y,w,b-Gt,$)}}else{n.moveTo(o,a);const ht=Math.cos($)*h+o,it=Math.sin($)*h+a;n.lineTo(ht,it);const G=Math.cos(K)*h+o,at=Math.sin(K)*h+a;n.lineTo(G,at)}n.closePath()}function HO(n,t,e,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){wo(n,t,e,s,l,i);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%It||It))}return wo(n,t,e,s,l,i),n.fill(),l}function UO(n,t,e,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=d,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=t.endAngle;if(r){wo(n,t,e,s,g,i);for(let m=0;m<r;++m)n.stroke();isNaN(a)||(g=o+(a%It||It))}p&&BO(n,t,g),l.selfJoin&&g-o>=pt&&f===0&&u!=="miter"&&FO(n,t,g),r||(wo(n,t,e,s,g,i),n.stroke())}class zO extends Nn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=tp(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=nt(h,l-a),p=lr(r,a,l)&&a!==l,g=f>=It||p,m=On(o,c+d,u+d);return g&&m}getCenterPoint(t){const{x:e,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:e+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=s>It?Math.floor(s/It):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(pt,s||0)),c=i*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,HO(t,this,c,r,o),UO(t,this,c,r,o),t.restore()}}function Np(n,t,e=t){n.lineCap=nt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(nt(e.borderDash,t.borderDash)),n.lineDashOffset=nt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=nt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=nt(e.borderWidth,t.borderWidth),n.strokeStyle=nt(e.borderColor,t.borderColor)}function qO(n,t,e){n.lineTo(e.x,e.y)}function YO(n){return n.stepped?cS:n.tension||n.cubicInterpolationMode==="monotone"?uS:qO}function jp(n,t,e={}){const s=n.length,{start:i=0,end:r=s-1}=e,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function KO(n,t,e,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=jp(i,e,s),u=YO(r);let{move:h=!0,reverse:d}=s||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(d?c-f:f))%o],!p.skip&&(h?(n.moveTo(p.x,p.y),h=!1):u(n,g,p,d,r.stepped),g=p);return l&&(p=i[(a+(d?c:0))%o],u(n,g,p,d,r.stepped)),!!l}function GO(n,t,e,s){const i=t.points,{count:r,start:o,ilen:a}=jp(i,e,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,p,g,m,b;const y=x=>(o+(c?a-x:x))%r,w=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,b))};for(l&&(f=i[y(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,k=f.y,E=x|0;E===p?(k<g?g=k:k>m&&(m=k),u=(h*u+x)/++h):(w(),n.lineTo(x,k),p=E,h=0,g=m=k),b=k}w()}function xl(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?GO:KO}function JO(n){return n.stepped?VS:n.tension||n.cubicInterpolationMode==="monotone"?HS:gs}function XO(n,t,e,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,s)&&i.closePath()),Np(n,t.options),n.stroke(i)}function QO(n,t,e,s){const{segments:i,options:r}=t,o=xl(t);for(const a of i)Np(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const ZO=typeof Path2D=="function";function tT(n,t,e,s){ZO&&!t.options.segment?XO(n,t,e,s):QO(n,t,e,s)}class Yo extends Nn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;IS(this._points,s,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GS(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],r=this.points,o=wp(this,{property:e,start:i,end:i});if(!o.length)return;const a=[],l=JO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((i-f[e])/(p[e]-f[e])),m=l(f,p,g,s.stepped);m[e]=t[e],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,e,s){return xl(this)(t,this,e,s)}path(t,e,s){const i=this.segments,r=xl(this);let o=this._loop;e=e||0,s=s||this.points.length-e;for(const a of i)o&=r(t,this,a,{start:e,end:e+s-1});return!!o}draw(t,e,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),tT(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function td(n,t,e,s){const i=n.options,{[e]:r}=n.getProps([e],s);return Math.abs(t-r)<i.radius+i.hitRadius}class eT extends Nn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return td(this,t,"x",e)}inYRange(t,e){return td(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!Pn(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,_l(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $p(n,t){const{x:e,y:s,base:i,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,i),l=Math.max(e,i),c=s-h,u=s+h):(h=r/2,a=e-h,l=e+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Kn(n,t,e,s){return n?0:re(t,e,s)}function nT(n,t,e){const s=n.options.borderWidth,i=n.borderSkipped,r=cp(s);return{t:Kn(i.top,r.top,0,e),r:Kn(i.right,r.right,0,t),b:Kn(i.bottom,r.bottom,0,e),l:Kn(i.left,r.left,0,t)}}function sT(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=vs(i),o=Math.min(t,e),a=n.borderSkipped,l=s||ut(i);return{topLeft:Kn(!l||a.top||a.left,r.topLeft,0,o),topRight:Kn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Kn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Kn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function iT(n){const t=$p(n),e=t.right-t.left,s=t.bottom-t.top,i=nT(n,e/2,s/2),r=sT(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ia(n,t,e,s){const i=t===null,r=e===null,a=n&&!(i&&r)&&$p(n,s);return a&&(i||On(t,a.left,a.right))&&(r||On(e,a.top,a.bottom))}function rT(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function oT(n,t){n.rect(t.x,t.y,t.w,t.h)}function La(n,t,e={}){const s=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-s,o=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+o,radius:n.radius}}class aT extends Nn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=iT(this),a=rT(o.radius)?cr:oT;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,La(o,e,r)),t.clip(),a(t,La(r,-e,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,La(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,s){return Ia(this,t,e,s)}inXRange(t,e){return Ia(this,t,null,e)}inYRange(t,e){return Ia(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var lT=Object.freeze({__proto__:null,ArcElement:zO,BarElement:aT,LineElement:Yo,PointElement:eT});const kl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ed=kl.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Fp(n){return kl[n%kl.length]}function Bp(n){return ed[n%ed.length]}function cT(n,t){return n.borderColor=Fp(t),n.backgroundColor=Bp(t),++t}function uT(n,t){return n.backgroundColor=n.data.map(()=>Fp(t++)),t}function hT(n,t){return n.backgroundColor=n.data.map(()=>Bp(t++)),t}function dT(n){let t=0;return(e,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof kc?t=uT(e,t):i instanceof Ep?t=hT(e,t):i&&(t=cT(e,t))}}function nd(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function fT(n){return n&&(n.borderColor||n.backgroundColor)}function gT(){return $t.borderColor!=="rgba(0,0,0,0.1)"||$t.backgroundColor!=="rgba(0,0,0,0.1)"}var pT={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,o=nd(s)||fT(i)||r&&nd(r)||gT();if(!e.forceOverride&&o)return;const a=dT(n);s.forEach(a)}};function mT(n,t,e,s,i){const r=i.samples||s;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let u=t,h,d,f,p,g;for(o[l++]=n[u],h=0;h<r-2;h++){let m=0,b=0,y;const w=Math.floor((h+1)*a)+1+t,x=Math.min(Math.floor((h+2)*a)+1,e)+t,k=x-w;for(y=w;y<x;y++)m+=n[y].x,b+=n[y].y;m/=k,b/=k;const E=Math.floor(h*a)+1+t,O=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:D,y:$}=n[u];for(f=p=-1,y=E;y<O;y++)p=.5*Math.abs((D-m)*(n[y].y-$)-(D-n[y].x)*(b-$)),p>f&&(f=p,d=n[y],g=y);o[l++]=d,u=g}return o[l++]=n[c],o}function bT(n,t,e,s){let i=0,r=0,o,a,l,c,u,h,d,f,p,g;const m=[],b=t+e-1,y=n[t].x,x=n[b].x-y;for(o=t;o<t+e;++o){a=n[o],l=(a.x-y)/x*s,c=a.y;const k=l|0;if(k===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!ct(h)&&!ct(d)){const O=Math.min(h,d),D=Math.max(h,d);O!==f&&O!==E&&m.push({...n[O],x:i}),D!==f&&D!==E&&m.push({...n[D],x:i})}o>0&&E!==f&&m.push(n[E]),m.push(a),u=k,r=0,p=g=c,h=d=f=o}}return m}function Wp(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function sd(n){n.data.datasets.forEach(t=>{Wp(t)})}function yT(n,t){const e=t.length;let s=0,i;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=re(Tn(t,r.axis,o).lo,0,e-1)),c?i=re(Tn(t,r.axis,a).hi+1,s,e)-s:i=e-s,{start:s,count:i}}var _T={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){sd(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(r),c=o||i.data;if(Mi([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:d}=yT(l,c);const f=e.threshold||4*s;if(d<=f){Wp(i);return}ct(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(e.algorithm){case"lttb":p=mT(c,h,d,s,e);break;case"min-max":p=bT(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=p})},destroy(n){sd(n)}};function wT(n,t,e){const s=n.segments,i=n.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Ko(l,c,i);const u=Sl(e,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=wp(t,u);for(const d of h){const f=Sl(e,r[d.start],r[d.end],d.loop),p=_p(a,i,f);for(const g of p)o.push({source:g,target:d,start:{[e]:id(u,f,"start",Math.max)},end:{[e]:id(u,f,"end",Math.min)}})}}return o}function Sl(n,t,e,s){if(s)return;let i=t[n],r=e[n];return n==="angle"&&(i=ue(i),r=ue(r)),{property:n,start:i,end:r}}function vT(n,t){const{x:e=null,y:s=null}=n||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Ko(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Ko(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function id(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function Vp(n,t){let e=[],s=!1;return Nt(n)?(s=!0,e=n):e=vT(n,t),e.length?new Yo({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function rd(n){return n&&n.fill!==!1}function xT(n,t,e){let i=n[t].fill;const r=[t];let o;if(!e)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Ut(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function kT(n,t,e){const s=TT(n);if(ut(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Ut(i)&&Math.floor(i)===i?ST(s[0],t,i,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function ST(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function ET(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:ut(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function OT(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:ut(n)?s=n.value:s=t.getBaseValue(),s}function TT(n){const t=n.options,e=t.fill;let s=nt(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function PT(n){const{scale:t,index:e,line:s}=n,i=[],r=s.segments,o=s.points,a=CT(t,e);a.push(Vp({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)AT(i,o[u],a)}return new Yo({points:i,options:{}})}function CT(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function AT(n,t,e){const s=[];for(let i=0;i<e.length;i++){const r=e[i],{first:o,last:a,point:l}=MT(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function MT(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const i=s[e],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][e],d=o[u.end][e];if(On(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class Hp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:It},t.arc(i,r,o,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function DT(n){const{chart:t,fill:e,line:s}=n;if(Ut(e))return RT(t,e);if(e==="stack")return PT(n);if(e==="shape")return!0;const i=IT(n);return i instanceof Hp?i:Vp(i,s)}function RT(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function IT(n){return(n.scale||{}).getPointPositionForValue?NT(n):LT(n)}function LT(n){const{scale:t={},fill:e}=n,s=ET(e,t);if(Ut(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function NT(n){const{scale:t,fill:e}=n,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=OT(e,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Hp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Na(n,t,e){const s=DT(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=i.getDatasetMeta(r),g=vp(i,p);s&&o.points.length&&(Ho(n,e),jT(n,{line:o,target:s,above:d,below:f,area:e,scale:a,axis:l,clip:g}),Uo(n))}function jT(n,t){const{line:e,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let u=r;r!==i&&(c==="x"?(od(n,s,o.top),ja(n,{line:e,target:s,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),od(n,s,o.bottom)):c==="y"&&(ad(n,s,o.left),ja(n,{line:e,target:s,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),ad(n,s,o.right),u=i)),ja(n,{line:e,target:s,color:u,scale:a,property:c,clip:l}),n.restore()}function od(n,t,e){const{segments:s,points:i}=t;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Ko(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function ad(n,t,e){const{segments:s,points:i}=t;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Ko(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(e,h.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function ja(n,t){const{line:e,target:s,property:i,color:r,scale:o,clip:a}=t,l=wT(e,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,p=s!==!0;n.save(),n.fillStyle=f,$T(n,o,a,p&&Sl(i,h,d)),n.beginPath();const g=!!e.pathSegment(n,c);let m;if(p){g?n.closePath():ld(n,s,d,i);const b=!!s.pathSegment(n,u,{move:g,reverse:!0});m=g&&b,m||ld(n,s,h,i)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function $T(n,t,e,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),c=Math.max(c,e.top),h=Math.min(h,e.bottom)),n.rect(l,c,u-l,h-c),n.clip()}}function ld(n,t,e,s){const i=t.interpolate(e,s);i&&n.lineTo(i.x,i.y)}var FT={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Yo&&(l={visible:n.isDatasetVisible(o),index:o,fill:kT(a,o,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=xT(i,o,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Na(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;rd(r)&&Na(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!rd(s)||e.drawTime!=="beforeDatasetDraw"||Na(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cd=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},BT=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class ud extends Nn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Dt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=ie(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=cd(s,r);let c,u;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const m=s+e/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(t,e,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:w}=WT(s,e,r,m,i);b>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[b]={left:p,top:f,col:g,width:y,height:w},d=Math.max(d,y),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Qs(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ce(s,this.left+i,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=ce(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ce(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=ce(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ho(t,this),this._draw(),Uo(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=$t.color,l=Qs(t.rtl,this.left,this.width),c=ie(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=cd(o,h),b=function(E,O,D){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const $=nt(D.lineWidth,1);if(i.fillStyle=nt(D.fillStyle,a),i.lineCap=nt(D.lineCap,"butt"),i.lineDashOffset=nt(D.lineDashOffset,0),i.lineJoin=nt(D.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=nt(D.strokeStyle,a),i.setLineDash(nt(D.lineDash,[])),o.usePointStyle){const K={radius:g*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:$},X=l.xPlus(E,p/2),ot=O+d;lp(i,K,X,ot,o.pointStyleWidth&&p)}else{const K=O+Math.max((h-g)/2,0),X=l.leftForLtr(E,p),ot=vs(D.borderRadius);i.beginPath(),Object.values(ot).some(St=>St!==0)?cr(i,{x:X,y:K,w:p,h:g,radius:ot}):i.rect(X,K,p,g),i.fill(),$!==0&&i.stroke()}i.restore()},y=function(E,O,D){Ss(i,D.text,E,O+m/2,c,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:ce(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:ce(r,this.top+x+u,this.bottom-e[0].height),line:0},mp(this.ctx,t.textDirection);const k=m+u;this.legendItems.forEach((E,O)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const D=i.measureText(E.text).width,$=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),K=p+d+D;let X=f.x,ot=f.y;l.setWidth(this.width),w?O>0&&X+K+u>this.right&&(ot=f.y+=k,f.line++,X=f.x=ce(r,this.left+u,this.right-s[f.line])):O>0&&ot+k>this.bottom&&(X=f.x=X+e[f.line].width+u,f.line++,ot=f.y=ce(r,this.top+x+u,this.bottom-e[f.line].height));const St=l.x(X);if(b(St,ot,E),X=Qk($,X+p+d,w?X+K:this.right,t.rtl),y(l.x(X),ot,E),w)f.x+=K+u;else if(typeof E.text!="string"){const ee=c.lineHeight;f.y+=Up(E,ee)+u}else f.y+=k}),bp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=ie(e.font),i=be(e.padding);if(!e.display)return;const r=Qs(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ce(t.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+ce(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const f=ce(a,h,h+d);o.textAlign=r.textAlign(pc(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=s.string,Ss(o,e.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,e=ie(t.font),s=be(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,r;if(On(t,this.left,this.right)&&On(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],On(t,i.left,i.left+i.width)&&On(e,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!UT(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=BT(i,s);i&&!r&&Dt(e.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Dt(e.onHover,[t,s,this],this)}else s&&Dt(e.onClick,[t,s,this],this)}}function WT(n,t,e,s,i){const r=VT(s,n,t,e),o=HT(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function VT(n,t,e,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+s.measureText(i).width}function HT(n,t,e){let s=n;return typeof t.text!="string"&&(s=Up(t,e)),s}function Up(n,t){const e=n.text?n.text.length:0;return t*e}function UT(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var zT={id:"legend",_element:ud,start(n,t,e){const s=n.legend=new ud({ctx:n.ctx,options:e,chart:n});fe.configure(n,s,e),fe.addBox(n,s)},stop(n){fe.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;fe.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,i=e.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),u=be(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Oc extends Nn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=Nt(s.text)?s.text.length:1;this._padding=be(s.padding);const r=i*ie(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ce(a,s,r),h=e+t,c=r-s):(o.position==="left"?(u=s+t,h=ce(a,i,e),l=pt*-.5):(u=r-t,h=ce(a,e,i),l=pt*.5),c=i-e),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=ie(e.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ss(t,e.text,0,0,s,{color:e.color,maxWidth:l,rotation:c,textAlign:pc(e.align),textBaseline:"middle",translation:[o,a]})}}function qT(n,t){const e=new Oc({ctx:n.ctx,options:t,chart:n});fe.configure(n,e,t),fe.addBox(n,e),n.titleBlock=e}var YT={id:"title",_element:Oc,start(n,t,e){qT(n,e)},stop(n){const t=n.titleBlock;fe.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;fe.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr=new WeakMap;var KT={id:"subtitle",start(n,t,e){const s=new Oc({ctx:n.ctx,options:e,chart:n});fe.configure(n,s,e),fe.addBox(n,s),Vr.set(n,s)},stop(n){fe.removeBox(n,Vr.get(n)),Vr.delete(n)},beforeUpdate(n,t,e){const s=Vr.get(n);fe.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ri={average(n){if(!n.length)return!1;let t,e,s=new Set,i=0,r=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=bl(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,s=l.y}return{x:e,y:s}}};function nn(n,t){return t&&(Nt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function _n(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function GT(n,t){const{element:e,datasetIndex:s,index:i}=t,r=n.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:n,label:o,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:e}}function hd(n,t){const e=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:o,boxHeight:a}=t,l=ie(t.bodyFont),c=ie(t.titleFont),u=ie(t.footerFont),h=r.length,d=i.length,f=s.length,p=be(t.padding);let g=p.height,m=0,b=s.reduce((x,k)=>x+k.before.length+k.lines.length+k.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*x+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const w=function(x){m=Math.max(m,e.measureText(x).width+y)};return e.save(),e.font=c.string,kt(n.title,w),e.font=l.string,kt(n.beforeBody.concat(n.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,kt(s,x=>{kt(x.before,w),kt(x.lines,w),kt(x.after,w)}),y=0,e.font=u.string,kt(n.footer,w),e.restore(),m+=p.width,{width:m,height:g}}function JT(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function XT(n,t,e,s){const{x:i,width:r}=s,o=e.caretSize+e.caretPadding;if(n==="left"&&i+r+o>t.width||n==="right"&&i-r-o<0)return!0}function QT(n,t,e,s){const{x:i,width:r}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),XT(c,n,t,e)&&(c="center"),c}function dd(n,t,e){const s=e.yAlign||t.yAlign||JT(n,e);return{xAlign:e.xAlign||t.xAlign||QT(n,t,e,s),yAlign:s}}function ZT(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function tP(n,t,e){let{y:s,height:i}=n;return t==="top"?s+=e:t==="bottom"?s-=i+e:s-=i/2,s}function fd(n,t,e,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=vs(o);let p=ZT(t,a);const g=tP(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:re(p,0,s.width-t.width),y:re(g,0,s.height-t.height)}}function Hr(n,t,e){const s=be(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function gd(n){return nn([],_n(n))}function eP(n,t,e){return es(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pd(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const zp={beforeTitle:mn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ct(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn};function Pe(n,t,e,s){const i=n[t].call(e,s);return typeof i>"u"?zp[t].call(e,s):i}class md extends Nn{static positioners=Ri;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,r=new xp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=eP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,i=Pe(s,"beforeTitle",this,t),r=Pe(s,"title",this,t),o=Pe(s,"afterTitle",this,t);let a=[];return a=nn(a,_n(i)),a=nn(a,_n(r)),a=nn(a,_n(o)),a}getBeforeBody(t,e){return gd(Pe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return kt(t,r=>{const o={before:[],lines:[],after:[]},a=pd(s,r);nn(o.before,_n(Pe(a,"beforeLabel",this,r))),nn(o.lines,Pe(a,"label",this,r)),nn(o.after,_n(Pe(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,e){return gd(Pe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=Pe(s,"beforeFooter",this,t),r=Pe(s,"footer",this,t),o=Pe(s,"afterFooter",this,t);let a=[];return a=nn(a,_n(i)),a=nn(a,_n(r)),a=nn(a,_n(o)),a}_createItems(t){const e=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(GT(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),kt(a,u=>{const h=pd(t.callbacks,u);i.push(Pe(h,"labelColor",this,u)),r.push(Pe(h,"labelPointStyle",this,u)),o.push(Pe(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ri[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=hd(this,s),c=Object.assign({},a,l),u=dd(this.chart,s,c),h=fd(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const r=this.getCaretPosition(t,s,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=vs(a),{x:d,y:f}=t,{width:p,height:g}=e;let m,b,y,w,x,k;return r==="center"?(x=f+g/2,i==="left"?(m=d,b=m-o,w=x+o,k=x-o):(m=d+p,b=m+o,w=x-o,k=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+p-Math.max(c,h)-o:b=this.caretX,r==="top"?(w=f,x=w-o,m=b-o,y=b+o):(w=f+g,x=w+o,m=b+o,y=b-o),k=w),{x1:m,x2:b,x3:y,y1:w,y2:x,y3:k}}drawTitle(t,e,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Qs(s.rtl,this.x,this.width);for(t.x=Hr(this,s.titleAlign,s),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",o=ie(s.titleFont),a=s.titleSpacing,e.fillStyle=s.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,e,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ie(r.bodyFont),h=Hr(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=e.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,_l(t,g,m,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,_l(t,g,m,b)}else{t.lineWidth=ut(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=vs(o.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,cr(t,{x:g,y:p,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),cr(t,{x:m,y:p+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ie(s.bodyFont);let d=h.lineHeight,f=0;const p=Qs(s.rtl,this.x,this.width),g=function(D){e.fillText(D,p.x(t.x+f),t.y+d/2),t.y+=d+r},m=p.textAlign(o);let b,y,w,x,k,E,O;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Hr(this,m,s),e.fillStyle=s.bodyColor,kt(this.beforeBody,g),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(b=i[x],y=this.labelTextColors[x],e.fillStyle=y,kt(b.before,g),w=b.lines,a&&w.length&&(this._drawColorBox(e,t,x,p,s),d=Math.max(h.lineHeight,l)),k=0,O=w.length;k<O;++k)g(w[k]),d=h.lineHeight;kt(b.after,g)}f=0,d=h.lineHeight,kt(this.afterBody,g),t.y-=r}drawFooter(t,e,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Qs(s.rtl,this.x,this.width);for(t.x=Hr(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",o=ie(s.footerFont),e.fillStyle=s.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=vs(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,s,i),e.lineTo(a+c-d,l),e.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,e,s,i),e.lineTo(a+c,l+u-p),e.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,e,s,i),e.lineTo(a+f,l+u),e.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,e,s,i),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ri[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=hd(this,t),l=Object.assign({},o,this._size),c=dd(e,t,l),u=fd(t,l,c,e);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=be(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,e),mp(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),bp(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!go(s,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,s),a=this._positionChanged(o,t),l=e||!go(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:s,caretY:i,options:r}=this,o=Ri[r.position].call(this,t,e);return o!==!1&&(s!==o.x||i!==o.y)}}var nP={id:"tooltip",_element:md,positioners:Ri,afterInit(n,t,e){e&&(n.tooltip=new md({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},sP=Object.freeze({__proto__:null,Colors:pT,Decimation:_T,Filler:FT,Legend:zT,SubTitle:KT,Title:YT,Tooltip:nP});const iP=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function rP(n,t,e,s){const i=n.indexOf(t);if(i===-1)return iP(n,t,e,s);const r=n.lastIndexOf(t);return i!==r?e:i}const oP=(n,t)=>n===null?null:re(Math.round(n),0,t);function bd(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class aP extends Ts{static id="category";static defaults={ticks:{callback:bd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:i,label:r}of e)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ct(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:rP(s,t,nt(e,t),this._addedLabels),oP(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return bd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function lP(n,t){const e=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=r||1,p=u-1,{min:g,max:m}=t,b=!ct(o),y=!ct(a),w=!ct(c),x=(m-g)/(h+1);let k=hh((m-g)/p/f)*f,E,O,D,$;if(k<1e-14&&!b&&!y)return[{value:g},{value:m}];$=Math.ceil(m/k)-Math.floor(g/k),$>p&&(k=hh($*k/p/f)*f),ct(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),i==="ticks"?(O=Math.floor(g/k)*k,D=Math.ceil(m/k)*k):(O=g,D=m),b&&y&&r&&zk((a-o)/r,k/1e3)?($=Math.round(Math.min((a-o)/k,u)),k=(a-o)/$,O=o,D=a):w?(O=b?o:O,D=y?a:D,$=c-1,k=(D-O)/$):($=(D-O)/k,zi($,Math.round($),k/1e3)?$=Math.round($):$=Math.ceil($));const K=Math.max(dh(k),dh(O));E=Math.pow(10,ct(l)?K:l),O=Math.round(O*E)/E,D=Math.round(D*E)/E;let X=0;for(b&&(d&&O!==o?(e.push({value:o}),O<o&&X++,zi(Math.round((O+X*k)*E)/E,o,yd(o,x,n))&&X++):O<o&&X++);X<$;++X){const ot=Math.round((O+X*k)*E)/E;if(y&&ot>a)break;e.push({value:ot})}return y&&d&&D!==a?e.length&&zi(e[e.length-1].value,a,yd(a,x,n))?e[e.length-1].value=a:e.push({value:a}):(!y||D===a)&&e.push({value:D}),e}function yd(n,t,{horizontal:e,minRotation:s}){const i=Ye(s),r=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}class vo extends Ts{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ct(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=e?i:l,a=l=>r=s?r:l;if(t){const l=hn(i),c=hn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=lP(i,r);return t.bounds==="ticks"&&Zg(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return mr(t,this.chart.options.locale,this.options.ticks.format)}}class cP extends vo{static id="linear";static defaults={ticks:{callback:Vo.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ut(t)?t:0,this.max=Ut(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Ye(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const hr=n=>Math.floor(qn(n)),us=(n,t)=>Math.pow(10,hr(n)+t);function _d(n){return n/Math.pow(10,hr(n))===1}function wd(n,t,e){const s=Math.pow(10,e),i=Math.floor(n/s);return Math.ceil(t/s)-i}function uP(n,t){const e=t-n;let s=hr(e);for(;wd(n,t,s)>10;)s++;for(;wd(n,t,s)<10;)s--;return Math.min(s,hr(n))}function hP(n,{min:t,max:e}){t=Le(n.min,t);const s=[],i=hr(t);let r=uP(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Le(n.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<e;)s.push({value:d,major:_d(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Le(n.max,d);return s.push({value:f,major:_d(f),significand:h}),s}class dP extends Ts{static id="logarithmic";static defaults={ticks:{callback:Vo.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=vo.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return Ut(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ut(t)?Math.max(0,t):null,this.max=Ut(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ut(this._userMin)&&(this.min=t===us(this.min,0)?us(this.min,-1):us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=e?i:a;s===i&&(s<=0?(r(1),o(10)):(r(us(s,-1)),o(us(i,1)))),s<=0&&r(us(i,-1)),i<=0&&o(us(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},s=hP(e,this);return t.bounds==="ticks"&&Zg(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":mr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=qn(t),this._valueRange=qn(this.max)-qn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function El(n){const t=n.ticks;if(t.display&&n.display){const e=be(t.backdropPadding);return nt(t.font&&t.font.size,$t.font.size)+e.height}return 0}function fP(n,t,e){return e=Nt(e)?e:[e],{w:lS(n,t.string,e),h:e.length*t.lineHeight}}function vd(n,t,e,s,i){return n===s||n===i?{start:t-e/2,end:t+e/2}:n<s||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function gP(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],i=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?pt/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),h=ie(c.font),d=fP(n.ctx,h,n._pointLabels[l]);s[l]=d;const f=ue(n.getIndexAngle(l)+a),p=Math.round(fc(f)),g=vd(p,u.x,d.w,0,180),m=vd(p,u.y,d.h,90,270);pP(e,t,f,g,m)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=yP(n,s,i)}function pP(n,t,e,s,i){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,n.l=Math.min(n.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,n.t=Math.min(n.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function mP(n,t,e){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=e,l=n.getPointPosition(t,s+i+o,r),c=Math.round(fc(ue(l.angle+Gt))),u=vP(l.y,a.h,c),h=_P(c),d=wP(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function bP(n,t){if(!t)return!0;const{left:e,top:s,right:i,bottom:r}=n;return!(Pn({x:e,y:s},t)||Pn({x:e,y:r},t)||Pn({x:i,y:s},t)||Pn({x:i,y:r},t))}function yP(n,t,e){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:El(r)/2,additionalAngle:o?pt/i:0};let c;for(let u=0;u<i;u++){l.padding=e[u],l.size=t[u];const h=mP(n,u,l);s.push(h),a==="auto"&&(h.visible=bP(h,c),h.visible&&(c=h))}return s}function _P(n){return n===0||n===180?"center":n<180?"left":"right"}function wP(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function vP(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function xP(n,t,e){const{left:s,top:i,right:r,bottom:o}=e,{backdropColor:a}=t;if(!ct(a)){const l=vs(t.borderRadius),c=be(t.backdropPadding);n.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),cr(n,{x:u,y:h,w:d,h:f,radius:l}),n.fill()):n.fillRect(u,h,d,f)}}function kP(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let i=t-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(n.getPointLabelContext(i));xP(e,o,r);const a=ie(o.font),{x:l,y:c,textAlign:u}=r;Ss(e,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function qp(n,t,e,s){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,It);else{let r=n.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=n.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function SP(n,t,e,s,i){const r=n.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),qp(n,e,o,s),r.closePath(),r.stroke(),r.restore())}function EP(n,t,e){return es(n,{label:e,index:t,type:"pointLabel"})}class OP extends vo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=be(El(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ut(t)&&!isNaN(t)?t:0,this.max=Ut(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/El(this.options))}generateTickLabels(t){vo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const i=Dt(this.options.pointLabels.callback,[e,s],this);return i||i===0?i:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?gP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i))}getIndexAngle(t){const e=It/(this._pointLabels.length||1),s=this.options.startAngle||0;return ue(t*e+Ye(s))}getDistanceFromCenterForValue(t){if(ct(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ct(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return EP(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-Gt+s;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),qp(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&kP(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),p=r.setContext(d);SP(this,f,l,o,p)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=s.setContext(this.getContext(l)),u=ie(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=be(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Ss(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Go={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ae=Object.keys(Go);function xd(n,t){return n-t}function kd(n,t){if(ct(t))return null;const e=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Ut(o)||(o=typeof s=="string"?e.parse(o,s):e.parse(o)),o===null?null:(i&&(o=i==="week"&&(ii(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,i)),+o)}function Sd(n,t,e,s){const i=Ae.length;for(let r=Ae.indexOf(n);r<i-1;++r){const o=Go[Ae[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=s)return Ae[r]}return Ae[i-1]}function TP(n,t,e,s,i){for(let r=Ae.length-1;r>=Ae.indexOf(e);r--){const o=Ae[r];if(Go[o].common&&n._adapter.diff(i,s,o)>=t-1)return o}return Ae[e?Ae.indexOf(e):0]}function PP(n){for(let t=Ae.indexOf(n)+1,e=Ae.length;t<e;++t)if(Go[Ae[t]].common)return Ae[t]}function Ed(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:i}=gc(e,t),r=e[s]>=t?e[s]:e[i];n[r]=!0}}function CP(n,t,e,s){const i=n._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=e[a],l>=0&&(t[l].major=!0);return t}function Od(n,t,e){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!e?s:CP(n,s,i,e)}class Ol extends Ts{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new Op._date(t.adapters.date);i.init(e),Ui(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:kd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ut(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),r=Ut(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Gk(i,r,o);return this._unit=e.unit||(s.autoSkip?Sd(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):TP(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:PP(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Od(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=re(e,0,o),s=re(s,0,o),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Sd(r.minUnit,e,s,this._getLabelCapacity(e)),a=nt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ii(l)||l===!0,u={};let h=e,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,e,o)>1e5*a)throw new Error(e+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+t.add(d,a,o),f++)Ed(u,d,p);return(d===s||i.bounds==="ticks"||f===1)&&Ed(u,d,p),Object.keys(u).sort(xd).map(g=>+g)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,r=this._unit,o=e||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,s,i){const r=this.options,o=r.ticks.callback;if(o)return Dt(o,[t,e,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[e],f=c&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=Ye(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,Od(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,s=i.length;e<s;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(kd(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return np(t.sort(xd))}}function Ur(n,t,e){let s=0,i=n.length-1,r,o,a,l;e?(t>=n[s].pos&&t<=n[i].pos&&({lo:s,hi:i}=Tn(n,"pos",t)),{pos:r,time:a}=n[s],{pos:o,time:l}=n[i]):(t>=n[s].time&&t<=n[i].time&&({lo:s,hi:i}=Tn(n,"time",t)),{time:r,pos:a}=n[s],{time:o,pos:l}=n[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class AP extends Ol{static id="timeseries";static defaults=Ol.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ur(e,this.min),this._tableRange=Ur(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=s&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ur(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Ur(this._table,s*this._tableRange+this._minPos,!0)}}var MP=Object.freeze({__proto__:null,CategoryScale:aP,LinearScale:cP,LogarithmicScale:dP,RadialLinearScale:OP,TimeScale:Ol,TimeSeriesScale:AP});const DP=[AE,lT,sP,MP];Ec.register(...DP);const Yp=6048e5,RP=864e5,br=6e4,yr=36e5,IP=1e3,Td=Symbol.for("constructDateFrom");function zt(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Td in n?n[Td](t):n instanceof Date?new n.constructor(t):new Date(t)}function st(n,t){return zt(t||n,n)}function Jo(n,t,e){const s=st(n,e?.in);return isNaN(t)?zt(e?.in||n,NaN):(t&&s.setDate(s.getDate()+t),s)}function Tc(n,t,e){const s=st(n,e?.in);if(isNaN(t))return zt(n,NaN);if(!t)return s;const i=s.getDate(),r=zt(n,s.getTime());r.setMonth(s.getMonth()+t+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function Pc(n,t,e){return zt(n,+st(n)+t)}function LP(n,t,e){return Pc(n,t*yr)}let NP={};function Ps(){return NP}function fn(n,t){const e=Ps(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,i=st(n,t?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ai(n,t){return fn(n,{...t,weekStartsOn:1})}function Kp(n,t){const e=st(n,t?.in),s=e.getFullYear(),i=zt(e,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=ai(i),o=zt(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=ai(o);return e.getTime()>=r.getTime()?s+1:e.getTime()>=a.getTime()?s:s-1}function xo(n){const t=st(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Cs(n,...t){const e=zt.bind(null,t.find(s=>typeof s=="object"));return t.map(e)}function Tl(n,t){const e=st(n,t?.in);return e.setHours(0,0,0,0),e}function Gp(n,t,e){const[s,i]=Cs(e?.in,n,t),r=Tl(s),o=Tl(i),a=+r-xo(r),l=+o-xo(o);return Math.round((a-l)/RP)}function jP(n,t){const e=Kp(n,t),s=zt(n,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),ai(s)}function $P(n,t,e){const s=st(n,e?.in);return s.setTime(s.getTime()+t*br),s}function FP(n,t,e){return Tc(n,t*3,e)}function BP(n,t,e){return Pc(n,t*1e3)}function WP(n,t,e){return Jo(n,t*7,e)}function VP(n,t,e){return Tc(n,t*12,e)}function Ki(n,t){const e=+st(n)-+st(t);return e<0?-1:e>0?1:e}function HP(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Jp(n){return!(!HP(n)&&typeof n!="number"||isNaN(+st(n)))}function UP(n,t,e){const[s,i]=Cs(e?.in,n,t),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function zP(n,t,e){const[s,i]=Cs(e?.in,n,t);return s.getFullYear()-i.getFullYear()}function Xp(n,t,e){const[s,i]=Cs(e?.in,n,t),r=Pd(s,i),o=Math.abs(Gp(s,i));s.setDate(s.getDate()-r*o);const a=+(Pd(s,i)===-r),l=r*(o-a);return l===0?0:l}function Pd(n,t){const e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function _r(n){return t=>{const s=(n?Math[n]:Math.trunc)(t);return s===0?0:s}}function qP(n,t,e){const[s,i]=Cs(e?.in,n,t),r=(+s-+i)/yr;return _r(e?.roundingMethod)(r)}function Cc(n,t){return+st(n)-+st(t)}function YP(n,t,e){const s=Cc(n,t)/br;return _r(e?.roundingMethod)(s)}function Qp(n,t){const e=st(n,t?.in);return e.setHours(23,59,59,999),e}function Zp(n,t){const e=st(n,t?.in),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function KP(n,t){const e=st(n,t?.in);return+Qp(e,t)==+Zp(e,t)}function tm(n,t,e){const[s,i,r]=Cs(e?.in,n,n,t),o=Ki(i,r),a=Math.abs(UP(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=Ki(i,r)===-o;KP(s)&&a===1&&Ki(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function GP(n,t,e){const s=tm(n,t,e)/3;return _r(e?.roundingMethod)(s)}function JP(n,t,e){const s=Cc(n,t)/1e3;return _r(e?.roundingMethod)(s)}function XP(n,t,e){const s=Xp(n,t,e)/7;return _r(e?.roundingMethod)(s)}function QP(n,t,e){const[s,i]=Cs(e?.in,n,t),r=Ki(s,i),o=Math.abs(zP(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=Ki(s,i)===-r,l=r*(o-+a);return l===0?0:l}function ZP(n,t){const e=st(n,t?.in),s=e.getMonth(),i=s-s%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function t1(n,t){const e=st(n,t?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function e1(n,t){const e=st(n,t?.in),s=e.getFullYear();return e.setFullYear(s+1,0,0),e.setHours(23,59,59,999),e}function em(n,t){const e=st(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function n1(n,t){const e=st(n,t?.in);return e.setMinutes(59,59,999),e}function s1(n,t){const e=Ps(),s=e.weekStartsOn??e.locale?.options?.weekStartsOn??0,i=st(n,t?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function i1(n,t){const e=st(n,t?.in);return e.setSeconds(59,999),e}function r1(n,t){const e=st(n,t?.in),s=e.getMonth(),i=s-s%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}function o1(n,t){const e=st(n,t?.in);return e.setMilliseconds(999),e}const a1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},l1=(n,t,e)=>{let s;const i=a1[n];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+s:s+" ago":s};function $a(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const c1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},u1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d1={date:$a({formats:c1,defaultWidth:"full"}),time:$a({formats:u1,defaultWidth:"full"}),dateTime:$a({formats:h1,defaultWidth:"full"})},f1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g1=(n,t,e,s)=>f1[n];function Ei(n){return(t,e)=>{const s=e?.context?String(e.context):"standalone";let i;if(s==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=e?.width?String(e.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=e?.width?String(e.width):n.defaultWidth;i=n.values[a]||n.values[o]}const r=n.argumentCallback?n.argumentCallback(t):t;return i[r]}}const p1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v1=(n,t)=>{const e=Number(n),s=e%100;if(s>20||s<10)switch(s%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},x1={ordinalNumber:v1,era:Ei({values:p1,defaultWidth:"wide"}),quarter:Ei({values:m1,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ei({values:b1,defaultWidth:"wide"}),day:Ei({values:y1,defaultWidth:"wide"}),dayPeriod:Ei({values:_1,defaultWidth:"wide",formattingValues:w1,defaultFormattingWidth:"wide"})};function Oi(n){return(t,e={})=>{const s=e.width,i=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],r=t.match(i);if(!r)return null;const o=r[0],a=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?S1(a,h=>h.test(o)):k1(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function k1(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function S1(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function E1(n){return(t,e={})=>{const s=t.match(n.matchPattern);if(!s)return null;const i=s[0],r=t.match(n.parsePattern);if(!r)return null;let o=n.valueCallback?n.valueCallback(r[0]):r[0];o=e.valueCallback?e.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const O1=/^(\d+)(th|st|nd|rd)?/i,T1=/\d+/i,P1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C1={any:[/^b/i,/^(a|c)/i]},A1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M1={any:[/1/i,/2/i,/3/i,/4/i]},D1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},I1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$1={ordinalNumber:E1({matchPattern:O1,parsePattern:T1,valueCallback:n=>parseInt(n,10)}),era:Oi({matchPatterns:P1,defaultMatchWidth:"wide",parsePatterns:C1,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:M1,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Oi({matchPatterns:D1,defaultMatchWidth:"wide",parsePatterns:R1,defaultParseWidth:"any"}),day:Oi({matchPatterns:I1,defaultMatchWidth:"wide",parsePatterns:L1,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:N1,defaultMatchWidth:"any",parsePatterns:j1,defaultParseWidth:"any"})},nm={code:"en-US",formatDistance:l1,formatLong:d1,formatRelative:g1,localize:x1,match:$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function F1(n,t){const e=st(n,t?.in);return Gp(e,em(e))+1}function sm(n,t){const e=st(n,t?.in),s=+ai(e)-+jP(e);return Math.round(s/Yp)+1}function Ac(n,t){const e=st(n,t?.in),s=e.getFullYear(),i=Ps(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=zt(t?.in||n,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=fn(o,t),l=zt(t?.in||n,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=fn(l,t);return+e>=+a?s+1:+e>=+c?s:s-1}function B1(n,t){const e=Ps(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,i=Ac(n,t),r=zt(t?.in||n,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),fn(r,t)}function im(n,t){const e=st(n,t?.in),s=+fn(e,t)-+B1(e,t);return Math.round(s/Yp)+1}function xt(n,t){const e=n<0?"-":"",s=Math.abs(n).toString().padStart(t,"0");return e+s}const Fn={y(n,t){const e=n.getFullYear(),s=e>0?e:1-e;return xt(t==="yy"?s%100:s,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):xt(e+1,2)},d(n,t){return xt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return xt(n.getHours()%12||12,t.length)},H(n,t){return xt(n.getHours(),t.length)},m(n,t){return xt(n.getMinutes(),t.length)},s(n,t){return xt(n.getSeconds(),t.length)},S(n,t){const e=t.length,s=n.getMilliseconds(),i=Math.trunc(s*Math.pow(10,e-3));return xt(i,t.length)}},$s={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cd={G:function(n,t,e){const s=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(s,{width:"abbreviated"});case"GGGGG":return e.era(s,{width:"narrow"});case"GGGG":default:return e.era(s,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const s=n.getFullYear(),i=s>0?s:1-s;return e.ordinalNumber(i,{unit:"year"})}return Fn.y(n,t)},Y:function(n,t,e,s){const i=Ac(n,s),r=i>0?i:1-i;if(t==="YY"){const o=r%100;return xt(o,2)}return t==="Yo"?e.ordinalNumber(r,{unit:"year"}):xt(r,t.length)},R:function(n,t){const e=Kp(n);return xt(e,t.length)},u:function(n,t){const e=n.getFullYear();return xt(e,t.length)},Q:function(n,t,e){const s=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return xt(s,2);case"Qo":return e.ordinalNumber(s,{unit:"quarter"});case"QQQ":return e.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,t,e){const s=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return xt(s,2);case"qo":return e.ordinalNumber(s,{unit:"quarter"});case"qqq":return e.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,t,e){const s=n.getMonth();switch(t){case"M":case"MM":return Fn.M(n,t);case"Mo":return e.ordinalNumber(s+1,{unit:"month"});case"MMM":return e.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(s,{width:"wide",context:"formatting"})}},L:function(n,t,e){const s=n.getMonth();switch(t){case"L":return String(s+1);case"LL":return xt(s+1,2);case"Lo":return e.ordinalNumber(s+1,{unit:"month"});case"LLL":return e.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(s,{width:"wide",context:"standalone"})}},w:function(n,t,e,s){const i=im(n,s);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},I:function(n,t,e){const s=sm(n);return t==="Io"?e.ordinalNumber(s,{unit:"week"}):xt(s,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Fn.d(n,t)},D:function(n,t,e){const s=F1(n);return t==="Do"?e.ordinalNumber(s,{unit:"dayOfYear"}):xt(s,t.length)},E:function(n,t,e){const s=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(s,{width:"short",context:"formatting"});case"EEEE":default:return e.day(s,{width:"wide",context:"formatting"})}},e:function(n,t,e,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return xt(r,2);case"eo":return e.ordinalNumber(r,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(n,t,e,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return xt(r,t.length);case"co":return e.ordinalNumber(r,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(n,t,e){const s=n.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return xt(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(s,{width:"short",context:"formatting"});case"iiii":default:return e.day(s,{width:"wide",context:"formatting"})}},a:function(n,t,e){const i=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,t,e){const s=n.getHours();let i;switch(s===12?i=$s.noon:s===0?i=$s.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,t,e){const s=n.getHours();let i;switch(s>=17?i=$s.evening:s>=12?i=$s.afternoon:s>=4?i=$s.morning:i=$s.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let s=n.getHours()%12;return s===0&&(s=12),e.ordinalNumber(s,{unit:"hour"})}return Fn.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Fn.H(n,t)},K:function(n,t,e){const s=n.getHours()%12;return t==="Ko"?e.ordinalNumber(s,{unit:"hour"}):xt(s,t.length)},k:function(n,t,e){let s=n.getHours();return s===0&&(s=24),t==="ko"?e.ordinalNumber(s,{unit:"hour"}):xt(s,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Fn.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Fn.s(n,t)},S:function(n,t){return Fn.S(n,t)},X:function(n,t,e){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Md(s);case"XXXX":case"XX":return ps(s);case"XXXXX":case"XXX":default:return ps(s,":")}},x:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"x":return Md(s);case"xxxx":case"xx":return ps(s);case"xxxxx":case"xxx":default:return ps(s,":")}},O:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ad(s,":");case"OOOO":default:return"GMT"+ps(s,":")}},z:function(n,t,e){const s=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ad(s,":");case"zzzz":default:return"GMT"+ps(s,":")}},t:function(n,t,e){const s=Math.trunc(+n/1e3);return xt(s,t.length)},T:function(n,t,e){return xt(+n,t.length)}};function Ad(n,t=""){const e=n>0?"-":"+",s=Math.abs(n),i=Math.trunc(s/60),r=s%60;return r===0?e+String(i):e+String(i)+t+xt(r,2)}function Md(n,t){return n%60===0?(n>0?"-":"+")+xt(Math.abs(n)/60,2):ps(n,t)}function ps(n,t=""){const e=n>0?"-":"+",s=Math.abs(n),i=xt(Math.trunc(s/60),2),r=xt(s%60,2);return e+i+t+r}const Dd=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rm=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},W1=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],s=e[1],i=e[2];if(!i)return Dd(n,t);let r;switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Dd(s,t)).replace("{{time}}",rm(i,t))},Pl={p:rm,P:W1},V1=/^D+$/,H1=/^Y+$/,U1=["D","DD","YY","YYYY"];function om(n){return V1.test(n)}function am(n){return H1.test(n)}function Cl(n,t,e){const s=z1(n,t,e);if(console.warn(s),U1.includes(n))throw new RangeError(s)}function z1(n,t,e){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${s} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const q1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K1=/^'([^]*?)'?$/,G1=/''/g,J1=/[a-zA-Z]/;function X1(n,t,e){const s=Ps(),i=e?.locale??s.locale??nm,r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=st(n,e?.in);if(!Jp(a))throw new RangeError("Invalid time value");let l=t.match(Y1).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=Pl[h];return d(u,i.formatLong)}return u}).join("").match(q1).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:Q1(u)};if(Cd[h])return{isToken:!0,value:u};if(h.match(J1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!e?.useAdditionalWeekYearTokens&&am(h)||!e?.useAdditionalDayOfYearTokens&&om(h))&&Cl(h,t,String(n));const d=Cd[h[0]];return d(a,h,i.localize,c)}).join("")}function Q1(n){const t=n.match(K1);return t?t[1].replace(G1,"'"):n}function Z1(){return Object.assign({},Ps())}function tC(n,t){const e=st(n,t?.in).getDay();return e===0?7:e}function eC(n,t){const e=nC(t)?new t(0):zt(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function nC(n){return typeof n=="function"&&n.prototype?.constructor===n}const sC=10;class lm{subPriority=0;validate(t,e){return!0}}class iC extends lm{constructor(t,e,s,i,r){super(),this.value=t,this.validateValue=e,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,s){return this.setValue(t,e,this.value,s)}}class rC extends lm{priority=sC;subPriority=-1;constructor(t,e){super(),this.context=t||(s=>zt(e,s))}set(t,e){return e.timestampIsSet?t:zt(t,eC(t,this.context))}}class bt{run(t,e,s,i){const r=this.parse(t,e,s,i);return r?{setter:new iC(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,e,s){return!0}}class oC extends bt{priority=140;parse(t,e,s){switch(e){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,e,s){return e.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Jt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},an={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xt(n,t){return n&&{value:t(n.value),rest:n.rest}}function Wt(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function ln(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const s=e[1]==="+"?1:-1,i=e[2]?parseInt(e[2],10):0,r=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:s*(i*yr+r*br+o*IP),rest:t.slice(e[0].length)}}function cm(n){return Wt(Jt.anyDigitsSigned,n)}function qt(n,t){switch(n){case 1:return Wt(Jt.singleDigit,t);case 2:return Wt(Jt.twoDigits,t);case 3:return Wt(Jt.threeDigits,t);case 4:return Wt(Jt.fourDigits,t);default:return Wt(new RegExp("^\\d{1,"+n+"}"),t)}}function ko(n,t){switch(n){case 1:return Wt(Jt.singleDigitSigned,t);case 2:return Wt(Jt.twoDigitsSigned,t);case 3:return Wt(Jt.threeDigitsSigned,t);case 4:return Wt(Jt.fourDigitsSigned,t);default:return Wt(new RegExp("^-?\\d{1,"+n+"}"),t)}}function Mc(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function um(n,t){const e=t>0,s=e?t:1-t;let i;if(s<=50)i=n||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=n>=r%100;i=n+o-(a?100:0)}return e?i:1-i}function hm(n){return n%400===0||n%4===0&&n%100!==0}class aC extends bt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,s){const i=r=>({year:r,isTwoDigitYear:e==="yy"});switch(e){case"y":return Xt(qt(4,t),i);case"yo":return Xt(s.ordinalNumber(t,{unit:"year"}),i);default:return Xt(qt(e.length,t),i)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s){const i=t.getFullYear();if(s.isTwoDigitYear){const o=um(s.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const r=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class lC extends bt{priority=130;parse(t,e,s){const i=r=>({year:r,isTwoDigitYear:e==="YY"});switch(e){case"Y":return Xt(qt(4,t),i);case"Yo":return Xt(s.ordinalNumber(t,{unit:"year"}),i);default:return Xt(qt(e.length,t),i)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s,i){const r=Ac(t,i);if(s.isTwoDigitYear){const a=um(s.year,r);return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),fn(t,i)}const o=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),fn(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class cC extends bt{priority=130;parse(t,e){return ko(e==="R"?4:e.length,t)}set(t,e,s){const i=zt(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),ai(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class uC extends bt{priority=130;parse(t,e){return ko(e==="u"?4:e.length,t)}set(t,e,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class hC extends bt{priority=120;parse(t,e,s){switch(e){case"Q":case"QQ":return qt(e.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class dC extends bt{priority=120;parse(t,e,s){switch(e){case"q":case"qq":return qt(e.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class fC extends bt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,s){const i=r=>r-1;switch(e){case"M":return Xt(Wt(Jt.month,t),i);case"MM":return Xt(qt(2,t),i);case"Mo":return Xt(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class gC extends bt{priority=110;parse(t,e,s){const i=r=>r-1;switch(e){case"L":return Xt(Wt(Jt.month,t),i);case"LL":return Xt(qt(2,t),i);case"Lo":return Xt(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function pC(n,t,e){const s=st(n,e?.in),i=im(s,e)-t;return s.setDate(s.getDate()-i*7),st(s,e?.in)}class mC extends bt{priority=100;parse(t,e,s){switch(e){case"w":return Wt(Jt.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return qt(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s,i){return fn(pC(t,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function bC(n,t,e){const s=st(n,e?.in),i=sm(s,e)-t;return s.setDate(s.getDate()-i*7),s}class yC extends bt{priority=100;parse(t,e,s){switch(e){case"I":return Wt(Jt.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return qt(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s){return ai(bC(t,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const _C=[31,28,31,30,31,30,31,31,30,31,30,31],wC=[31,29,31,30,31,30,31,31,30,31,30,31];class vC extends bt{priority=90;subPriority=1;parse(t,e,s){switch(e){case"d":return Wt(Jt.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return qt(e.length,t)}}validate(t,e){const s=t.getFullYear(),i=hm(s),r=t.getMonth();return i?e>=1&&e<=wC[r]:e>=1&&e<=_C[r]}set(t,e,s){return t.setDate(s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class xC extends bt{priority=90;subpriority=1;parse(t,e,s){switch(e){case"D":case"DD":return Wt(Jt.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return qt(e.length,t)}}validate(t,e){const s=t.getFullYear();return hm(s)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Dc(n,t,e){const s=Ps(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=st(n,e?.in),o=r.getDay(),l=(t%7+7)%7,c=7-i,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Jo(r,u,e)}class kC extends bt{priority=90;parse(t,e,s){switch(e){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=Dc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class SC extends bt{priority=90;parse(t,e,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(e){case"e":case"ee":return Xt(qt(e.length,t),r);case"eo":return Xt(s.ordinalNumber(t,{unit:"day"}),r);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=Dc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class EC extends bt{priority=90;parse(t,e,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(e){case"c":case"cc":return Xt(qt(e.length,t),r);case"co":return Xt(s.ordinalNumber(t,{unit:"day"}),r);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=Dc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function OC(n,t,e){const s=st(n,e?.in),i=tC(s,e),r=t-i;return Jo(s,r,e)}class TC extends bt{priority=90;parse(t,e,s){const i=r=>r===0?7:r;switch(e){case"i":case"ii":return qt(e.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Xt(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Xt(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Xt(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Xt(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,e){return e>=1&&e<=7}set(t,e,s){return t=OC(t,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class PC extends bt{priority=80;parse(t,e,s){switch(e){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(Mc(s),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class CC extends bt{priority=80;parse(t,e,s){switch(e){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(Mc(s),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class AC extends bt{priority=80;parse(t,e,s){switch(e){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(Mc(s),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class MC extends bt{priority=70;parse(t,e,s){switch(e){case"h":return Wt(Jt.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class DC extends bt{priority=70;parse(t,e,s){switch(e){case"H":return Wt(Jt.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,s){return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class RC extends bt{priority=70;parse(t,e,s){switch(e){case"K":return Wt(Jt.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class IC extends bt{priority=70;parse(t,e,s){switch(e){case"k":return Wt(Jt.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class LC extends bt{priority=60;parse(t,e,s){switch(e){case"m":return Wt(Jt.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return qt(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setMinutes(s,0,0),t}incompatibleTokens=["t","T"]}class NC extends bt{priority=50;parse(t,e,s){switch(e){case"s":return Wt(Jt.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return qt(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setSeconds(s,0),t}incompatibleTokens=["t","T"]}class jC extends bt{priority=30;parse(t,e){const s=i=>Math.trunc(i*Math.pow(10,-e.length+3));return Xt(qt(e.length,t),s)}set(t,e,s){return t.setMilliseconds(s),t}incompatibleTokens=["t","T"]}class $C extends bt{priority=10;parse(t,e){switch(e){case"X":return ln(an.basicOptionalMinutes,t);case"XX":return ln(an.basic,t);case"XXXX":return ln(an.basicOptionalSeconds,t);case"XXXXX":return ln(an.extendedOptionalSeconds,t);case"XXX":default:return ln(an.extended,t)}}set(t,e,s){return e.timestampIsSet?t:zt(t,t.getTime()-xo(t)-s)}incompatibleTokens=["t","T","x"]}class FC extends bt{priority=10;parse(t,e){switch(e){case"x":return ln(an.basicOptionalMinutes,t);case"xx":return ln(an.basic,t);case"xxxx":return ln(an.basicOptionalSeconds,t);case"xxxxx":return ln(an.extendedOptionalSeconds,t);case"xxx":default:return ln(an.extended,t)}}set(t,e,s){return e.timestampIsSet?t:zt(t,t.getTime()-xo(t)-s)}incompatibleTokens=["t","T","X"]}class BC extends bt{priority=40;parse(t){return cm(t)}set(t,e,s){return[zt(t,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class WC extends bt{priority=20;parse(t){return cm(t)}set(t,e,s){return[zt(t,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const VC={G:new oC,y:new aC,Y:new lC,R:new cC,u:new uC,Q:new hC,q:new dC,M:new fC,L:new gC,w:new mC,I:new yC,d:new vC,D:new xC,E:new kC,e:new SC,c:new EC,i:new TC,a:new PC,b:new CC,B:new AC,h:new MC,H:new DC,K:new RC,k:new IC,m:new LC,s:new NC,S:new jC,X:new $C,x:new FC,t:new BC,T:new WC},HC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zC=/^'([^]*?)'?$/,qC=/''/g,YC=/\S/,KC=/[a-zA-Z]/;function GC(n,t,e,s){const i=()=>zt(s?.in||e,NaN),r=Z1(),o=s?.locale??r.locale??nm,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return n?i():st(e,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new rC(s?.in,e)],h=t.match(UC).map(m=>{const b=m[0];if(b in Pl){const y=Pl[b];return y(m,o.formatLong)}return m}).join("").match(HC),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&am(m)&&Cl(m,t,n),!s?.useAdditionalDayOfYearTokens&&om(m)&&Cl(m,t,n);const b=m[0],y=VC[b];if(y){const{incompatibleTokens:w}=y;if(Array.isArray(w)){const k=d.find(E=>w.includes(E.token)||E.token===b);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(n,m,o.match,c);if(!x)return i();u.push(x.setter),n=x.rest}else{if(b.match(KC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=JC(m)),n.indexOf(m)===0)n=n.slice(m.length);else return i()}}if(n.length>0&&YC.test(n))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let p=st(e,s?.in);if(isNaN(+p))return i();const g={};for(const m of f){if(!m.validate(p,c))return i();const b=m.set(p,g,c);Array.isArray(b)?(p=b[0],Object.assign(g,b[1])):p=b}return p}function JC(n){return n.match(zC)[1].replace(qC,"'")}function XC(n,t){const e=st(n,t?.in);return e.setMinutes(0,0,0),e}function QC(n,t){const e=st(n,t?.in);return e.setSeconds(0,0),e}function ZC(n,t){const e=st(n,t?.in);return e.setMilliseconds(0),e}function tA(n,t){const e=()=>zt(t?.in,NaN),s=t?.additionalDigits??2,i=iA(n);let r;if(i.date){const c=rA(i.date,s);r=oA(c.restDateString,c.year)}if(!r||isNaN(+r))return e();const o=+r;let a=0,l;if(i.time&&(a=aA(i.time),isNaN(a)))return e();if(i.timezone){if(l=lA(i.timezone),isNaN(l))return e()}else{const c=new Date(o+a),u=st(0,t?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return st(o+a+l,t?.in)}const zr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iA(n){const t={},e=n.split(zr.dateTimeDelimiter);let s;if(e.length>2)return t;if(/:/.test(e[0])?s=e[0]:(t.date=e[0],s=e[1],zr.timeZoneDelimiter.test(t.date)&&(t.date=n.split(zr.timeZoneDelimiter)[0],s=n.substr(t.date.length,n.length))),s){const i=zr.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function rA(n,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=n.match(e);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:n.slice((s[1]||s[2]).length)}}function oA(n,t){if(t===null)return new Date(NaN);const e=n.match(eA);if(!e)return new Date(NaN);const s=!!e[4],i=Ti(e[1]),r=Ti(e[2])-1,o=Ti(e[3]),a=Ti(e[4]),l=Ti(e[5])-1;if(s)return fA(t,a,l)?cA(t,a,l):new Date(NaN);{const c=new Date(0);return!hA(t,r,o)||!dA(t,i)?new Date(NaN):(c.setUTCFullYear(t,r,Math.max(i,o)),c)}}function Ti(n){return n?parseInt(n):1}function aA(n){const t=n.match(nA);if(!t)return NaN;const e=Fa(t[1]),s=Fa(t[2]),i=Fa(t[3]);return gA(e,s,i)?e*yr+s*br+i*1e3:NaN}function Fa(n){return n&&parseFloat(n.replace(",","."))||0}function lA(n){if(n==="Z")return 0;const t=n.match(sA);if(!t)return 0;const e=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return pA(s,i)?e*(s*yr+i*br):NaN}function cA(n,t,e){const s=new Date(0);s.setUTCFullYear(n,0,4);const i=s.getUTCDay()||7,r=(t-1)*7+e+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const uA=[31,null,31,30,31,30,31,31,30,31,30,31];function dm(n){return n%400===0||n%4===0&&n%100!==0}function hA(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(uA[t]||(dm(n)?29:28))}function dA(n,t){return t>=1&&t<=(dm(n)?366:365)}function fA(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function gA(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function pA(n,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const mA={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Op._date.override({_id:"date-fns",formats:function(){return mA},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=st(n):e==="string"&&(typeof t=="string"?n=GC(n,t,new Date,this.options):n=tA(n,this.options)),Jp(n)?n.getTime():null},format:function(n,t){return X1(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return Pc(n,t);case"second":return BP(n,t);case"minute":return $P(n,t);case"hour":return LP(n,t);case"day":return Jo(n,t);case"week":return WP(n,t);case"month":return Tc(n,t);case"quarter":return FP(n,t);case"year":return VP(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return Cc(n,t);case"second":return JP(n,t);case"minute":return YP(n,t);case"hour":return qP(n,t);case"day":return Xp(n,t);case"week":return XP(n,t);case"month":return tm(n,t);case"quarter":return GP(n,t);case"year":return QP(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return ZC(n);case"minute":return QC(n);case"hour":return XC(n);case"day":return Tl(n);case"week":return fn(n);case"isoWeek":return fn(n,{weekStartsOn:+e});case"month":return t1(n);case"quarter":return ZP(n);case"year":return em(n);default:return n}},endOf:function(n,t){switch(t){case"second":return o1(n);case"minute":return i1(n);case"hour":return n1(n);case"day":return Qp(n);case"week":return s1(n);case"month":return Zp(n);case"quarter":return r1(n);case"year":return e1(n);default:return n}}});const bA={class:"softBubble"},yA=mt({__name:"WorkoutVolumeByWorkout",props:{workouts:{},graphSize:{},backTimes:{},binSize:{},whatGraphed:{}},setup(n){const t=n,e=z(null),s=z(null),i=z(!1),r=z(0);function o(){if(s.value){try{s.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}s.value=null}}async function a(){if(!e.value||!t.workouts||t.workouts.length===0||i.value)return;i.value=!0,r.value++;const l=r.value;if(o(),await En(),l!==r.value){i.value=!1;return}if(!e.value){i.value=!1;return}const c=t.workouts.map(g=>({x:g.getStartTime(),y:g.getItem(t.whatGraphed)})),u=getComputedStyle(document.documentElement);[...t.workouts];const h={labels:ck(c,t.binSize,t.graphSize,t.backTimes),datasets:[{label:"My First Dataset",data:lk(c,t.binSize||"day",t.graphSize,t.backTimes),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,borderRadius:10}]},d={family:"Avenir",size:16},f={family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},p={type:"bar",data:h,options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{legend:{display:!1},title:{display:!0,text:un.fullNameForType(t.whatGraphed),font:f,color:u.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(g){return[un.stringifyItem(g.parsed.y,t.whatGraphed)]}},bodyFont:d}},scales:{y:{ticks:{maxTicksLimit:3,font:d},position:"right",startAtZero:!1}}}};try{if(l!==r.value||!e.value){i.value=!1;return}const g=new Ec(e.value,p);l===r.value?s.value=g:g.destroy()}catch(g){console.error("Error creating chart:",g)}finally{i.value=!1}}return Ln(async()=>{await En(),a()}),Js(()=>t.workouts,async(l,c)=>{if(l!==c){if(await En(),!l||l.length===0){s.value&&(s.value.destroy(),s.value=null);return}await En(()=>a())}},{deep:!1,immediate:!1}),Js(()=>t.whatGraphed,async(l,c)=>{await En(),a()}),zl(()=>{s.value&&(s.value.destroy(),s.value=null),i.value=!1}),(l,c)=>(j(),Q("div",bA,[P("canvas",{ref_key:"canvasRef",ref:e,id:"workoutVolumeChart"},null,512)]))}}),_A={key:0},wA=mt({__name:"DashboardStatBubble",props:{label:{},value:{},prevValue:{},dispValue:{},icon:{},selected:{type:Boolean}},emits:["click"],setup(n,{emit:t}){const e=n;function s(){if(e.prevValue==0)return"N/A";let i=(e.value-e.prevValue)/e.prevValue*100;return i<0&&(i*=-1),i.toFixed(1)}return(i,r)=>(j(),Q("div",{class:ge(["statBubble softBubble clickable",{selected:n.selected}]),onClick:r[0]||(r[0]=o=>i.$emit("click"))},[P("p",null,[jt(Tt(n.label)+" ",1),P("i",{class:ge(["right fa-solid",n.icon])},null,2)]),P("h2",null,Tt(n.dispValue),1),n.prevValue!==0?(j(),Q("p",_A,[n.value!==n.prevValue?(j(),Q("i",{key:0,class:ge(["fa-solid",n.value-n.prevValue>=0?"fa-arrow-up":"fa-arrow-down"])},null,2)):gt("",!0),jt(" "+Tt(s())+" % ",1)])):gt("",!0)],2))}}),qr=Rt(wA,[["__scopeId","data-v-40435f7f"]]);class bn{static getTotalDuration(t){return t.reduce((e,s)=>e+s.getDuration(),0)}static getTotalEnergy(t){return t.reduce((e,s)=>e+(s.getEnergy()||0),0)}static getTotalEnergyString(t){const e=this.getTotalEnergy(t);return`${un.commaNumber(e)} kj`}static getTotalVolume(t){return t.reduce((e,s)=>e+s.getVolume(),0)}static getTotalVolumeString(t){const e=this.getTotalVolume(t);return`${un.commaNumber(e)} kg`}}const vA={class:"viewArea"},xA={class:"margins"},kA={key:0,class:"periodSelect"},SA={class:"center"},EA={class:"flex"},OA={key:1},TA=mt({__name:"StatsView",setup(n){let t=[];const e=z([]),s=z([]),i=z(!0),r=z("week"),o=z("volume"),a=z(0),l=z(new lc);function c(h){switch(h){case"week":return"day";case"month":return"week";case"year":return"month";default:return"year"}}async function u(h){if(r.value=h,i.value=!0,h==="all"){e.value=[...t],await En(),i.value=!1;return}const d=lt.getEnd(lt.addPeriod(new Date,h,-a.value),h),f=lt.getStart(d,h),p=lt.getStartOfPrevious(f,h),g=[];s.value=[];for(const m of t)m.getStartTime()>=f&&m.getStartTime()<=d&&g.push(m),m.getStartTime()>=p&&m.getStartTime()<f&&s.value.push(m);e.value=g,await En(),i.value=!1}return Ln(async()=>{try{t=await sx(),await u("week"),i.value=!1}catch(h){l.value.setError("Failed to load workouts. Please try again later."),console.error("Failed to load workouts:",h),t=[],e.value=[],i.value=!1}}),(h,d)=>(j(),Q(Ot,null,[H(ac,{error:l.value},null,8,["error"]),P("div",vA,[P("div",xA,[d[8]||(d[8]=P("h1",null,"Workout Dashboard",-1)),d[9]||(d[9]=P("p",null,"Track your fitness journey and monitor your progress",-1)),H(ak,{options:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"},{label:"All Time",value:"all"}],onSelect:d[0]||(d[0]=f=>{a.value=0,u(f)})}),r.value!=="all"?(j(),Q("div",kA,[P("i",{class:"fa-solid fa-chevron-left clickable floatleft",onClick:d[1]||(d[1]=f=>{a.value=a.value+1,u(r.value)})}),P("div",SA,Tt(Kt(lt).getPeriodString(r.value,a.value)),1),a.value!==0?(j(),Q("i",{key:0,class:"fa-solid fa-chevron-right clickable floatright",onClick:d[2]||(d[2]=f=>{a.value=a.value>0?a.value-1:0,u(r.value)})})):gt("",!0)])):gt("",!0),P("div",EA,[H(qr,{label:"Total Workouts",value:e.value.length,prevValue:s.value.length,dispValue:e.value.length.toString(),icon:"fa-dumbbell",selected:o.value==="workouts",onClick:d[3]||(d[3]=f=>o.value="workouts")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Time",value:Kt(bn).getTotalDuration(e.value),prevValue:Kt(bn).getTotalDuration(s.value),dispValue:Kt(lt).getDurationString(Kt(bn).getTotalDuration(e.value))||"--",icon:"fa-clock",selected:o.value==="time",onClick:d[4]||(d[4]=f=>o.value="time")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Energy",value:Kt(bn).getTotalEnergy(e.value),prevValue:Kt(bn).getTotalEnergy(s.value),dispValue:Kt(bn).getTotalEnergyString(e.value),icon:"fa-fire",selected:o.value==="energy",onClick:d[5]||(d[5]=f=>o.value="energy")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Volume",value:Kt(bn).getTotalVolume(e.value),prevValue:Kt(bn).getTotalVolume(s.value),dispValue:Kt(bn).getTotalVolumeString(e.value),icon:"fa-weight-hanging",selected:o.value==="volume",onClick:d[6]||(d[6]=f=>o.value="volume")},null,8,["value","prevValue","dispValue","selected"])]),i.value?(j(),Q("div",OA,[...d[7]||(d[7]=[P("p",null,"Loading workouts...",-1)])])):(j(),Ft(yA,{key:2,workouts:e.value,graphSize:r.value,binSize:c(r.value),whatGraphed:o.value,backTimes:a.value},null,8,["workouts","graphSize","binSize","whatGraphed","backTimes"]))])])],64))}}),PA=Rt(TA,[["__scopeId","data-v-ff48e511"]]),CA=[{path:"/",name:"SignIn",component:Cv},{path:"/signup",name:"SignUp",component:Rv},{path:"/emailconf",name:"Email Confirmation",component:jv},{path:"/home",name:"Home",component:lx},{path:"/upload",name:"Upload",component:gx},{path:"/viewWorkout/:workout_id",name:"View Workout",component:nk,props:!0},{path:"/stats",name:"Stats",component:PA}],AA=N_({history:m_(),routes:CA}),fm=Cy(yv);fm.use(AA);fm.mount("#app");
