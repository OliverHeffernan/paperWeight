(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Il(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Ae={},Ks=[],hn=()=>{},Id=()=>!1,To=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Ll=n=>n.startsWith("onUpdate:"),mt=Object.assign,Nl=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},wm=Object.prototype.hasOwnProperty,Se=(n,e)=>wm.call(n,e),te=Array.isArray,Gs=n=>Po(n)==="[object Map]",Ld=n=>Po(n)==="[object Set]",oe=n=>typeof n=="function",et=n=>typeof n=="string",In=n=>typeof n=="symbol",$e=n=>n!==null&&typeof n=="object",Nd=n=>($e(n)||oe(n))&&oe(n.then)&&oe(n.catch),jd=Object.prototype.toString,Po=n=>jd.call(n),vm=n=>Po(n).slice(8,-1),$d=n=>Po(n)==="[object Object]",jl=n=>et(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Li=Il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Co=n=>{const e=Object.create(null);return(t=>e[t]||(e[t]=n(t)))},xm=/-\w/g,zt=Co(n=>n.replace(xm,e=>e.slice(1).toUpperCase())),km=/\B([A-Z])/g,Ps=Co(n=>n.replace(km,"-$1").toLowerCase()),Ao=Co(n=>n.charAt(0).toUpperCase()+n.slice(1)),sa=Co(n=>n?`on${Ao(n)}`:""),Jn=(n,e)=>!Object.is(n,e),Gr=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Fd=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Ua=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let jc;const Mo=()=>jc||(jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $l(n){if(te(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=et(s)?Tm(s):$l(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(et(n)||$e(n))return n}const Sm=/;(?![^(]*\))/g,Em=/:([^]+)/,Om=/\/\*[^]*?\*\//g;function Tm(n){const e={};return n.replace(Om,"").split(Sm).forEach(t=>{if(t){const s=t.split(Em);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function gt(n){let e="";if(et(n))e=n;else if(te(n))for(let t=0;t<n.length;t++){const s=gt(n[t]);s&&(e+=s+" ")}else if($e(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Pm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cm=Il(Pm);function Bd(n){return!!n||n===""}const Wd=n=>!!(n&&n.__v_isRef===!0),fe=n=>et(n)?n:n==null?"":te(n)||$e(n)&&(n.toString===jd||!oe(n.toString))?Wd(n)?fe(n.value):JSON.stringify(n,Vd,2):String(n),Vd=(n,e)=>Wd(e)?Vd(n,e.value):Gs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[ia(s,r)+" =>"]=i,t),{})}:Ld(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ia(t))}:In(e)?ia(e):$e(e)&&!te(e)&&!$d(e)?String(e):e,ia=(n,e="")=>{var t;return In(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Am{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ct;try{return Ct=this,e()}finally{Ct=t}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Mm(){return Ct}let Le;const ra=new WeakSet;class Hd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ra.has(this)&&(ra.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$c(this),qd(this);const e=Le,t=Xt;Le=this,Xt=!0;try{return this.fn()}finally{Yd(this),Le=e,Xt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wl(e);this.deps=this.depsTail=void 0,$c(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ra.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){za(this)&&this.run()}get dirty(){return za(this)}}let Ud=0,Ni,ji;function zd(n,e=!1){if(n.flags|=8,e){n.next=ji,ji=n;return}n.next=Ni,Ni=n}function Fl(){Ud++}function Bl(){if(--Ud>0)return;if(ji){let e=ji;for(ji=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Ni;){let e=Ni;for(Ni=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function qd(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Yd(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),Wl(s),Dm(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function za(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function Kd(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Ji)||(n.globalVersion=Ji,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!za(n))))return;n.flags|=2;const e=n.dep,t=Le,s=Xt;Le=n,Xt=!0;try{qd(n);const i=n.fn(n._value);(e.version===0||Jn(i,n._value))&&(n.flags|=128,n._value=i,e.version++)}catch(i){throw e.version++,i}finally{Le=t,Xt=s,Yd(n),n.flags&=-3}}function Wl(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)Wl(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Dm(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Xt=!0;const Gd=[];function Mn(){Gd.push(Xt),Xt=!1}function Dn(){const n=Gd.pop();Xt=n===void 0?!0:n}function $c(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Le;Le=void 0;try{e()}finally{Le=t}}}let Ji=0;class Rm{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Le||!Xt||Le===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Le)t=this.activeLink=new Rm(Le,this),Le.deps?(t.prevDep=Le.depsTail,Le.depsTail.nextDep=t,Le.depsTail=t):Le.deps=Le.depsTail=t,Jd(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=Le.depsTail,t.nextDep=void 0,Le.depsTail.nextDep=t,Le.depsTail=t,Le.deps===t&&(Le.deps=s)}return t}trigger(e){this.version++,Ji++,this.notify(e)}notify(e){Fl();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Bl()}}}function Jd(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Jd(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const qa=new WeakMap,ks=Symbol(""),Ya=Symbol(""),Xi=Symbol("");function ht(n,e,t){if(Xt&&Le){let s=qa.get(n);s||qa.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new Vl),i.map=s,i.key=t),i.track()}}function On(n,e,t,s,i,r){const o=qa.get(n);if(!o){Ji++;return}const a=l=>{l&&l.trigger()};if(Fl(),e==="clear")o.forEach(a);else{const l=te(n),c=l&&jl(t);if(l&&t==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Xi||!In(d)&&d>=u)&&a(h)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(Xi)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ks)),Gs(n)&&a(o.get(Ya)));break;case"delete":l||(a(o.get(ks)),Gs(n)&&a(o.get(Ya)));break;case"set":Gs(n)&&a(o.get(ks));break}}Bl()}function Is(n){const e=ke(n);return e===n?e:(ht(e,"iterate",Xi),Ut(n)?e:e.map(ot))}function Do(n){return ht(n=ke(n),"iterate",Xi),n}const Im={__proto__:null,[Symbol.iterator](){return oa(this,Symbol.iterator,ot)},concat(...n){return Is(this).concat(...n.map(e=>te(e)?Is(e):e))},entries(){return oa(this,"entries",n=>(n[1]=ot(n[1]),n))},every(n,e){return bn(this,"every",n,e,void 0,arguments)},filter(n,e){return bn(this,"filter",n,e,t=>t.map(ot),arguments)},find(n,e){return bn(this,"find",n,e,ot,arguments)},findIndex(n,e){return bn(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return bn(this,"findLast",n,e,ot,arguments)},findLastIndex(n,e){return bn(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return bn(this,"forEach",n,e,void 0,arguments)},includes(...n){return aa(this,"includes",n)},indexOf(...n){return aa(this,"indexOf",n)},join(n){return Is(this).join(n)},lastIndexOf(...n){return aa(this,"lastIndexOf",n)},map(n,e){return bn(this,"map",n,e,void 0,arguments)},pop(){return mi(this,"pop")},push(...n){return mi(this,"push",n)},reduce(n,...e){return Fc(this,"reduce",n,e)},reduceRight(n,...e){return Fc(this,"reduceRight",n,e)},shift(){return mi(this,"shift")},some(n,e){return bn(this,"some",n,e,void 0,arguments)},splice(...n){return mi(this,"splice",n)},toReversed(){return Is(this).toReversed()},toSorted(n){return Is(this).toSorted(n)},toSpliced(...n){return Is(this).toSpliced(...n)},unshift(...n){return mi(this,"unshift",n)},values(){return oa(this,"values",ot)}};function oa(n,e,t){const s=Do(n),i=s[e]();return s!==n&&!Ut(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=t(r.value)),r}),i}const Lm=Array.prototype;function bn(n,e,t,s,i,r){const o=Do(n),a=o!==n&&!Ut(n),l=o[e];if(l!==Lm[e]){const h=l.apply(n,r);return a?ot(h):h}let c=t;o!==n&&(a?c=function(h,d){return t.call(this,ot(h),d,n)}:t.length>2&&(c=function(h,d){return t.call(this,h,d,n)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Fc(n,e,t,s){const i=Do(n);let r=t;return i!==n&&(Ut(n)?t.length>3&&(r=function(o,a,l){return t.call(this,o,a,l,n)}):r=function(o,a,l){return t.call(this,o,ot(a),l,n)}),i[e](r,...s)}function aa(n,e,t){const s=ke(n);ht(s,"iterate",Xi);const i=s[e](...t);return(i===-1||i===!1)&&zl(t[0])?(t[0]=ke(t[0]),s[e](...t)):i}function mi(n,e,t=[]){Mn(),Fl();const s=ke(n)[e].apply(n,t);return Bl(),Dn(),s}const Nm=Il("__proto__,__v_isRef,__isVue"),Xd=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(In));function jm(n){In(n)||(n=String(n));const e=ke(this);return ht(e,"has",n),e.hasOwnProperty(n)}class Qd{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?Ym:nf:r?tf:ef).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=te(e);if(!i){let l;if(o&&(l=Im[t]))return l;if(t==="hasOwnProperty")return jm}const a=Reflect.get(e,t,pt(e)?e:s);if((In(t)?Xd.has(t):Nm(t))||(i||ht(e,"get",t),r))return a;if(pt(a)){const l=o&&jl(t)?a:a.value;return i&&$e(l)?Ga(l):l}return $e(a)?i?Ga(a):Ro(a):a}}class Zd extends Qd{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const l=Zn(r);if(!Ut(s)&&!Zn(s)&&(r=ke(r),s=ke(s)),!te(e)&&pt(r)&&!pt(s))return l||(r.value=s),!0}const o=te(e)&&jl(t)?Number(t)<e.length:Se(e,t),a=Reflect.set(e,t,s,pt(e)?e:i);return e===ke(i)&&(o?Jn(s,r)&&On(e,"set",t,s):On(e,"add",t,s)),a}deleteProperty(e,t){const s=Se(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&On(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!In(t)||!Xd.has(t))&&ht(e,"has",t),s}ownKeys(e){return ht(e,"iterate",te(e)?"length":ks),Reflect.ownKeys(e)}}class $m extends Qd{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Fm=new Zd,Bm=new $m,Wm=new Zd(!0);const Ka=n=>n,vr=n=>Reflect.getPrototypeOf(n);function Vm(n,e,t){return function(...s){const i=this.__v_raw,r=ke(i),o=Gs(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=i[n](...s),u=t?Ka:e?no:ot;return!e&&ht(r,"iterate",l?Ya:ks),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function xr(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Hm(n,e){const t={get(i){const r=this.__v_raw,o=ke(r),a=ke(i);n||(Jn(i,a)&&ht(o,"get",i),ht(o,"get",a));const{has:l}=vr(o),c=e?Ka:n?no:ot;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&ht(ke(i),"iterate",ks),i.size},has(i){const r=this.__v_raw,o=ke(r),a=ke(i);return n||(Jn(i,a)&&ht(o,"has",i),ht(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ke(a),c=e?Ka:n?no:ot;return!n&&ht(l,"iterate",ks),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return mt(t,n?{add:xr("add"),set:xr("set"),delete:xr("delete"),clear:xr("clear")}:{add(i){!e&&!Ut(i)&&!Zn(i)&&(i=ke(i));const r=ke(this);return vr(r).has.call(r,i)||(r.add(i),On(r,"add",i,i)),this},set(i,r){!e&&!Ut(r)&&!Zn(r)&&(r=ke(r));const o=ke(this),{has:a,get:l}=vr(o);let c=a.call(o,i);c||(i=ke(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Jn(r,u)&&On(o,"set",i,r):On(o,"add",i,r),this},delete(i){const r=ke(this),{has:o,get:a}=vr(r);let l=o.call(r,i);l||(i=ke(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&On(r,"delete",i,void 0),c},clear(){const i=ke(this),r=i.size!==0,o=i.clear();return r&&On(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Vm(i,n,e)}),t}function Hl(n,e){const t=Hm(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(Se(t,i)&&i in s?t:s,i,r)}const Um={get:Hl(!1,!1)},zm={get:Hl(!1,!0)},qm={get:Hl(!0,!1)};const ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,Ym=new WeakMap;function Km(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gm(n){return n.__v_skip||!Object.isExtensible(n)?0:Km(vm(n))}function Ro(n){return Zn(n)?n:Ul(n,!1,Fm,Um,ef)}function sf(n){return Ul(n,!1,Wm,zm,tf)}function Ga(n){return Ul(n,!0,Bm,qm,nf)}function Ul(n,e,t,s,i){if(!$e(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=Gm(n);if(r===0)return n;const o=i.get(n);if(o)return o;const a=new Proxy(n,r===2?s:t);return i.set(n,a),a}function Js(n){return Zn(n)?Js(n.__v_raw):!!(n&&n.__v_isReactive)}function Zn(n){return!!(n&&n.__v_isReadonly)}function Ut(n){return!!(n&&n.__v_isShallow)}function zl(n){return n?!!n.__v_raw:!1}function ke(n){const e=n&&n.__v_raw;return e?ke(e):n}function Jm(n){return!Se(n,"__v_skip")&&Object.isExtensible(n)&&Fd(n,"__v_skip",!0),n}const ot=n=>$e(n)?Ro(n):n,no=n=>$e(n)?Ga(n):n;function pt(n){return n?n.__v_isRef===!0:!1}function B(n){return rf(n,!1)}function Xm(n){return rf(n,!0)}function rf(n,e){return pt(n)?n:new Qm(n,e)}class Qm{constructor(e,t){this.dep=new Vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ke(e),this._value=t?e:ot(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Ut(e)||Zn(e);e=s?e:ke(e),Jn(e,t)&&(this._rawValue=e,this._value=s?e:ot(e),this.dep.trigger())}}function Fe(n){return pt(n)?n.value:n}const Zm={get:(n,e,t)=>e==="__v_raw"?n:Fe(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return pt(i)&&!pt(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function of(n){return Js(n)?n:new Proxy(n,Zm)}class eb{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ji-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return zd(this,!0),!0}get value(){const e=this.dep.track();return Kd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tb(n,e,t=!1){let s,i;return oe(n)?s=n:(s=n.get,i=n.set),new eb(s,i,t)}const kr={},so=new WeakMap;let gs;function nb(n,e=!1,t=gs){if(t){let s=so.get(t);s||so.set(t,s=[]),s.push(n)}}function sb(n,e,t=Ae){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=t,c=x=>i?x:Ut(x)||i===!1||i===0?Tn(x,1):Tn(x);let u,h,d,f,p=!1,g=!1;if(pt(n)?(h=()=>n.value,p=Ut(n)):Js(n)?(h=()=>c(n),p=!0):te(n)?(g=!0,p=n.some(x=>Js(x)||Ut(x)),h=()=>n.map(x=>{if(pt(x))return x.value;if(Js(x))return c(x);if(oe(x))return l?l(x,2):x()})):oe(n)?e?h=l?()=>l(n,2):n:h=()=>{if(d){Mn();try{d()}finally{Dn()}}const x=gs;gs=u;try{return l?l(n,3,[f]):n(f)}finally{gs=x}}:h=hn,e&&i){const x=h,k=i===!0?1/0:i;h=()=>Tn(x(),k)}const m=Mm(),b=()=>{u.stop(),m&&m.active&&Nl(m.effects,u)};if(r&&e){const x=e;e=(...k)=>{x(...k),b()}}let y=g?new Array(n.length).fill(kr):kr;const w=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const k=u.run();if(i||p||(g?k.some((E,T)=>Jn(E,y[T])):Jn(k,y))){d&&d();const E=gs;gs=u;try{const T=[k,y===kr?void 0:g&&y[0]===kr?[]:y,f];y=k,l?l(e,3,T):e(...T)}finally{gs=E}}}else u.run()};return a&&a(w),u=new Hd(h),u.scheduler=o?()=>o(w,!1):w,f=x=>nb(x,!1,u),d=u.onStop=()=>{const x=so.get(u);if(x){if(l)l(x,4);else for(const k of x)k();so.delete(u)}},e?s?w(!0):y=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Tn(n,e=1/0,t){if(e<=0||!$e(n)||n.__v_skip||(t=t||new Map,(t.get(n)||0)>=e))return n;if(t.set(n,e),e--,pt(n))Tn(n.value,e,t);else if(te(n))for(let s=0;s<n.length;s++)Tn(n[s],e,t);else if(Ld(n)||Gs(n))n.forEach(s=>{Tn(s,e,t)});else if($d(n)){for(const s in n)Tn(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&Tn(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fr(n,e,t,s){try{return s?n(...s):n()}catch(i){Io(i,e,t)}}function gn(n,e,t,s){if(oe(n)){const i=fr(n,e,t,s);return i&&Nd(i)&&i.catch(r=>{Io(r,e,t)}),i}if(te(n)){const i=[];for(let r=0;r<n.length;r++)i.push(gn(n[r],e,t,s));return i}}function Io(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ae;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,l,c)===!1)return}a=a.parent}if(r){Mn(),fr(r,null,10,[n,l,c]),Dn();return}}ib(n,t,i,s,o)}function ib(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const xt=[];let on=-1;const Xs=[];let Vn=null,Hs=0;const af=Promise.resolve();let io=null;function At(n){const e=io||af;return n?e.then(this?n.bind(this):n):e}function rb(n){let e=on+1,t=xt.length;for(;e<t;){const s=e+t>>>1,i=xt[s],r=Qi(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function ql(n){if(!(n.flags&1)){const e=Qi(n),t=xt[xt.length-1];!t||!(n.flags&2)&&e>=Qi(t)?xt.push(n):xt.splice(rb(e),0,n),n.flags|=1,lf()}}function lf(){io||(io=af.then(uf))}function ob(n){te(n)?Xs.push(...n):Vn&&n.id===-1?Vn.splice(Hs+1,0,n):n.flags&1||(Xs.push(n),n.flags|=1),lf()}function Bc(n,e,t=on+1){for(;t<xt.length;t++){const s=xt[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;xt.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function cf(n){if(Xs.length){const e=[...new Set(Xs)].sort((t,s)=>Qi(t)-Qi(s));if(Xs.length=0,Vn){Vn.push(...e);return}for(Vn=e,Hs=0;Hs<Vn.length;Hs++){const t=Vn[Hs];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Vn=null,Hs=0}}const Qi=n=>n.id==null?n.flags&2?-1:1/0:n.id;function uf(n){try{for(on=0;on<xt.length;on++){const e=xt[on];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),fr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;on<xt.length;on++){const e=xt[on];e&&(e.flags&=-2)}on=-1,xt.length=0,cf(),io=null,(xt.length||Xs.length)&&uf()}}let at=null,hf=null;function ro(n){const e=at;return at=n,hf=n&&n.type.__scopeId||null,e}function qt(n,e=at,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&lo(-1);const r=ro(e);let o;try{o=n(...i)}finally{ro(r),s._d&&lo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function kt(n,e){if(at===null)return n;const t=$o(at),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Ae]=e[i];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Tn(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function os(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Mn(),gn(l,t,8,[n.el,a,n,e]),Dn())}}const ab=Symbol("_vte"),lb=n=>n.__isTeleport,cb=Symbol("_leaveCb");function Yl(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Yl(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function ge(n,e){return oe(n)?mt({name:n.name},e,{setup:n}):n}function df(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const oo=new WeakMap;function $i(n,e,t,s,i=!1){if(te(n)){n.forEach((p,g)=>$i(p,e&&(te(e)?e[g]:e),t,s,i));return}if(Qs(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&$i(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?$o(s.component):s.el,o=i?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Ae?a.refs={}:a.refs,h=a.setupState,d=ke(h),f=h===Ae?Id:p=>Se(d,p);if(c!=null&&c!==l){if(Wc(e),et(c))u[c]=null,f(c)&&(h[c]=null);else if(pt(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(oe(l))fr(l,a,12,[o,u]);else{const p=et(l),g=pt(l);if(p||g){const m=()=>{if(n.f){const b=p?f(l)?h[l]:u[l]:l.value;if(i)te(b)&&Nl(b,r);else if(te(b))b.includes(r)||b.push(r);else if(p)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,n.k&&(u[n.k]=y)}}else p?(u[l]=o,f(l)&&(h[l]=o)):g&&(l.value=o,n.k&&(u[n.k]=o))};if(o){const b=()=>{m(),oo.delete(n)};b.id=-1,oo.set(n,b),It(b,t)}else Wc(n),m()}}}function Wc(n){const e=oo.get(n);e&&(e.flags|=8,oo.delete(n))}Mo().requestIdleCallback;Mo().cancelIdleCallback;const Qs=n=>!!n.type.__asyncLoader,ff=n=>n.type.__isKeepAlive;function ub(n,e){gf(n,"a",e)}function hb(n,e){gf(n,"da",e)}function gf(n,e,t=dt){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Lo(e,s,t),t){let i=t.parent;for(;i&&i.parent;)ff(i.parent.vnode)&&db(s,e,t,i),i=i.parent}}function db(n,e,t,s){const i=Lo(e,n,s,!0);Gl(()=>{Nl(s[e],i)},t)}function Lo(n,e,t=dt,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{Mn();const a=gr(t),l=gn(e,t,n,o);return a(),Dn(),l});return s?i.unshift(r):i.push(r),r}}const Ln=n=>(e,t=dt)=>{(!tr||n==="sp")&&Lo(n,(...s)=>e(...s),t)},fb=Ln("bm"),Wt=Ln("m"),gb=Ln("bu"),Kl=Ln("u"),pf=Ln("bum"),Gl=Ln("um"),pb=Ln("sp"),mb=Ln("rtg"),bb=Ln("rtc");function yb(n,e=dt){Lo("ec",n,e)}const _b="components";function wb(n,e){return xb(_b,n,!0,e)||n}const vb=Symbol.for("v-ndc");function xb(n,e,t=!0,s=!1){const i=at||dt;if(i){const r=i.type;{const a=uy(r,!1);if(a&&(a===e||a===zt(e)||a===Ao(zt(e))))return r}const o=Vc(i[n]||r[n],e)||Vc(i.appContext[n],e);return!o&&s?r:o}}function Vc(n,e){return n&&(n[e]||n[zt(e)]||n[Ao(zt(e))])}function hi(n,e,t,s){let i;const r=t,o=te(n);if(o||et(n)){const a=o&&Js(n);let l=!1,c=!1;a&&(l=!Ut(n),c=Zn(n),n=Do(n)),i=new Array(n.length);for(let u=0,h=n.length;u<h;u++)i[u]=e(l?c?no(ot(n[u])):ot(n[u]):n[u],u,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=e(a+1,a,void 0,r)}else if($e(n))if(n[Symbol.iterator])i=Array.from(n,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(n);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(n[u],u,l,r)}}else i=[];return i}function mf(n,e,t={},s,i){if(at.ce||at.parent&&Qs(at.parent)&&at.parent.ce){const c=Object.keys(t).length>0;return R(),we(ye,null,[z("slot",t,s)],c?-2:64)}let r=n[e];r&&r._c&&(r._d=!1),R();const o=r&&bf(r(t)),a=t.key||o&&o.key,l=we(ye,{key:(a&&!In(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&n._===1?64:-2);return r&&r._c&&(r._d=!0),l}function bf(n){return n.some(e=>er(e)?!(e.type===Rn||e.type===ye&&!bf(e.children)):!0)?n:null}const Ja=n=>n?jf(n)?$o(n):Ja(n.parent):null,Fi=mt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Ja(n.parent),$root:n=>Ja(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>_f(n),$forceUpdate:n=>n.f||(n.f=()=>{ql(n.update)}),$nextTick:n=>n.n||(n.n=At.bind(n.proxy)),$watch:n=>Hb.bind(n)}),la=(n,e)=>n!==Ae&&!n.__isScriptSetup&&Se(n,e),kb={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(la(s,e))return o[e]=1,s[e];if(i!==Ae&&Se(i,e))return o[e]=2,i[e];if((c=n.propsOptions[0])&&Se(c,e))return o[e]=3,r[e];if(t!==Ae&&Se(t,e))return o[e]=4,t[e];Xa&&(o[e]=0)}}const u=Fi[e];let h,d;if(u)return e==="$attrs"&&ht(n.attrs,"get",""),u(n);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==Ae&&Se(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,Se(d,e))return d[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return la(i,e)?(i[e]=t,!0):s!==Ae&&Se(s,e)?(s[e]=t,!0):Se(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(t[a]||n!==Ae&&a[0]!=="$"&&Se(n,a)||la(e,a)||(l=r[0])&&Se(l,a)||Se(s,a)||Se(Fi,a)||Se(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Se(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Hc(n){return te(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Xa=!0;function Sb(n){const e=_f(n),t=n.proxy,s=n.ctx;Xa=!1,e.beforeCreate&&Uc(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:w,unmounted:x,render:k,renderTracked:E,renderTriggered:T,errorCaptured:D,serverPrefetch:$,expose:G,inheritAttrs:Q,components:ae,directives:Ce,filters:tt}=e;if(c&&Eb(c,s,null),o)for(const J in o){const le=o[J];oe(le)&&(s[J]=le.bind(t))}if(i){const J=i.call(t,t);$e(J)&&(n.data=Ro(J))}if(Xa=!0,r)for(const J in r){const le=r[J],De=oe(le)?le.bind(t,t):oe(le.get)?le.get.bind(t,t):hn,yt=!oe(le)&&oe(le.set)?le.set.bind(t):hn,_t=jt({get:De,set:yt});Object.defineProperty(s,J,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Ke=>_t.value=Ke})}if(a)for(const J in a)yf(a[J],s,t,J);if(l){const J=oe(l)?l.call(t):l;Reflect.ownKeys(J).forEach(le=>{Jr(le,J[le])})}u&&Uc(u,n,"c");function re(J,le){te(le)?le.forEach(De=>J(De.bind(t))):le&&J(le.bind(t))}if(re(fb,h),re(Wt,d),re(gb,f),re(Kl,p),re(ub,g),re(hb,m),re(yb,D),re(bb,E),re(mb,T),re(pf,y),re(Gl,x),re(pb,$),te(G))if(G.length){const J=n.exposed||(n.exposed={});G.forEach(le=>{Object.defineProperty(J,le,{get:()=>t[le],set:De=>t[le]=De,enumerable:!0})})}else n.exposed||(n.exposed={});k&&n.render===hn&&(n.render=k),Q!=null&&(n.inheritAttrs=Q),ae&&(n.components=ae),Ce&&(n.directives=Ce),$&&df(n)}function Eb(n,e,t=hn){te(n)&&(n=Qa(n));for(const s in n){const i=n[s];let r;$e(i)?"default"in i?r=Qt(i.from||s,i.default,!0):r=Qt(i.from||s):r=Qt(i),pt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Uc(n,e,t){gn(te(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function yf(n,e,t,s){let i=s.includes(".")?Df(t,s):()=>t[s];if(et(n)){const r=e[n];oe(r)&&Xn(i,r)}else if(oe(n))Xn(i,n.bind(t));else if($e(n))if(te(n))n.forEach(r=>yf(r,e,t,s));else{const r=oe(n.handler)?n.handler.bind(t):e[n.handler];oe(r)&&Xn(i,r,n)}}function _f(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!t&&!s?l=e:(l={},i.length&&i.forEach(c=>ao(l,c,o,!0)),ao(l,e,o)),$e(e)&&r.set(e,l),l}function ao(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&ao(n,r,t,!0),i&&i.forEach(o=>ao(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const a=Ob[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const Ob={data:zc,props:qc,emits:qc,methods:Ci,computed:Ci,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Ci,directives:Ci,watch:Pb,provide:zc,inject:Tb};function zc(n,e){return e?n?function(){return mt(oe(n)?n.call(this,this):n,oe(e)?e.call(this,this):e)}:e:n}function Tb(n,e){return Ci(Qa(n),Qa(e))}function Qa(n){if(te(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function wt(n,e){return n?[...new Set([].concat(n,e))]:e}function Ci(n,e){return n?mt(Object.create(null),n,e):e}function qc(n,e){return n?te(n)&&te(e)?[...new Set([...n,...e])]:mt(Object.create(null),Hc(n),Hc(e??{})):e}function Pb(n,e){if(!n)return e;if(!e)return n;const t=mt(Object.create(null),n);for(const s in e)t[s]=wt(n[s],e[s]);return t}function wf(){return{app:null,config:{isNativeTag:Id,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cb=0;function Ab(n,e){return function(s,i=null){oe(s)||(s=mt({},s)),i!=null&&!$e(i)&&(i=null);const r=wf(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Cb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:dy,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&oe(u.install)?(o.add(u),u.install(c,...h)):oe(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||z(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),n(f,u,d),l=!0,c._container=u,u.__vue_app__=c,$o(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(gn(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Zs;Zs=c;try{return u()}finally{Zs=h}}};return c}}let Zs=null;function Jr(n,e){if(dt){let t=dt.provides;const s=dt.parent&&dt.parent.provides;s===t&&(t=dt.provides=Object.create(s)),t[n]=e}}function Qt(n,e,t=!1){const s=ry();if(s||Zs){let i=Zs?Zs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&oe(e)?e.call(s&&s.proxy):e}}const vf={},xf=()=>Object.create(vf),kf=n=>Object.getPrototypeOf(n)===vf;function Mb(n,e,t,s=!1){const i={},r=xf();n.propsDefaults=Object.create(null),Sf(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:sf(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function Db(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,a=ke(i),[l]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(No(n.emitsOptions,d))continue;const f=e[d];if(l)if(Se(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const p=zt(d);i[p]=Za(l,a,p,f,n,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{Sf(n,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!Se(e,h)&&((u=Ps(h))===h||!Se(e,u)))&&(l?t&&(t[h]!==void 0||t[u]!==void 0)&&(i[h]=Za(l,a,h,void 0,n,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Se(e,h))&&(delete r[h],c=!0)}c&&On(n.attrs,"set","")}function Sf(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Li(l))continue;const c=e[l];let u;i&&Se(i,u=zt(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:No(n.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ke(t),c=a||Ae;for(let u=0;u<r.length;u++){const h=r[u];t[h]=Za(i,l,h,c[h],n,!Se(c,h))}}return o}function Za(n,e,t,s,i,r){const o=n[t];if(o!=null){const a=Se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&oe(l)){const{propsDefaults:c}=i;if(t in c)s=c[t];else{const u=gr(i);s=c[t]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ps(t))&&(s=!0))}return s}const Rb=new WeakMap;function Ef(n,e,t=!1){const s=t?Rb:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},a=[];let l=!1;if(!oe(n)){const u=h=>{l=!0;const[d,f]=Ef(h,e,!0);mt(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return $e(n)&&s.set(n,Ks),Ks;if(te(r))for(let u=0;u<r.length;u++){const h=zt(r[u]);Yc(h)&&(o[h]=Ae)}else if(r)for(const u in r){const h=zt(u);if(Yc(h)){const d=r[u],f=o[h]=te(d)||oe(d)?{type:d}:mt({},d),p=f.type;let g=!1,m=!0;if(te(p))for(let b=0;b<p.length;++b){const y=p[b],w=oe(y)&&y.name;if(w==="Boolean"){g=!0;break}else w==="String"&&(m=!1)}else g=oe(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||Se(f,"default"))&&a.push(h)}}const c=[o,a];return $e(n)&&s.set(n,c),c}function Yc(n){return n[0]!=="$"&&!Li(n)}const Jl=n=>n==="_"||n==="_ctx"||n==="$stable",Xl=n=>te(n)?n.map(ln):[ln(n)],Ib=(n,e,t)=>{if(e._n)return e;const s=qt((...i)=>Xl(e(...i)),t);return s._c=!1,s},Of=(n,e,t)=>{const s=n._ctx;for(const i in n){if(Jl(i))continue;const r=n[i];if(oe(r))e[i]=Ib(i,r,s);else if(r!=null){const o=Xl(r);e[i]=()=>o}}},Tf=(n,e)=>{const t=Xl(e);n.slots.default=()=>t},Pf=(n,e,t)=>{for(const s in e)(t||!Jl(s))&&(n[s]=e[s])},Lb=(n,e,t)=>{const s=n.slots=xf();if(n.vnode.shapeFlag&32){const i=e._;i?(Pf(s,e,t),t&&Fd(s,"_",i,!0)):Of(e,s)}else e&&Tf(n,e)},Nb=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=Ae;if(s.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:Pf(i,e,t):(r=!e.$stable,Of(e,i)),o=e}else e&&(Tf(n,e),o={default:1});if(r)for(const a in i)!Jl(a)&&o[a]==null&&delete i[a]},It=Xb;function jb(n){return $b(n)}function $b(n,e){const t=Mo();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=hn,insertStaticContent:p}=n,g=(_,v,S,C=null,M=null,P=null,j=void 0,N=null,L=!!v.dynamicChildren)=>{if(_===v)return;_&&!bi(_,v)&&(C=A(_),Ke(_,M,P,!0),_=null),v.patchFlag===-2&&(L=!1,v.dynamicChildren=null);const{type:I,ref:X,shapeFlag:W}=v;switch(I){case jo:m(_,v,S,C);break;case Rn:b(_,v,S,C);break;case ua:_==null&&y(v,S,C,j);break;case ye:ae(_,v,S,C,M,P,j,N,L);break;default:W&1?k(_,v,S,C,M,P,j,N,L):W&6?Ce(_,v,S,C,M,P,j,N,L):(W&64||W&128)&&I.process(_,v,S,C,M,P,j,N,L,q)}X!=null&&M?$i(X,_&&_.ref,P,v||_,!v):X==null&&_&&_.ref!=null&&$i(_.ref,null,P,_,!0)},m=(_,v,S,C)=>{if(_==null)s(v.el=a(v.children),S,C);else{const M=v.el=_.el;v.children!==_.children&&c(M,v.children)}},b=(_,v,S,C)=>{_==null?s(v.el=l(v.children||""),S,C):v.el=_.el},y=(_,v,S,C)=>{[_.el,_.anchor]=p(_.children,v,S,C,_.el,_.anchor)},w=({el:_,anchor:v},S,C)=>{let M;for(;_&&_!==v;)M=d(_),s(_,S,C),_=M;s(v,S,C)},x=({el:_,anchor:v})=>{let S;for(;_&&_!==v;)S=d(_),i(_),_=S;i(v)},k=(_,v,S,C,M,P,j,N,L)=>{v.type==="svg"?j="svg":v.type==="math"&&(j="mathml"),_==null?E(v,S,C,M,P,j,N,L):$(_,v,M,P,j,N,L)},E=(_,v,S,C,M,P,j,N)=>{let L,I;const{props:X,shapeFlag:W,transition:Y,dirs:ee}=_;if(L=_.el=o(_.type,P,X&&X.is,X),W&8?u(L,_.children):W&16&&D(_.children,L,null,C,M,ca(_,P),j,N),ee&&os(_,null,C,"created"),T(L,_,_.scopeId,j,C),X){for(const Re in X)Re!=="value"&&!Li(Re)&&r(L,Re,null,X[Re],P,C);"value"in X&&r(L,"value",null,X.value,P),(I=X.onVnodeBeforeMount)&&sn(I,C,_)}ee&&os(_,null,C,"beforeMount");const me=Fb(M,Y);me&&Y.beforeEnter(L),s(L,v,S),((I=X&&X.onVnodeMounted)||me||ee)&&It(()=>{I&&sn(I,C,_),me&&Y.enter(L),ee&&os(_,null,C,"mounted")},M)},T=(_,v,S,C,M)=>{if(S&&f(_,S),C)for(let P=0;P<C.length;P++)f(_,C[P]);if(M){let P=M.subTree;if(v===P||If(P.type)&&(P.ssContent===v||P.ssFallback===v)){const j=M.vnode;T(_,j,j.scopeId,j.slotScopeIds,M.parent)}}},D=(_,v,S,C,M,P,j,N,L=0)=>{for(let I=L;I<_.length;I++){const X=_[I]=N?Hn(_[I]):ln(_[I]);g(null,X,v,S,C,M,P,j,N)}},$=(_,v,S,C,M,P,j)=>{const N=v.el=_.el;let{patchFlag:L,dynamicChildren:I,dirs:X}=v;L|=_.patchFlag&16;const W=_.props||Ae,Y=v.props||Ae;let ee;if(S&&as(S,!1),(ee=Y.onVnodeBeforeUpdate)&&sn(ee,S,v,_),X&&os(v,_,S,"beforeUpdate"),S&&as(S,!0),(W.innerHTML&&Y.innerHTML==null||W.textContent&&Y.textContent==null)&&u(N,""),I?G(_.dynamicChildren,I,N,S,C,ca(v,M),P):j||le(_,v,N,null,S,C,ca(v,M),P,!1),L>0){if(L&16)Q(N,W,Y,S,M);else if(L&2&&W.class!==Y.class&&r(N,"class",null,Y.class,M),L&4&&r(N,"style",W.style,Y.style,M),L&8){const me=v.dynamicProps;for(let Re=0;Re<me.length;Re++){const Ee=me[Re],Ot=W[Ee],Tt=Y[Ee];(Tt!==Ot||Ee==="value")&&r(N,Ee,Ot,Tt,M,S)}}L&1&&_.children!==v.children&&u(N,v.children)}else!j&&I==null&&Q(N,W,Y,S,M);((ee=Y.onVnodeUpdated)||X)&&It(()=>{ee&&sn(ee,S,v,_),X&&os(v,_,S,"updated")},C)},G=(_,v,S,C,M,P,j)=>{for(let N=0;N<v.length;N++){const L=_[N],I=v[N],X=L.el&&(L.type===ye||!bi(L,I)||L.shapeFlag&198)?h(L.el):S;g(L,I,X,null,C,M,P,j,!0)}},Q=(_,v,S,C,M)=>{if(v!==S){if(v!==Ae)for(const P in v)!Li(P)&&!(P in S)&&r(_,P,v[P],null,M,C);for(const P in S){if(Li(P))continue;const j=S[P],N=v[P];j!==N&&P!=="value"&&r(_,P,N,j,M,C)}"value"in S&&r(_,"value",v.value,S.value,M)}},ae=(_,v,S,C,M,P,j,N,L)=>{const I=v.el=_?_.el:a(""),X=v.anchor=_?_.anchor:a("");let{patchFlag:W,dynamicChildren:Y,slotScopeIds:ee}=v;ee&&(N=N?N.concat(ee):ee),_==null?(s(I,S,C),s(X,S,C),D(v.children||[],S,X,M,P,j,N,L)):W>0&&W&64&&Y&&_.dynamicChildren?(G(_.dynamicChildren,Y,S,M,P,j,N),(v.key!=null||M&&v===M.subTree)&&Cf(_,v,!0)):le(_,v,S,X,M,P,j,N,L)},Ce=(_,v,S,C,M,P,j,N,L)=>{v.slotScopeIds=N,_==null?v.shapeFlag&512?M.ctx.activate(v,S,C,j,L):tt(v,S,C,M,P,j,L):de(_,v,L)},tt=(_,v,S,C,M,P,j)=>{const N=_.component=iy(_,C,M);if(ff(_)&&(N.ctx.renderer=q),oy(N,!1,j),N.asyncDep){if(M&&M.registerDep(N,re,j),!_.el){const L=N.subTree=z(Rn);b(null,L,v,S),_.placeholder=L.el}}else re(N,_,v,S,M,P,j)},de=(_,v,S)=>{const C=v.component=_.component;if(Gb(_,v,S))if(C.asyncDep&&!C.asyncResolved){J(C,v,S);return}else C.next=v,C.update();else v.el=_.el,C.vnode=v},re=(_,v,S,C,M,P,j)=>{const N=()=>{if(_.isMounted){let{next:W,bu:Y,u:ee,parent:me,vnode:Re}=_;{const tn=Af(_);if(tn){W&&(W.el=Re.el,J(_,W,j)),tn.asyncDep.then(()=>{_.isUnmounted||N()});return}}let Ee=W,Ot;as(_,!1),W?(W.el=Re.el,J(_,W,j)):W=Re,Y&&Gr(Y),(Ot=W.props&&W.props.onVnodeBeforeUpdate)&&sn(Ot,me,W,Re),as(_,!0);const Tt=Gc(_),en=_.subTree;_.subTree=Tt,g(en,Tt,h(en.el),A(en),_,M,P),W.el=Tt.el,Ee===null&&Jb(_,Tt.el),ee&&It(ee,M),(Ot=W.props&&W.props.onVnodeUpdated)&&It(()=>sn(Ot,me,W,Re),M)}else{let W;const{el:Y,props:ee}=v,{bm:me,m:Re,parent:Ee,root:Ot,type:Tt}=_,en=Qs(v);as(_,!1),me&&Gr(me),!en&&(W=ee&&ee.onVnodeBeforeMount)&&sn(W,Ee,v),as(_,!0);{Ot.ce&&Ot.ce._def.shadowRoot!==!1&&Ot.ce._injectChildStyle(Tt);const tn=_.subTree=Gc(_);g(null,tn,S,C,_,M,P),v.el=tn.el}if(Re&&It(Re,M),!en&&(W=ee&&ee.onVnodeMounted)){const tn=v;It(()=>sn(W,Ee,tn),M)}(v.shapeFlag&256||Ee&&Qs(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&_.a&&It(_.a,M),_.isMounted=!0,v=S=C=null}};_.scope.on();const L=_.effect=new Hd(N);_.scope.off();const I=_.update=L.run.bind(L),X=_.job=L.runIfDirty.bind(L);X.i=_,X.id=_.uid,L.scheduler=()=>ql(X),as(_,!0),I()},J=(_,v,S)=>{v.component=_;const C=_.vnode.props;_.vnode=v,_.next=null,Db(_,v.props,C,S),Nb(_,v.children,S),Mn(),Bc(_),Dn()},le=(_,v,S,C,M,P,j,N,L=!1)=>{const I=_&&_.children,X=_?_.shapeFlag:0,W=v.children,{patchFlag:Y,shapeFlag:ee}=v;if(Y>0){if(Y&128){yt(I,W,S,C,M,P,j,N,L);return}else if(Y&256){De(I,W,S,C,M,P,j,N,L);return}}ee&8?(X&16&&Qe(I,M,P),W!==I&&u(S,W)):X&16?ee&16?yt(I,W,S,C,M,P,j,N,L):Qe(I,M,P,!0):(X&8&&u(S,""),ee&16&&D(W,S,C,M,P,j,N,L))},De=(_,v,S,C,M,P,j,N,L)=>{_=_||Ks,v=v||Ks;const I=_.length,X=v.length,W=Math.min(I,X);let Y;for(Y=0;Y<W;Y++){const ee=v[Y]=L?Hn(v[Y]):ln(v[Y]);g(_[Y],ee,S,null,M,P,j,N,L)}I>X?Qe(_,M,P,!0,!1,W):D(v,S,C,M,P,j,N,L,W)},yt=(_,v,S,C,M,P,j,N,L)=>{let I=0;const X=v.length;let W=_.length-1,Y=X-1;for(;I<=W&&I<=Y;){const ee=_[I],me=v[I]=L?Hn(v[I]):ln(v[I]);if(bi(ee,me))g(ee,me,S,null,M,P,j,N,L);else break;I++}for(;I<=W&&I<=Y;){const ee=_[W],me=v[Y]=L?Hn(v[Y]):ln(v[Y]);if(bi(ee,me))g(ee,me,S,null,M,P,j,N,L);else break;W--,Y--}if(I>W){if(I<=Y){const ee=Y+1,me=ee<X?v[ee].el:C;for(;I<=Y;)g(null,v[I]=L?Hn(v[I]):ln(v[I]),S,me,M,P,j,N,L),I++}}else if(I>Y)for(;I<=W;)Ke(_[I],M,P,!0),I++;else{const ee=I,me=I,Re=new Map;for(I=me;I<=Y;I++){const Rt=v[I]=L?Hn(v[I]):ln(v[I]);Rt.key!=null&&Re.set(Rt.key,I)}let Ee,Ot=0;const Tt=Y-me+1;let en=!1,tn=0;const pi=new Array(Tt);for(I=0;I<Tt;I++)pi[I]=0;for(I=ee;I<=W;I++){const Rt=_[I];if(Ot>=Tt){Ke(Rt,M,P,!0);continue}let nn;if(Rt.key!=null)nn=Re.get(Rt.key);else for(Ee=me;Ee<=Y;Ee++)if(pi[Ee-me]===0&&bi(Rt,v[Ee])){nn=Ee;break}nn===void 0?Ke(Rt,M,P,!0):(pi[nn-me]=I+1,nn>=tn?tn=nn:en=!0,g(Rt,v[nn],S,null,M,P,j,N,L),Ot++)}const Ic=en?Bb(pi):Ks;for(Ee=Ic.length-1,I=Tt-1;I>=0;I--){const Rt=me+I,nn=v[Rt],Lc=v[Rt+1],Nc=Rt+1<X?Lc.el||Lc.placeholder:C;pi[I]===0?g(null,nn,S,Nc,M,P,j,N,L):en&&(Ee<0||I!==Ic[Ee]?_t(nn,S,Nc,2):Ee--)}}},_t=(_,v,S,C,M=null)=>{const{el:P,type:j,transition:N,children:L,shapeFlag:I}=_;if(I&6){_t(_.component.subTree,v,S,C);return}if(I&128){_.suspense.move(v,S,C);return}if(I&64){j.move(_,v,S,q);return}if(j===ye){s(P,v,S);for(let W=0;W<L.length;W++)_t(L[W],v,S,C);s(_.anchor,v,S);return}if(j===ua){w(_,v,S);return}if(C!==2&&I&1&&N)if(C===0)N.beforeEnter(P),s(P,v,S),It(()=>N.enter(P),M);else{const{leave:W,delayLeave:Y,afterLeave:ee}=N,me=()=>{_.ctx.isUnmounted?i(P):s(P,v,S)},Re=()=>{P._isLeaving&&P[cb](!0),W(P,()=>{me(),ee&&ee()})};Y?Y(P,me,Re):Re()}else s(P,v,S)},Ke=(_,v,S,C=!1,M=!1)=>{const{type:P,props:j,ref:N,children:L,dynamicChildren:I,shapeFlag:X,patchFlag:W,dirs:Y,cacheIndex:ee}=_;if(W===-2&&(M=!1),N!=null&&(Mn(),$i(N,null,S,_,!0),Dn()),ee!=null&&(v.renderCache[ee]=void 0),X&256){v.ctx.deactivate(_);return}const me=X&1&&Y,Re=!Qs(_);let Ee;if(Re&&(Ee=j&&j.onVnodeBeforeUnmount)&&sn(Ee,v,_),X&6)Dt(_.component,S,C);else{if(X&128){_.suspense.unmount(S,C);return}me&&os(_,null,v,"beforeUnmount"),X&64?_.type.remove(_,v,S,q,C):I&&!I.hasOnce&&(P!==ye||W>0&&W&64)?Qe(I,v,S,!1,!0):(P===ye&&W&384||!M&&X&16)&&Qe(L,v,S),C&&Vt(_)}(Re&&(Ee=j&&j.onVnodeUnmounted)||me)&&It(()=>{Ee&&sn(Ee,v,_),me&&os(_,null,v,"unmounted")},S)},Vt=_=>{const{type:v,el:S,anchor:C,transition:M}=_;if(v===ye){Et(S,C);return}if(v===ua){x(_);return}const P=()=>{i(S),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:j,delayLeave:N}=M,L=()=>j(S,P);N?N(_.el,P,L):L()}else P()},Et=(_,v)=>{let S;for(;_!==v;)S=d(_),i(_),_=S;i(v)},Dt=(_,v,S)=>{const{bum:C,scope:M,job:P,subTree:j,um:N,m:L,a:I}=_;Kc(L),Kc(I),C&&Gr(C),M.stop(),P&&(P.flags|=8,Ke(j,_,v,S)),N&&It(N,v),It(()=>{_.isUnmounted=!0},v)},Qe=(_,v,S,C=!1,M=!1,P=0)=>{for(let j=P;j<_.length;j++)Ke(_[j],v,S,C,M)},A=_=>{if(_.shapeFlag&6)return A(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const v=d(_.anchor||_.el),S=v&&v[ab];return S?d(S):v};let V=!1;const F=(_,v,S)=>{_==null?v._vnode&&Ke(v._vnode,null,null,!0):g(v._vnode||null,_,v,null,null,null,S),v._vnode=_,V||(V=!0,Bc(),cf(),V=!1)},q={p:g,um:Ke,m:_t,r:Vt,mt:tt,mc:D,pc:le,pbc:G,n:A,o:n};return{render:F,hydrate:void 0,createApp:Ab(F)}}function ca({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function as({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Fb(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Cf(n,e,t=!1){const s=n.children,i=e.children;if(te(s)&&te(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Hn(i[r]),a.el=o.el),!t&&a.patchFlag!==-2&&Cf(o,a)),a.type===jo&&a.patchFlag!==-1&&(a.el=o.el),a.type===Rn&&!a.el&&(a.el=o.el)}}function Bb(n){const e=n.slice(),t=[0];let s,i,r,o,a;const l=n.length;for(s=0;s<l;s++){const c=n[s];if(c!==0){if(i=t[t.length-1],n[i]<c){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function Af(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Af(e)}function Kc(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Wb=Symbol.for("v-scx"),Vb=()=>Qt(Wb);function Xn(n,e,t){return Mf(n,e,t)}function Mf(n,e,t=Ae){const{immediate:s,deep:i,flush:r,once:o}=t,a=mt({},t),l=e&&s||!e&&r!=="post";let c;if(tr){if(r==="sync"){const f=Vb();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=hn,f.resume=hn,f.pause=hn,f}}const u=dt;a.call=(f,p,g)=>gn(f,u,p,g);let h=!1;r==="post"?a.scheduler=f=>{It(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,p)=>{p?f():ql(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=sb(n,e,a);return tr&&(c?c.push(d):l&&d()),d}function Hb(n,e,t){const s=this.proxy,i=et(n)?n.includes(".")?Df(s,n):()=>s[n]:n.bind(s,s);let r;oe(e)?r=e:(r=e.handler,t=e);const o=gr(this),a=Mf(i,r.bind(s),t);return o(),a}function Df(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const Ub=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${zt(e)}Modifiers`]||n[`${Ps(e)}Modifiers`];function zb(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||Ae;let i=t;const r=e.startsWith("update:"),o=r&&Ub(s,e.slice(7));o&&(o.trim&&(i=t.map(u=>et(u)?u.trim():u)),o.number&&(i=t.map(Ua)));let a,l=s[a=sa(e)]||s[a=sa(zt(e))];!l&&r&&(l=s[a=sa(Ps(e))]),l&&gn(l,n,6,i);const c=s[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,gn(c,n,6,i)}}const qb=new WeakMap;function Rf(n,e,t=!1){const s=t?qb:e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},a=!1;if(!oe(n)){const l=c=>{const u=Rf(c,e,!0);u&&(a=!0,mt(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?($e(n)&&s.set(n,null),null):(te(r)?r.forEach(l=>o[l]=null):mt(o,r),$e(n)&&s.set(n,o),o)}function No(n,e){return!n||!To(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(n,e[0].toLowerCase()+e.slice(1))||Se(n,Ps(e))||Se(n,e))}function Gc(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=n,m=ro(n);let b,y;try{if(t.shapeFlag&4){const x=i||s,k=x;b=ln(c.call(k,x,u,h,f,d,p)),y=a}else{const x=e;b=ln(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=e.props?a:Yb(a)}}catch(x){Bi.length=0,Io(x,n,1),b=z(Rn)}let w=b;if(y&&g!==!1){const x=Object.keys(y),{shapeFlag:k}=w;x.length&&k&7&&(r&&x.some(Ll)&&(y=Kb(y,r)),w=ni(w,y,!1,!0))}return t.dirs&&(w=ni(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&Yl(w,t.transition),b=w,ro(m),b}const Yb=n=>{let e;for(const t in n)(t==="class"||t==="style"||To(t))&&((e||(e={}))[t]=n[t]);return e},Kb=(n,e)=>{const t={};for(const s in n)(!Ll(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function Gb(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return s?Jc(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!No(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Jc(s,o,c):!0:!!o;return!1}function Jc(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!No(t,r))return!0}return!1}function Jb({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const If=n=>n.__isSuspense;function Xb(n,e){e&&e.pendingBranch?te(n)?e.effects.push(...n):e.effects.push(n):ob(n)}const ye=Symbol.for("v-fgt"),jo=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),Bi=[];let Bt=null;function R(n=!1){Bi.push(Bt=n?null:[])}function Qb(){Bi.pop(),Bt=Bi[Bi.length-1]||null}let Zi=1;function lo(n,e=!1){Zi+=n,n<0&&Bt&&e&&(Bt.hasOnce=!0)}function Lf(n){return n.dynamicChildren=Zi>0?Bt||Ks:null,Qb(),Zi>0&&Bt&&Bt.push(n),n}function H(n,e,t,s,i,r){return Lf(O(n,e,t,s,i,r,!0))}function we(n,e,t,s,i){return Lf(z(n,e,t,s,i,!0))}function er(n){return n?n.__v_isVNode===!0:!1}function bi(n,e){return n.type===e.type&&n.key===e.key}const Nf=({key:n})=>n??null,Xr=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?et(n)||pt(n)||oe(n)?{i:at,r:n,k:e,f:!!t}:n:null);function O(n,e=null,t=null,s=0,i=null,r=n===ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Nf(e),ref:e&&Xr(e),scopeId:hf,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:at};return a?(Ql(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=et(t)?8:16),Zi>0&&!o&&Bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Bt.push(l),l}const z=Zb;function Zb(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===vb)&&(n=Rn),er(n)){const a=ni(n,e,!0);return t&&Ql(a,t),Zi>0&&!r&&Bt&&(a.shapeFlag&6?Bt[Bt.indexOf(n)]=a:Bt.push(a)),a.patchFlag=-2,a}if(hy(n)&&(n=n.__vccOpts),e){e=ey(e);let{class:a,style:l}=e;a&&!et(a)&&(e.class=gt(a)),$e(l)&&(zl(l)&&!te(l)&&(l=mt({},l)),e.style=$l(l))}const o=et(n)?1:If(n)?128:lb(n)?64:$e(n)?4:oe(n)?2:0;return O(n,e,t,s,i,o,r,!0)}function ey(n){return n?zl(n)||kf(n)?mt({},n):n:null}function ni(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=n,c=e?ty(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&Nf(c),ref:e&&e.ref?t&&r?te(r)?r.concat(Xr(e)):[r,Xr(e)]:Xr(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ye?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ni(n.ssContent),ssFallback:n.ssFallback&&ni(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&s&&Yl(u,l.clone(u)),u}function Me(n=" ",e=0){return z(jo,null,n,e)}function Z(n="",e=!1){return e?(R(),we(Rn,null,n)):z(Rn,null,n)}function ln(n){return n==null||typeof n=="boolean"?z(Rn):te(n)?z(ye,null,n.slice()):er(n)?Hn(n):z(jo,null,String(n))}function Hn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ni(n)}function Ql(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(te(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Ql(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!kf(e)?e._ctx=at:i===3&&at&&(at.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:at},t=32):(e=String(e),s&64?(t=16,e=[Me(e)]):t=8);n.children=e,n.shapeFlag|=t}function ty(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=gt([e.class,s.class]));else if(i==="style")e.style=$l([e.style,s.style]);else if(To(i)){const r=e[i],o=s[i];o&&r!==o&&!(te(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function sn(n,e,t,s=null){gn(n,e,7,[t,s])}const ny=wf();let sy=0;function iy(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||ny,r={uid:sy++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Am(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ef(s,i),emitsOptions:Rf(s,i),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=zb.bind(null,r),n.ce&&n.ce(r),r}let dt=null;const ry=()=>dt||at;let co,el;{const n=Mo(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};co=e("__VUE_INSTANCE_SETTERS__",t=>dt=t),el=e("__VUE_SSR_SETTERS__",t=>tr=t)}const gr=n=>{const e=dt;return co(n),n.scope.on(),()=>{n.scope.off(),co(e)}},Xc=()=>{dt&&dt.scope.off(),co(null)};function jf(n){return n.vnode.shapeFlag&4}let tr=!1;function oy(n,e=!1,t=!1){e&&el(e);const{props:s,children:i}=n.vnode,r=jf(n);Mb(n,s,r,e),Lb(n,i,t||e);const o=r?ay(n,e):void 0;return e&&el(!1),o}function ay(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,kb);const{setup:s}=t;if(s){Mn();const i=n.setupContext=s.length>1?cy(n):null,r=gr(n),o=fr(s,n,0,[n.props,i]),a=Nd(o);if(Dn(),r(),(a||n.sp)&&!Qs(n)&&df(n),a){if(o.then(Xc,Xc),e)return o.then(l=>{Qc(n,l)}).catch(l=>{Io(l,n,0)});n.asyncDep=o}else Qc(n,o)}else $f(n)}function Qc(n,e,t){oe(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:$e(e)&&(n.setupState=of(e)),$f(n)}function $f(n,e,t){const s=n.type;n.render||(n.render=s.render||hn);{const i=gr(n);Mn();try{Sb(n)}finally{Dn(),i()}}}const ly={get(n,e){return ht(n,"get",""),n[e]}};function cy(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,ly),slots:n.slots,emit:n.emit,expose:e}}function $o(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(of(Jm(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Fi)return Fi[t](n)},has(e,t){return t in e||t in Fi}})):n.proxy}function uy(n,e=!0){return oe(n)?n.displayName||n.name:n.name||e&&n.__name}function hy(n){return oe(n)&&"__vccOpts"in n}const jt=(n,e)=>tb(n,e,tr);function Ff(n,e,t){try{lo(-1);const s=arguments.length;return s===2?$e(e)&&!te(e)?er(e)?z(n,null,[e]):z(n,e):z(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&er(t)&&(t=[t]),z(n,e,t))}finally{lo(1)}}const dy="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tl;const Zc=typeof window<"u"&&window.trustedTypes;if(Zc)try{tl=Zc.createPolicy("vue",{createHTML:n=>n})}catch{}const Bf=tl?n=>tl.createHTML(n):n=>n,fy="http://www.w3.org/2000/svg",gy="http://www.w3.org/1998/Math/MathML",kn=typeof document<"u"?document:null,eu=kn&&kn.createElement("template"),py={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?kn.createElementNS(fy,n):e==="mathml"?kn.createElementNS(gy,n):t?kn.createElement(n,{is:t}):kn.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>kn.createTextNode(n),createComment:n=>kn.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>kn.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{eu.innerHTML=Bf(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const a=eu.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},my=Symbol("_vtc");function by(n,e,t){const s=n[my];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const tu=Symbol("_vod"),yy=Symbol("_vsh"),_y=Symbol(""),wy=/(?:^|;)\s*display\s*:/;function vy(n,e,t){const s=n.style,i=et(t);let r=!1;if(t&&!i){if(e)if(et(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Qr(s,a,"")}else for(const o in e)t[o]==null&&Qr(s,o,"");for(const o in t)o==="display"&&(r=!0),Qr(s,o,t[o])}else if(i){if(e!==t){const o=s[_y];o&&(t+=";"+o),s.cssText=t,r=wy.test(t)}}else e&&n.removeAttribute("style");tu in n&&(n[tu]=r?s.display:"",n[yy]&&(s.display="none"))}const nu=/\s*!important$/;function Qr(n,e,t){if(te(t))t.forEach(s=>Qr(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=xy(n,e);nu.test(t)?n.setProperty(Ps(s),t.replace(nu,""),"important"):n[s]=t}}const su=["Webkit","Moz","ms"],ha={};function xy(n,e){const t=ha[e];if(t)return t;let s=zt(e);if(s!=="filter"&&s in n)return ha[e]=s;s=Ao(s);for(let i=0;i<su.length;i++){const r=su[i]+s;if(r in n)return ha[e]=r}return e}const iu="http://www.w3.org/1999/xlink";function ru(n,e,t,s,i,r=Cm(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(iu,e.slice(6,e.length)):n.setAttributeNS(iu,e,t):t==null||r&&!Bd(t)?n.removeAttribute(e):n.setAttribute(e,r?"":In(t)?String(t):t)}function ou(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Bf(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=Bd(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function Us(n,e,t,s){n.addEventListener(e,t,s)}function ky(n,e,t,s){n.removeEventListener(e,t,s)}const au=Symbol("_vei");function Sy(n,e,t,s,i=null){const r=n[au]||(n[au]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=Ey(e);if(s){const c=r[e]=Py(s,i);Us(n,a,c,l)}else o&&(ky(n,a,o,l),r[e]=void 0)}}const lu=/(?:Once|Passive|Capture)$/;function Ey(n){let e;if(lu.test(n)){e={};let s;for(;s=n.match(lu);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Ps(n.slice(2)),e]}let da=0;const Oy=Promise.resolve(),Ty=()=>da||(Oy.then(()=>da=0),da=Date.now());function Py(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;gn(Cy(s,t.value),e,5,[s])};return t.value=n,t.attached=Ty(),t}function Cy(n,e){if(te(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const cu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Ay=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?by(n,s,o):e==="style"?vy(n,t,s):To(e)?Ll(e)||Sy(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):My(n,e,s,o))?(ou(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ru(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!et(s))?ou(n,zt(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),ru(n,e,s,o))};function My(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&cu(e)&&oe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return cu(e)&&et(t)?!1:e in n}const uu=n=>{const e=n.props["onUpdate:modelValue"]||!1;return te(e)?t=>Gr(e,t):e};function Dy(n){n.target.composing=!0}function hu(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fa=Symbol("_assign"),St={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[fa]=uu(i);const r=s||i.props&&i.props.type==="number";Us(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=Ua(a)),n[fa](a)}),t&&Us(n,"change",()=>{n.value=n.value.trim()}),e||(Us(n,"compositionstart",Dy),Us(n,"compositionend",hu),Us(n,"change",hu))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[fa]=uu(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Ua(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===l)||(n.value=l))}},Ry=mt({patchProp:Ay},py);let du;function Iy(){return du||(du=jb(Ry))}const Ly=((...n)=>{const e=Iy().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=jy(s);if(!i)return;const r=e._component;!oe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,Ny(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Ny(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function jy(n){return et(n)?document.querySelector(n):n}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const zs=typeof document<"u";function Wf(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function $y(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Wf(n.default)}const xe=Object.assign;function ga(n,e){const t={};for(const s in e){const i=e[s];t[s]=Zt(i)?i.map(n):n(i)}return t}const Wi=()=>{},Zt=Array.isArray;function fu(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}const Vf=/#/g,Fy=/&/g,By=/\//g,Wy=/=/g,Vy=/\?/g,Hf=/\+/g,Hy=/%5B/g,Uy=/%5D/g,Uf=/%5E/g,zy=/%60/g,zf=/%7B/g,qy=/%7C/g,qf=/%7D/g,Yy=/%20/g;function Zl(n){return n==null?"":encodeURI(""+n).replace(qy,"|").replace(Hy,"[").replace(Uy,"]")}function Ky(n){return Zl(n).replace(zf,"{").replace(qf,"}").replace(Uf,"^")}function nl(n){return Zl(n).replace(Hf,"%2B").replace(Yy,"+").replace(Vf,"%23").replace(Fy,"%26").replace(zy,"`").replace(zf,"{").replace(qf,"}").replace(Uf,"^")}function Gy(n){return nl(n).replace(Wy,"%3D")}function Jy(n){return Zl(n).replace(Vf,"%23").replace(Vy,"%3F")}function Xy(n){return Jy(n).replace(By,"%2F")}function nr(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const Qy=/\/$/,Zy=n=>n.replace(Qy,"");function pa(n,e,t="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),r=e.slice(l,a>0?a:e.length),i=n(r.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=s_(s??e,t),{fullPath:s+r+o,path:s,query:i,hash:nr(o)}}function e_(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function gu(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function t_(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&si(e.matched[s],t.matched[i])&&Yf(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function si(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Yf(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!n_(n[t],e[t]))return!1;return!0}function n_(n,e){return Zt(n)?pu(n,e):Zt(e)?pu(e,n):n===e}function pu(n,e){return Zt(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function s_(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let sl=(function(n){return n.pop="pop",n.push="push",n})({}),ma=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function i_(n){if(!n)if(zs){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Zy(n)}const r_=/^[^#]+#/;function o_(n,e){return n.replace(r_,"#")+e}function a_(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const Fo=()=>({left:window.scrollX,top:window.scrollY});function l_(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=a_(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function mu(n,e){return(history.state?history.state.position-e:-1)+n}const il=new Map;function c_(n,e){il.set(n,e)}function u_(n){const e=il.get(n);return il.delete(n),e}function h_(n){return typeof n=="string"||n&&typeof n=="object"}function Kf(n){return typeof n=="string"||typeof n=="symbol"}let Ue=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const Gf=Symbol("");Ue.MATCHER_NOT_FOUND+"",Ue.NAVIGATION_GUARD_REDIRECT+"",Ue.NAVIGATION_ABORTED+"",Ue.NAVIGATION_CANCELLED+"",Ue.NAVIGATION_DUPLICATED+"";function ii(n,e){return xe(new Error,{type:n,[Gf]:!0},e)}function yn(n,e){return n instanceof Error&&Gf in n&&(e==null||!!(n.type&e))}const d_=["params","query","hash"];function f_(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const e={};for(const t of d_)t in n&&(e[t]=n[t]);return JSON.stringify(e,null,2)}function g_(n){const e={};if(n===""||n==="?")return e;const t=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<t.length;++s){const i=t[s].replace(Hf," "),r=i.indexOf("="),o=nr(r<0?i:i.slice(0,r)),a=r<0?null:nr(i.slice(r+1));if(o in e){let l=e[o];Zt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function bu(n){let e="";for(let t in n){const s=n[t];if(t=Gy(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(Zt(s)?s.map(i=>i&&nl(i)):[s&&nl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function p_(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=Zt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const m_=Symbol(""),yu=Symbol(""),Bo=Symbol(""),ec=Symbol(""),rl=Symbol("");function yi(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Un(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ii(Ue.NAVIGATION_ABORTED,{from:t,to:e})):d instanceof Error?l(d):h_(d)?l(ii(Ue.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>n.call(s&&s.instances[i],e,t,c));let h=Promise.resolve(u);n.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function ba(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Wf(l)){const c=(l.__vccOpts||l)[e];c&&r.push(Un(c,t,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=$y(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Un(d,t,s,o,a,i)()}))}}return r}function b_(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(c=>si(c,a))?s.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>si(c,l))||i.push(l))}return[t,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let y_=()=>location.protocol+"//"+location.host;function Jf(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let o=i.includes(n.slice(r))?n.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),gu(a,"")}return gu(t,n)+s+i}function __(n,e,t,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=Jf(n,location),p=t.value,g=e.value;let m=0;if(d){if(t.value=f,e.value=d,o&&o===p){o=null;return}m=g?d.position-g.position:0}else s(f);i.forEach(b=>{b(t.value,p,{delta:m,type:sl.pop,direction:m?m>0?ma.forward:ma.back:ma.unknown})})};function l(){o=t.value}function c(d){i.push(d);const f=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(xe({},d.state,{scroll:Fo()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function _u(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?Fo():null}}function w_(n){const{history:e,location:t}=window,s={value:Jf(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=n.indexOf("#"),d=h>-1?(t.host&&document.querySelector("base")?n:n.slice(h))+l:y_()+n+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),t[u?"replace":"assign"](d)}}function o(l,c){r(l,xe({},e.state,_u(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=xe({},i.value,e.state,{forward:l,scroll:Fo()});r(u.current,u,!0),r(l,xe({},_u(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function v_(n){n=i_(n);const e=w_(n),t=__(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=xe({location:"",base:n,go:s,createHref:o_.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let vs=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var nt=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(nt||{});const x_={type:vs.Static,value:""},k_=/[a-zA-Z0-9_]/;function S_(n){if(!n)return[[]];if(n==="/")return[[x_]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${c}": ${f}`)}let t=nt.Static,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(t===nt.Static?r.push({type:vs.Static,value:c}):t===nt.Param||t===nt.ParamRegExp||t===nt.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:vs.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==nt.ParamRegExp){s=t,t=nt.EscapeNext;continue}switch(t){case nt.Static:l==="/"?(c&&h(),o()):l===":"?(h(),t=nt.Param):d();break;case nt.EscapeNext:d(),t=s;break;case nt.Param:l==="("?t=nt.ParamRegExp:k_.test(l)?d():(h(),t=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case nt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=nt.ParamRegExpEnd:u+=l;break;case nt.ParamRegExpEnd:h(),t=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===nt.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const wu="[^/]+?",E_={sensitive:!1,strict:!1,start:!0,end:!0};var vt=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(vt||{});const O_=/[.+*?^${}()[\]/\\]/g;function T_(n,e){const t=xe({},E_,e),s=[];let i=t.start?"^":"";const r=[];for(const c of n){const u=c.length?[]:[vt.Root];t.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=vt.Segment+(t.sensitive?vt.BonusCaseSensitive:0);if(d.type===vs.Static)h||(i+="/"),i+=d.value.replace(O_,"\\$&"),f+=vt.Static;else if(d.type===vs.Param){const{value:p,repeatable:g,optional:m,regexp:b}=d;r.push({name:p,repeatable:g,optional:m});const y=b||wu;if(y!==wu){f+=vt.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let w=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,f+=vt.Dynamic,m&&(f+=vt.BonusOptional),g&&(f+=vt.BonusRepeatable),y===".*"&&(f+=vt.BonusWildcard)}u.push(f)}s.push(u)}if(t.strict&&t.end){const c=s.length-1;s[c][s[c].length-1]+=vt.BonusStrict}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",p=r[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===vs.Static)u+=f.value;else if(f.type===vs.Param){const{value:p,repeatable:g,optional:m}=f,b=p in c?c[p]:"";if(Zt(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Zt(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function P_(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===vt.Static+vt.Segment?-1:1:n.length>e.length?e.length===1&&e[0]===vt.Static+vt.Segment?1:-1:0}function Xf(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=P_(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(vu(s))return 1;if(vu(i))return-1}return i.length-s.length}function vu(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const C_={strict:!1,end:!0,sensitive:!1};function A_(n,e,t){const s=T_(S_(n.path),t),i=xe(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function M_(n,e){const t=[],s=new Map;e=fu(C_,e);function i(h){return s.get(h)}function r(h,d,f){const p=!f,g=ku(h);g.aliasOf=f&&f.record;const m=fu(e,h),b=[g];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of x)b.push(ku(xe({},g,{components:f?f.record.components:g.components,path:k,aliasOf:f?f.record:g})))}let y,w;for(const x of b){const{path:k}=x;if(d&&k[0]!=="/"){const E=d.record.path,T=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(k&&T+k)}if(y=A_(x,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),p&&h.name&&!Su(y)&&o(h.name)),Qf(y)&&l(y),g.children){const E=g.children;for(let T=0;T<E.length;T++)r(E[T],y,f&&f.children[T])}f=f||y}return w?()=>{o(w)}:Wi}function o(h){if(Kf(h)){const d=s.get(h);d&&(s.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){const d=I_(h,t);t.splice(d,0,h),h.record.name&&!Su(h)&&s.set(h.record.name,h)}function c(h,d){let f,p={},g,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ii(Ue.MATCHER_NOT_FOUND,{location:h});m=f.record.name,p=xe(xu(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&xu(h.params,f.keys.map(w=>w.name))),g=f.stringify(p)}else if(h.path!=null)g=h.path,f=t.find(w=>w.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=d.name?s.get(d.name):t.find(w=>w.re.test(d.path)),!f)throw ii(Ue.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,p=xe({},d.params,h.params),g=f.stringify(p)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:g,params:p,matched:b,meta:R_(b)}}n.forEach(h=>r(h));function u(){t.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function xu(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function ku(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:D_(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function D_(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function Su(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function R_(n){return n.reduce((e,t)=>xe(e,t.meta),{})}function I_(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;Xf(n,e[r])<0?s=r:t=r+1}const i=L_(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function L_(n){let e=n;for(;e=e.parent;)if(Qf(e)&&Xf(n,e)===0)return e}function Qf({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Eu(n){const e=Qt(Bo),t=Qt(ec),s=jt(()=>{const l=Fe(n.to);return e.resolve(l)}),i=jt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=t.matched;if(!u||!h.length)return-1;const d=h.findIndex(si.bind(null,u));if(d>-1)return d;const f=Ou(l[c-2]);return c>1&&Ou(u)===f&&h[h.length-1].path!==f?h.findIndex(si.bind(null,l[c-2])):d}),r=jt(()=>i.value>-1&&F_(t.params,s.value.params)),o=jt(()=>i.value>-1&&i.value===t.matched.length-1&&Yf(t.params,s.value.params));function a(l={}){if($_(l)){const c=e[Fe(n.replace)?"replace":"push"](Fe(n.to)).catch(Wi);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:jt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function N_(n){return n.length===1?n[0]:n}const j_=ge({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Eu,setup(n,{slots:e}){const t=Ro(Eu(n)),{options:s}=Qt(Bo),i=jt(()=>({[Tu(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[Tu(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&N_(e.default(t));return n.custom?r:Ff("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),tc=j_;function $_(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function F_(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!Zt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Ou(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Tu=(n,e,t)=>n??e??t,B_=ge({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=Qt(rl),i=jt(()=>n.route||s.value),r=Qt(yu,0),o=jt(()=>{let c=Fe(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=jt(()=>i.value.matched[o.value]);Jr(yu,jt(()=>o.value+1)),Jr(m_,a),Jr(rl,i);const l=B();return Xn(()=>[l.value,a.value,n.name],([c,u,h],[d,f,p])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!si(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=n.name,h=a.value,d=h&&h.components[u];if(!d)return Pu(t.default,{Component:d,route:c});const f=h.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Ff(d,xe({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Pu(t.default,{Component:m,route:c})||m}}});function Pu(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Zf=B_;function W_(n){const e=M_(n.routes,n),t=n.parseQuery||g_,s=n.stringifyQuery||bu,i=n.history,r=yi(),o=yi(),a=yi(),l=Xm($n);let c=$n;zs&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ga.bind(null,A=>""+A),h=ga.bind(null,Xy),d=ga.bind(null,nr);function f(A,V){let F,q;return Kf(A)?(F=e.getRecordMatcher(A),q=V):q=A,e.addRoute(q,F)}function p(A){const V=e.getRecordMatcher(A);V&&e.removeRoute(V)}function g(){return e.getRoutes().map(A=>A.record)}function m(A){return!!e.getRecordMatcher(A)}function b(A,V){if(V=xe({},V||l.value),typeof A=="string"){const S=pa(t,A,V.path),C=e.resolve({path:S.path},V),M=i.createHref(S.fullPath);return xe(S,C,{params:d(C.params),hash:nr(S.hash),redirectedFrom:void 0,href:M})}let F;if(A.path!=null)F=xe({},A,{path:pa(t,A.path,V.path).path});else{const S=xe({},A.params);for(const C in S)S[C]==null&&delete S[C];F=xe({},A,{params:h(S)}),V.params=h(V.params)}const q=e.resolve(F,V),pe=A.hash||"";q.params=u(d(q.params));const _=e_(s,xe({},A,{hash:Ky(pe),path:q.path})),v=i.createHref(_);return xe({fullPath:_,hash:pe,query:s===bu?p_(A.query):A.query||{}},q,{redirectedFrom:void 0,href:v})}function y(A){return typeof A=="string"?pa(t,A,l.value.path):xe({},A)}function w(A,V){if(c!==A)return ii(Ue.NAVIGATION_CANCELLED,{from:V,to:A})}function x(A){return T(A)}function k(A){return x(xe(y(A),{replace:!0}))}function E(A,V){const F=A.matched[A.matched.length-1];if(F&&F.redirect){const{redirect:q}=F;let pe=typeof q=="function"?q(A,V):q;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=y(pe):{path:pe},pe.params={}),xe({query:A.query,hash:A.hash,params:pe.path!=null?{}:A.params},pe)}}function T(A,V){const F=c=b(A),q=l.value,pe=A.state,_=A.force,v=A.replace===!0,S=E(F,q);if(S)return T(xe(y(S),{state:typeof S=="object"?xe({},pe,S.state):pe,force:_,replace:v}),V||F);const C=F;C.redirectedFrom=V;let M;return!_&&t_(s,q,F)&&(M=ii(Ue.NAVIGATION_DUPLICATED,{to:C,from:q}),_t(q,q,!0,!1)),(M?Promise.resolve(M):G(C,q)).catch(P=>yn(P)?yn(P,Ue.NAVIGATION_GUARD_REDIRECT)?P:yt(P):le(P,C,q)).then(P=>{if(P){if(yn(P,Ue.NAVIGATION_GUARD_REDIRECT))return T(xe({replace:v},y(P.to),{state:typeof P.to=="object"?xe({},pe,P.to.state):pe,force:_}),V||C)}else P=ae(C,q,!0,v,pe);return Q(C,q,P),P})}function D(A,V){const F=w(A,V);return F?Promise.reject(F):Promise.resolve()}function $(A){const V=Et.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(A):A()}function G(A,V){let F;const[q,pe,_]=b_(A,V);F=ba(q.reverse(),"beforeRouteLeave",A,V);for(const S of q)S.leaveGuards.forEach(C=>{F.push(Un(C,A,V))});const v=D.bind(null,A,V);return F.push(v),Qe(F).then(()=>{F=[];for(const S of r.list())F.push(Un(S,A,V));return F.push(v),Qe(F)}).then(()=>{F=ba(pe,"beforeRouteUpdate",A,V);for(const S of pe)S.updateGuards.forEach(C=>{F.push(Un(C,A,V))});return F.push(v),Qe(F)}).then(()=>{F=[];for(const S of _)if(S.beforeEnter)if(Zt(S.beforeEnter))for(const C of S.beforeEnter)F.push(Un(C,A,V));else F.push(Un(S.beforeEnter,A,V));return F.push(v),Qe(F)}).then(()=>(A.matched.forEach(S=>S.enterCallbacks={}),F=ba(_,"beforeRouteEnter",A,V,$),F.push(v),Qe(F))).then(()=>{F=[];for(const S of o.list())F.push(Un(S,A,V));return F.push(v),Qe(F)}).catch(S=>yn(S,Ue.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function Q(A,V,F){a.list().forEach(q=>$(()=>q(A,V,F)))}function ae(A,V,F,q,pe){const _=w(A,V);if(_)return _;const v=V===$n,S=zs?history.state:{};F&&(q||v?i.replace(A.fullPath,xe({scroll:v&&S&&S.scroll},pe)):i.push(A.fullPath,pe)),l.value=A,_t(A,V,F,v),yt()}let Ce;function tt(){Ce||(Ce=i.listen((A,V,F)=>{if(!Dt.listening)return;const q=b(A),pe=E(q,Dt.currentRoute.value);if(pe){T(xe(pe,{replace:!0,force:!0}),q).catch(Wi);return}c=q;const _=l.value;zs&&c_(mu(_.fullPath,F.delta),Fo()),G(q,_).catch(v=>yn(v,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_CANCELLED)?v:yn(v,Ue.NAVIGATION_GUARD_REDIRECT)?(T(xe(y(v.to),{force:!0}),q).then(S=>{yn(S,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&!F.delta&&F.type===sl.pop&&i.go(-1,!1)}).catch(Wi),Promise.reject()):(F.delta&&i.go(-F.delta,!1),le(v,q,_))).then(v=>{v=v||ae(q,_,!1),v&&(F.delta&&!yn(v,Ue.NAVIGATION_CANCELLED)?i.go(-F.delta,!1):F.type===sl.pop&&yn(v,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),Q(q,_,v)}).catch(Wi)}))}let de=yi(),re=yi(),J;function le(A,V,F){yt(A);const q=re.list();return q.length?q.forEach(pe=>pe(A,V,F)):console.error(A),Promise.reject(A)}function De(){return J&&l.value!==$n?Promise.resolve():new Promise((A,V)=>{de.add([A,V])})}function yt(A){return J||(J=!A,tt(),de.list().forEach(([V,F])=>A?F(A):V()),de.reset()),A}function _t(A,V,F,q){const{scrollBehavior:pe}=n;if(!zs||!pe)return Promise.resolve();const _=!F&&u_(mu(A.fullPath,0))||(q||!F)&&history.state&&history.state.scroll||null;return At().then(()=>pe(A,V,_)).then(v=>v&&l_(v)).catch(v=>le(v,A,V))}const Ke=A=>i.go(A);let Vt;const Et=new Set,Dt={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:b,options:n,push:x,replace:k,go:Ke,back:()=>Ke(-1),forward:()=>Ke(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:De,install(A){A.component("RouterLink",tc),A.component("RouterView",Zf),A.config.globalProperties.$router=Dt,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(l)}),zs&&!Vt&&l.value===$n&&(Vt=!0,x(i.location).catch(q=>{}));const V={};for(const q in $n)Object.defineProperty(V,q,{get:()=>l.value[q],enumerable:!0});A.provide(Bo,Dt),A.provide(ec,sf(V)),A.provide(rl,l);const F=A.unmount;Et.add(A),A.unmount=function(){Et.delete(A),Et.size<1&&(c=$n,Ce&&Ce(),Ce=null,l.value=$n,Vt=!1,J=!1),F()}}};function Qe(A){return A.reduce((V,F)=>V.then(()=>$(F)),Promise.resolve())}return Dt}function ns(){return Qt(Bo)}function V_(n){return Qt(ec)}const H_={class:"navLabel"},U_=ge({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(n){return ns(),(e,t)=>(R(),we(Fe(tc),{to:n.route,class:gt("navLink"+(n.active===n.label?" active":""))},{default:qt(()=>[O("i",{class:gt(n.icon)},null,2),O("span",H_,fe(n.label),1)]),_:1},8,["to","class"]))}}),Pe=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},Sr=Pe(U_,[["__scopeId","data-v-64e6c1bc"]]),z_={class:"nav-bar"},q_=ge({__name:"NavBar",props:{active:{}},setup(n){return(e,t)=>(R(),H("nav",z_,[z(Sr,{label:"Home",icon:"fas fa-home",route:"/",active:n.active},null,8,["active"]),z(Sr,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:n.active},null,8,["active"]),z(Sr,{label:"Exercises",icon:"fas fa-dumbbell",route:"/exercises",active:n.active},null,8,["active"]),z(Sr,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:n.active},null,8,["active"])]))}}),Y_=Pe(q_,[["__scopeId","data-v-7220f9e3"]]);var ol=function(n,e){return ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])},ol(n,e)};function eg(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ol(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var uo=function(){return uo=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},uo.apply(this,arguments)};function di(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function tg(n,e,t,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,s);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(i<3?o(r):i>3?o(e,t,r):o(e,t))||r);return i>3&&r&&Object.defineProperty(e,t,r),r}function ng(n,e){return function(t,s){e(t,s,n)}}function sg(n,e,t,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&n?s.static?n:n.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=t.length-1;f>=0;f--){var p={};for(var g in s)p[g]=g==="access"?{}:s[g];for(var g in s.access)p.access[g]=s.access[g];p.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function ig(n,e,t){for(var s=arguments.length>2,i=0;i<e.length;i++)t=s?e[i].call(n,t):e[i].call(n);return s?t:void 0}function rg(n){return typeof n=="symbol"?n:"".concat(n)}function og(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function ag(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function U(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})}function lg(n,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Wo=Object.create?(function(n,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,s,i)}):(function(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]});function cg(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Wo(e,n,t)}function ho(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nc(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),i,r=[],o;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(o)throw o.error}}return r}function ug(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(nc(arguments[e]));return n}function hg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),i=0,e=0;e<t;e++)for(var r=arguments[e],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function dg(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}function ri(n){return this instanceof ri?(this.v=n,this):new ri(n)}function fg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,h)}}function a(f,p){s[f]&&(i[f]=function(g){return new Promise(function(m,b){r.push([f,g,m,b])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(s[f](p))}catch(g){d(r[0][3],g)}}function c(f){f.value instanceof ri?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}}function gg(n){var e,t;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,r){e[i]=n[i]?function(o){return(t=!t)?{value:ri(n[i](o)),done:!1}:r?r(o):o}:r}}function pg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ho=="function"?ho(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=n[r]&&function(o){return new Promise(function(a,l){o=n[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function mg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var K_=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},al=function(n){return al=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},al(n)};function bg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=al(n),s=0;s<t.length;s++)t[s]!=="default"&&Wo(e,n,t[s]);return K_(e,n),e}function yg(n){return n&&n.__esModule?n:{default:n}}function _g(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)}function wg(n,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function vg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function xg(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),n.stack.push({value:e,dispose:s,async:t})}else t&&n.stack.push({async:!0});return e}var G_=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=n,s.suppressed=e,s};function kg(n){function e(r){n.error=n.hasError?new G_(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}var t,s=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&s===1)return s=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var r=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(r).then(i,function(o){return e(o),i()})}else s|=1}catch(o){e(o)}if(s===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Sg(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,i,r,o){return s?e?".jsx":".js":i&&(!r||!o)?t:i+r+"."+o.toLowerCase()+"js"}):n}const J_={__extends:eg,__assign:uo,__rest:di,__decorate:tg,__param:ng,__esDecorate:sg,__runInitializers:ig,__propKey:rg,__setFunctionName:og,__metadata:ag,__awaiter:U,__generator:lg,__createBinding:Wo,__exportStar:cg,__values:ho,__read:nc,__spread:ug,__spreadArrays:hg,__spreadArray:dg,__await:ri,__asyncGenerator:fg,__asyncDelegator:gg,__asyncValues:pg,__makeTemplateObject:mg,__importStar:bg,__importDefault:yg,__classPrivateFieldGet:_g,__classPrivateFieldSet:wg,__classPrivateFieldIn:vg,__addDisposableResource:xg,__disposeResources:kg,__rewriteRelativeImportExtension:Sg},X_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xg,get __assign(){return uo},__asyncDelegator:gg,__asyncGenerator:fg,__asyncValues:pg,__await:ri,__awaiter:U,__classPrivateFieldGet:_g,__classPrivateFieldIn:vg,__classPrivateFieldSet:wg,__createBinding:Wo,__decorate:tg,__disposeResources:kg,__esDecorate:sg,__exportStar:cg,__extends:eg,__generator:lg,__importDefault:yg,__importStar:bg,__makeTemplateObject:mg,__metadata:ag,__param:ng,__propKey:rg,__read:nc,__rest:di,__rewriteRelativeImportExtension:Sg,__runInitializers:ig,__setFunctionName:og,__spread:ug,__spreadArray:dg,__spreadArrays:hg,__values:ho,default:J_},Symbol.toStringTag,{value:"Module"})),Q_="modulepreload",Z_=function(n){return"/paperWeight/dist/"+n},Cu={},fi=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(t.map(u=>{if(u=Z_(u),u in Cu)return;Cu[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Q_,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},e0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Cs);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class sc extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Au extends sc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mu extends sc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Du extends sc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ll||(ll={}));class t0{constructor(e,{headers:t={},customFetch:s,region:i=ll.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=e0(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return U(this,arguments,void 0,function*(t,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new Au(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Mu(f);if(!f.ok)throw new Du(f);let g=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield f.json():g==="application/octet-stream"||g==="application/pdf"?m=yield f.blob():g==="text/event-stream"?m=f:g==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new Au(r)}:{data:null,error:r,response:r instanceof Du||r instanceof Mu?r.context:void 0}}})}}function n0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Eg(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),t}var lt={};const gi=Eg(X_);var Er={},Or={},Tr={},Pr={},Cr={},s0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oi=s0();const i0=oi.fetch,Og=oi.fetch.bind(oi),Tg=oi.Headers,r0=oi.Request,o0=oi.Response,Cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tg,Request:r0,Response:o0,default:Og,fetch:i0},Symbol.toStringTag,{value:"Module"})),a0=Eg(Cs);var Ar={},Ru;function Pg(){if(Ru)return Ar;Ru=1,Object.defineProperty(Ar,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ar.default=n,Ar}var Iu;function Cg(){if(Iu)return Cr;Iu=1,Object.defineProperty(Cr,"__esModule",{value:!0});const n=gi,e=n.__importDefault(a0),t=n.__importDefault(Pg());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let p=null,g=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(g=[],p=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p?.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,y="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return Cr.default=s,Cr}var Lu;function Ag(){if(Lu)return Pr;Lu=1,Object.defineProperty(Pr,"__esModule",{value:!0});const e=gi.__importDefault(Cg());class t extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Pr.default=t,Pr}var Nu;function ic(){if(Nu)return Tr;Nu=1,Object.defineProperty(Tr,"__esModule",{value:!0});const e=gi.__importDefault(Ag());class t extends e.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Tr.default=t,Tr}var ju;function Mg(){if(ju)return Or;ju=1,Object.defineProperty(Or,"__esModule",{value:!0});const e=gi.__importDefault(ic());class t{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Or.default=t,Or}var $u;function l0(){if($u)return Er;$u=1,Object.defineProperty(Er,"__esModule",{value:!0});const n=gi,e=n.__importDefault(Mg()),t=n.__importDefault(ic());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{d.searchParams.append(g,m)})):(h="POST",f=o);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new t.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Er.default=s,Er}var Fu;function c0(){if(Fu)return lt;Fu=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const n=gi,e=n.__importDefault(l0());lt.PostgrestClient=e.default;const t=n.__importDefault(Mg());lt.PostgrestQueryBuilder=t.default;const s=n.__importDefault(ic());lt.PostgrestFilterBuilder=s.default;const i=n.__importDefault(Ag());lt.PostgrestTransformBuilder=i.default;const r=n.__importDefault(Cg());lt.PostgrestBuilder=r.default;const o=n.__importDefault(Pg());return lt.PostgrestError=o.default,lt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},lt}var u0=c0();const h0=n0(u0),{PostgrestClient:d0,PostgrestQueryBuilder:QA,PostgrestFilterBuilder:ZA,PostgrestTransformBuilder:eM,PostgrestBuilder:tM,PostgrestError:nM}=h0;class f0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const g0="2.76.1",p0=`realtime-js/${g0}`,m0="1.0.0",cl=1e4,b0=1e3,y0=100;var Vi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Vi||(Vi={}));var st;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(st||(st={}));var Gt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Gt||(Gt={}));var ul;(function(n){n.websocket="websocket"})(ul||(ul={}));var _s;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(_s||(_s={}));class _0{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const i=t.getUint8(1),r=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const Bu=(n,e,t={})=>{var s;const i=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((r,o)=>(r[o]=w0(o,n,e,i),r),{}):{}},w0=(n,e,t,s)=>{const i=e.find(a=>a.name===n),r=i?.type,o=t[n];return r&&!s.includes(r)?Rg(r,o):hl(o)},Rg=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return S0(e,t)}switch(n){case Ie.bool:return v0(e);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return x0(e);case Ie.json:case Ie.jsonb:return k0(e);case Ie.timestamp:return E0(e);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return hl(e);default:return hl(e)}},hl=n=>n,v0=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},x0=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},k0=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},S0=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let r;const o=n.slice(1,t);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Rg(e,a))}return n},E0=n=>typeof n=="string"?n.replace(" ","T"):n,Ig=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ya{constructor(e,t,s={},i=cl){this.channel=e,this.event=t,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wu;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Wu||(Wu={}));class Hi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Hi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,i){const r=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=h.filter(m=>d.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,t,s,i){const{joins:r,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const i=e[s];return"metas"in i?t[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[s]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vu;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Vu||(Vu={}));var Ui;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ui||(Ui={}));var Sn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));class rc{constructor(e,t={config:{}},s){var i,r;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ya(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Dg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Hi(this),this.broadcastEndpointURL=Ig(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Sn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Sn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e?.(Sn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<m;y++){const w=g[y],{filter:{event:x,schema:k,table:E,filter:T}}=w,D=f&&f[y];if(D&&D.event===x&&D.schema===k&&D.table===E&&D.filter===T)b.push(Object.assign(Object.assign({},w),{id:D.id}));else{this.unsubscribe(),this.state=st.errored,e?.(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Sn.SUBSCRIBED);return}}).receive("error",f=>{this.state=st.errored,e?.(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===st.joined&&e===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,t={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new ya(this,Gt.leave,{},e),s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(r),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ya(this,e,t,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>y0){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Gt;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var p,g,m,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return x&&((g=t.ids)===null||g===void 0?void 0:g.includes(x))&&(k==="*"||k?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=t?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:g,table:m,commit_timestamp:b,type:y,errors:w}=p;d=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(d,s)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const i=e.toLocaleLowerCase(),r={type:i,filter:t,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&rc.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Bu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Bu(e.columns,e.old_record)),t}}const _a=()=>{},Mr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O0=[1e3,2e3,5e3,1e4],T0=1e4,P0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C0{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cl,this.transport=null,this.heartbeatIntervalMs=Mr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_a,this.ref=0,this.reconnectTimer=null,this.logger=_a,this.conn=null,this.sendBuffer=[],this.serializer=new _0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>fi(async()=>{const{default:a}=await Promise.resolve().then(()=>Cs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ul.websocket}`,this.httpEndpoint=Ig(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:m0}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Vi.connecting:return _s.Connecting;case Vi.open:return _s.Open;case Vi.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new rc(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(b0,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Mr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=t,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${s}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([P0],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const i={access_token:t,version:p0};t&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Gt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Dg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,i,r,o,a,l,c,u;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:cl,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Mr.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:_a,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>O0[h-1]||T0),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class oc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class A0 extends oc{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dl extends oc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const ac=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Cs);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},M0=()=>U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fi(()=>Promise.resolve().then(()=>Cs),void 0)).Response:Response}),fl=n=>{if(Array.isArray(n))return n.map(t=>fl(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const i=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=fl(s)}),e},D0=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),R0=(n,e,t)=>U(void 0,void 0,void 0,function*(){const s=yield M0();n instanceof s&&!t?.noResolveJson?n.json().then(i=>{const r=n.status||500,o=i?.statusCode||r+"";e(new A0(wa(i),r,o))}).catch(i=>{e(new dl(wa(i),i))}):e(new dl(wa(n),n))}),I0=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!s?i:(D0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function pr(n,e,t,s,i,r){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,I0(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>R0(l,a,s))})})}function sr(n,e,t,s){return U(this,void 0,void 0,function*(){return pr(n,"GET",e,t,s)})}function Kt(n,e,t,s,i){return U(this,void 0,void 0,function*(){return pr(n,"POST",e,s,i,t)})}function gl(n,e,t,s,i){return U(this,void 0,void 0,function*(){return pr(n,"PUT",e,s,i,t)})}function L0(n,e,t,s){return U(this,void 0,void 0,function*(){return pr(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function lc(n,e,t,s,i){return U(this,void 0,void 0,function*(){return pr(n,"DELETE",e,s,i,t)})}class N0{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}var Lg;class j0{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new N0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}Lg=Symbol.toStringTag;const $0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F0{constructor(e,t={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,i){return U(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Hu),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=yield(e=="PUT"?gl:Kt)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}upload(e,t,s){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,i){return U(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Hu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield gl(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return U(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const r=yield Kt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new oc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}update(e,t,s){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return U(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}copy(e,t,s){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,s){return U(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Kt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,s){return U(this,void 0,void 0,function*(){try{const i=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>sr(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new j0(l,this.shouldThrowOnError)}info(e){return U(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield sr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:fl(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}exists(e){return U(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield L0(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s)&&s instanceof dl){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),i=[],r=t?.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&i.push(r);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return U(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}list(e,t,s){return U(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$0),t),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}listV2(e,t){return U(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ng="2.76.1",jg={"X-Client-Info":`storage-js/${Ng}`};class B0{constructor(e,t={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jg),t),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return U(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}createBucket(e){return U(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return U(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}emptyBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}}class W0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jg),t),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}listBuckets(e){return U(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield sr(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}})}}const cc={"X-Client-Info":`storage-js/${Ng}`,"Content-Type":"application/json"};class $g extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $t(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class va extends $g{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V0 extends $g{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Uu;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uu||(Uu={}));const uc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Cs);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},H0=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),U0=(n,e,t)=>U(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n.status||500,r=n;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";e(new va(zu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new va(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new va(a,i,o))}}else e(new V0(zu(n),n))}),z0=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return s?(H0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),t)):i};function q0(n,e,t,s,i,r){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,z0(e,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>U0(l,a,s))})})}function Ft(n,e,t,s,i){return U(this,void 0,void 0,function*(){return q0(n,"POST",e,s,i,t)})}class Y0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cc),t),this.fetch=uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getIndex(e,t){return U(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listIndexes(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return U(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}}class K0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cc),t),this.fetch=uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return U(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}listVectors(e){return U(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ft(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}queryVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}deleteVectors(e){return U(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}class G0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cc),t),this.fetch=uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}listBuckets(){return U(this,arguments,void 0,function*(e={}){try{return{data:yield Ft(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}class J0 extends G0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new X0(this.url,this.headers,e,this.fetch)}}class X0 extends Y0{constructor(e,t,s,i){super(e,t,i),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Q0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Q0 extends K0{constructor(e,t,s,i,r){super(e,t,r),this.vectorBucketName=s,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Z0 extends B0{constructor(e,t={},s,i){super(e,t,s,i)}from(e){return new F0(this.url,this.headers,e,this.fetch)}get vectors(){return new J0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W0(this.url+"/iceberg",this.headers,this.fetch)}}const ew="2.76.1";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const tw={"X-Client-Info":`supabase-js-${Ai}/${ew}`},nw={headers:tw},sw={schema:"public"},iw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rw={},ow=n=>{let e;return n?e=n:typeof fetch>"u"?e=Og:e=fetch,(...t)=>e(...t)},aw=()=>typeof Headers>"u"?Tg:Headers,lw=(n,e,t)=>{const s=ow(t),i=aw();return async(r,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:n;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function cw(n){return n.endsWith("/")?n:n+"/"}function uw(n,e){var t,s;const{db:i,auth:r,realtime:o,global:a}=n,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}function hw(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Fg="2.76.1",qs=30*1e3,pl=3,xa=pl*qs,dw="http://localhost:9999",fw="supabase.auth.token",gw={"X-Client-Info":`gotrue-js/${Fg}`},ml="X-Supabase-Api-Version",Bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mw=600*1e3;class ir extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function K(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class bw extends ir{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function yw(n){return K(n)&&n.name==="AuthApiError"}class ws extends ir{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ss extends ir{constructor(e,t,s,i){super(e,s,i),this.name=t,this.status=s}}class Wn extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _w(n){return K(n)&&n.name==="AuthSessionMissingError"}class Ls extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dr extends ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rr extends ss{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ww(n){return K(n)&&n.name==="AuthImplicitGrantRedirectError"}class qu extends ss{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bl extends ss{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ka(n){return K(n)&&n.name==="AuthRetryableFetchError"}class Yu extends ss{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class yl extends ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ku=` 	
\r=`.split(""),vw=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Ku.length;e+=1)n[Ku[e].charCodeAt(0)]=-2;for(let e=0;e<fo.length;e+=1)n[fo[e].charCodeAt(0)]=e;return n})();function Gu(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(fo[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(fo[s]),e.queuedBits-=6}}function Wg(n,e,t){const s=vw[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ju(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{Sw(o,s,t)};for(let o=0;o<n.length;o+=1)Wg(n.charCodeAt(o),i,r);return e.join("")}function xw(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function kw(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}xw(s,e)}}function Sw(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ei(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Wg(n.charCodeAt(i),t,s);return new Uint8Array(e)}function Ew(n){const e=[];return kw(n,t=>e.push(t)),new Uint8Array(e)}function xs(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};return n.forEach(i=>Gu(i,t,s)),Gu(null,t,s),e.join("")}function Ow(n){return Math.round(Date.now()/1e3)+n}function Tw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},Vg=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function Pw(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return t.searchParams.forEach((s,i)=>{e[i]=s}),e}const Hg=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Cs);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Cw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ys=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},cs=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Fn=async(n,e)=>{await n.removeItem(e)};class Vo{constructor(){this.promise=new Vo.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Vo.promiseConstructor=Promise;function Sa(n){const e=n.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!pw.test(e[s]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Ju(e[0])),payload:JSON.parse(Ju(e[1])),signature:ei(e[2]),raw:{header:e[0],payload:e[1]}}}async function Aw(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Mw(n,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function Dw(n){return("0"+n.toString(16)).substr(-2)}function Rw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let i="";for(let r=0;r<56;r++)i+=t.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,Dw).join("")}async function Iw(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function Lw(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Iw(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ns(n,e,t=!1){const s=Rw();let i=s;t&&(i+="/PASSWORD_RECOVERY"),await Ys(n,`${e}-code-verifier`,i);const r=await Lw(s);return[r,s===r?"plain":"s256"]}const Nw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jw(n){const e=n.headers.get(ml);if(!e||!e.match(Nw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $w(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Fw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(n){if(!Bw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ea(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xu(n){return JSON.parse(JSON.stringify(n))}const ps=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ww=[502,503,504];async function Qu(n){var e;if(!Cw(n))throw new bl(ps(n),0);if(Ww.includes(n.status))throw new bl(ps(n),n.status);let t;try{t=await n.json()}catch(r){throw new ws(ps(r),r)}let s;const i=jw(n);if(i&&i.getTime()>=Bg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Yu(ps(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Wn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Yu(ps(t),n.status,t.weak_password.reasons);throw new bw(ps(t),n.status||500,s)}const Vw=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),t))};async function ne(n,e,t,s){var i;const r=Object.assign({},s?.headers);r[ml]||(r[ml]=Bg["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Hw(n,e,t+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Hw(n,e,t,s,i,r){const o=Vw(e,s,i,r);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new bl(ps(l),0)}if(a.ok||await Qu(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Qu(l)}}function Yt(n){var e;let t=null;qw(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Ow(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function Zu(n){const e=Yt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function zn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Uw(n){return{data:n,error:null}}function zw(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r}=n,o=di(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function eh(n){return n}function qw(n){return n.access_token&&n.refresh_token&&n.expires_in}const Oa=["global","local","others"];class Yw{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=Hg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Oa[0]){if(Oa.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oa.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=di(e,["options"]),i=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zw,redirectTo:t?.redirectTo})}catch(t){if(K(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zn})}catch(t){if(K(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:eh});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){js(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zn})}catch(t){if(K(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){js(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){js(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){js(e.userId);try{const{data:t,error:s}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:s}}catch(t){if(K(t))return{data:null,error:t};throw t}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:eh});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(K(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(K(t))return{data:null,error:t};throw t}}}function th(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const $s={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ug extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kw extends Ug{}async function Gw(n,e,t){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Kw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($s.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Jw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Xw(n){return parseInt(n,16)}function Qw(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Zw(n){var e;const{chainId:t,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const f=zg(n.address),p=u?`${u}://${s}`:s,g=n.statement?`${n.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${m}
${b}`}class Ze extends Error{constructor({message:e,code:t,cause:s,name:i}){var r;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=t}}class go extends Ze{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ev({error:n,options:e}){var t,s,i;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=r.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(qg(o)){if(r.rp.id!==o)return new Ze({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function tv({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(qg(s)){if(t.rpId!==s)return new Ze({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class nv{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sv=new nv;function iv(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:s}=n,i=di(n,["challenge","user","excludeCredentials"]),r=ei(e).buffer,o=Object.assign(Object.assign({},t),{id:ei(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ei(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function rv(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,s=di(n,["challenge","allowCredentials"]),i=ei(e).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(t&&t.length>0){r.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const a=t[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ei(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function ov(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:xs(new Uint8Array(n.response.attestationObject)),clientDataJSON:xs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function av(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,s=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:xs(new Uint8Array(i.authenticatorData)),clientDataJSON:xs(new Uint8Array(i.clientDataJSON)),signature:xs(new Uint8Array(i.signature)),userHandle:i.userHandle?xs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function nh(){var n,e;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lv(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new go("Browser returned unexpected credential type",e)}:{data:null,error:new go("Empty credential response",e)}}catch(e){return{data:null,error:ev({error:e,options:n})}}}async function cv(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new go("Browser returned unexpected credential type",e)}:{data:null,error:new go("Empty credential response",e)}}catch(e){return{data:null,error:tv({error:e,options:n})}}}const uv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hv={userVerification:"preferred",hints:["security-key"]};function po(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of n)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(t(o))s[r]=o;else if(e(o)){const a=s[r];e(a)?s[r]=po(a,o):s[r]=po(o)}else s[r]=o}return s}function dv(n,e){return po(uv,n,e||{})}function fv(n,e){return po(hv,n,e||{})}class gv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:a};const l=i??sv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=dv(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await lv({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=fv(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await cv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return K(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!t)return{data:null,error:new ir("rpId is required for WebAuthn authentication")};try{if(!nh())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return K(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!t)return{data:null,error:new ir("rpId is required for WebAuthn registration")};try{if(!nh())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return K(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in register",o)}}}}Jw();const pv={url:dw,storageKey:fw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sh(n,e,t){return await t()}const Fs={};class rr{get jwks(){var e,t;return(t=(e=Fs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Fs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rr.nextInstanceID,rr.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},pv),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hg(i.fetch),this.lock=i.lock||sh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Lt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Gw:this.lock=sh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gv(this)},this.persistSession?(i.storage?this.storage=i.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=th(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=th(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Pw(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Lt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(t,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),ww(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return K(t)?{error:t}:{error:new ws("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,i;try{const r=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Yt}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,s,i;try{let r;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ns(this.storage,this.storageKey)),r=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(t=d?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},xform:Yt})}else if("phone"in e){const{phone:u,password:h,options:d}=e;r=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Yt})}else throw new Dr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:a}=e;t=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Zu})}else if("phone"in e){const{phone:r,password:o,options:a}=e;t=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Zu})}else throw new Dr("You must provide either an email or phone number and a password");const{data:s,error:i}=t;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ls}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,i,r,o,a,l,c,u,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:g,wallet:m,statement:b,options:y}=e;let w;if(Lt())if(typeof m=="object")w=m;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")w=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const x=new URL((t=y?.url)!==null&&t!==void 0?t:window.location.href),k=await w.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=zg(k[0]);let T=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!T){const $=await w.request({method:"eth_chainId"});T=Xw($)}const D={domain:x.host,address:E,statement:b,uri:x.href,version:"1",chainId:T,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Zw(D),p=await w.request({method:"personal_sign",params:[Qw(f),E]})}try{const{data:g,error:m}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Yt});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ls}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(K(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var t,s,i,r,o,a,l,c,u,h,d,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:b,statement:y,options:w}=e;let x;if(Lt())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const k=new URL((t=w?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)p=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:m,error:b}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:xs(g)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yt});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ls}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(K(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await cs(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(t??"").split("/");try{const{data:r,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Yt});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Ls}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(K(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:s,token:i,access_token:r,nonce:o}=e,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Yt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ls}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ns(this.storage,this.storageKey));const{error:h}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Dr("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let i,r;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Yt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ns(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Uw})}catch(r){if(K(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Wn;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await ne(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await ne(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Dr("You must provide either an email or phone number and a type")}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<xa:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await cs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ea()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zn}):await this._useSession(async t=>{var s,i,r;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:zn})})}catch(t){if(K(t))return _w(t)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Wn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ns(this.storage,this.storageKey));const{data:c,error:u}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:zn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wn;const t=Date.now()/1e3;let s=t,i=!0,r=null;const{payload:o}=Sa(e.access_token);if(o.exp&&(s=o.exp,i=s<=t),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(K(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Wn;const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Lt())throw new Rr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new qu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qu("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Rr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:g,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(yw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Tw(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,i;try{const{data:{session:r},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ns(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(K(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Lt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(K(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:i,data:{session:r}}=t;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Yt}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ls}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Mw(async i=>(i>0&&await Aw(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yt})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ka(r)&&Date.now()+o-s<qs})}catch(s){if(this._debug(t,"error",s),K(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Lt()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await cs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ys(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Ea()}else if(i&&!i.user&&!i.user){const o=await cs(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Fn(this.storage,this.storageKey+"-user"),await Ys(this.storage,this.storageKey,i)):i.user=Ea()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xa;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${xa}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ka(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vo;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Wn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),K(r)){const o={data:null,error:r};return ka(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Ys(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const r=Xu(i);await Ys(this.storage,this.storageKey,r)}else{const i=Xu(t);await Ys(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qs}ms, refresh threshold is ${pl} ticks`),i<=pl&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ug)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const i=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ns(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(K(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ov(e.webauthn.credential_response):av(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(K(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const o=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:iv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(K(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sa(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+mw>i)return s;const{data:r,error:o}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=Sa(s);t?.allowExpired||$w(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=Fw(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ew(`${a}.${l}`)))throw new yl("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}rr.nextInstanceID=0;const mv=rr;class bv extends mv{constructor(e){super(e)}}class yv{constructor(e,t,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=t;const a=hw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:sw,realtime:rw,auth:Object.assign(Object.assign({},iw),{storageKey:l}),global:nw},u=uw(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=lw(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new d0(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Z0(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new t0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bv({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new C0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _v=(n,e,t)=>new yv(n,e,t);function wv(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vv="https://gkyqqlkxpfskmtryfmyp.supabase.co",xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",be=_v(vv,xv),kv={class:"backBar"},Sv=ge({__name:"App",setup(n){function e(){return s.name==="Home"||s.name==="Stats"||s.name==="Exercises"||s.name==="Upload"?!1:window.history.length>1}B("/home");const t=ns(),s=V_();async function i(){s.name==="SignIn"||s.name==="SignUp"||(await be.auth.getUser()).data.user||t.push({name:"SignIn"})}return i(),(r,o)=>(R(),H(ye,null,[o[2]||(o[2]=O("div",{class:"spacer",style:{height:"70px"}},null,-1)),O("div",kv,[e()?(R(),H("button",{key:0,class:"backButton clickable",onClick:o[0]||(o[0]=a=>Fe(t).back())},[...o[1]||(o[1]=[O("i",{class:"fa-solid fa-chevron-left"},null,-1)])])):Z("",!0),O("h3",null,fe(Fe(s).name),1)]),z(Fe(Zf)),z(Y_,{active:Fe(s).name||""},null,8,["active"])],64))}}),Ev={key:0,class:"bubbleError"},Ov=ge({__name:"ErrorBubble",props:["errorMsg"],setup(n){return(e,t)=>n.errorMsg?(R(),H("div",Ev,[t[0]||(t[0]=O("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),O("p",null,fe(n.errorMsg),1)])):Z("",!0)}}),Yg=Pe(Ov,[["__scopeId","data-v-ec389251"]]),Tv={},Pv={class:"loading"};function Cv(n,e){return R(),H("div",Pv,[...e[0]||(e[0]=[O("i",{class:"fa-solid fa-spinner"},null,-1)])])}const Nn=Pe(Tv,[["render",Cv],["__scopeId","data-v-72d81299"]]),Av=["disabled"],Mv=ge({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(n,{emit:e}){const t=n,s=e;return(i,r)=>(R(),H("button",{class:gt(["bubbleButton",{red:t.red},{fullWidth:t.fullWidth}]),disabled:n.loading,onClick:r[0]||(r[0]=o=>s("click"))},[mf(i.$slots,"default",{},void 0),Me(" "+fe(n.label||""),1)],10,Av))}}),pn=Pe(Mv,[["__scopeId","data-v-e816c52b"]]),Dv={class:"margins"},Rv={key:0},Iv=ge({__name:"SignInView",setup(n){const e=ns(),t=B(""),s=B(""),i=B(null),r=B(!0),o=B(!1);async function a(){try{r.value=!0,i.value=null,o.value=!1;const{data:c,error:u}=await be.auth.signInWithPassword({email:t.value,password:s.value});if(u)throw u;o.value=!0,e.push({name:"Home"})}catch(c){i.value=c.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function l(){if(!(await be.auth.getUser()).data.user){r.value=!1;return}e.push({name:"Home"})}return l(),(c,u)=>(R(),H(ye,null,[r.value?(R(),we(Nn,{key:0})):Z("",!0),O("div",Dv,[u[4]||(u[4]=O("h2",null,"Sign In",-1)),u[5]||(u[5]=O("h3",null,"Email",-1)),kt(O("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h),type:"email",placeholder:"example@example.com"},null,512),[[St,t.value]]),u[6]||(u[6]=O("h3",null,"Password",-1)),kt(O("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[St,s.value]]),z(pn,{loading:r.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),O("p",null,[z(Fe(tc),{to:{name:"SignUp"}},{default:qt(()=>[...u[3]||(u[3]=[Me("Don't have an account? Sign Up",-1)])]),_:1})]),z(Yg,{errorMsg:i.value},null,8,["errorMsg"]),o.value?(R(),H("div",Rv,"You are now signed in.")):Z("",!0)])],64))}}),Lv=Pe(Iv,[["__scopeId","data-v-94565b56"]]),Nv={class:"margins"},jv=["disabled"],$v={__name:"SignUpView",setup(n){const e=ns(),t=B(""),s=B(""),i=B(""),r=B(!1),o=B("");async function a(){try{r.value=!0;const{error:l}=await be.auth.signUp({email:s.value,password:i.value,options:{data:{display_name:t.value}}});if(l)throw l;e.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{r.value=!1}}return(l,c)=>(R(),H(ye,null,[r.value?(R(),we(Nn,{key:0})):Z("",!0),O("div",Nv,[c[3]||(c[3]=O("h2",null,"Sign Up",-1)),c[4]||(c[4]=O("h3",null,"Display name",-1)),kt(O("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>t.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[St,t.value]]),c[5]||(c[5]=O("h3",null,"Email",-1)),kt(O("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[St,s.value]]),c[6]||(c[6]=O("h3",null,"Password",-1)),kt(O("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[St,i.value]]),O("button",{class:"bubbleButton",disabled:r.value,onClick:a},"Sign Up",8,jv),z(Yg,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},Fv=Pe($v,[["__scopeId","data-v-f3ba868a"]]),Bv={},Wv={class:"cont"};function Vv(n,e){return R(),H("div",Wv,[...e[0]||(e[0]=[O("i",{class:"fa-solid fa-envelope"},null,-1),O("h1",null,"Please check your email to finalise your account.",-1),O("h3",null,"Follow the link, then login using your email and password.",-1)])])}const Hv=Pe(Bv,[["render",Vv],["__scopeId","data-v-ab9688cb"]]),Uv={key:0,class:"item"},_i=ge({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(n){return(e,t)=>n.label?(R(),H("div",Uv,[n.icon?(R(),H("i",{key:0,class:gt(n.icon)},null,2)):Z("",!0),Me(" "+fe(n.label),1)])):Z("",!0)}}),zv=ge({__name:"IconButton",props:{icon:{}},emits:["click"],setup(n,{emit:e}){return(t,s)=>(R(),H("button",{onClick:s[0]||(s[0]=i=>t.$emit("click")),class:"icon-button"},[O("i",{class:gt(n.icon)},null,2)]))}}),qv=Pe(zv,[["__scopeId","data-v-667d6651"]]),Yv={class:"popupOverlay"},Kv={key:0,class:"fa-solid fa-triangle-exclamation",style:{color:"var(--errorBorder)","margin-right":"10px"}},Gv={class:"buttonContainer"},Jv=ge({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean},error:{type:Boolean}},emits:["confirm","cancel"],setup(n,{emit:e}){return(t,s)=>(R(),H("div",Yv,[O("div",{class:gt(["popupContainer softBubble marginsWidth",{error:n.error}])},[O("h2",null,[n.error?(R(),H("i",Kv)):Z("",!0),Me(" "+fe(n.title),1)]),O("p",null,[Me(fe(n.message)+" ",1),mf(t.$slots,"default",{},void 0)]),O("div",Gv,[z(pn,{label:n.confirmText,red:n.confirmRed||!1||n.error||!1,loading:!1,onClick:s[0]||(s[0]=i=>t.$emit("confirm"))},null,8,["label","red"]),n.cancelText?(R(),we(pn,{key:0,label:n.cancelText,red:n.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>t.$emit("cancel"))},null,8,["label","red"])):Z("",!0)])],2)]))}}),As=Pe(Jv,[["__scopeId","data-v-82f8d070"]]),Xv=ge({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(e,t)=>n.visible?(R(),we(As,{key:0,title:`Delete Workout: ${n.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:t[0]||(t[0]=s=>e.$emit("confirm")),onCancel:t[1]||(t[1]=s=>e.$emit("cancel"))},null,8,["title"])):Z("",!0)}}),Qv={class:"thumbnail"},Zv={class:"greyed"},ex={class:"items"},tx={id:"deleteContainer"},nx=ge({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(n,{emit:e}){ns();const t=n,s=e,i=B(!1),r=B(!1);async function o(){i.value=!0,await t.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=wb("RouterLink");return R(),H(ye,null,[i.value?(R(),we(Nn,{key:0})):Z("",!0),z(Xv,{visible:r.value,workout:n.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),O("div",Qv,[z(c,{class:"link",to:`/viewWorkout/${n.workout.getId()}`},{default:qt(()=>[O("h3",null,[Me(fe(n.workout.getTitle())+" ",1),O("span",Zv,fe(n.workout.getDateString()),1)])]),_:1},8,["to"]),O("div",ex,[z(_i,{icon:"fa-solid fa-dumbbell",label:n.workout.getVolumeString()},null,8,["label"]),z(_i,{icon:"fa-solid fa-clock",label:n.workout.getDurationString()},null,8,["label"]),z(_i,{icon:"fa-solid fa-list",label:n.workout.countSetsString()},null,8,["label"]),z(_i,{icon:"fa-solid fa-fire",label:n.workout.getEnergyString()},null,8,["label"]),z(_i,{icon:"fa-solid fa-heart",label:n.workout.getHeartRateString()},null,8,["label"])]),O("div",tx,[z(qv,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),Kg=Pe(nx,[["__scopeId","data-v-b9a2ab6c"]]),sx={},ix={class:"container"};function rx(n,e){return R(),H("div",ix,[...e[0]||(e[0]=[O("i",{class:"fas fa-dumbbell fa-8x"},null,-1),O("h2",null,"No Workouts Found",-1),O("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const ox=Pe(sx,[["render",rx],["__scopeId","data-v-56405e8b"]]);class Gg{title;workout_id;start_time;end_time;energy;heart_rate;volume;set_count;constructor(e){this.title=e.title,this.workout_id=e.workout_id,this.start_time=e.start_time,this.end_time=e.end_time,this.energy=e.energy,this.heart_rate=e.heart_rate,this.volume=e.volume,this.set_count=e.set_count}getDuration(){const e=new Date(this.start_time).getTime();return(new Date(this.end_time).getTime()-e)/1e3}getDurationString(){const e=this.getDuration(),t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getTitle(){return this.title}getDateString(){return new Date(this.start_time).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}getWorkoutId(){return this.workout_id}getStartTime(){return new Date(this.start_time)}getEndTime(){return new Date(this.end_time)}getEnergy(){return this.energy}getEnergyString(){return this.energy!==null?`${this.energy} kj`:null}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate!==null?`${this.heart_rate} bpm`:null}getVolume(){return this.volume}getVolumeString(){return this.volume!==null?`${this.volume} kg`:null}getId(){return this.workout_id}countSets(){return this.set_count}countSetsString(){return this.set_count!==null?`${this.set_count} sets`:null}async deleteWorkout(){const{error:e}=await be.from("workouts").delete().eq("workout_id",this.workout_id);e&&console.error(`Error deleting workout ID ${this.workout_id}:`,e)}}let Zr=class _l{reps=0;weight=0;notes="";id=null;exercise;workout_id=null;static async create(e,t){if(e.id){const{data:s,error:i}=await be.from("sets").select("*").eq("id",e.id).single();if(i)throw new Error(`Failed to fetch set from DB: ${i.message}`);return new _l(s,t)}return new _l(e,t)}constructor(e,t){this.exercise=t,this.reps=e.reps||0,this.weight=e.weight||0,this.notes=e.notes||"",this.id=e.id||null,this.workout_id=e.workout_id||null,(this.id==null||this.id===void 0)&&this.createNewId()}async initialDBCheck(){this.id!==null&&await this.getFromDB(),this.createNewId()}async getFromDB(){if(this.id===null)return null;const{data:e,error:t}=await be.from("sets").select("*").eq("id",this.id).single();if(t)throw new Error(`Failed to fetch set from DB: ${t.message}`);return this.reps=e.reps,this.weight=e.weight,this.notes=e.notes,e}async deleteFromDB(){if(this.id===null)return;const{error:e}=await be.from("sets").delete().eq("id",this.id);if(e)throw new Error(`Failed to delete set from DB: ${e.message}`)}async waitForExercise(){for(;this.exercise===null;)await new Promise(e=>setTimeout(e,50))}async getExercise(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Exercise is not set for this Set.");return this.exercise}async createNewId(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Cannot create set without associated exercise.");const e=this.getWorkoutId(),t=await this.exercise.getId(),{data:s,error:i}=await be.from("sets").insert({exercise_id:t,workout_id:e,reps:this.reps,weight:this.weight,notes:this.notes}).select("id").single();if(i)throw new Error(`Failed to create new set ID: ${i.message}`);return this.id=s.id,this.id}async updateDB(){if(this.id===null){await this.createNewId();return}const{error:e}=await be.from("sets").update({reps:this.reps,weight:this.weight,notes:this.notes,exercise_id:this.exercise?await this.exercise.getId():""}).eq("id",this.id);if(e)throw new Error(`Failed to update set in DB: ${e.message}`);const s=(await this.getExercise()).getWorkout();s&&s.changeMade()}deserialize(){return{id:this.id}}getReps(){return this.reps}getWeight(){return this.weight}getNotes(){return this.notes}setReps(e){this.reps=e}setWeight(e){this.weight=e}setNotes(e){this.notes=e}setExercise(e){this.exercise=e}getId(){return this.id}getWorkoutId(){return this.workout_id}};class mo{name;sets;notes;workout;id;constructor(e,t,s=[]){this.name=e.exercise,this.workout=t,this.notes=e.notes,this.id=e.id;for(const i of s)i.setExercise(this);this.sets=s,this.getId()}static async create(e,t){const s=[];for(const i of e.sets){const r=await Zr.create(i,null);s.push(r)}return new mo(e,t,s)}async getId(){if(this.id)return this.id;const{data:e,error:t}=await be.from("exercises").select().eq("name",this.name.toLowerCase());if(t)throw new Error(`Failed to fetch exercise ID: ${t.message}`);return e===null||e.length===0?await this.createNewId():(this.id=e[0].id,this.name=e[0].name,this.id)}async createNewIdIfNeeded(){const{data:e,error:t}=await be.from("exercises").select().eq("name",this.name);if(t)throw new Error(`Failed to fetch exercise ID: ${t.message}`);return e===null||e.length===0?await this.createNewId():(this.id=e[0].id,this.name=e[0].name,this.workout?.changeMade(),this.id)}async createNewId(){const{data:e,error:t}=await be.from("exercises").insert([{name:this.name.toLowerCase()}]).select("id").single();if(t)throw new Error(`Failed to create new exercise ID: ${t.message}`);return this.id=e.id,this.id}deserialize(){return{exercise:this.name,sets:this.sets.map(e=>e.deserialize()),notes:this.notes,id:this.id}}addNewSet(){if(this.sets.length===0){const i=new Zr({reps:0,weight:0,unit:"kg",notes:"",id:null},this);this.sets.push(i),i.createNewId(),this.workout&&this.workout.changeMade();return}const e=this.sets[this.sets.length-1],t=new Zr({reps:e.getReps(),weight:e.getWeight(),unit:"kg",notes:e.getNotes(),id:null},this);this.sets.push(t),t.createNewId(),this.workout&&this.workout.changeMade()}removeSet(e){if(e<0||e>=this.sets.length)throw new Error("Index out of bounds");const t=this.sets[e];this.sets.splice(e,1),t.deleteFromDB(),this.workout&&this.workout.changeMade(),be.from("sets").delete().eq("id",t.getId())}removeFromWorkout(){if(!this.workout)return;if(this.workout.getExercises().indexOf(this)===-1)throw new Error("Exercise not found in workout")}updateSet(e,t){if(e<0||e>=this.sets.length)throw new Error("Index out of bounds");const s=this.sets[e];s.setReps(t.reps||0),s.setWeight(t.weight||0),s.setNotes(t.notes||""),this.workout&&this.workout.changeMade()}async setName(e){this.name=e,await this.createNewIdIfNeeded();for(const t of this.sets)t.setExercise(this),await t.updateDB();this.workout&&this.workout.changeMade()}setWorkout(e){this.workout=e}setNotes(e){this.notes=e,this.workout&&this.workout.changeMade()}reorderUp(){if(!this.workout)return;const e=this.workout.getExercises(),t=e.indexOf(this);t<=0||([e[t-1],e[t]]=[e[t],e[t-1]],this.workout.setExercises(e))}reorderDown(){if(!this.workout)return;const e=this.workout.getExercises(),t=e.indexOf(this);t===-1||t>=e.length-1||([e[t+1],e[t]]=[e[t],e[t+1]],this.workout.setExercises(e))}getVolume(){let e=0;for(const t of this.sets){let s=t.getReps()*t.getWeight();e+=s}return e}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}async waitForWorkout(){for(;!this.workout;)await new Promise(e=>setTimeout(e,50))}async getWorkoutId(){return await this.waitForWorkout(),this.workout?this.workout.getId():""}getWorkout(){return this.workout}}class ce{static addPeriod(e,t,s){const i=new Date(e);switch(t){case"day":i.setDate(i.getDate()+s);break;case"week":i.setDate(i.getDate()+s*7);break;case"month":i.setMonth(i.getMonth()+s);break;case"year":i.setFullYear(i.getFullYear()+s);break}return i}static getStartOfTerm(e,t){switch(t){case"month":const s=new Date;return s.setMonth(s.getMonth()-e),ce.getStartOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-e),ce.getStartOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-e*7),ce.getStartOfWeek(r);default:return null}}static getEndOfTerm(e,t){switch(t){case"month":const s=new Date;return s.setMonth(s.getMonth()-e),ce.getEndOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-e),ce.getEndOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-e*7),ce.getEndOfWeek(r);default:return null}}static getStartOfWeek(e){e=new Date(e);var t=e.getDay(),s=e.getDate()-t+(t==0?-6:1);return e.setDate(s),e.setHours(0,0,0,0),e}static getEndOfWeek(e){const t=ce.getStartOfWeek(e),s=new Date(t);return s.setDate(t.getDate()+6),s.setHours(23,59,59,999),s}static getStartOfPreviousWeek(e){const t=ce.getStartOfWeek(e),s=new Date(t);return s.setDate(t.getDate()-7),s}static getStartOfMonth(e){const t=new Date(e);return t.setDate(1),t.setHours(0,0,0,0),t}static getEndOfMonth(e){const t=e.getFullYear(),s=e.getMonth();return new Date(t,s+1,0,23,59,59,999)}static getStartOfPreviousMonth(e){const t=ce.getStartOfMonth(e),s=new Date(t);return s.setMonth(t.getMonth()-1),s}static getStartOfYear(e){const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t}static getEndOfYear(e){const t=e.getFullYear();return new Date(t,11,31,23,59,59,999)}static getStartOfPreviousYear(e){const t=ce.getStartOfYear(e),s=new Date(t);return s.setFullYear(t.getFullYear()-1),s}static getStart(e,t){switch(t){case"week":return ce.getStartOfWeek(e);case"month":return ce.getStartOfMonth(e);case"year":return ce.getStartOfYear(e);default:return e}}static getEnd(e,t){switch(t){case"week":return ce.getEndOfWeek(e);case"month":return ce.getEndOfMonth(e);case"year":return ce.getEndOfYear(e);default:return e}}static getStartOfPrevious(e,t){switch(t){case"week":return ce.getStartOfPreviousWeek(e);case"month":return ce.getStartOfPreviousMonth(e);case"year":return ce.getStartOfPreviousYear(e);default:return e}}static getDurationString(e){if(e<=0)return null;const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}static getPeriodString(e,t){const s=new Date,i=ce.addPeriod(ce.getStart(s,e),e,-t),r=ce.addPeriod(ce.getEnd(s,e),e,-t);switch(e){case"month":return`
                    ${i.toLocaleString("default",{month:"long"})} 
                    ${i.getFullYear()}
                `;case"year":return`${i.getFullYear()}`;case"week":return`
                    ${i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}  
                    ${r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}
                `;default:return""}}}class dn{static stringifyItem(e,t){switch(t){case"time":return ce.getDurationString(e)||"0 s";case"workouts":return e.toString()+(e===1?" workout":" workouts");case"energy":return dn.commaNumber(e)+" kj";case"volume":return dn.commaNumber(e)+" kg";default:return dn.commaNumber(e)}}static fullNameForType(e){switch(e){case"time":return"Workout time";case"workouts":return"Number of workouts";case"energy":return"Energy burned";case"volume":return"Volume";default:return e}}static commaNumber(e){let t="";for(let s=0;s<e.toString().length;s++){t+=e.toString()[s];const i=e.toString().length-s-1;i%3===0&&i!==0&&(t+=",")}return t}}class Ho{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;constructor(e,t){this.title=e.title,this.workout_id=e.workout_id,this.start_time=new Date(e.start_time),this.end_time=new Date(e.end_time),this.created_at=new Date(e.created_at),this.notes=e.notes,this.energy=e.energy,this.heart_rate=e.heart_rate,this.exercises=t}static async create(e){const t=[];for(const i of e.exercises_full){const r=await mo.create(i,null);t.push(r)}const s=new Ho(e,t);for(const i of t)i.setWorkout(s);return s}async deleteWorkout(){const{error:e}=await be.from("workouts").delete().eq("workout_id",this.workout_id);e&&console.error("Failed to delete workout:",e)}changeMade(){this.unsavedChanges++,!this.saving&&this.saveChanges()}async saveChanges(){this.saving=!0;const e=this.unsavedChanges,{data:t,error:s}=await be.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(s&&console.error("Failed to save workout changes:",s),this.unsavedChanges-=e,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(e){if(e<0||e>=this.exercises.length)throw new Error("Index out of bounds");this.exercises.splice(e,1),this.changeMade()}addEmptyExercise(){const e={exercise:"New Exercise",sets:[],notes:"",id:null},t=new mo(e,this);this.exercises.push(t),this.changeMade()}setExercises(e){this.exercises=e,this.changeMade()}setHeartRate(e){this.heart_rate=e,this.changeMade()}setEnergy(e){this.energy=e,this.changeMade()}setTitle(e){this.title=e,this.changeMade()}setStartDate(e){this.start_time=e,this.changeMade()}setEndDate(e){this.end_time=e,this.changeMade()}deserialize(){const e=[],t=[],s=new Set,i=new Set;for(const r of this.exercises){const o=r.deserialize();e.push(o),t.push(r.getName());for(const l of o.sets){const c=l.id;c&&i.add(c)}const a=o.id;a!==null&&s.add(a)}return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:e,exercises:t,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate,volume:this.getVolume(),set_count:this.countSets(),exercise_ids:Array.from(s),set_ids:Array.from(i)}}savingInProgress(){return this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const e=this.getEnergy();return e===null?null:`${dn.commaNumber(e)} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let e=0;for(const t of this.exercises)e+=t.getVolume();return e}getVolumeString(){const e=this.getVolume();return e===0?null:`${dn.commaNumber(e)} kg`}countSets(){let e=0;for(const t of this.exercises)e+=t.countSets();return e}countSetsString(){const e=this.countSets();return e===0?null:`${e} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const e=this.getDuration();if(e<=0)return null;const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return this.exercises.length}getItem(e){switch(e){case"workouts":return 1;case"time":return this.getDuration();case"energy":return this.getEnergy();case"volume":return this.getVolume();default:throw new Error(`Unknown item: ${e}`)}}}async function ax(){const n=await be.from("workouts").select(),e=[];for(const t of n.data||[])e.push(await Ho.create(t));return e.sort((t,s)=>s.getStartTime().getTime()-t.getStartTime().getTime()),e}async function lx(){const{data:n,error:e}=await be.from("workouts").select("title, workout_id, start_time, end_time, energy, heart_rate, volume, set_count");if(e)return console.error("Error fetching workouts info:",e),[];const t=[];for(const s of n||[])t.push(new Gg(s));return t.sort((s,i)=>i.getStartTime().getTime()-s.getStartTime().getTime()),t}async function Jg(n){const{data:e,error:t}=await be.rpc("get_workouts_by_exercise_id",{exercise_id_param:n});if(t)return console.error(`Error fetching workouts for exercise ID ${n}:`,t),[];const s=[];for(const i of e||[])s.push(new Gg(i));return s.sort((i,r)=>r.getStartTime().getTime()-i.getStartTime().getTime()),s}const cx={class:"viewArea"},ux={class:"thumbnailContainer margins"},hx=ge({__name:"HomeView",setup(n){const e=B([]),t=B(!0);Wt(async()=>{await s()});async function s(){e.value=await lx(),t.value=!1}return(i,r)=>(R(),H(ye,null,[t.value?(R(),we(Nn,{key:0})):Z("",!0),O("div",cx,[O("div",ux,[(R(!0),H(ye,null,hi(e.value,o=>(R(),we(Kg,{key:o.getId(),workout:o,onReload:r[0]||(r[0]=a=>s())},null,8,["workout"]))),128))]),!t.value&&e.value.length===0?(R(),we(ox,{key:0})):Z("",!0)])],64))}}),dx=Pe(hx,[["__scopeId","data-v-6bb036d2"]]),fx={key:0,id:"urlsCount"},gx=ge({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(n){return(e,t)=>n.pageCount>0?(R(),H("div",fx,[Me(" pages "+fe(n.pageCount)+" ",1),z(pn,{label:"Upload",loading:!1,onClick:t[0]||(t[0]=s=>e.$emit("uploadWorkoutData"))}),z(pn,{label:"Retake",loading:!1,onClick:t[1]||(t[1]=s=>e.$emit("retakePhoto"))})])):Z("",!0)}}),px=Pe(gx,[["__scopeId","data-v-23272a4e"]]),Uo=ge({__name:"ErrorPopup",props:{error:{}},emits:["close"],setup(n){return(e,t)=>n.error.shouldDisplay()?(R(),we(As,{key:0,title:n.error.getTitle(),message:n.error.getMessage(),confirmText:"OK",error:!0,onConfirm:t[0]||(t[0]=s=>n.error.clearError())},null,8,["title","message"])):Z("",!0)}});class zo{title;message;display;constructor(){this.title="",this.message="",this.display=!1}setError(e,t){this.title=e,this.message=t,this.display=!0}clearError(){this.title="",this.message="",this.display=!1}getTitle(){return this.title}getMessage(){return this.message}shouldDisplay(){return this.display}}const mx={class:"viewArea"},bx=ge({__name:"UploadView",setup(n){const e=B(0),t=ns(),s=B(null),i=B(null),r=B([]),o=B(0),a=B(null),l=B(new zo);Wt(async()=>{const g={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(g).then(m=>{a.value=m,s?s.value.srcObject=m:(l.value.setError("Error creating video feed","Video element not found"),console.error("Video element not found"))}).catch(m=>{l.value.setError("Error accessing camera",m.message),console.error("Error accessing camera: ",m)})}),pf(()=>{a.value&&a.value.getTracks().forEach(g=>g.stop())});const c=async()=>{if(!s.value||!i.value){console.error("Video or canvas element not found"),l.value.setError("Error capturing image","Video or canvas element not found");return}const{data:{user:g},error:m}=await be.auth.getUser();if(m||!g){console.error("User not authenticated"),l.value.setError("User not authenticated",m?.message||"No user found");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const b=i.value.getContext("2d");if(!b){l.value.setError("Error capturing image","Failed to get canvas context"),console.error("Failed to get canvas context");return}b.drawImage(s.value,0,0),i.value.toBlob(async y=>{if(!y){l.value.setError("Error capturing image","Failed to capture image blob"),console.error("Failed to capture image");return}const w=new File([y],`photo-${Date.now()}-${g.id}.jpg`,{type:"image/jpeg"}),{data:x,error:k}=await be.storage.from("workoutImage").upload(`photos/${g.id}/${w.name}`,w,{contentType:"image/jpeg",upsert:!1});if(k){l.value.setError("Error uploading image",k.message),console.error("Error uploading image: ",k);return}r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${x.path}`),o.value++},"image/jpeg",.8)};function u(g,m){let b=m?g.startTime:g.endTime;if(!b)return null;const y=new Date;return b.year||(b.year=y.getFullYear()),b.month||(b.month=y.getMonth()+1),b.day||(b.day=y.getDate()),b.hour||(b.hour=y.getHours()),b.minute||(b.minute=y.getMinutes()),new Date(b.year,b.month-1,b.day,b.hour,b.minute,0)}async function h(g){e.value++;const m=u(g,!0),b=u(g,!1);let y=[];for(const E of g.exercises||[])y.push(E.exercise);let w=g.energy&&g.energy.amount||null;w!=null&&g.energy.unit==="kJ"&&(w=w/4.184),w!=null&&(w=Math.round(w));const x=g.heart_rate||null,k=(await be.auth.getUser()).data.user?.id;return e.value--,{user_id:k,start_time:m?m.toISOString():null,end_time:b?b.toISOString():null,title:g.title||"unnamed workout",exercises_full:g.exercises||[],exercises:y,notes:g.notes||"",energy:w,heart_rate:x}}async function d(){const g=await p(r.value);if(!g){l.value.setError("Error generating workout data","No workout data generated. Please try again by clicking the upload button again."),console.error("No workout data generated");return}const{data:m,error:b}=await f(g);if(b){l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),console.error("Error uploading workout data: ",b);return}t.push({name:"Home"})}async function f(g){e.value++;const{data:m,error:b}=await be.from("workouts").insert([await h(g)]);return b?(console.error("Error uploading workout data: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),e.value--,{data:m,error:b}):(e.value--,{data:m,error:b})}async function p(g){e.value++;const{data:m,error:b}=await be.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:g}});return b?(console.error("Error invoking function: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),e.value--,""):(e.value--,m)}return(g,m)=>(R(),H(ye,null,[e.value>0?(R(),we(Nn,{key:0})):Z("",!0),z(Uo,{error:l.value},null,8,["error"]),O("div",mx,[O("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),O("button",{class:"captureButton",onClick:m[0]||(m[0]=b=>c())}),z(px,{pageCount:o.value,onUploadWorkoutData:m[1]||(m[1]=b=>d()),onRetakePhoto:m[2]||(m[2]=b=>{r.value.pop(),o.value--})},null,8,["pageCount"]),O("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)])],64))}}),yx=Pe(bx,[["__scopeId","data-v-54ae7180"]]),_x={key:0,class:"overview-item"},wx={class:"overview-title"},vx={class:"overview-value"},xx=ge({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(n){return(e,t)=>n.value?(R(),H("div",_x,[O("p",wx,fe(n.label),1),O("h1",vx,[O("i",{class:gt(n.icon+" overview-icon")},null,2),Me(fe(n.value),1)])])):Z("",!0)}}),wi=Pe(xx,[["__scopeId","data-v-5430079f"]]),kx={class:"softBubble overview"},Sx=ge({__name:"WorkoutOverview",props:{workout:{}},setup(n){return(e,t)=>(R(),H("div",kx,[z(wi,{icon:"fa-solid fa-clock",label:"duration",value:n.workout.getDurationString()},null,8,["value"]),z(wi,{icon:"fa-solid fa-dumbbell",label:"volume",value:n.workout.getVolumeString()},null,8,["value"]),z(wi,{icon:"fa-solid fa-list",label:"sets",value:n.workout.countSets()},null,8,["value"]),z(wi,{icon:"fa-solid fa-fire",label:"energy",value:n.workout.getEnergyString()},null,8,["value"]),z(wi,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:n.workout.getHeartRateString()},null,8,["value"])]))}}),Ex=Pe(Sx,[["__scopeId","data-v-90dd851b"]]),Ox={class:"inputs"},Tx={class:"flexCol"},Px=ge({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(n,{emit:e}){const t=B(0),s=B(0),i=B(""),r=n,o=e;function a(){r.set.setWeight(Number(t.value)),r.set.setReps(Number(s.value)),r.set.setNotes(i.value),r.set.updateDB(),o("cancel")}function l(){t.value=r.set.getWeight()||0,s.value=r.set.getReps()||0,i.value=r.set.getNotes()||""}return Wt(()=>{l()}),Kl(()=>{l()}),(c,u)=>(R(),we(As,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:qt(()=>[O("div",Ox,[kt(O("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h),min:"0"},null,512),[[St,t.value]]),u[6]||(u[6]=Me(" kg ",-1)),u[7]||(u[7]=O("i",{class:"fa-solid fa-xmark"},null,-1)),kt(O("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[St,s.value]]),u[8]||(u[8]=Me(" reps ",-1))]),O("div",Tx,[kt(O("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[St,i.value]]),z(pn,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:qt(()=>[...u[9]||(u[9]=[O("i",{class:"fa-solid fa-trash"},null,-1),Me(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),Cx=Pe(Px,[["__scopeId","data-v-6ecea0ae"]]),Ax={class:"setlabel"},Mx={class:"setdetails"},Dx={key:0},Rx={key:1,class:"fa-solid fa-note-sticky noteIcon"},Ix=ge({__name:"SetContainer",props:{set:{},index:{},exercise:{}},setup(n){const e=B(!1);return(t,s)=>(R(),H(ye,null,[e.value?(R(),we(Cx,{key:0,set:n.set,exercise:n.exercise,index:n.index,onCancel:s[0]||(s[0]=i=>e.value=!1)},null,8,["set","exercise","index"])):Z("",!0),O("tr",{onClick:s[1]||(s[1]=i=>e.value=!0),class:"setItem"},[O("td",Ax,fe(n.index+1),1),O("td",Mx,[n.set.getWeight()!==null?(R(),H("span",Dx,[Me(fe(n.set.getWeight())+" kg ",1),s[2]||(s[2]=O("i",{class:"fa-solid fa-xmark"},null,-1))])):Z("",!0),Me(" "+fe(n.set.getReps())+" reps ",1),n.set.getNotes()!==""&&n.set.getNotes()!==null?(R(),H("i",Rx)):Z("",!0)])])],64))}}),Lx=Pe(Ix,[["__scopeId","data-v-23d52368"]]),Nx=ge({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(e,t)=>n.visible?(R(),we(As,{key:0,title:`Remove Exercise: ${n.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:t[0]||(t[0]=s=>e.$emit("confirm")),onCancel:t[1]||(t[1]=s=>e.$emit("cancel"))},null,8,["title"])):Z("",!0)}}),jx={class:"inputs"},$x=ge({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(n,{emit:e}){const t=B(""),s=B(""),i=B(!1),r=n,o=e;function a(){r.exercise.setName(t.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return Wt(()=>{t.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Kl(()=>{t.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(R(),H(ye,null,[z(As,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:qt(()=>[O("div",jx,[kt(O("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h)},null,512),[[St,t.value]]),kt(O("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[St,s.value]])]),z(pn,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:qt(()=>[...u[7]||(u[7]=[O("i",{class:"fa-solid fa-trash"},null,-1),Me(" Remove Exercise ",-1)])]),_:1})]),_:1}),z(Nx,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),Fx=Pe($x,[["__scopeId","data-v-66211c76"]]),Bx={class:"exerciseContainer softBubble"},Wx={class:"exerciseTitle"},Vx={key:0,class:"reorderHandles clickable"},Hx={class:"setsContainer"},Ux={key:0},zx={key:1},qx={colspan:"2"},Yx={class:"setLabel"},Kx={class:"setDetails"},Gx=ge({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{}},setup(n){const e=B(!1);return(t,s)=>(R(),H(ye,null,[e.value?(R(),we(Fx,{key:0,exercise:n.exercise,onCancel:s[0]||(s[0]=i=>e.value=!1)},null,8,["exercise"])):Z("",!0),O("div",Bx,[O("h2",Wx,[O("span",{onClick:s[1]||(s[1]=i=>e.value=!0),class:"clickable"},[Me(fe(n.exercise.getName())+" ",1),s[5]||(s[5]=O("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),n.index!==0?(R(),H("div",Vx,[O("i",{onClick:s[2]||(s[2]=i=>n.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):Z("",!0)]),O("table",Hx,[n.showSets?(R(),H("thead",Ux,[...s[6]||(s[6]=[O("tr",null,[O("th",{class:"greyed",colspan:"1"},"set"),O("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):Z("",!0),n.showSets?(R(),H("tbody",zx,[(R(!0),H(ye,null,hi(n.exercise.getSets(),(i,r)=>(R(),we(Lx,{key:r,index:r,set:i,exercise:n.exercise},null,8,["index","set","exercise"]))),128)),O("tr",null,[O("td",qx,[O("button",{onClick:s[3]||(s[3]=i=>n.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[O("i",{class:"fa-solid fa-plus"},null,-1),Me("Add set",-1)])])])])])):Z("",!0),O("tfoot",null,[O("tr",null,[O("td",Yx,[s[8]||(s[8]=O("b",null,"sets:",-1)),Me(" "+fe(n.exercise.countSets()),1)]),O("td",Kx,[s[9]||(s[9]=O("b",null,"volume:",-1)),Me(" "+fe(n.exercise.getVolume())+" kg ",1),n.index!==n.exercise.getWorkout().countExercises()-1?(R(),H("i",{key:0,onClick:s[4]||(s[4]=i=>n.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):Z("",!0)])])])])])],64))}}),Jx=ge({__name:"SavingDisplay",props:{workout:{}},setup(n){return(e,t)=>(R(),H("div",{class:gt(["savingDisplay",{display:n.workout.savingInProgress()}])},[...t[0]||(t[0]=[O("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),Xx=Pe(Jx,[["__scopeId","data-v-2e9e3957"]]),Qx={class:"inputs"},Zx=ge({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(n,{emit:e}){const t=n,s=e,i=B(t.workout.getTitle()),r=B(t.workout.getHeartRate()||""),o=B(t.workout.getEnergy()||""),a=B(t.workout.getStartTime()),l=B(t.workout.getEndTime());function c(){t.workout.setTitle(i.value),t.workout.setHeartRate(Number(r.value)||null),t.workout.setEnergy(Number(o.value)||null),t.workout.setStartDate(a.value),t.workout.setEndDate(l.value),s("cancel")}const u=jt({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=jt({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(R(),we(As,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=p=>c()),onCancel:f[6]||(f[6]=p=>s("cancel"))},{default:qt(()=>[O("div",Qx,[f[7]||(f[7]=O("label",{for:"titleInput"},"Title:",-1)),kt(O("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[St,i.value]]),f[8]||(f[8]=O("label",{for:"startDate"},"Start Date and Time:",-1)),kt(O("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=p=>u.value=p)},null,512),[[St,u.value]]),f[9]||(f[9]=O("label",{for:"endDate"},"End Date and Time:",-1)),kt(O("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=p=>h.value=p)},null,512),[[St,h.value]]),f[10]||(f[10]=O("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),kt(O("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=p=>r.value=p),min:"0"},null,512),[[St,r.value,void 0,{number:!0}]]),f[11]||(f[11]=O("label",{for:"energyInput"},"Energy Burned (kj):",-1)),kt(O("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p),min:"0"},null,512),[[St,o.value,void 0,{number:!0}]])])]),_:1}))}}),ek=Pe(Zx,[["__scopeId","data-v-d96ddd76"]]),tk={key:1,class:"viewArea"},nk={class:"margins"},sk={class:"greyed"},ik={key:0,class:"softBubble"},rk=ge({__name:"ViewWorkout",props:["workout_id"],setup(n){const e=n,t=B(null),s=B(!0),i=B(!0),r=B(!1),o=B(new zo);return Wt(async()=>{const{data:a,error:l}=await be.from("workouts").select().eq("workout_id",e.workout_id).single();if(l){if(console.error("Error fetching workout:",l),l.code=="PGRST116"){o.value.setError("Workout not found","The requested workout does not exist."),i.value=!1;return}o.value.setError("Error fetching workout","Please try again."),i.value=!1;return}t.value=await Ho.create(a),i.value=!1}),(a,l)=>(R(),H(ye,null,[z(Uo,{error:o.value},null,8,["error"]),r.value&&t.value?(R(),we(ek,{key:0,workout:t.value,onCancel:l[0]||(l[0]=c=>r.value=!1)},null,8,["workout"])):Z("",!0),t.value?(R(),H("div",tk,[O("div",nk,[O("h2",null,[Me(fe(t.value.getTitle())+" ",1),O("i",{class:"fa-solid fa-ellipsis clickable",onClick:l[1]||(l[1]=c=>r.value=!0)})]),O("p",sk,fe(t.value.getDateString()),1),t.value.getNotes()!==""?(R(),H("p",ik,fe(t.value.getNotes()),1)):Z("",!0),z(Ex,{workout:t.value},null,8,["workout"]),z(pn,{onClick:l[2]||(l[2]=c=>s.value=!s.value),fullWidth:""},{default:qt(()=>[O("i",{class:gt(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),Me(" "+fe(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(R(!0),H(ye,null,hi(t.value.getExercises(),(c,u)=>(R(),we(Gx,{key:c.getName(),exercise:c,showSets:s.value,index:u},null,8,["exercise","showSets","index"]))),128)),z(Xx,{workout:t.value},null,8,["workout"]),z(pn,{onClick:l[3]||(l[3]=c=>t.value.addEmptyExercise()),fullWidth:""},{default:qt(()=>[...l[4]||(l[4]=[O("i",{class:"fa-solid fa-plus"},null,-1),Me(" Add Exercise ",-1)])]),_:1})])])):Z("",!0),i.value?(R(),we(Nn,{key:2})):Z("",!0)],64))}}),ok=Pe(rk,[["__scopeId","data-v-fec6311e"]]),ak={class:"container"},lk={class:"selector"},ck=["onClick"],uk=ge({__name:"Selector",props:{options:{}},emits:["select"],setup(n,{emit:e}){const t=n,s=B("");return Wt(()=>{t.options.length>0&&(s.value=t.options[0].value)}),(i,r)=>(R(),H("div",ak,[O("div",lk,[(R(!0),H(ye,null,hi(n.options,o=>(R(),H("div",{key:o.value,class:gt({selectorOption:!0,clickable:!0,selected:o.value===s.value}),onClick:a=>{s.value=o.value,i.$emit("select",o.value)}},fe(o.label),11,ck))),128))])]))}}),Xg=Pe(uk,[["__scopeId","data-v-2ebab294"]]);function hk(n,e,t,s){if(n.length===0)return[];const i=[...n].sort((h,d)=>h.x.getTime()-d.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=ce.addPeriod(ce.getStartOfTerm(0,t)||r,t,-s),l=ce.addPeriod(ce.getEndOfTerm(0,t)||o,t,-s),c=Qg(a,l,e),u=new Array(c.length-1).fill(0);for(const{x:h,y:d}of n){const f=fk(h,c);f>=0&&f<u.length&&(u[f]+=d)}return u}function dk(n,e,t,s){if(n.length===0)return[];const i=[...n].sort((u,h)=>u.x.getTime()-h.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=ce.addPeriod(ce.getStartOfTerm(0,t)||r,t,-s),l=ce.addPeriod(ce.getEndOfTerm(0,t)||o,t,-s),c=Qg(a,l,e);return c.slice(0,-1).map((u,h)=>gk(u,c[h+1],e))}function Qg(n,e,t){const s=[];let i=ih(n,t);const r=Ta(e,t,1);for(;i<=r;)s.push(new Date(i)),i=ih(Ta(i,t,1),t);return s.length===1&&s.push(Ta(s[0],t,1)),s}function fk(n,e){for(let t=0;t<e.length-1;t++)if(n>=e[t]&&n<e[t+1])return t;return n>=e[e.length-1]?e.length-2:-1}function gk(n,e,t){const s=i=>{switch(t){case"day":return i.toLocaleDateString(void 0,{month:"short",day:"numeric"});case"week":return`${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`;case"month":return i.toLocaleDateString(void 0,{month:"short",year:"2-digit"});case"year":return i.getFullYear().toString()}};if(t==="week"){const i=new Date(e);return i.setDate(i.getDate()-1),`${s(n)}  ${s(i)}`}return s(n)}function ih(n,e){const t=new Date(n);switch(e){case"day":t.setHours(0,0,0,0);break;case"week":t.setHours(0,0,0,0);const s=t.getDay();t.setDate(t.getDate()-(s===0?6:s-1));break;case"month":t.setDate(1),t.setHours(0,0,0,0);break;case"year":t.setMonth(0,1),t.setHours(0,0,0,0);break}return t}function Ta(n,e,t){const s=new Date(n);switch(e){case"day":s.setDate(s.getDate()+t);break;case"week":s.setDate(s.getDate()+t*7);break;case"month":s.setMonth(s.getMonth()+t);break;case"year":s.setFullYear(s.getFullYear()+t);break}return s}const Zg={borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,borderRadius:10};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function mr(n){return n+.5|0}const qn=(n,e,t)=>Math.max(Math.min(n,t),e);function Mi(n){return qn(mr(n*2.55),0,255)}function Qn(n){return qn(mr(n*255),0,255)}function En(n){return qn(mr(n/2.55)/100,0,1)}function rh(n){return qn(mr(n*100),0,100)}const Ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wl=[..."0123456789ABCDEF"],pk=n=>wl[n&15],mk=n=>wl[(n&240)>>4]+wl[n&15],Ir=n=>(n&240)>>4===(n&15),bk=n=>Ir(n.r)&&Ir(n.g)&&Ir(n.b)&&Ir(n.a);function yk(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ht[n[1]]*17,g:255&Ht[n[2]]*17,b:255&Ht[n[3]]*17,a:e===5?Ht[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ht[n[1]]<<4|Ht[n[2]],g:Ht[n[3]]<<4|Ht[n[4]],b:Ht[n[5]]<<4|Ht[n[6]],a:e===9?Ht[n[7]]<<4|Ht[n[8]]:255})),t}const _k=(n,e)=>n<255?e(n):"";function wk(n){var e=bk(n)?pk:mk;return n?"#"+e(n.r)+e(n.g)+e(n.b)+_k(n.a,e):void 0}const vk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ep(n,e,t){const s=e*Math.min(t,1-t),i=(r,o=(r+n/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function xk(n,e,t){const s=(i,r=(i+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function kk(n,e,t){const s=ep(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)s[i]*=1-e-t,s[i]+=e;return s}function Sk(n,e,t,s,i){return n===i?(e-t)/s+(e<t?6:0):e===i?(t-n)/s+2:(n-e)/s+4}function hc(n){const t=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(t,s,i),o=Math.min(t,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Sk(t,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function dc(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(Qn)}function fc(n,e,t){return dc(ep,n,e,t)}function Ek(n,e,t){return dc(kk,n,e,t)}function Ok(n,e,t){return dc(xk,n,e,t)}function tp(n){return(n%360+360)%360}function Tk(n){const e=vk.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Mi(+e[5]):Qn(+e[5]));const i=tp(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Ek(i,r,o):e[1]==="hsv"?s=Ok(i,r,o):s=fc(i,r,o),{r:s[0],g:s[1],b:s[2],a:t}}function Pk(n,e){var t=hc(n);t[0]=tp(t[0]+e),t=fc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Ck(n){if(!n)return;const e=hc(n),t=e[0],s=rh(e[1]),i=rh(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${i}%, ${En(n.a)})`:`hsl(${t}, ${s}%, ${i}%)`}const oh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ah={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ak(){const n={},e=Object.keys(ah),t=Object.keys(oh);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<t.length;i++)r=t[i],a=a.replace(r,oh[r]);r=parseInt(ah[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let Lr;function Mk(n){Lr||(Lr=Ak(),Lr.transparent=[0,0,0,0]);const e=Lr[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Dk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rk(n){const e=Dk.exec(n);let t=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?Mi(o):qn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Mi(s):qn(s,0,255)),i=255&(e[4]?Mi(i):qn(i,0,255)),r=255&(e[6]?Mi(r):qn(r,0,255)),{r:s,g:i,b:r,a:t}}}function Ik(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${En(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Pa=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Bs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Lk(n,e,t){const s=Bs(En(n.r)),i=Bs(En(n.g)),r=Bs(En(n.b));return{r:Qn(Pa(s+t*(Bs(En(e.r))-s))),g:Qn(Pa(i+t*(Bs(En(e.g))-i))),b:Qn(Pa(r+t*(Bs(En(e.b))-r))),a:n.a+t*(e.a-n.a)}}function Nr(n,e,t){if(n){let s=hc(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=fc(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function np(n,e){return n&&Object.assign(e||{},n)}function lh(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Qn(n[3]))):(e=np(n,{r:0,g:0,b:0,a:1}),e.a=Qn(e.a)),e}function Nk(n){return n.charAt(0)==="r"?Rk(n):Tk(n)}class or{constructor(e){if(e instanceof or)return e;const t=typeof e;let s;t==="object"?s=lh(e):t==="string"&&(s=yk(e)||Mk(e)||Nk(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=np(this._rgb);return e&&(e.a=En(e.a)),e}set rgb(e){this._rgb=lh(e)}rgbString(){return this._valid?Ik(this._rgb):void 0}hexString(){return this._valid?wk(this._rgb):void 0}hslString(){return this._valid?Ck(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Lk(this._rgb,e._rgb,t)),this}clone(){return new or(this.rgb)}alpha(e){return this._rgb.a=Qn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=mr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nr(this._rgb,2,e),this}darken(e){return Nr(this._rgb,2,-e),this}saturate(e){return Nr(this._rgb,1,e),this}desaturate(e){return Nr(this._rgb,1,-e),this}rotate(e){return Pk(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _n(){}const jk=(()=>{let n=0;return()=>n++})();function ue(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function he(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ze(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Nt(n,e){return ze(n)?n:e}function se(n,e){return typeof n>"u"?e:n}const $k=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,sp=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ne(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Te(n,e,t,s){let i,r,o;if(Be(n))for(r=n.length,i=0;i<r;i++)e.call(t,n[i],i);else if(he(n))for(o=Object.keys(n),r=o.length,i=0;i<r;i++)e.call(t,n[o[i]],o[i])}function bo(n,e){let t,s,i,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(i=n[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function yo(n){if(Be(n))return n.map(yo);if(he(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let i=0;for(;i<s;++i)e[t[i]]=yo(n[t[i]]);return e}return n}function ip(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Fk(n,e,t,s){if(!ip(n))return;const i=e[n],r=t[n];he(i)&&he(r)?ar(i,r,s):e[n]=yo(r)}function ar(n,e,t){const s=Be(e)?e:[e],i=s.length;if(!he(n))return n;t=t||{};const r=t.merger||Fk;let o;for(let a=0;a<i;++a){if(o=s[a],!he(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,t)}return n}function zi(n,e){return ar(n,e,{merger:Bk})}function Bk(n,e,t){if(!ip(n))return;const s=e[n],i=t[n];he(s)&&he(i)?zi(s,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=yo(i))}const ch={"":n=>n,x:n=>n.x,y:n=>n.y};function Wk(n){const e=n.split("."),t=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function Vk(n){const e=Wk(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function es(n,e){return(ch[e]||(ch[e]=Vk(e)))(n)}function gc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const lr=n=>typeof n<"u",ts=n=>typeof n=="function",uh=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Hk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const _e=Math.PI,je=2*_e,Uk=je+_e,_o=Number.POSITIVE_INFINITY,zk=_e/180,Ge=_e/2,us=_e/4,hh=_e*2/3,Yn=Math.log10,fn=Math.sign;function qi(n,e,t){return Math.abs(n-e)<t}function dh(n){const e=Math.round(n);n=qi(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Yn(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function qk(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function Yk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ai(n){return!Yk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Kk(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function rp(n,e,t){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Jt(n){return n*(_e/180)}function pc(n){return n*(180/_e)}function fh(n){if(!ze(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function op(n,e){const t=e.x-n.x,s=e.y-n.y,i=Math.sqrt(t*t+s*s);let r=Math.atan2(s,t);return r<-.5*_e&&(r+=je),{angle:r,distance:i}}function vl(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Gk(n,e){return(n-e+Uk)%je-_e}function ut(n){return(n%je+je)%je}function cr(n,e,t,s){const i=ut(n),r=ut(e),o=ut(t),a=ut(r-i),l=ut(o-i),c=ut(i-r),u=ut(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function rt(n,e,t){return Math.max(e,Math.min(t,n))}function Jk(n){return rt(n,-32768,32767)}function Pn(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function mc(n,e,t){t=t||(o=>n[o]<e);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,t(r)?i=r:s=r;return{lo:i,hi:s}}const Cn=(n,e,t,s)=>mc(n,t,s?i=>{const r=n[i][e];return r<t||r===t&&n[i+1][e]===t}:i=>n[i][e]<t),Xk=(n,e,t)=>mc(n,t,s=>n[s][e]>=t);function Qk(n,e,t){let s=0,i=n.length;for(;s<i&&n[s]<e;)s++;for(;i>s&&n[i-1]>t;)i--;return s>0||i<n.length?n.slice(s,i):n}const ap=["push","pop","shift","splice","unshift"];function Zk(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ap.forEach(t=>{const s="_onData"+gc(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function gh(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(ap.forEach(r=>{delete n[r]}),delete n._chartjs)}function lp(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const cp=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function up(n,e){let t=[],s=!1;return function(...i){t=i,s||(s=!0,cp.call(window,()=>{s=!1,n.apply(e,t)}))}}function eS(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const bc=n=>n==="start"?"left":n==="end"?"right":"center",ct=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,tS=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function hp(n,e,t){const s=e.length;let i=0,r=s;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(i=Math.min(Cn(l,u,h).lo,t?s:Cn(e,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(m=>!ue(m[a.axis]));i-=Math.max(0,g)}i=rt(i,0,s-1)}if(p){let g=Math.max(Cn(l,o.axis,d,!0).hi+1,t?0:Cn(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(g-1).findIndex(b=>!ue(b[a.axis]));g+=Math.max(0,m)}r=rt(g,i,s)-i}else r=s-i}return{start:i,count:r}}function dp(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),r}const jr=n=>n===0||n===1,ph=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*je/t)),mh=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*je/t)+1,Yi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ge)+1,easeOutSine:n=>Math.sin(n*Ge),easeInOutSine:n=>-.5*(Math.cos(_e*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>jr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>jr(n)?n:ph(n,.075,.3),easeOutElastic:n=>jr(n)?n:mh(n,.075,.3),easeInOutElastic(n){return jr(n)?n:n<.5?.5*ph(n*2,.1125,.45):.5+.5*mh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Yi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Yi.easeInBounce(n*2)*.5:Yi.easeOutBounce(n*2-1)*.5+.5};function yc(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function bh(n){return yc(n)?n:new or(n)}function Ca(n){return yc(n)?n:new or(n).saturate(.5).darken(.1).hexString()}const nS=["x","y","borderWidth","radius","tension"],sS=["color","borderColor","backgroundColor"];function iS(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:sS},numbers:{type:"number",properties:nS}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rS(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yh=new Map;function oS(n,e){e=e||{};const t=n+JSON.stringify(e);let s=yh.get(t);return s||(s=new Intl.NumberFormat(n,e),yh.set(t,s)),s}function br(n,e,t){return oS(e,t).format(n)}const fp={values(n){return Be(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=aS(n,t)}const o=Yn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),br(n,s,l)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Yn(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?fp.numeric.call(this,n,e,t):""}};function aS(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var qo={formatters:fp};function lS(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Os=Object.create(null),xl=Object.create(null);function Ki(n,e){if(!e)return n;const t=e.split(".");for(let s=0,i=t.length;s<i;++s){const r=t[s];n=n[r]||(n[r]=Object.create(null))}return n}function Aa(n,e,t){return typeof e=="string"?ar(Ki(n,e),t):ar(Ki(n,""),e)}class cS{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ca(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ca(i.borderColor),this.hoverColor=(s,i)=>Ca(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Aa(this,e,t)}get(e){return Ki(this,e)}describe(e,t){return Aa(xl,e,t)}override(e,t){return Aa(Os,e,t)}route(e,t,s,i){const r=Ki(this,e),o=Ki(this,s),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return he(l)?Object.assign({},c,l):se(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var We=new cS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iS,rS,lS]);function uS(n){return!n||ue(n.size)||ue(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function wo(n,e,t,s,i){let r=e[i];return r||(r=e[i]=n.measureText(i).width,t.push(i)),r>s&&(s=r),s}function hS(n,e,t,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=t[l],h!=null&&!Be(h))o=wo(n,i,r,o,h);else if(Be(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Be(d)&&(o=wo(n,i,r,o,d));n.restore();const f=r.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function hs(n,e,t){const s=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*s)/s+i}function _h(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function kl(n,e,t,s){gp(n,e,t,s,null)}function gp(n,e,t,s,i){let r,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*zk;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(m),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,s,i/2,g,0,0,je):n.arc(t,s,g,0,je),n.closePath();break;case"triangle":u=i?i/2:g,n.moveTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=hh,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),m+=hh,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*g),n.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+us)*l,h=Math.cos(m+us)*(i?i/2-c:l),a=Math.sin(m+us)*l,d=Math.sin(m+us)*(i?i/2-c:l),n.arc(t-h,s-a,c,m-_e,m-Ge),n.arc(t+d,s-o,c,m-Ge,m),n.arc(t+h,s+a,c,m,m+Ge),n.arc(t-d,s+o,c,m+Ge,m+_e),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,n.rect(t-u,s-l,2*u,2*l);break}m+=us;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-h,s-a),n.lineTo(t+d,s-o),n.lineTo(t+h,s+a),n.lineTo(t-d,s+o),n.closePath();break;case"crossRot":m+=us;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o),m+=us,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,n.moveTo(t-o,s-a),n.lineTo(t+o,s+a);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(m)*(i?i/2:g),s+Math.sin(m)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function An(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Yo(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ko(n){n.restore()}function dS(n,e,t,s,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else i==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function fS(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function gS(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ue(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function pS(n,e,t,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function mS(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ts(n,e,t,s,i,r={}){const o=Be(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,gS(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&mS(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),ue(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,t,s,r.maxWidth)),n.fillText(c,t,s,r.maxWidth),pS(n,t,s,c,r),s+=Number(i.lineHeight);n.restore()}function ur(n,e){const{x:t,y:s,w:i,h:r,radius:o}=e;n.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*_e,_e,!0),n.lineTo(t,s+r-o.bottomLeft),n.arc(t+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,_e,Ge,!0),n.lineTo(t+i-o.bottomRight,s+r),n.arc(t+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Ge,0,!0),n.lineTo(t+i,s+o.topRight),n.arc(t+i-o.topRight,s+o.topRight,o.topRight,0,-Ge,!0),n.lineTo(t+o.topLeft,s)}const bS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _S(n,e){const t=(""+n).match(bS);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const wS=n=>+n||0;function _c(n,e){const t={},s=he(e),i=s?Object.keys(e):e,r=he(n)?s?o=>se(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=wS(r(o));return t}function pp(n){return _c(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ss(n){return _c(n,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(n){const e=pp(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function it(n,e){n=n||{},e=e||We.font;let t=se(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=se(n.style,e.style);s&&!(""+s).match(yS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:se(n.family,e.family),lineHeight:_S(se(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:se(n.weight,e.weight),string:""};return i.string=uS(i),i}function Di(n,e,t,s){let i,r,o;for(i=0,r=n.length;i<r;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function vS(n,e,t){const{min:s,max:i}=n,r=sp(e,(i-s)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function is(n,e){return Object.assign(Object.create(n),e)}function wc(n,e=[""],t,s,i=()=>n[0]){const r=t||n;typeof s>"u"&&(s=_p("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>wc([a,...n],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return bp(a,l,()=>CS(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return vh(a).includes(l)},ownKeys(a){return vh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function li(n,e,t,s){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:mp(n,s),setContext:r=>li(n,r,t,s),override:r=>li(n.override(r),e,t,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return bp(r,o,()=>kS(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function mp(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:s,isScriptable:ts(t)?t:()=>t,isIndexable:ts(s)?s:()=>s}}const xS=(n,e)=>n?n+gc(e):e,vc=(n,e)=>he(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bp(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function kS(n,e,t){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=n;let a=s[e];return ts(a)&&o.isScriptable(e)&&(a=SS(e,a,n,t)),Be(a)&&a.length&&(a=ES(e,a,n,o.isIndexable)),vc(e,a)&&(a=li(a,i,r&&r[e],o)),a}function SS(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(r,o||s);return a.delete(n),vc(n,l)&&(l=xc(i._scopes,i,n,l)),l}function ES(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&s(n))return e[r.index%e.length];if(he(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=xc(c,i,n,u);e.push(li(h,r,o&&o[n],a))}}return e}function yp(n,e,t){return ts(n)?n(e,t):n}const OS=(n,e)=>n===!0?e:typeof n=="string"?es(e,n):void 0;function TS(n,e,t,s,i){for(const r of e){const o=OS(t,r);if(o){n.add(o);const a=yp(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==s)return a}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function xc(n,e,t,s){const i=e._rootScopes,r=yp(e._fallback,t,s),o=[...n,...i],a=new Set;a.add(s);let l=wh(a,o,t,r||t,s);return l===null||typeof r<"u"&&r!==t&&(l=wh(a,o,r,l,s),l===null)?!1:wc(Array.from(a),[""],i,r,()=>PS(e,t,s))}function wh(n,e,t,s,i){for(;t;)t=TS(n,e,t,s,i);return t}function PS(n,e,t){const s=n._getTarget();e in s||(s[e]={});const i=s[e];return Be(i)&&he(t)?t:i||{}}function CS(n,e,t,s){let i;for(const r of e)if(i=_p(xS(r,n),t),typeof i<"u")return vc(n,i)?xc(t,s,n,i):i}function _p(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function vh(n){let e=n._keys;return e||(e=n._keys=AS(n._scopes)),e}function AS(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function wp(n,e,t,s){const{iScale:i}=n,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+t,u=e[c],o[a]={r:i.parse(es(u,r),c)};return o}const MS=Number.EPSILON||1e-14,ci=(n,e)=>e<n.length&&!n[e].skip&&n[e],vp=n=>n==="x"?"y":"x";function DS(n,e,t,s){const i=n.skip?e:n,r=e,o=t.skip?e:t,a=vl(r,i),l=vl(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function RS(n,e,t){const s=n.length;let i,r,o,a,l,c=ci(n,0);for(let u=0;u<s-1;++u)if(l=c,c=ci(n,u+1),!(!l||!c)){if(qi(e[u],0,MS)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],r=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=r*o*e[u])}}function IS(n,e,t="x"){const s=vp(t),i=n.length;let r,o,a,l=ci(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ci(n,c+1),!a)continue;const u=a[t],h=a[s];o&&(r=(u-o[t])/3,a[`cp1${t}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[t]-u)/3,a[`cp2${t}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function LS(n,e="x"){const t=vp(e),s=n.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=ci(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=ci(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}r[o]=a?c?fn(i[o-1])!==fn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}RS(n,i,r),IS(n,r,e)}function $r(n,e,t){return Math.max(Math.min(n,t),e)}function NS(n,e){let t,s,i,r,o,a=An(n[0],e);for(t=0,s=n.length;t<s;++t)o=r,r=a,a=t<s-1&&An(n[t+1],e),r&&(i=n[t],o&&(i.cp1x=$r(i.cp1x,e.left,e.right),i.cp1y=$r(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=$r(i.cp2x,e.left,e.right),i.cp2y=$r(i.cp2y,e.top,e.bottom)))}function jS(n,e,t,s,i){let r,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")LS(n,i);else{let c=s?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=DS(c,a,n[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&NS(n,t)}function kc(){return typeof window<"u"&&typeof document<"u"}function Sc(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vo(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Go=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function $S(n,e){return Go(n).getPropertyValue(e)}const FS=["top","right","bottom","left"];function Es(n,e,t){const s={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=FS[i];s[r]=parseFloat(n[e+"-"+r+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const BS=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function WS(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(BS(i,r,n.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ms(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,i=Go(t),r=i.boxSizing==="border-box",o=Es(i,"padding"),a=Es(i,"border","width"),{x:l,y:c,box:u}=WS(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*t.width/s),y:Math.round((c-d)/p*t.height/s)}}function VS(n,e,t){let s,i;if(e===void 0||t===void 0){const r=n&&Sc(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=Go(r),l=Es(a,"border","width"),c=Es(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,s=vo(a.maxWidth,r,"clientWidth"),i=vo(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:s||_o,maxHeight:i||_o}}const Kn=n=>Math.round(n*10)/10;function HS(n,e,t,s){const i=Go(n),r=Es(i,"margin"),o=vo(i.maxWidth,n,"clientWidth")||_o,a=vo(i.maxHeight,n,"clientHeight")||_o,l=VS(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Es(i,"border","width"),f=Es(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Kn(Math.min(c,o,l.maxWidth)),u=Kn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Kn(c/2)),(e!==void 0||t!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Kn(Math.floor(u*s))),{width:c,height:u}}function xh(n,e,t){const s=e||1,i=Kn(n.height*s),r=Kn(n.width*s);n.height=Kn(n.height),n.width=Kn(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(n.currentDevicePixelRatio=s,o.height=i,o.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const US=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};kc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function kh(n,e){const t=$S(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function bs(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function zS(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function qS(n,e,t,s){const i={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=bs(n,i,t),a=bs(i,r,t),l=bs(r,e,t),c=bs(o,a,t),u=bs(a,l,t);return bs(c,u,t)}const YS=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},KS=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ti(n,e,t){return n?YS(e,t):KS()}function xp(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function kp(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Sp(n){return n==="angle"?{between:cr,compare:Gk,normalize:ut}:{between:Pn,compare:(e,t)=>e-t,normalize:e=>e}}function Sh({start:n,end:e,count:t,loop:s,style:i}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:i}}function GS(n,e,t){const{property:s,start:i,end:r}=t,{between:o,normalize:a}=Sp(s),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Ep(n,e,t){if(!t)return[n];const{property:s,start:i,end:r}=t,o=e.length,{compare:a,between:l,normalize:c}=Sp(s),{start:u,end:h,loop:d,style:f}=GS(n,e,t),p=[];let g=!1,m=null,b,y,w;const x=()=>l(i,w,b)&&a(i,w)!==0,k=()=>a(r,b)===0||l(r,w,b),E=()=>g||x(),T=()=>!g||k();for(let D=u,$=u;D<=h;++D)y=e[D%o],!y.skip&&(b=c(y[s]),b!==w&&(g=l(b,i,r),m===null&&E()&&(m=a(b,i)===0?D:$),m!==null&&T()&&(p.push(Sh({start:m,end:D,loop:d,count:o,style:f})),m=null),$=D,w=b));return m!==null&&p.push(Sh({start:m,end:h,loop:d,count:o,style:f})),p}function Op(n,e){const t=[],s=n.segments;for(let i=0;i<s.length;i++){const r=Ep(s[i],n.points,e);r.length&&t.push(...r)}return t}function JS(n,e,t,s){let i=0,r=e-1;if(t&&!s)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&n[r%e].skip;)r--;return r%=e,{start:i,end:r}}function XS(n,e,t,s){const i=n.length,r=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function QS(n,e){const t=n.points,s=n.options.spanGaps,i=t.length;if(!i)return[];const r=!!n._loop,{start:o,end:a}=JS(t,i,r,s);if(s===!0)return Eh(n,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Eh(n,XS(t,o,l,c),t,e)}function Eh(n,e,t,s){return!s||!s.setContext||!t?e:ZS(n,e,t,s)}function ZS(n,e,t,s){const i=n._chart.getContext(),r=Oh(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=r,h=e[0].start,d=h;function f(p,g,m,b){const y=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=y;for(;t[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:b}),u=b,h=g%l)}}for(const p of e){h=a?h:p.start;let g=t[h%l],m;for(d=h+1;d<=p.end;d++){const b=t[d%l];m=Oh(s.setContext(is(i,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),eE(m,u)&&f(h,d-1,p.loop,u),g=b,u=m}h<d-1&&f(h,d-1,p.loop,u)}return c}function Oh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function eE(n,e){if(!e)return!1;const t=[],s=function(i,r){return yc(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function Fr(n,e,t){return n.options.clip?n[t]:e[t]}function tE(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:Fr(t,e,"left"),right:Fr(t,e,"right"),top:Fr(s,e,"top"),bottom:Fr(s,e,"bottom")}:e}function Tp(n,e){const t=e._clip;if(t.disabled)return!1;const s=tE(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const r=t.listeners[i],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=cp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vn=new nE;const Th="transparent",sE={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=bh(n||Th),i=s.valid&&bh(e||Th);return i&&i.valid?i.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class iE{constructor(e,t,s,i){const r=t[s];i=Di([e.to,i,r,e.from]);const o=Di([e.from,r,i]);this._active=!0,this._fn=e.fn||sE[e.type||typeof o],this._easing=Yi[e.easing]||Yi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Di([e.to,t,i,e.from]),this._from=Di([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<s),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=r;return}l=t/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class Pp{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!he(e))return;const t=Object.keys(We.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!he(r))return;const o={};for(const a of t)o[a]=r[a];(Be(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,t){const s=t.options,i=oE(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&rE(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new iE(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return vn.add(this._chart,s),!0}}function rE(n,e){const t=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function oE(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ph(n,e){const t=n&&n.options||{},s=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function aE(n,e,t){if(t===!1)return!1;const s=Ph(n,t),i=Ph(e,t);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function lE(n){let e,t,s,i;return he(n)?(e=n.top,t=n.right,s=n.bottom,i=n.left):e=t=s=i=n,{top:e,right:t,bottom:s,left:i,disabled:n===!1}}function Cp(n,e){const t=[],s=n._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)t.push(s[i].index);return t}function Ch(n,e,t,s={}){const i=n.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,s.all)continue;break}c=n.values[l],ze(c)&&(r||e===0||fn(e)===fn(c))&&(e+=c)}return!u&&!s.all?0:e}function cE(n,e){const{iScale:t,vScale:s}=e,i=t.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:n[u]};return a}function Ma(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function uE(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function hE(n){const{min:e,max:t,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function dE(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function Ah(n,e,t,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function Mh(n,e){const{chart:t,_cachedMeta:s}=n,i=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=uE(r,o,s),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:m}=p,b=p._stacks||(p._stacks={});d=b[c]=dE(i,u,g),d[a]=m,d._top=Ah(d,o,!0,s.type),d._bottom=Ah(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Da(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function fE(n,e){return is(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gE(n,e,t){return is(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function vi(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][t]===void 0)return;delete r[s][t],r[s]._visualValues!==void 0&&r[s]._visualValues[t]!==void 0&&delete r[s]._visualValues[t]}}}const Ra=n=>n==="reset"||n==="none",Dh=(n,e)=>e?n:Object.assign({},n),pE=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Cp(t,!0),values:null};class rs{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ma(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=t.xAxisID=se(s.xAxisID,Da(e,"x")),o=t.yAxisID=se(s.yAxisID,Da(e,"y")),a=t.rAxisID=se(s.rAxisID,Da(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,r,o,a),u=t.vAxisID=i(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gh(this._data,this),e._stacked&&vi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(he(t)){const i=this._cachedMeta;this._data=cE(t,i)}else if(s!==t){if(s){gh(s,this);const i=this._cachedMeta;vi(i),i._parsed=[]}t&&Object.isExtensible(t)&&Zk(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ma(t.vScale,t),t.stack!==s.stack&&(i=!0,vi(t),t.stack=s.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Mh(this,t._parsed),t._stacked=Ma(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&t===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Be(i[e])?d=this.parseArrayData(s,i,e,t):he(i[e])?d=this.parseObjectData(s,i,e,t):d=this.parsePrimitiveData(s,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)s._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&Mh(this,d)}parsePrimitiveData(e,t,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+s,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(t[p],p)};return h}parseArrayData(e,t,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=t[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=t[d],c[u]={x:r.parse(es(f,a),d),y:o.parse(es(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:Cp(i,!0),values:t._stacks[e.axis]._visualValues};return Ch(a,o,r.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const r=s[t.axis];let o=r===null?NaN:r;const a=i&&s._stacks[t.axis];i&&a&&(i.values=a,o=Ch(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=pE(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=hE(a);let d,f;function p(){f=i[d];const g=f[a.axis];return!ze(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],ze(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=lE(se(this.options.clip,aE(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=gE(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=fE(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&lr(s);if(a)return Dh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(We.elements[e]),p=()=>this.getContext(s,i,t),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Dh(g,l))),g}_resolveAnimations(e,t,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,s,t))}const c=new Pp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ra(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:o}}updateElement(e,t,s,i){Ra(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!Ra(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,s=!0){const i=this._cachedMeta,r=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&vi(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mE(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=t.length;i<r;i++)s=s.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=lp(s.sort((i,r)=>i-r))}return n._cache.$bar}function bE(n){const e=n.iScale,t=mE(e,n.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(lr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=t.length;i<r;++i)o=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function yE(n,e,t,s){const i=t.barThickness;let r,o;return ue(i)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[n]-r/2}}function _E(n,e,t,s){const i=e.pixels,r=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:t.barPercentage,start:c}}function wE(n,e,t,s){const i=t.parse(n[0],s),r=t.parse(n[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function Ap(n,e,t,s){return Be(n)?wE(n,e,t,s):e[t.axis]=t.parse(n,s),e}function Rh(n,e,t,s){const i=n.iScale,r=n.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=t,u=t+s;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Ap(d,h,r,c));return l}function Ia(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function vE(n,e,t){return n!==0?fn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function xE(n){let e,t,s,i,r;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:s,reverse:e,top:i,bottom:r}}function kE(n,e,t,s){let i=e.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=xE(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?i=c:(t._bottom||0)===s?i=u:(r[Ih(u,o,a,l)]=!0,i=c)),r[Ih(i,o,a,l)]=!0,n.borderSkipped=r}function Ih(n,e,t,s){return s?(n=SE(n,e,t),n=Lh(n,t,e)):n=Lh(n,e,t),n}function SE(n,e,t){return n===e?t:n===t?e:n}function Lh(n,e,t){return n==="start"?e:n==="end"?t:n}function EE(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class OE extends rs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,i){return Rh(e,t,s,i)}parseArrayData(e,t,s,i){return Rh(e,t,s,i)}parseObjectData(e,t,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=s,f=s+i;d<f;++d)g=t[d],p={},p[r.axis]=r.parse(es(g,c),d),h.push(Ap(es(g,u),p,o,d));return h}updateRangeFromParsed(e,t,s,i){super.updateRangeFromParsed(e,t,s,i);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:i}=t,r=this.getParsed(e),o=r._custom,a=Ia(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+s;f++){const p=this.getParsed(f),g=r||ue(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!b||Ia(p._custom)||o===b._top||o===b._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const w=y.options||e[f].options;kE(y,w,b,o),EE(y,w,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(ue(d)||isNaN(d))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[se(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const i=this._getStacks(e,s),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||bE(t),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Ia(c);let h=l[t.axis],d=0,f=s?this.applyStack(t,l,s):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&fn(h)!==fn(c.barEnd)&&(d=0),d+=h);const m=!ue(r)&&!u?r:d;let b=t.getPixelForValue(m);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(d+f):p=b,g=p-b,Math.abs(g)<o){g=vE(g,t,a)*o,h===a&&(b-=g/2);const y=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),x=Math.min(y,w),k=Math.max(y,w);b=Math.max(Math.min(b,k),x),p=b+g,s&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(p)-t.getValueForPixel(b))}if(b===t.getPixelForValue(a)){const y=fn(g)*t.getLineWidthForValue(a)/2;b+=y,g-=y}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const s=t.scale,i=this.options,r=i.skipNull,o=se(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,h=i.barThickness==="flex"?_E(e,t,i,u*c):yE(e,t,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(se(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class TE extends rs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,i){const r=super.parsePrimitiveData(e,t,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,t,s,i){const r=super.parseArrayData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=se(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,t,s,i){const r=super.parseObjectData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=se(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,i),u=o.axis,h=a.axis;for(let d=t;d<t+s;d++){const f=e[d],p=!r&&this.getParsed(d),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),b=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(b),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(g.options.radius=0)),this.updateElement(f,d,g,i)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return t!=="active"&&(i.radius=0),i.radius+=se(s&&s._custom,r),i}}function PE(n,e,t){let s=1,i=1,r=0,o=0;if(e<je){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,x,k)=>cr(w,a,l,!0)?1:Math.max(x,x*t,k,k*t),p=(w,x,k)=>cr(w,a,l,!0)?-1:Math.min(x,x*t,k,k*t),g=f(0,c,h),m=f(Ge,u,d),b=p(_e,c,h),y=p(_e+Ge,u,d);s=(g-b)/2,i=(m-y)/2,r=-(g+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Ec extends rs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(he(s[e])){const{key:l="value"}=this._parsing;r=c=>+es(s[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Jt(this.options.rotation-90)}_getCircumference(){return Jt(this.options.circumference)}_getRotationExtents(){let e=je,t=-je;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min($k(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=PE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),w=sp(this.options.radius,y),x=Math.max(w*l,0),k=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/je)}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(t,i);let b=this._getRotation(),y;for(y=0;y<t;++y)b+=this._circumference(y,r);for(y=t;y<t+s;++y){const w=this._circumference(y,r),x=e[y],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:p,innerRadius:f};m&&(k.options=g||this.resolveDataElementOptions(y,x.active?"active":i)),b+=w,this.updateElement(x,y,k,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?je*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=br(t._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class CE extends rs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=hp(t,i,o);this._drawStart=a,this._drawCount=l,dp(t)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=ai(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=t+s,w=e.length;let x=t>0&&this.getParsed(t-1);for(let k=0;k<w;++k){const E=e[k],T=b?E:{};if(k<t||k>=y){T.skip=!0;continue}const D=this.getParsed(k),$=ue(D[f]),G=T[d]=o.getPixelForValue(D[d],k),Q=T[f]=r||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[f],k);T.skip=isNaN(G)||isNaN(Q)||$,T.stop=k>0&&Math.abs(D[d]-x[d])>m,g&&(T.parsed=D,T.raw=c.data[k]),h&&(T.options=u||this.resolveDataElementOptions(k,E.active?"active":i)),b||this.updateElement(E,k,T,i),x=D}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Mp extends rs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=br(t._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,s,i){return wp.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*_e;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)f+=this._computeAngle(p,i,g);for(p=t;p<t+s;p++){const m=e[p];let b=f,y=f+this._computeAngle(p,i,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":i)};this.updateElement(m,p,x,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?Jt(this.resolveDataElementOptions(e,t).angle||s):0}}class AE extends Ec{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ME extends rs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,i){return wp.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta,s=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=t;a<t+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class DE extends rs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:o}=hp(t,s,i);if(this._drawStart=r,this._drawCount=o,dp(t)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=ai(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let w=t>0&&this.getParsed(t-1);for(let x=t;x<t+s;++x){const k=e[x],E=this.getParsed(x),T=y?k:{},D=ue(E[p]),$=T[f]=o.getPixelForValue(E[f],x),G=T[p]=r||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],x);T.skip=isNaN($)||isNaN(G)||D,T.stop=x>0&&Math.abs(E[f]-w[f])>b,m&&(T.parsed=E,T.raw=c.data[x]),d&&(T.options=h||this.resolveDataElementOptions(x,k.active?"active":i)),y||this.updateElement(k,x,T,i),w=E}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,o)/2}}var RE=Object.freeze({__proto__:null,BarController:OE,BubbleController:TE,DoughnutController:Ec,LineController:CE,PieController:AE,PolarAreaController:Mp,RadarController:ME,ScatterController:DE});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oc{static override(e){Object.assign(Oc.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}}var Dp={_date:Oc};function IE(n,e,t,s){const{controller:i,data:r,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?Xk:Cn;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(r,e,t-h),f=c(r,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!ue(g[h.axis]));u.lo-=Math.max(0,f);const p=d.slice(u.hi).findIndex(g=>!ue(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function Jo(n,e,t,s,i){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=IE(r[a],e,o,i);for(let f=h;f<=d;++f){const p=u[f];p.skip||s(p,c,f)}}}function LE(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=t?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function La(n,e,t,s,i){const r=[];return!i&&!n.isPointInArea(e)||Jo(n,t,e,function(a,l,c){!i&&!An(a,n.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function NE(n,e,t,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=op(o,{x:e.x,y:e.y});cr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Jo(n,t,e,r),i}function jE(n,e,t,s,i,r){let o=[];const a=LE(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const p=u.getCenterPoint(i);if(!(!!r||n.isPointInArea(p))&&!f)return;const m=a(e,p);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return Jo(n,t,e,c),o}function Na(n,e,t,s,i,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!s?NE(n,e,t,i):jE(n,e,t,s,i,r)}function Nh(n,e,t,s,i){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return Jo(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var $E={modes:{index(n,e,t,s){const i=ms(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?La(n,i,r,s,o):Na(n,i,r,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,s){const i=ms(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?La(n,i,r,s,o):Na(n,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,s){const i=ms(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return La(n,i,r,s,o)},nearest(n,e,t,s){const i=ms(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Na(n,i,r,t.intersect,s,o)},x(n,e,t,s){const i=ms(e,n);return Nh(n,i,"x",t.intersect,s)},y(n,e,t,s){const i=ms(e,n);return Nh(n,i,"y",t.intersect,s)}}};const Rp=["left","top","right","bottom"];function xi(n,e){return n.filter(t=>t.pos===e)}function jh(n,e){return n.filter(t=>Rp.indexOf(t.pos)===-1&&t.box.axis===e)}function ki(n,e){return n.sort((t,s)=>{const i=e?s:t,r=e?t:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function FE(n){const e=[];let t,s,i,r,o,a;for(t=0,s=(n||[]).length;t<s;++t)i=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function BE(n){const e={};for(const t of n){const{stack:s,pos:i,stackWeight:r}=t;if(!s||!Rp.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function WE(n,e){const t=BE(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return t}function VE(n){const e=FE(n),t=ki(e.filter(c=>c.box.fullSize),!0),s=ki(xi(e,"left"),!0),i=ki(xi(e,"right")),r=ki(xi(e,"top"),!0),o=ki(xi(e,"bottom")),a=jh(e,"x"),l=jh(e,"y");return{fullSize:t,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:xi(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function $h(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function Ip(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function HE(n,e,t,s){const{pos:i,box:r}=t,o=n.maxPadding;if(!he(i)){t.size&&(n[i]-=t.size);const h=s[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,n[i]+=t.size}r.getPadding&&Ip(o,r.getPadding());const a=Math.max(0,e.outerWidth-$h(o,n,"left","right")),l=Math.max(0,e.outerHeight-$h(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function UE(n){const e=n.maxPadding;function t(s){const i=Math.max(e[s]-n[s],0);return n[s]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zE(n,e){const t=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return s(n?["left","right"]:["top","bottom"])}function Ri(n,e,t,s){const i=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||e.w,a.height||e.h,zE(a.horizontal,e));const{same:h,other:d}=HE(e,t,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Ri(i,e,t,s)||u}function Br(n,e,t,s,i){n.top=t,n.left=e,n.right=e+s,n.bottom=t+i,n.width=s,n.height=i}function Fh(n,e,t,s){const i=t.padding;let{x:r,y:o}=e;for(const a of n){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;lr(c.start)&&(o=c.start),l.fullSize?Br(l,i.left,o,t.outerWidth-i.right-i.left,d):Br(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;lr(c.start)&&(r=c.start),l.fullSize?Br(l,r,i.top,d,t.outerHeight-i.bottom-i.top):Br(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var ft={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const i=bt(n.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=VE(n.boxes),l=a.vertical,c=a.horizontal;Te(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);Ip(d,bt(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),p=WE(l.concat(c),h);Ri(a.fullSize,f,h,p),Ri(l,f,h,p),Ri(c,f,h,p)&&Ri(l,f,h,p),UE(f),Fh(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Fh(a.rightAndBottom,f,h,p),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Te(a.chartArea,g=>{const m=g.box;Object.assign(m,n.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Lp{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class qE extends Lp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eo="$chartjs",YE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bh=n=>n===null||n==="";function KE(n,e){const t=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[eo]={initial:{height:s,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Bh(i)){const r=kh(n,"width");r!==void 0&&(n.width=r)}if(Bh(s))if(n.style.height==="")n.height=n.width/(e||2);else{const r=kh(n,"height");r!==void 0&&(n.height=r)}return n}const Np=US?{passive:!0}:!1;function GE(n,e,t){n&&n.addEventListener(e,t,Np)}function JE(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Np)}function XE(n,e){const t=YE[n.type]||n.type,{x:s,y:i}=ms(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function xo(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function QE(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||xo(a.addedNodes,s),o=o&&!xo(a.removedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function ZE(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||xo(a.removedNodes,s),o=o&&!xo(a.addedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const hr=new Map;let Wh=0;function jp(){const n=window.devicePixelRatio;n!==Wh&&(Wh=n,hr.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function eO(n,e){hr.size||window.addEventListener("resize",jp),hr.set(n,e)}function tO(n){hr.delete(n),hr.size||window.removeEventListener("resize",jp)}function nO(n,e,t){const s=n.canvas,i=s&&Sc(s);if(!i)return;const r=up((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),eO(n,r),o}function ja(n,e,t){t&&t.disconnect(),e==="resize"&&tO(n)}function sO(n,e,t){const s=n.canvas,i=up(r=>{n.ctx!==null&&t(XE(r,n))},n);return GE(s,e,i),i}class iO extends Lp{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(KE(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[eo])return!1;const s=t[eo].initial;["height","width"].forEach(r=>{const o=s[r];ue(o)?t.removeAttribute(r):t.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[eo],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:QE,detach:ZE,resize:nO}[t]||sO;i[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:ja,detach:ja,resize:ja}[t]||JE)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return HS(e,t,s,i)}isAttached(e){const t=e&&Sc(e);return!!(t&&t.isConnected)}}function rO(n){return!kc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?qE:iO}let jn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return ai(this.x)&&ai(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function oO(n,e){const t=n.options.ticks,s=aO(n),i=Math.min(t.maxTicksLimit||s,s),r=t.major.enabled?cO(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return uO(e,c,r,o/i),c;const u=lO(r,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Wr(e,c,u,ue(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Wr(e,c,u,r[h],r[h+1]);return Wr(e,c,u,l,ue(f)?e.length:l+f),c}return Wr(e,c,u),c}function aO(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(s,i))}function lO(n,e,t){const s=hO(n),i=e.length/t;if(!s)return Math.max(i,1);const r=qk(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function cO(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function uO(n,e,t,s){let i=0,r=t[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===r&&(e.push(n[o]),i++,r=t[i*s])}function Wr(n,e,t,s,i){const r=se(s,0),o=Math.min(se(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-s,t=l/Math.floor(l/t)),u=r;u<0;)a++,u=Math.round(r+a*t);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(r+a*t))}function hO(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const dO=n=>n==="left"?"right":n==="right"?"left":n,Vh=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Hh=(n,e)=>Math.min(e||n,n);function Uh(n,e){const t=[],s=n.length/e,i=n.length;let r=0;for(;r<i;r+=s)t.push(n[Math.floor(r)]);return t}function fO(n,e,t){const s=n.ticks.length,i=Math.min(e,s-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(s===1?c=Math.max(l-r,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function gO(n,e){Te(n,t=>{const s=t.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[s[r]];s.splice(0,i)}})}function Si(n){return n.drawTicks?n.tickLength:0}function zh(n,e){if(!n.display)return 0;const t=it(n.font,e),s=bt(n.padding);return(Be(n.text)?n.text.length:1)*t.lineHeight+s.height}function pO(n,e){return is(n,{scale:e,type:"scale"})}function mO(n,e,t){return is(n,{tick:t,index:e,type:"tick"})}function bO(n,e,t){let s=bc(n);return(t&&e!=="right"||!t&&e==="right")&&(s=dO(s)),s}function yO(n,e,t,s){const{top:i,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-i,m=a-r;if(n.isHorizontal()){if(f=ct(s,r,a),he(t)){const b=Object.keys(t)[0],y=t[b];p=u[b].getPixelForValue(y)+g-e}else t==="center"?p=(c.bottom+c.top)/2+g-e:p=Vh(n,t,e);d=a-r}else{if(he(t)){const b=Object.keys(t)[0],y=t[b];f=u[b].getPixelForValue(y)-m+e}else t==="center"?f=(c.left+c.right)/2-m+e:f=Vh(n,t,e);p=ct(s,o,i),h=t==="left"?-Ge:Ge}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Ms extends jn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=Nt(e,Number.POSITIVE_INFINITY),t=Nt(t,Number.NEGATIVE_INFINITY),s=Nt(s,Number.POSITIVE_INFINITY),i=Nt(i,Number.NEGATIVE_INFINITY),{min:Nt(e,s),max:Nt(t,i),minDefined:ze(e),maxDefined:ze(t)}}getMinMax(e){let{min:t,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:t,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),r||(s=Math.max(s,o.max));return t=r&&t>s?s:t,s=i&&t>s?t:s,{min:Nt(t,Nt(s,t)),max:Nt(s,Nt(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ne(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Uh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ne(this.options.afterUpdate,[this])}beforeSetDimensions(){Ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ne(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ne(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Ne(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Hh(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=rt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-Si(e.grid)-t.padding-zh(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=pc(Math.min(Math.asin(rt((u.highest.height+6)/a,-1,1)),Math.asin(rt(l/c,-1,1))-Math.asin(rt(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ne(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=zh(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Si(r)+l):(e.height=this.maxHeight,e.width=Si(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,p=Jt(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const b=s.mirror?0:m*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=s.mirror?0:g*h.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=s*t.height):(d=s*e.height,f=i*t.width):r==="start"?f=t.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ne(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)ue(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Uh(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/Hh(t,s));let c=0,u=0,h,d,f,p,g,m,b,y,w,x,k;for(h=0;h<t;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),i.font=m=g.string,b=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,w=x=0,!ue(p)&&!Be(p))w=wo(i,b.data,b.gc,w,p),x=y;else if(Be(p))for(d=0,f=p.length;d<f;++d)k=p[d],!ue(k)&&!Be(k)&&(w=wo(i,b.data,b.gc,w,k),x+=y);o.push(w),a.push(x),c=Math.max(w,c),u=Math.max(x,u)}gO(r,t);const E=o.indexOf(c),T=a.indexOf(u),D=$=>({width:o[$]||0,height:a[$]||0});return{first:D(0),last:D(t-1),widest:D(E),highest:D(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Jk(this._alignToPixels?hs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=mO(this.getContext(),e,s))}return this.$context||(this.$context=pO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Jt(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Si(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,b=function(re){return hs(s,re,g)};let y,w,x,k,E,T,D,$,G,Q,ae,Ce;if(o==="top")y=b(this.bottom),T=this.bottom-d,$=y-m,Q=b(e.top)+m,Ce=e.bottom;else if(o==="bottom")y=b(this.top),Q=e.top,Ce=b(e.bottom)-m,T=y+m,$=this.top+d;else if(o==="left")y=b(this.right),E=this.right-d,D=y-m,G=b(e.left)+m,ae=e.right;else if(o==="right")y=b(this.left),G=e.left,ae=b(e.right)-m,E=y+m,D=this.left+d;else if(t==="x"){if(o==="center")y=b((e.top+e.bottom)/2+.5);else if(he(o)){const re=Object.keys(o)[0],J=o[re];y=b(this.chart.scales[re].getPixelForValue(J))}Q=e.top,Ce=e.bottom,T=y+m,$=T+d}else if(t==="y"){if(o==="center")y=b((e.left+e.right)/2);else if(he(o)){const re=Object.keys(o)[0],J=o[re];y=b(this.chart.scales[re].getPixelForValue(J))}E=y-m,D=E-d,G=e.left,ae=e.right}const tt=se(i.ticks.maxTicksLimit,h),de=Math.max(1,Math.ceil(h/tt));for(w=0;w<h;w+=de){const re=this.getContext(w),J=r.setContext(re),le=a.setContext(re),De=J.lineWidth,yt=J.color,_t=le.dash||[],Ke=le.dashOffset,Vt=J.tickWidth,Et=J.tickColor,Dt=J.tickBorderDash||[],Qe=J.tickBorderDashOffset;x=fO(this,w,l),x!==void 0&&(k=hs(s,x,De),c?E=D=G=ae=k:T=$=Q=Ce=k,f.push({tx1:E,ty1:T,tx2:D,ty2:$,x1:G,y1:Q,x2:ae,y2:Ce,width:De,color:yt,borderDash:_t,borderDashOffset:Ke,tickWidth:Vt,tickColor:Et,tickBorderDash:Dt,tickBorderDashOffset:Qe}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=Si(s.grid),f=d+u,p=h?-u:f,g=-Jt(this.labelRotation),m=[];let b,y,w,x,k,E,T,D,$,G,Q,ae,Ce="middle";if(i==="top")E=this.bottom-p,T=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+p,T=this._getXAxisLabelAlignment();else if(i==="left"){const de=this._getYAxisLabelAlignment(d);T=de.textAlign,k=de.x}else if(i==="right"){const de=this._getYAxisLabelAlignment(d);T=de.textAlign,k=de.x}else if(t==="x"){if(i==="center")E=(e.top+e.bottom)/2+f;else if(he(i)){const de=Object.keys(i)[0],re=i[de];E=this.chart.scales[de].getPixelForValue(re)+f}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(e.left+e.right)/2-f;else if(he(i)){const de=Object.keys(i)[0],re=i[de];k=this.chart.scales[de].getPixelForValue(re)}T=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?Ce="top":l==="end"&&(Ce="bottom"));const tt=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){w=a[b],x=w.label;const de=r.setContext(this.getContext(b));D=this.getPixelForTick(b)+r.labelOffset,$=this._resolveTickFontOptions(b),G=$.lineHeight,Q=Be(x)?x.length:1;const re=Q/2,J=de.color,le=de.textStrokeColor,De=de.textStrokeWidth;let yt=T;o?(k=D,T==="inner"&&(b===y-1?yt=this.options.reverse?"left":"right":b===0?yt=this.options.reverse?"right":"left":yt="center"),i==="top"?c==="near"||g!==0?ae=-Q*G+G/2:c==="center"?ae=-tt.highest.height/2-re*G+G:ae=-tt.highest.height+G/2:c==="near"||g!==0?ae=G/2:c==="center"?ae=tt.highest.height/2-re*G:ae=tt.highest.height-Q*G,h&&(ae*=-1),g!==0&&!de.showLabelBackdrop&&(k+=G/2*Math.sin(g))):(E=D,ae=(1-Q)*G/2);let _t;if(de.showLabelBackdrop){const Ke=bt(de.backdropPadding),Vt=tt.heights[b],Et=tt.widths[b];let Dt=ae-Ke.top,Qe=0-Ke.left;switch(Ce){case"middle":Dt-=Vt/2;break;case"bottom":Dt-=Vt;break}switch(T){case"center":Qe-=Et/2;break;case"right":Qe-=Et;break;case"inner":b===y-1?Qe-=Et:b>0&&(Qe-=Et/2);break}_t={left:Qe,top:Dt,width:Et+Ke.width,height:Vt+Ke.height,color:de.backdropColor}}m.push({label:x,font:$,textOffset:ae,options:{rotation:g,color:J,strokeColor:le,strokeWidth:De,textAlign:yt,textBaseline:Ce,translation:[k,E],backdrop:_t}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Jt(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const l=i[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=hs(e,this.left,o)-o/2,u=hs(e,this.right,a)+a/2,h=d=l):(h=hs(e,this.top,o)-o/2,d=hs(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Yo(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ts(s,c,0,u,l,a)}i&&Ko(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const r=it(s.font),o=bt(s.padding),a=s.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||he(t)?(l+=o.bottom,Be(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=yO(this,l,t,a);Ts(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:bO(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=se(e.grid&&e.grid.z,-1),i=se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ms.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return it(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vr{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;vO(t)&&(s=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,_O(e,o,s),this.override&&We.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in We[i]&&(delete We[i][s],this.override&&delete Os[s])}}function _O(n,e,t){const s=ar(Object.create(null),[t?We.get(t):{},We.get(e),n.defaults]);We.set(e,s),n.defaultRoutes&&wO(e,n.defaultRoutes),n.descriptors&&We.describe(e,n.descriptors)}function wO(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),i=s.pop(),r=[n].concat(s).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");We.route(r,i,l,a)})}function vO(n){return"id"in n&&"defaults"in n}class xO{constructor(){this.controllers=new Vr(rs,"datasets",!0),this.elements=new Vr(jn,"elements"),this.plugins=new Vr(Object,"plugins"),this.scales=new Vr(Ms,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Te(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,s){const i=gc(e);Ne(s["before"+i],[],s),t[e](s),Ne(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var an=new xO;class kO{constructor(){this._init=void 0}notify(e,t,s,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,s);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[t,i,r.options];if(Ne(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=se(s.options&&s.options.plugins,{}),r=SO(s);return i===!1&&!t?[]:OO(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function SO(n){const e={},t=[],s=Object.keys(an.plugins.items);for(let r=0;r<s.length;r++)t.push(an.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function EO(n,e){return!e&&n===!1?null:n===!0?{}:n}function OO(n,{plugins:e,localIds:t},s,i){const r=[],o=n.getContext();for(const a of e){const l=a.id,c=EO(s[l],i);c!==null&&r.push({plugin:a,options:TO(n.config,{plugin:a,local:t[l]},c,o)})}return r}function TO(n,{plugin:e,local:t},s,i){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(s,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sl(n,e){const t=We.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function PO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function CO(n,e){return n===e?"_index_":"_value_"}function qh(n){if(n==="x"||n==="y"||n==="r")return n}function AO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function El(n,...e){if(qh(n))return n;for(const t of e){const s=t.axis||AO(t.position)||n.length>1&&qh(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Yh(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function MO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return Yh(n,"x",t[0])||Yh(n,"y",t[0])}return{}}function DO(n,e){const t=Os[n.type]||{scales:{}},s=e.scales||{},i=Sl(n.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=El(o,a,MO(o,n),We.scales[a.type]),c=CO(l,i),u=t.scales||{};r[o]=zi(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Sl(a,e),u=(Os[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=PO(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),zi(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];zi(a,[We.scales[a.type],We.scale])}),r}function $p(n){const e=n.options||(n.options={});e.plugins=se(e.plugins,{}),e.scales=DO(n,e)}function Fp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RO(n){return n=n||{},n.data=Fp(n.data),$p(n),n}const Kh=new Map,Bp=new Set;function Hr(n,e){let t=Kh.get(n);return t||(t=e(),Kh.set(n,t),Bp.add(t)),t}const Ei=(n,e,t)=>{const s=es(e,t);s!==void 0&&n.add(s)};class IO{constructor(e){this._config=RO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Fp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$p(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Hr(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Hr(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Hr(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return(!i||t)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Ei(l,e,h))),u.forEach(h=>Ei(l,i,h)),u.forEach(h=>Ei(l,Os[r]||{},h)),u.forEach(h=>Ei(l,We,h)),u.forEach(h=>Ei(l,xl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Bp.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Os[t]||{},We.datasets[t]||{},{type:t},We,xl]}resolveNamedOptions(e,t,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Gh(this._resolverCache,e,i);let l=o;if(NO(o,t)){r.$shared=!1,s=ts(s)?s():s;const c=this.createResolver(e,s,a);l=li(o,s,c)}for(const c of t)r[c]=l[c];return r}createResolver(e,t,s=[""],i){const{resolver:r}=Gh(this._resolverCache,e,s);return he(t)?li(r,t,void 0,i):r}}function Gh(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const i=t.join();let r=s.get(i);return r||(r={resolver:wc(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const LO=n=>he(n)&&Object.getOwnPropertyNames(n).some(e=>ts(n[e]));function NO(n,e){const{isScriptable:t,isIndexable:s}=mp(n);for(const i of e){const r=t(i),o=s(i),a=(o||r)&&n[i];if(r&&(ts(a)||LO(a))||o&&Be(a))return!0}return!1}var jO="4.5.1";const $O=["top","bottom","left","right","chartArea"];function Jh(n,e){return n==="top"||n==="bottom"||$O.indexOf(n)===-1&&e==="x"}function Xh(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function Qh(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ne(t&&t.onComplete,[n],e)}function FO(n){const e=n.chart,t=e.options.animation;Ne(t&&t.onProgress,[n],e)}function Wp(n){return kc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const to={},Zh=n=>{const e=Wp(n);return Object.values(to).filter(t=>t.canvas===e).pop()};function BO(n,e,t){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=e){const o=n[i];delete n[i],(t>0||r>e)&&(n[r+t]=o)}}}function WO(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}class Xo{static defaults=We;static instances=to;static overrides=Os;static registry=an;static version=jO;static getChart=Zh;static register(...e){an.add(...e),ed()}static unregister(...e){an.remove(...e),ed()}constructor(e,t){const s=this.config=new IO(t),i=Wp(e),r=Zh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||rO(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=jk(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eS(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],to[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}vn.listen(this,"complete",Qh),vn.listen(this,"progress",FO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:r}=this;return ue(e)?t&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return an}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _h(this.canvas,this.ctx),this}stop(){return vn.stop(this),this}resize(e,t){vn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ne(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Te(t,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=El(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Te(r,o=>{const a=o.options,l=a.id,c=El(l,a),u=se(a.type,o.dtype);(a.position===void 0||Jh(a.position,c)!==Jh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=an.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),Te(i,(o,a)=>{o||delete s[a]}),Te(s,o=>{ft.configure(this,o,o.options),ft.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Xh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,i)=>{t.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const r=t[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Sl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=an.getController(a),{datasetElementType:c,dataElementType:u}=We.datasets[a];Object.assign(l,{dataElementType:an.getElement(u),datasetElementType:c&&an.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Te(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Te(this.scales,e=>{ft.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!uh(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of t){const o=s==="_removeElements"?-r:r;BO(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<t;r++)if(!uh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ft.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Te(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,ts(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vn.has(this)?this.attached&&!vn.running(this)&&vn.start(this):(this.draw(),Qh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,r;for(i=0,r=t.length;i<r;++i){const o=t[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Tp(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Yo(t,i),e.controller.draw(),i&&Ko(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return An(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const r=$E.modes[t];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=is(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);lr(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),vn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_h(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete to[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Te(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Te(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Te(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!bo(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(t,e),a=s?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:r}=this,o=t,a=this._getActiveElements(e,i,s,o),l=Hk(e),c=WO(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Ne(r.onHover,[e,a,this],this),l&&Ne(r.onClick,[e,a,this],this));const u=!bo(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,s,i){if(e.type==="mouseout")return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function ed(){return Te(Xo.instances,n=>n._plugins.invalidate())}function VO(n,e,t){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,ut(s-t));if(n.beginPath(),n.arc(i,r,o-c/2,s+h/2,t-h/2),a>0){const d=Math.min(c/a,ut(s-t));n.arc(i,r,a+c/2,t-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*ut(s-t));if(u==="round")n.arc(i,r,d,t-_e/2,s+_e/2,!0);else if(u==="bevel"){const f=2*d*d,p=-f*Math.cos(t+_e/2)+i,g=-f*Math.sin(t+_e/2)+r,m=f*Math.cos(s+_e/2)+i,b=f*Math.sin(s+_e/2)+r;n.lineTo(p,g),n.lineTo(m,b)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function HO(n,e,t){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;n.beginPath(),n.arc(r,o,a,s-c,t+c),l>i?(c=i/l,n.arc(r,o,l,t+c,s-c,!0)):n.arc(r,o,i,t+Ge,s-Ge),n.closePath(),n.clip()}function UO(n){return _c(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zO(n,e,t,s){const i=UO(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(t-Math.min(r,l))*s/2;return rt(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:rt(i.innerStart,0,o),innerEnd:rt(i.innerEnd,0,o)}}function Ws(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function ko(n,e,t,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+s+t-c,0),d=u>0?u+s+t+c:0;let f=0;const p=i-l;if(s){const de=u>0?u-s:0,re=h>0?h-s:0,J=(de+re)/2,le=J!==0?p*J/(J+s):p;f=(p-le)/2}const g=Math.max(.001,p*h-t/_e)/h,m=(p-g)/2,b=l+m+f,y=i-m-f,{outerStart:w,outerEnd:x,innerStart:k,innerEnd:E}=zO(e,d,h,y-b),T=h-w,D=h-x,$=b+w/T,G=y-x/D,Q=d+k,ae=d+E,Ce=b+k/Q,tt=y-E/ae;if(n.beginPath(),r){const de=($+G)/2;if(n.arc(o,a,h,$,de),n.arc(o,a,h,de,G),x>0){const De=Ws(D,G,o,a);n.arc(De.x,De.y,x,G,y+Ge)}const re=Ws(ae,y,o,a);if(n.lineTo(re.x,re.y),E>0){const De=Ws(ae,tt,o,a);n.arc(De.x,De.y,E,y+Ge,tt+Math.PI)}const J=(y-E/d+(b+k/d))/2;if(n.arc(o,a,d,y-E/d,J,!0),n.arc(o,a,d,J,b+k/d,!0),k>0){const De=Ws(Q,Ce,o,a);n.arc(De.x,De.y,k,Ce+Math.PI,b-Ge)}const le=Ws(T,b,o,a);if(n.lineTo(le.x,le.y),w>0){const De=Ws(T,$,o,a);n.arc(De.x,De.y,w,b-Ge,$)}}else{n.moveTo(o,a);const de=Math.cos($)*h+o,re=Math.sin($)*h+a;n.lineTo(de,re);const J=Math.cos(G)*h+o,le=Math.sin(G)*h+a;n.lineTo(J,le)}n.closePath()}function qO(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ko(n,e,t,s,l,i);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%je||je))}return ko(n,e,t,s,l,i),n.fill(),l}function YO(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=d,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=e.endAngle;if(r){ko(n,e,t,s,g,i);for(let m=0;m<r;++m)n.stroke();isNaN(a)||(g=o+(a%je||je))}p&&HO(n,e,g),l.selfJoin&&g-o>=_e&&f===0&&u!=="miter"&&VO(n,e,g),r||(ko(n,e,t,s,g,i),n.stroke())}class KO extends jn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=op(i,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=se(h,l-a),p=cr(r,a,l)&&a!==l,g=f>=je||p,m=Pn(o,c+d,u+d);return g&&m}getCenterPoint(e){const{x:t,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:t+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>je?Math.floor(s/je):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(_e,s||0)),c=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,qO(e,this,c,r,o),YO(e,this,c,r,o),e.restore()}}function Vp(n,e,t=e){n.lineCap=se(t.borderCapStyle,e.borderCapStyle),n.setLineDash(se(t.borderDash,e.borderDash)),n.lineDashOffset=se(t.borderDashOffset,e.borderDashOffset),n.lineJoin=se(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=se(t.borderWidth,e.borderWidth),n.strokeStyle=se(t.borderColor,e.borderColor)}function GO(n,e,t){n.lineTo(t.x,t.y)}function JO(n){return n.stepped?dS:n.tension||n.cubicInterpolationMode==="monotone"?fS:GO}function Hp(n,e,t={}){const s=n.length,{start:i=0,end:r=s-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function XO(n,e,t,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Hp(i,t,s),u=JO(r);let{move:h=!0,reverse:d}=s||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(d?c-f:f))%o],!p.skip&&(h?(n.moveTo(p.x,p.y),h=!1):u(n,g,p,d,r.stepped),g=p);return l&&(p=i[(a+(d?c:0))%o],u(n,g,p,d,r.stepped)),!!l}function QO(n,e,t,s){const i=e.points,{count:r,start:o,ilen:a}=Hp(i,t,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,p,g,m,b;const y=x=>(o+(c?a-x:x))%r,w=()=>{g!==m&&(n.lineTo(u,m),n.lineTo(u,g),n.lineTo(u,b))};for(l&&(f=i[y(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,k=f.y,E=x|0;E===p?(k<g?g=k:k>m&&(m=k),u=(h*u+x)/++h):(w(),n.lineTo(x,k),p=E,h=0,g=m=k),b=k}w()}function Ol(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QO:XO}function ZO(n){return n.stepped?zS:n.tension||n.cubicInterpolationMode==="monotone"?qS:bs}function eT(n,e,t,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,s)&&i.closePath()),Vp(n,e.options),n.stroke(i)}function tT(n,e,t,s){const{segments:i,options:r}=e,o=Ol(e);for(const a of i)Vp(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const nT=typeof Path2D=="function";function sT(n,e,t,s){nT&&!e.options.segment?eT(n,e,t,s):tT(n,e,t,s)}class Qo extends jn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;jS(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QS(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],r=this.points,o=Op(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=ZO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((i-f[t])/(p[t]-f[t])),m=l(f,p,g,s.stepped);m[t]=e[t],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,t,s){return Ol(this)(e,this,t,s)}path(e,t,s){const i=this.segments,r=Ol(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const a of i)o&=r(e,this,a,{start:t,end:t+s-1});return!!o}draw(e,t,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),sT(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function td(n,e,t,s){const i=n.options,{[t]:r}=n.getProps([t],s);return Math.abs(e-r)<i.radius+i.hitRadius}class iT extends jn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return td(this,e,"x",t)}inYRange(e,t){return td(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!An(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,kl(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Up(n,e){const{x:t,y:s,base:i,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(t,i),l=Math.max(t,i),c=s-h,u=s+h):(h=r/2,a=t-h,l=t+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Gn(n,e,t,s){return n?0:rt(e,t,s)}function rT(n,e,t){const s=n.options.borderWidth,i=n.borderSkipped,r=pp(s);return{t:Gn(i.top,r.top,0,t),r:Gn(i.right,r.right,0,e),b:Gn(i.bottom,r.bottom,0,t),l:Gn(i.left,r.left,0,e)}}function oT(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=Ss(i),o=Math.min(e,t),a=n.borderSkipped,l=s||he(i);return{topLeft:Gn(!l||a.top||a.left,r.topLeft,0,o),topRight:Gn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Gn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Gn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function aT(n){const e=Up(n),t=e.right-e.left,s=e.bottom-e.top,i=rT(n,t/2,s/2),r=oT(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function $a(n,e,t,s){const i=e===null,r=t===null,a=n&&!(i&&r)&&Up(n,s);return a&&(i||Pn(e,a.left,a.right))&&(r||Pn(t,a.top,a.bottom))}function lT(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function cT(n,e){n.rect(e.x,e.y,e.w,e.h)}function Fa(n,e,t={}){const s=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-s,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+o,radius:n.radius}}class uT extends jn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=aT(this),a=lT(o.radius)?ur:cT;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Fa(o,t,r)),e.clip(),a(e,Fa(r,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Fa(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,s){return $a(this,e,t,s)}inXRange(e,t){return $a(this,e,null,t)}inYRange(e,t){return $a(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var hT=Object.freeze({__proto__:null,ArcElement:KO,BarElement:uT,LineElement:Qo,PointElement:iT});const Tl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],nd=Tl.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function zp(n){return Tl[n%Tl.length]}function qp(n){return nd[n%nd.length]}function dT(n,e){return n.borderColor=zp(e),n.backgroundColor=qp(e),++e}function fT(n,e){return n.backgroundColor=n.data.map(()=>zp(e++)),e}function gT(n,e){return n.backgroundColor=n.data.map(()=>qp(e++)),e}function pT(n){let e=0;return(t,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof Ec?e=fT(t,e):i instanceof Mp?e=gT(t,e):i&&(e=dT(t,e))}}function sd(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function mT(n){return n&&(n.borderColor||n.backgroundColor)}function bT(){return We.borderColor!=="rgba(0,0,0,0.1)"||We.backgroundColor!=="rgba(0,0,0,0.1)"}var yT={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,o=sd(s)||mT(i)||r&&sd(r)||bT();if(!t.forceOverride&&o)return;const a=pT(n);s.forEach(a)}};function _T(n,e,t,s,i){const r=i.samples||s;if(r>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(r-2);let l=0;const c=e+t-1;let u=e,h,d,f,p,g;for(o[l++]=n[u],h=0;h<r-2;h++){let m=0,b=0,y;const w=Math.floor((h+1)*a)+1+e,x=Math.min(Math.floor((h+2)*a)+1,t)+e,k=x-w;for(y=w;y<x;y++)m+=n[y].x,b+=n[y].y;m/=k,b/=k;const E=Math.floor(h*a)+1+e,T=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:D,y:$}=n[u];for(f=p=-1,y=E;y<T;y++)p=.5*Math.abs((D-m)*(n[y].y-$)-(D-n[y].x)*(b-$)),p>f&&(f=p,d=n[y],g=y);o[l++]=d,u=g}return o[l++]=n[c],o}function wT(n,e,t,s){let i=0,r=0,o,a,l,c,u,h,d,f,p,g;const m=[],b=e+t-1,y=n[e].x,x=n[b].x-y;for(o=e;o<e+t;++o){a=n[o],l=(a.x-y)/x*s,c=a.y;const k=l|0;if(k===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!ue(h)&&!ue(d)){const T=Math.min(h,d),D=Math.max(h,d);T!==f&&T!==E&&m.push({...n[T],x:i}),D!==f&&D!==E&&m.push({...n[D],x:i})}o>0&&E!==f&&m.push(n[E]),m.push(a),u=k,r=0,p=g=c,h=d=f=o}}return m}function Yp(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function id(n){n.data.datasets.forEach(e=>{Yp(e)})}function vT(n,e){const t=e.length;let s=0,i;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=rt(Cn(e,r.axis,o).lo,0,t-1)),c?i=rt(Cn(e,r.axis,a).hi+1,s,t)-s:i=t-s,{start:s,count:i}}var xT={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){id(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(r),c=o||i.data;if(Di([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:d}=vT(l,c);const f=t.threshold||4*s;if(d<=f){Yp(i);return}ue(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=_T(c,h,d,s,t);break;case"min-max":p=wT(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(n){id(n)}};function kT(n,e,t){const s=n.segments,i=n.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Zo(l,c,i);const u=Pl(t,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=Op(e,u);for(const d of h){const f=Pl(t,r[d.start],r[d.end],d.loop),p=Ep(a,i,f);for(const g of p)o.push({source:g,target:d,start:{[t]:rd(u,f,"start",Math.max)},end:{[t]:rd(u,f,"end",Math.min)}})}}return o}function Pl(n,e,t,s){if(s)return;let i=e[n],r=t[n];return n==="angle"&&(i=ut(i),r=ut(r)),{property:n,start:i,end:r}}function ST(n,e){const{x:t=null,y:s=null}=n||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Zo(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:c.y}))}),r}function Zo(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function rd(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function Kp(n,e){let t=[],s=!1;return Be(n)?(s=!0,t=n):t=ST(n,e),t.length?new Qo({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function od(n){return n&&n.fill!==!1}function ET(n,e,t){let i=n[e].fill;const r=[e];let o;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!ze(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function OT(n,e,t){const s=AT(n);if(he(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return ze(i)&&Math.floor(i)===i?TT(s[0],e,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function TT(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function PT(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:he(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function CT(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:he(n)?s=n.value:s=e.getBaseValue(),s}function AT(n){const e=n.options,t=e.fill;let s=se(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function MT(n){const{scale:e,index:t,line:s}=n,i=[],r=s.segments,o=s.points,a=DT(e,t);a.push(Kp({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)RT(i,o[u],a)}return new Qo({points:i,options:{}})}function DT(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function RT(n,e,t){const s=[];for(let i=0;i<t.length;i++){const r=t[i],{first:o,last:a,point:l}=IT(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function IT(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const i=s[t],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][t],d=o[u.end][t];if(Pn(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class Gp{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:r,radius:o}=this;return t=t||{start:0,end:je},e.arc(i,r,o,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function LT(n){const{chart:e,fill:t,line:s}=n;if(ze(t))return NT(e,t);if(t==="stack")return MT(n);if(t==="shape")return!0;const i=jT(n);return i instanceof Gp?i:Kp(i,s)}function NT(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function jT(n){return(n.scale||{}).getPointPositionForValue?FT(n):$T(n)}function $T(n){const{scale:e={},fill:t}=n,s=PT(t,e);if(ze(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function FT(n){const{scale:e,fill:t}=n,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=CT(t,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new Gp({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ba(n,e,t){const s=LT(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=i.getDatasetMeta(r),g=Tp(i,p);s&&o.points.length&&(Yo(n,t),BT(n,{line:o,target:s,above:d,below:f,area:t,scale:a,axis:l,clip:g}),Ko(n))}function BT(n,e){const{line:t,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let u=r;r!==i&&(c==="x"?(ad(n,s,o.top),Wa(n,{line:t,target:s,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),ad(n,s,o.bottom)):c==="y"&&(ld(n,s,o.left),Wa(n,{line:t,target:s,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),ld(n,s,o.right),u=i)),Wa(n,{line:t,target:s,color:u,scale:a,property:c,clip:l}),n.restore()}function ad(n,e,t){const{segments:s,points:i}=e;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Zo(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function ld(n,e,t){const{segments:s,points:i}=e;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Zo(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,h.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Wa(n,e){const{line:t,target:s,property:i,color:r,scale:o,clip:a}=e,l=kT(t,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,p=s!==!0;n.save(),n.fillStyle=f,WT(n,o,a,p&&Pl(i,h,d)),n.beginPath();const g=!!t.pathSegment(n,c);let m;if(p){g?n.closePath():cd(n,s,d,i);const b=!!s.pathSegment(n,u,{move:g,reverse:!0});m=g&&b,m||cd(n,s,h,i)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function WT(n,e,t,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),h=Math.min(h,t.bottom)),n.rect(l,c,u-l,h-c),n.clip()}}function cd(n,e,t,s){const i=e.interpolate(t,s);i&&n.lineTo(i.x,i.y)}var VT={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Qo&&(l={visible:n.isDatasetVisible(o),index:o,fill:OT(a,o,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=ET(i,o,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Ba(n.ctx,a,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;od(r)&&Ba(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!od(s)||t.drawTime!=="beforeDatasetDraw"||Ba(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ud=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},HT=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class hd extends jn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ne(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=it(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ud(s,r);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const m=s+t/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(e,t,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:w}=UT(s,t,r,m,i);b>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[b]={left:p,top:f,col:g,width:y,height:w},d=Math.max(d,y),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:r}}=this,o=ti(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ct(s,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=ct(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ct(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=ct(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yo(e,this),this._draw(),Ko(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=We.color,l=ti(e.rtl,this.left,this.width),c=it(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=ud(o,h),b=function(E,T,D){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const $=se(D.lineWidth,1);if(i.fillStyle=se(D.fillStyle,a),i.lineCap=se(D.lineCap,"butt"),i.lineDashOffset=se(D.lineDashOffset,0),i.lineJoin=se(D.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=se(D.strokeStyle,a),i.setLineDash(se(D.lineDash,[])),o.usePointStyle){const G={radius:g*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:$},Q=l.xPlus(E,p/2),ae=T+d;gp(i,G,Q,ae,o.pointStyleWidth&&p)}else{const G=T+Math.max((h-g)/2,0),Q=l.leftForLtr(E,p),ae=Ss(D.borderRadius);i.beginPath(),Object.values(ae).some(Ce=>Ce!==0)?ur(i,{x:Q,y:G,w:p,h:g,radius:ae}):i.rect(Q,G,p,g),i.fill(),$!==0&&i.stroke()}i.restore()},y=function(E,T,D){Ts(i,D.text,E,T+m/2,c,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:ct(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:ct(r,this.top+x+u,this.bottom-t[0].height),line:0},xp(this.ctx,e.textDirection);const k=m+u;this.legendItems.forEach((E,T)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const D=i.measureText(E.text).width,$=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),G=p+d+D;let Q=f.x,ae=f.y;l.setWidth(this.width),w?T>0&&Q+G+u>this.right&&(ae=f.y+=k,f.line++,Q=f.x=ct(r,this.left+u,this.right-s[f.line])):T>0&&ae+k>this.bottom&&(Q=f.x=Q+t[f.line].width+u,f.line++,ae=f.y=ct(r,this.top+x+u,this.bottom-t[f.line].height));const Ce=l.x(Q);if(b(Ce,ae,E),Q=tS($,Q+p+d,w?Q+G:this.right,e.rtl),y(l.x(Q),ae,E),w)f.x+=G+u;else if(typeof E.text!="string"){const tt=c.lineHeight;f.y+=Jp(E,tt)+u}else f.y+=k}),kp(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=it(t.font),i=bt(t.padding);if(!t.display)return;const r=ti(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ct(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+ct(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=ct(a,h,h+d);o.textAlign=r.textAlign(bc(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,Ts(o,t.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,t=it(e.font),s=bt(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,r;if(Pn(e,this.left,this.right)&&Pn(t,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Pn(e,i.left,i.left+i.width)&&Pn(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!YT(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=HT(i,s);i&&!r&&Ne(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Ne(t.onHover,[e,s,this],this)}else s&&Ne(t.onClick,[e,s,this],this)}}function UT(n,e,t,s,i){const r=zT(s,n,e,t),o=qT(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function zT(n,e,t,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+s.measureText(i).width}function qT(n,e,t){let s=n;return typeof e.text!="string"&&(s=Jp(e,t)),s}function Jp(n,e){const t=n.text?n.text.length:0;return e*t}function YT(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var KT={id:"legend",_element:hd,start(n,e,t){const s=n.legend=new hd({ctx:n.ctx,options:t,chart:n});ft.configure(n,s,t),ft.addBox(n,s)},stop(n){ft.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;ft.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=bt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Tc extends jn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Be(s.text)?s.text.length:1;this._padding=bt(s.padding);const r=i*it(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ct(a,s,r),h=t+e,c=r-s):(o.position==="left"?(u=s+e,h=ct(a,i,t),l=_e*-.5):(u=r-e,h=ct(a,t,i),l=_e*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=it(t.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ts(e,t.text,0,0,s,{color:t.color,maxWidth:l,rotation:c,textAlign:bc(t.align),textBaseline:"middle",translation:[o,a]})}}function GT(n,e){const t=new Tc({ctx:n.ctx,options:e,chart:n});ft.configure(n,t,e),ft.addBox(n,t),n.titleBlock=t}var JT={id:"title",_element:Tc,start(n,e,t){GT(n,t)},stop(n){const e=n.titleBlock;ft.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;ft.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ur=new WeakMap;var XT={id:"subtitle",start(n,e,t){const s=new Tc({ctx:n.ctx,options:t,chart:n});ft.configure(n,s,t),ft.addBox(n,s),Ur.set(n,s)},stop(n){ft.removeBox(n,Ur.get(n)),Ur.delete(n)},beforeUpdate(n,e,t){const s=Ur.get(n);ft.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ii={average(n){if(!n.length)return!1;let e,t,s=new Set,i=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=vl(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,s=l.y}return{x:t,y:s}}};function rn(n,e){return e&&(Be(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function xn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function QT(n,e){const{element:t,datasetIndex:s,index:i}=e,r=n.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:n,label:o,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function dd(n,e){const t=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:o,boxHeight:a}=e,l=it(e.bodyFont),c=it(e.titleFont),u=it(e.footerFont),h=r.length,d=i.length,f=s.length,p=bt(e.padding);let g=p.height,m=0,b=s.reduce((x,k)=>x+k.before.length+k.lines.length+k.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*x+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const w=function(x){m=Math.max(m,t.measureText(x).width+y)};return t.save(),t.font=c.string,Te(n.title,w),t.font=l.string,Te(n.beforeBody.concat(n.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,Te(s,x=>{Te(x.before,w),Te(x.lines,w),Te(x.after,w)}),y=0,t.font=u.string,Te(n.footer,w),t.restore(),m+=p.width,{width:m,height:g}}function ZT(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function eP(n,e,t,s){const{x:i,width:r}=s,o=t.caretSize+t.caretPadding;if(n==="left"&&i+r+o>e.width||n==="right"&&i-r-o<0)return!0}function tP(n,e,t,s){const{x:i,width:r}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),eP(c,n,e,t)&&(c="center"),c}function fd(n,e,t){const s=t.yAlign||e.yAlign||ZT(n,t);return{xAlign:t.xAlign||e.xAlign||tP(n,e,t,s),yAlign:s}}function nP(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function sP(n,e,t){let{y:s,height:i}=n;return e==="top"?s+=t:e==="bottom"?s-=i+t:s-=i/2,s}function gd(n,e,t,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ss(o);let p=nP(e,a);const g=sP(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:rt(p,0,s.width-e.width),y:rt(g,0,s.height-e.height)}}function zr(n,e,t){const s=bt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function pd(n){return rn([],xn(n))}function iP(n,e,t){return is(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function md(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Xp={beforeTitle:_n,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:_n,beforeBody:_n,beforeLabel:_n,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ue(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_n,afterBody:_n,beforeFooter:_n,footer:_n,afterFooter:_n};function Pt(n,e,t,s){const i=n[e].call(t,s);return typeof i>"u"?Xp[e].call(t,s):i}class bd extends jn{static positioners=Ii;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,r=new Pp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=iP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,i=Pt(s,"beforeTitle",this,e),r=Pt(s,"title",this,e),o=Pt(s,"afterTitle",this,e);let a=[];return a=rn(a,xn(i)),a=rn(a,xn(r)),a=rn(a,xn(o)),a}getBeforeBody(e,t){return pd(Pt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return Te(e,r=>{const o={before:[],lines:[],after:[]},a=md(s,r);rn(o.before,xn(Pt(a,"beforeLabel",this,r))),rn(o.lines,Pt(a,"label",this,r)),rn(o.after,xn(Pt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,t){return pd(Pt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=Pt(s,"beforeFooter",this,e),r=Pt(s,"footer",this,e),o=Pt(s,"afterFooter",this,e);let a=[];return a=rn(a,xn(i)),a=rn(a,xn(r)),a=rn(a,xn(o)),a}_createItems(e){const t=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(QT(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),Te(a,u=>{const h=md(e.callbacks,u);i.push(Pt(h,"labelColor",this,u)),r.push(Pt(h,"labelPointStyle",this,u)),o.push(Pt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ii[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=dd(this,s),c=Object.assign({},a,l),u=fd(this.chart,s,c),h=gd(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const r=this.getCaretPosition(e,s,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ss(a),{x:d,y:f}=e,{width:p,height:g}=t;let m,b,y,w,x,k;return r==="center"?(x=f+g/2,i==="left"?(m=d,b=m-o,w=x+o,k=x-o):(m=d+p,b=m+o,w=x-o,k=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+p-Math.max(c,h)-o:b=this.caretX,r==="top"?(w=f,x=w-o,m=b-o,y=b+o):(w=f+g,x=w+o,m=b+o,y=b-o),k=w),{x1:m,x2:b,x3:y,y1:w,y2:x,y3:k}}drawTitle(e,t,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=ti(s.rtl,this.x,this.width);for(e.x=zr(this,s.titleAlign,s),t.textAlign=c.textAlign(s.titleAlign),t.textBaseline="middle",o=it(s.titleFont),a=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,t,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=it(r.bodyFont),h=zr(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=t.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,kl(e,g,m,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,kl(e,g,m,b)}else{e.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=Ss(o.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ur(e,{x:g,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ur(e,{x:m,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=it(s.bodyFont);let d=h.lineHeight,f=0;const p=ti(s.rtl,this.x,this.width),g=function(D){t.fillText(D,p.x(e.x+f),e.y+d/2),e.y+=d+r},m=p.textAlign(o);let b,y,w,x,k,E,T;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=zr(this,m,s),t.fillStyle=s.bodyColor,Te(this.beforeBody,g),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(b=i[x],y=this.labelTextColors[x],t.fillStyle=y,Te(b.before,g),w=b.lines,a&&w.length&&(this._drawColorBox(t,e,x,p,s),d=Math.max(h.lineHeight,l)),k=0,T=w.length;k<T;++k)g(w[k]),d=h.lineHeight;Te(b.after,g)}f=0,d=h.lineHeight,Te(this.afterBody,g),e.y-=r}drawFooter(e,t,s){const i=this.footer,r=i.length;let o,a;if(r){const l=ti(s.rtl,this.x,this.width);for(e.x=zr(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",o=it(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Ss(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,s,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,t,s,i),t.lineTo(a+c,l+u-p),t.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,t,s,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,t,s,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ii[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=dd(this,e),l=Object.assign({},o,this._size),c=fd(t,e,l),u=gd(e,l,c,t);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=bt(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,t),xp(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),kp(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!bo(s,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,s),a=this._positionChanged(o,e),l=t||!bo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:i,options:r}=this,o=Ii[r.position].call(this,e,t);return o!==!1&&(s!==o.x||i!==o.y)}}var rP={id:"tooltip",_element:bd,positioners:Ii,afterInit(n,e,t){t&&(n.tooltip=new bd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oP=Object.freeze({__proto__:null,Colors:yT,Decimation:xT,Filler:VT,Legend:KT,SubTitle:XT,Title:JT,Tooltip:rP});const aP=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function lP(n,e,t,s){const i=n.indexOf(e);if(i===-1)return aP(n,e,t,s);const r=n.lastIndexOf(e);return i!==r?t:i}const cP=(n,e)=>n===null?null:rt(Math.round(n),0,e);function yd(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class uP extends Ms{static id="category";static defaults={ticks:{callback:yd}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:i,label:r}of t)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ue(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:lP(s,e,se(t,e),this._addedLabels),cP(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return yd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function hP(n,e){const t=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=r||1,p=u-1,{min:g,max:m}=e,b=!ue(o),y=!ue(a),w=!ue(c),x=(m-g)/(h+1);let k=dh((m-g)/p/f)*f,E,T,D,$;if(k<1e-14&&!b&&!y)return[{value:g},{value:m}];$=Math.ceil(m/k)-Math.floor(g/k),$>p&&(k=dh($*k/p/f)*f),ue(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),i==="ticks"?(T=Math.floor(g/k)*k,D=Math.ceil(m/k)*k):(T=g,D=m),b&&y&&r&&Kk((a-o)/r,k/1e3)?($=Math.round(Math.min((a-o)/k,u)),k=(a-o)/$,T=o,D=a):w?(T=b?o:T,D=y?a:D,$=c-1,k=(D-T)/$):($=(D-T)/k,qi($,Math.round($),k/1e3)?$=Math.round($):$=Math.ceil($));const G=Math.max(fh(k),fh(T));E=Math.pow(10,ue(l)?G:l),T=Math.round(T*E)/E,D=Math.round(D*E)/E;let Q=0;for(b&&(d&&T!==o?(t.push({value:o}),T<o&&Q++,qi(Math.round((T+Q*k)*E)/E,o,_d(o,x,n))&&Q++):T<o&&Q++);Q<$;++Q){const ae=Math.round((T+Q*k)*E)/E;if(y&&ae>a)break;t.push({value:ae})}return y&&d&&D!==a?t.length&&qi(t[t.length-1].value,a,_d(a,x,n))?t[t.length-1].value=a:t.push({value:a}):(!y||D===a)&&t.push({value:D}),t}function _d(n,e,{horizontal:t,minRotation:s}){const i=Jt(s),r=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class So extends Ms{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=t?i:l,a=l=>r=s?r:l;if(e){const l=fn(i),c=fn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=hP(i,r);return e.bounds==="ticks"&&rp(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return br(e,this.chart.options.locale,this.options.ticks.format)}}class dP extends So{static id="linear";static defaults={ticks:{callback:qo.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ze(e)?e:0,this.max=ze(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Jt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const dr=n=>Math.floor(Yn(n)),fs=(n,e)=>Math.pow(10,dr(n)+e);function wd(n){return n/Math.pow(10,dr(n))===1}function vd(n,e,t){const s=Math.pow(10,t),i=Math.floor(n/s);return Math.ceil(e/s)-i}function fP(n,e){const t=e-n;let s=dr(t);for(;vd(n,e,s)>10;)s++;for(;vd(n,e,s)<10;)s--;return Math.min(s,dr(n))}function gP(n,{min:e,max:t}){e=Nt(n.min,e);const s=[],i=dr(e);let r=fP(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Nt(n.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<t;)s.push({value:d,major:wd(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Nt(n.max,d);return s.push({value:f,major:wd(f),significand:h}),s}class pP extends Ms{static id="logarithmic";static defaults={ticks:{callback:qo.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=So.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return ze(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ze(e)?Math.max(0,e):null,this.max=ze(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ze(this._userMin)&&(this.min=e===fs(this.min,0)?fs(this.min,-1):fs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=t?i:a;s===i&&(s<=0?(r(1),o(10)):(r(fs(s,-1)),o(fs(i,1)))),s<=0&&r(fs(i,-1)),i<=0&&o(fs(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=gP(t,this);return e.bounds==="ticks"&&rp(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":br(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Yn(e),this._valueRange=Yn(this.max)-Yn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Yn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Cl(n){const e=n.ticks;if(e.display&&n.display){const t=bt(e.backdropPadding);return se(e.font&&e.font.size,We.font.size)+t.height}return 0}function mP(n,e,t){return t=Be(t)?t:[t],{w:hS(n,e.string,t),h:t.length*e.lineHeight}}function xd(n,e,t,s,i){return n===s||n===i?{start:e-t/2,end:e+t/2}:n<s||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function bP(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),s=[],i=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?_e/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),h=it(c.font),d=mP(n.ctx,h,n._pointLabels[l]);s[l]=d;const f=ut(n.getIndexAngle(l)+a),p=Math.round(pc(f)),g=xd(p,u.x,d.w,0,180),m=xd(p,u.y,d.h,90,270);yP(t,e,f,g,m)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=vP(n,s,i)}function yP(n,e,t,s,i){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,n.l=Math.min(n.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function _P(n,e,t){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=t,l=n.getPointPosition(e,s+i+o,r),c=Math.round(pc(ut(l.angle+Ge))),u=SP(l.y,a.h,c),h=xP(c),d=kP(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function wP(n,e){if(!e)return!0;const{left:t,top:s,right:i,bottom:r}=n;return!(An({x:t,y:s},e)||An({x:t,y:r},e)||An({x:i,y:s},e)||An({x:i,y:r},e))}function vP(n,e,t){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Cl(r)/2,additionalAngle:o?_e/i:0};let c;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];const h=_P(n,u,l);s.push(h),a==="auto"&&(h.visible=wP(h,c),h.visible&&(c=h))}return s}function xP(n){return n===0||n===180?"center":n<180?"left":"right"}function kP(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function SP(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function EP(n,e,t){const{left:s,top:i,right:r,bottom:o}=t,{backdropColor:a}=e;if(!ue(a)){const l=Ss(e.borderRadius),c=bt(e.backdropPadding);n.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),ur(n,{x:u,y:h,w:d,h:f,radius:l}),n.fill()):n.fillRect(u,h,d,f)}}function OP(n,e){const{ctx:t,options:{pointLabels:s}}=n;for(let i=e-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(n.getPointLabelContext(i));EP(t,o,r);const a=it(o.font),{x:l,y:c,textAlign:u}=r;Ts(t,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Qp(n,e,t,s){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,je);else{let r=n.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=n.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function TP(n,e,t,s,i){const r=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Qp(n,t,o,s),r.closePath(),r.stroke(),r.restore())}function PP(n,e,t){return is(n,{label:t,index:e,type:"pointLabel"})}class CP extends So{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bt(Cl(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ze(e)&&!isNaN(e)?e:0,this.max=ze(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Cl(this.options))}generateTickLabels(e){So.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,s)=>{const i=Ne(this.options.pointLabels.callback,[t,s],this);return i||i===0?i:""}).filter((t,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?bP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,i))}getIndexAngle(e){const t=je/(this._pointLabels.length||1),s=this.options.startAngle||0;return ut(e*t+Jt(s))}getDistanceFromCenterForValue(e){if(ue(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ue(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return PP(this.getContext(),e,s)}}getPointPosition(e,t,s=0){const i=this.getIndexAngle(e)-Ge+s;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Qp(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:i,border:r}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&OP(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),p=r.setContext(d);TP(this,f,l,o,p)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=s.setContext(this.getContext(l)),u=it(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=bt(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Ts(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const ea={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(ea);function kd(n,e){return n-e}function Sd(n,e){if(ue(e))return null;const t=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),ze(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(ai(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,i)),+o)}function Ed(n,e,t,s){const i=Mt.length;for(let r=Mt.indexOf(n);r<i-1;++r){const o=ea[Mt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=s)return Mt[r]}return Mt[i-1]}function AP(n,e,t,s,i){for(let r=Mt.length-1;r>=Mt.indexOf(t);r--){const o=Mt[r];if(ea[o].common&&n._adapter.diff(i,s,o)>=e-1)return o}return Mt[t?Mt.indexOf(t):0]}function MP(n){for(let e=Mt.indexOf(n)+1,t=Mt.length;e<t;++e)if(ea[Mt[e]].common)return Mt[e]}function Od(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:i}=mc(t,e),r=t[s]>=e?t[s]:t[i];n[r]=!0}}function DP(n,e,t,s){const i=n._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=t[a],l>=0&&(e[l].major=!0);return e}function Td(n,e,t){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!t?s:DP(n,s,i,t)}class Al extends Ms{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new Dp._date(e.adapters.date);i.init(t),zi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Sd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ze(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),r=ze(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Qk(i,r,o);return this._unit=t.unit||(s.autoSkip?Ed(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):AP(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:MP(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Td(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=rt(t,0,o),s=rt(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Ed(r.minUnit,t,s,this._getLabelCapacity(t)),a=se(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ai(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,t,o)>1e5*a)throw new Error(t+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+e.add(d,a,o),f++)Od(u,d,p);return(d===s||i.bounds==="ticks"||f===1)&&Od(u,d,p),Object.keys(u).sort(kd).map(g=>+g)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,o=t||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,i){const r=this.options,o=r.ticks.callback;if(o)return Ne(o,[e,t,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=Jt(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Td(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,s=i.length;t<s;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(Sd(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lp(e.sort(kd))}}function qr(n,e,t){let s=0,i=n.length-1,r,o,a,l;t?(e>=n[s].pos&&e<=n[i].pos&&({lo:s,hi:i}=Cn(n,"pos",e)),{pos:r,time:a}=n[s],{pos:o,time:l}=n[i]):(e>=n[s].time&&e<=n[i].time&&({lo:s,hi:i}=Cn(n,"time",e)),{time:r,pos:a}=n[s],{time:o,pos:l}=n[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class RP extends Al{static id="timeseries";static defaults=Al.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=qr(t,this.min),this._tableRange=qr(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=s&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(qr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return qr(this._table,s*this._tableRange+this._minPos,!0)}}var IP=Object.freeze({__proto__:null,CategoryScale:uP,LinearScale:dP,LogarithmicScale:pP,RadialLinearScale:CP,TimeScale:Al,TimeSeriesScale:RP});const LP=[RE,hT,oP,IP];Xo.register(...LP);const Zp=6048e5,NP=864e5,yr=6e4,_r=36e5,jP=1e3,Pd=Symbol.for("constructDateFrom");function qe(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Pd in n?n[Pd](e):n instanceof Date?new n.constructor(e):new Date(e)}function ie(n,e){return qe(e||n,n)}function ta(n,e,t){const s=ie(n,t?.in);return isNaN(e)?qe(t?.in||n,NaN):(e&&s.setDate(s.getDate()+e),s)}function Pc(n,e,t){const s=ie(n,t?.in);if(isNaN(e))return qe(n,NaN);if(!e)return s;const i=s.getDate(),r=qe(n,s.getTime());r.setMonth(s.getMonth()+e+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function Cc(n,e,t){return qe(n,+ie(n)+e)}function $P(n,e,t){return Cc(n,e*_r)}let FP={};function Ds(){return FP}function mn(n,e){const t=Ds(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ie(n,e?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ui(n,e){return mn(n,{...e,weekStartsOn:1})}function em(n,e){const t=ie(n,e?.in),s=t.getFullYear(),i=qe(t,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=ui(i),o=qe(t,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=ui(o);return t.getTime()>=r.getTime()?s+1:t.getTime()>=a.getTime()?s:s-1}function Eo(n){const e=ie(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Rs(n,...e){const t=qe.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function Ml(n,e){const t=ie(n,e?.in);return t.setHours(0,0,0,0),t}function tm(n,e,t){const[s,i]=Rs(t?.in,n,e),r=Ml(s),o=Ml(i),a=+r-Eo(r),l=+o-Eo(o);return Math.round((a-l)/NP)}function BP(n,e){const t=em(n,e),s=qe(n,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),ui(s)}function WP(n,e,t){const s=ie(n,t?.in);return s.setTime(s.getTime()+e*yr),s}function VP(n,e,t){return Pc(n,e*3,t)}function HP(n,e,t){return Cc(n,e*1e3)}function UP(n,e,t){return ta(n,e*7,t)}function zP(n,e,t){return Pc(n,e*12,t)}function Gi(n,e){const t=+ie(n)-+ie(e);return t<0?-1:t>0?1:t}function qP(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function nm(n){return!(!qP(n)&&typeof n!="number"||isNaN(+ie(n)))}function YP(n,e,t){const[s,i]=Rs(t?.in,n,e),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function KP(n,e,t){const[s,i]=Rs(t?.in,n,e);return s.getFullYear()-i.getFullYear()}function sm(n,e,t){const[s,i]=Rs(t?.in,n,e),r=Cd(s,i),o=Math.abs(tm(s,i));s.setDate(s.getDate()-r*o);const a=+(Cd(s,i)===-r),l=r*(o-a);return l===0?0:l}function Cd(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function wr(n){return e=>{const s=(n?Math[n]:Math.trunc)(e);return s===0?0:s}}function GP(n,e,t){const[s,i]=Rs(t?.in,n,e),r=(+s-+i)/_r;return wr(t?.roundingMethod)(r)}function Ac(n,e){return+ie(n)-+ie(e)}function JP(n,e,t){const s=Ac(n,e)/yr;return wr(t?.roundingMethod)(s)}function im(n,e){const t=ie(n,e?.in);return t.setHours(23,59,59,999),t}function rm(n,e){const t=ie(n,e?.in),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function XP(n,e){const t=ie(n,e?.in);return+im(t,e)==+rm(t,e)}function om(n,e,t){const[s,i,r]=Rs(t?.in,n,n,e),o=Gi(i,r),a=Math.abs(YP(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=Gi(i,r)===-o;XP(s)&&a===1&&Gi(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function QP(n,e,t){const s=om(n,e,t)/3;return wr(t?.roundingMethod)(s)}function ZP(n,e,t){const s=Ac(n,e)/1e3;return wr(t?.roundingMethod)(s)}function e1(n,e,t){const s=sm(n,e,t)/7;return wr(t?.roundingMethod)(s)}function t1(n,e,t){const[s,i]=Rs(t?.in,n,e),r=Gi(s,i),o=Math.abs(KP(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=Gi(s,i)===-r,l=r*(o-+a);return l===0?0:l}function n1(n,e){const t=ie(n,e?.in),s=t.getMonth(),i=s-s%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function s1(n,e){const t=ie(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function i1(n,e){const t=ie(n,e?.in),s=t.getFullYear();return t.setFullYear(s+1,0,0),t.setHours(23,59,59,999),t}function am(n,e){const t=ie(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function r1(n,e){const t=ie(n,e?.in);return t.setMinutes(59,59,999),t}function o1(n,e){const t=Ds(),s=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ie(n,e?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function a1(n,e){const t=ie(n,e?.in);return t.setSeconds(59,999),t}function l1(n,e){const t=ie(n,e?.in),s=t.getMonth(),i=s-s%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function c1(n,e){const t=ie(n,e?.in);return t.setMilliseconds(999),t}const u1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h1=(n,e,t)=>{let s;const i=u1[n];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Va(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const d1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p1={date:Va({formats:d1,defaultWidth:"full"}),time:Va({formats:f1,defaultWidth:"full"}),dateTime:Va({formats:g1,defaultWidth:"full"})},m1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b1=(n,e,t,s)=>m1[n];function Oi(n){return(e,t)=>{const s=t?.context?String(t.context):"standalone";let i;if(s==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t?.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t?.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const r=n.argumentCallback?n.argumentCallback(e):e;return i[r]}}const y1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S1=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},E1={ordinalNumber:S1,era:Oi({values:y1,defaultWidth:"wide"}),quarter:Oi({values:_1,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Oi({values:w1,defaultWidth:"wide"}),day:Oi({values:v1,defaultWidth:"wide"}),dayPeriod:Oi({values:x1,defaultWidth:"wide",formattingValues:k1,defaultFormattingWidth:"wide"})};function Ti(n){return(e,t={})=>{const s=t.width,i=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],r=e.match(i);if(!r)return null;const o=r[0],a=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?T1(a,h=>h.test(o)):O1(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function O1(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function T1(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function P1(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const i=s[0],r=e.match(n.parsePattern);if(!r)return null;let o=n.valueCallback?n.valueCallback(r[0]):r[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const C1=/^(\d+)(th|st|nd|rd)?/i,A1=/\d+/i,M1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D1={any:[/^b/i,/^(a|c)/i]},R1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I1={any:[/1/i,/2/i,/3/i,/4/i]},L1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W1={ordinalNumber:P1({matchPattern:C1,parsePattern:A1,valueCallback:n=>parseInt(n,10)}),era:Ti({matchPatterns:M1,defaultMatchWidth:"wide",parsePatterns:D1,defaultParseWidth:"any"}),quarter:Ti({matchPatterns:R1,defaultMatchWidth:"wide",parsePatterns:I1,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ti({matchPatterns:L1,defaultMatchWidth:"wide",parsePatterns:N1,defaultParseWidth:"any"}),day:Ti({matchPatterns:j1,defaultMatchWidth:"wide",parsePatterns:$1,defaultParseWidth:"any"}),dayPeriod:Ti({matchPatterns:F1,defaultMatchWidth:"any",parsePatterns:B1,defaultParseWidth:"any"})},lm={code:"en-US",formatDistance:h1,formatLong:p1,formatRelative:b1,localize:E1,match:W1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V1(n,e){const t=ie(n,e?.in);return tm(t,am(t))+1}function cm(n,e){const t=ie(n,e?.in),s=+ui(t)-+BP(t);return Math.round(s/Zp)+1}function Mc(n,e){const t=ie(n,e?.in),s=t.getFullYear(),i=Ds(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=qe(e?.in||n,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=mn(o,e),l=qe(e?.in||n,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=mn(l,e);return+t>=+a?s+1:+t>=+c?s:s-1}function H1(n,e){const t=Ds(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Mc(n,e),r=qe(e?.in||n,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),mn(r,e)}function um(n,e){const t=ie(n,e?.in),s=+mn(t,e)-+H1(t,e);return Math.round(s/Zp)+1}function Oe(n,e){const t=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return t+s}const Bn={y(n,e){const t=n.getFullYear(),s=t>0?t:1-t;return Oe(e==="yy"?s%100:s,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Oe(t+1,2)},d(n,e){return Oe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Oe(n.getHours()%12||12,e.length)},H(n,e){return Oe(n.getHours(),e.length)},m(n,e){return Oe(n.getMinutes(),e.length)},s(n,e){return Oe(n.getSeconds(),e.length)},S(n,e){const t=e.length,s=n.getMilliseconds(),i=Math.trunc(s*Math.pow(10,t-3));return Oe(i,e.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ad={G:function(n,e,t){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const s=n.getFullYear(),i=s>0?s:1-s;return t.ordinalNumber(i,{unit:"year"})}return Bn.y(n,e)},Y:function(n,e,t,s){const i=Mc(n,s),r=i>0?i:1-i;if(e==="YY"){const o=r%100;return Oe(o,2)}return e==="Yo"?t.ordinalNumber(r,{unit:"year"}):Oe(r,e.length)},R:function(n,e){const t=em(n);return Oe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Oe(t,e.length)},Q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,t){const s=n.getMonth();switch(e){case"M":case"MM":return Bn.M(n,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,t){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,t,s){const i=um(n,s);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Oe(i,e.length)},I:function(n,e,t){const s=cm(n);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):Oe(s,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Bn.d(n,e)},D:function(n,e,t){const s=V1(n);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,e.length)},E:function(n,e,t){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,t,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Oe(r,2);case"eo":return t.ordinalNumber(r,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Oe(r,e.length);case"co":return t.ordinalNumber(r,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const s=n.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Oe(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const s=n.getHours();let i;switch(s===12?i=Vs.noon:s===0?i=Vs.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const s=n.getHours();let i;switch(s>=17?i=Vs.evening:s>=12?i=Vs.afternoon:s>=4?i=Vs.morning:i=Vs.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Bn.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Bn.H(n,e)},K:function(n,e,t){const s=n.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):Oe(s,e.length)},k:function(n,e,t){let s=n.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):Oe(s,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Bn.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Bn.s(n,e)},S:function(n,e){return Bn.S(n,e)},X:function(n,e,t){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Dd(s);case"XXXX":case"XX":return ys(s);case"XXXXX":case"XXX":default:return ys(s,":")}},x:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"x":return Dd(s);case"xxxx":case"xx":return ys(s);case"xxxxx":case"xxx":default:return ys(s,":")}},O:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Md(s,":");case"OOOO":default:return"GMT"+ys(s,":")}},z:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Md(s,":");case"zzzz":default:return"GMT"+ys(s,":")}},t:function(n,e,t){const s=Math.trunc(+n/1e3);return Oe(s,e.length)},T:function(n,e,t){return Oe(+n,e.length)}};function Md(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),i=Math.trunc(s/60),r=s%60;return r===0?t+String(i):t+String(i)+e+Oe(r,2)}function Dd(n,e){return n%60===0?(n>0?"-":"+")+Oe(Math.abs(n)/60,2):ys(n,e)}function ys(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),i=Oe(Math.trunc(s/60),2),r=Oe(s%60,2);return t+i+e+r}const Rd=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hm=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},U1=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],s=t[1],i=t[2];if(!i)return Rd(n,e);let r;switch(s){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",Rd(s,e)).replace("{{time}}",hm(i,e))},Dl={p:hm,P:U1},z1=/^D+$/,q1=/^Y+$/,Y1=["D","DD","YY","YYYY"];function dm(n){return z1.test(n)}function fm(n){return q1.test(n)}function Rl(n,e,t){const s=K1(n,e,t);if(console.warn(s),Y1.includes(n))throw new RangeError(s)}function K1(n,e,t){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X1=/^'([^]*?)'?$/,Q1=/''/g,Z1=/[a-zA-Z]/;function eC(n,e,t){const s=Ds(),i=t?.locale??s.locale??lm,r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=ie(n,t?.in);if(!nm(a))throw new RangeError("Invalid time value");let l=e.match(J1).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=Dl[h];return d(u,i.formatLong)}return u}).join("").match(G1).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:tC(u)};if(Ad[h])return{isToken:!0,value:u};if(h.match(Z1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!t?.useAdditionalWeekYearTokens&&fm(h)||!t?.useAdditionalDayOfYearTokens&&dm(h))&&Rl(h,e,String(n));const d=Ad[h[0]];return d(a,h,i.localize,c)}).join("")}function tC(n){const e=n.match(X1);return e?e[1].replace(Q1,"'"):n}function nC(){return Object.assign({},Ds())}function sC(n,e){const t=ie(n,e?.in).getDay();return t===0?7:t}function iC(n,e){const t=rC(e)?new e(0):qe(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function rC(n){return typeof n=="function"&&n.prototype?.constructor===n}const oC=10;class gm{subPriority=0;validate(e,t){return!0}}class aC extends gm{constructor(e,t,s,i,r){super(),this.value=e,this.validateValue=t,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,s){return this.setValue(e,t,this.value,s)}}class lC extends gm{priority=oC;subPriority=-1;constructor(e,t){super(),this.context=e||(s=>qe(t,s))}set(e,t){return t.timestampIsSet?e:qe(e,iC(e,this.context))}}class ve{run(e,t,s,i){const r=this.parse(e,t,s,i);return r?{setter:new aC(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,t,s){return!0}}class cC extends ve{priority=140;parse(e,t,s){switch(t){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,t,s){return t.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Je={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xe(n,e){return n&&{value:e(n.value),rest:n.rest}}function He(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function un(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const s=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,r=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:s*(i*_r+r*yr+o*jP),rest:e.slice(t[0].length)}}function pm(n){return He(Je.anyDigitsSigned,n)}function Ye(n,e){switch(n){case 1:return He(Je.singleDigit,e);case 2:return He(Je.twoDigits,e);case 3:return He(Je.threeDigits,e);case 4:return He(Je.fourDigits,e);default:return He(new RegExp("^\\d{1,"+n+"}"),e)}}function Oo(n,e){switch(n){case 1:return He(Je.singleDigitSigned,e);case 2:return He(Je.twoDigitsSigned,e);case 3:return He(Je.threeDigitsSigned,e);case 4:return He(Je.fourDigitsSigned,e);default:return He(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Dc(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mm(n,e){const t=e>0,s=t?e:1-e;let i;if(s<=50)i=n||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=n>=r%100;i=n+o-(a?100:0)}return t?i:1-i}function bm(n){return n%400===0||n%4===0&&n%100!==0}class uC extends ve{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,s){const i=r=>({year:r,isTwoDigitYear:t==="yy"});switch(t){case"y":return Xe(Ye(4,e),i);case"yo":return Xe(s.ordinalNumber(e,{unit:"year"}),i);default:return Xe(Ye(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s){const i=e.getFullYear();if(s.isTwoDigitYear){const o=mm(s.year,i);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const r=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class hC extends ve{priority=130;parse(e,t,s){const i=r=>({year:r,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Xe(Ye(4,e),i);case"Yo":return Xe(s.ordinalNumber(e,{unit:"year"}),i);default:return Xe(Ye(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s,i){const r=Mc(e,i);if(s.isTwoDigitYear){const a=mm(s.year,r);return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),mn(e,i)}const o=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),mn(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class dC extends ve{priority=130;parse(e,t){return Oo(t==="R"?4:t.length,e)}set(e,t,s){const i=qe(e,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),ui(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class fC extends ve{priority=130;parse(e,t){return Oo(t==="u"?4:t.length,e)}set(e,t,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class gC extends ve{priority=120;parse(e,t,s){switch(t){case"Q":case"QQ":return Ye(t.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class pC extends ve{priority=120;parse(e,t,s){switch(t){case"q":case"qq":return Ye(t.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class mC extends ve{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,s){const i=r=>r-1;switch(t){case"M":return Xe(He(Je.month,e),i);case"MM":return Xe(Ye(2,e),i);case"Mo":return Xe(s.ordinalNumber(e,{unit:"month"}),i);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class bC extends ve{priority=110;parse(e,t,s){const i=r=>r-1;switch(t){case"L":return Xe(He(Je.month,e),i);case"LL":return Xe(Ye(2,e),i);case"Lo":return Xe(s.ordinalNumber(e,{unit:"month"}),i);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function yC(n,e,t){const s=ie(n,t?.in),i=um(s,t)-e;return s.setDate(s.getDate()-i*7),ie(s,t?.in)}class _C extends ve{priority=100;parse(e,t,s){switch(t){case"w":return He(Je.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return Ye(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s,i){return mn(yC(e,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function wC(n,e,t){const s=ie(n,t?.in),i=cm(s,t)-e;return s.setDate(s.getDate()-i*7),s}class vC extends ve{priority=100;parse(e,t,s){switch(t){case"I":return He(Je.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return Ye(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s){return ui(wC(e,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const xC=[31,28,31,30,31,30,31,31,30,31,30,31],kC=[31,29,31,30,31,30,31,31,30,31,30,31];class SC extends ve{priority=90;subPriority=1;parse(e,t,s){switch(t){case"d":return He(Je.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return Ye(t.length,e)}}validate(e,t){const s=e.getFullYear(),i=bm(s),r=e.getMonth();return i?t>=1&&t<=kC[r]:t>=1&&t<=xC[r]}set(e,t,s){return e.setDate(s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class EC extends ve{priority=90;subpriority=1;parse(e,t,s){switch(t){case"D":case"DD":return He(Je.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return Ye(t.length,e)}}validate(e,t){const s=e.getFullYear();return bm(s)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Rc(n,e,t){const s=Ds(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=ie(n,t?.in),o=r.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return ta(r,u,t)}class OC extends ve{priority=90;parse(e,t,s){switch(t){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Rc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class TC extends ve{priority=90;parse(e,t,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(t){case"e":case"ee":return Xe(Ye(t.length,e),r);case"eo":return Xe(s.ordinalNumber(e,{unit:"day"}),r);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Rc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class PC extends ve{priority=90;parse(e,t,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(t){case"c":case"cc":return Xe(Ye(t.length,e),r);case"co":return Xe(s.ordinalNumber(e,{unit:"day"}),r);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Rc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function CC(n,e,t){const s=ie(n,t?.in),i=sC(s,t),r=e-i;return ta(s,r,t)}class AC extends ve{priority=90;parse(e,t,s){const i=r=>r===0?7:r;switch(t){case"i":case"ii":return Ye(t.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return Xe(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Xe(s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Xe(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Xe(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,s){return e=CC(e,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class MC extends ve{priority=80;parse(e,t,s){switch(t){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Dc(s),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class DC extends ve{priority=80;parse(e,t,s){switch(t){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Dc(s),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class RC extends ve{priority=80;parse(e,t,s){switch(t){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Dc(s),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class IC extends ve{priority=70;parse(e,t,s){switch(t){case"h":return He(Je.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,s){const i=e.getHours()>=12;return i&&s<12?e.setHours(s+12,0,0,0):!i&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class LC extends ve{priority=70;parse(e,t,s){switch(t){case"H":return He(Je.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,s){return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class NC extends ve{priority=70;parse(e,t,s){switch(t){case"K":return He(Je.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class jC extends ve{priority=70;parse(e,t,s){switch(t){case"k":return He(Je.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return Ye(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,s){const i=s<=24?s%24:s;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class $C extends ve{priority=60;parse(e,t,s){switch(t){case"m":return He(Je.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return Ye(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setMinutes(s,0,0),e}incompatibleTokens=["t","T"]}class FC extends ve{priority=50;parse(e,t,s){switch(t){case"s":return He(Je.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return Ye(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setSeconds(s,0),e}incompatibleTokens=["t","T"]}class BC extends ve{priority=30;parse(e,t){const s=i=>Math.trunc(i*Math.pow(10,-t.length+3));return Xe(Ye(t.length,e),s)}set(e,t,s){return e.setMilliseconds(s),e}incompatibleTokens=["t","T"]}class WC extends ve{priority=10;parse(e,t){switch(t){case"X":return un(cn.basicOptionalMinutes,e);case"XX":return un(cn.basic,e);case"XXXX":return un(cn.basicOptionalSeconds,e);case"XXXXX":return un(cn.extendedOptionalSeconds,e);case"XXX":default:return un(cn.extended,e)}}set(e,t,s){return t.timestampIsSet?e:qe(e,e.getTime()-Eo(e)-s)}incompatibleTokens=["t","T","x"]}class VC extends ve{priority=10;parse(e,t){switch(t){case"x":return un(cn.basicOptionalMinutes,e);case"xx":return un(cn.basic,e);case"xxxx":return un(cn.basicOptionalSeconds,e);case"xxxxx":return un(cn.extendedOptionalSeconds,e);case"xxx":default:return un(cn.extended,e)}}set(e,t,s){return t.timestampIsSet?e:qe(e,e.getTime()-Eo(e)-s)}incompatibleTokens=["t","T","X"]}class HC extends ve{priority=40;parse(e){return pm(e)}set(e,t,s){return[qe(e,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class UC extends ve{priority=20;parse(e){return pm(e)}set(e,t,s){return[qe(e,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const zC={G:new cC,y:new uC,Y:new hC,R:new dC,u:new fC,Q:new gC,q:new pC,M:new mC,L:new bC,w:new _C,I:new vC,d:new SC,D:new EC,E:new OC,e:new TC,c:new PC,i:new AC,a:new MC,b:new DC,B:new RC,h:new IC,H:new LC,K:new NC,k:new jC,m:new $C,s:new FC,S:new BC,X:new WC,x:new VC,t:new HC,T:new UC},qC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KC=/^'([^]*?)'?$/,GC=/''/g,JC=/\S/,XC=/[a-zA-Z]/;function QC(n,e,t,s){const i=()=>qe(s?.in||t,NaN),r=nC(),o=s?.locale??r.locale??lm,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!e)return n?i():ie(t,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new lC(s?.in,t)],h=e.match(YC).map(m=>{const b=m[0];if(b in Dl){const y=Dl[b];return y(m,o.formatLong)}return m}).join("").match(qC),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&fm(m)&&Rl(m,e,n),!s?.useAdditionalDayOfYearTokens&&dm(m)&&Rl(m,e,n);const b=m[0],y=zC[b];if(y){const{incompatibleTokens:w}=y;if(Array.isArray(w)){const k=d.find(E=>w.includes(E.token)||E.token===b);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(n,m,o.match,c);if(!x)return i();u.push(x.setter),n=x.rest}else{if(b.match(XC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=ZC(m)),n.indexOf(m)===0)n=n.slice(m.length);else return i()}}if(n.length>0&&JC.test(n))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let p=ie(t,s?.in);if(isNaN(+p))return i();const g={};for(const m of f){if(!m.validate(p,c))return i();const b=m.set(p,g,c);Array.isArray(b)?(p=b[0],Object.assign(g,b[1])):p=b}return p}function ZC(n){return n.match(KC)[1].replace(GC,"'")}function eA(n,e){const t=ie(n,e?.in);return t.setMinutes(0,0,0),t}function tA(n,e){const t=ie(n,e?.in);return t.setSeconds(0,0),t}function nA(n,e){const t=ie(n,e?.in);return t.setMilliseconds(0),t}function sA(n,e){const t=()=>qe(e?.in,NaN),s=e?.additionalDigits??2,i=aA(n);let r;if(i.date){const c=lA(i.date,s);r=cA(c.restDateString,c.year)}if(!r||isNaN(+r))return t();const o=+r;let a=0,l;if(i.time&&(a=uA(i.time),isNaN(a)))return t();if(i.timezone){if(l=hA(i.timezone),isNaN(l))return t()}else{const c=new Date(o+a),u=ie(0,e?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return ie(o+a+l,e?.in)}const Yr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aA(n){const e={},t=n.split(Yr.dateTimeDelimiter);let s;if(t.length>2)return e;if(/:/.test(t[0])?s=t[0]:(e.date=t[0],s=t[1],Yr.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Yr.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const i=Yr.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function lA(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(t);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:n.slice((s[1]||s[2]).length)}}function cA(n,e){if(e===null)return new Date(NaN);const t=n.match(iA);if(!t)return new Date(NaN);const s=!!t[4],i=Pi(t[1]),r=Pi(t[2])-1,o=Pi(t[3]),a=Pi(t[4]),l=Pi(t[5])-1;if(s)return mA(e,a,l)?dA(e,a,l):new Date(NaN);{const c=new Date(0);return!gA(e,r,o)||!pA(e,i)?new Date(NaN):(c.setUTCFullYear(e,r,Math.max(i,o)),c)}}function Pi(n){return n?parseInt(n):1}function uA(n){const e=n.match(rA);if(!e)return NaN;const t=Ha(e[1]),s=Ha(e[2]),i=Ha(e[3]);return bA(t,s,i)?t*_r+s*yr+i*1e3:NaN}function Ha(n){return n&&parseFloat(n.replace(",","."))||0}function hA(n){if(n==="Z")return 0;const e=n.match(oA);if(!e)return 0;const t=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return yA(s,i)?t*(s*_r+i*yr):NaN}function dA(n,e,t){const s=new Date(0);s.setUTCFullYear(n,0,4);const i=s.getUTCDay()||7,r=(e-1)*7+t+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const fA=[31,null,31,30,31,30,31,31,30,31,30,31];function ym(n){return n%400===0||n%4===0&&n%100!==0}function gA(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(fA[e]||(ym(n)?29:28))}function pA(n,e){return e>=1&&e<=(ym(n)?366:365)}function mA(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function bA(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function yA(n,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const _A={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Dp._date.override({_id:"date-fns",formats:function(){return _A},parse:function(n,e){if(n===null||typeof n>"u")return null;const t=typeof n;return t==="number"||n instanceof Date?n=ie(n):t==="string"&&(typeof e=="string"?n=QC(n,e,new Date,this.options):n=sA(n,this.options)),nm(n)?n.getTime():null},format:function(n,e){return eC(n,e,this.options)},add:function(n,e,t){switch(t){case"millisecond":return Cc(n,e);case"second":return HP(n,e);case"minute":return WP(n,e);case"hour":return $P(n,e);case"day":return ta(n,e);case"week":return UP(n,e);case"month":return Pc(n,e);case"quarter":return VP(n,e);case"year":return zP(n,e);default:return n}},diff:function(n,e,t){switch(t){case"millisecond":return Ac(n,e);case"second":return ZP(n,e);case"minute":return JP(n,e);case"hour":return GP(n,e);case"day":return sm(n,e);case"week":return e1(n,e);case"month":return om(n,e);case"quarter":return QP(n,e);case"year":return t1(n,e);default:return 0}},startOf:function(n,e,t){switch(e){case"second":return nA(n);case"minute":return tA(n);case"hour":return eA(n);case"day":return Ml(n);case"week":return mn(n);case"isoWeek":return mn(n,{weekStartsOn:+t});case"month":return s1(n);case"quarter":return n1(n);case"year":return am(n);default:return n}},endOf:function(n,e){switch(e){case"second":return c1(n);case"minute":return a1(n);case"hour":return r1(n);case"day":return im(n);case"week":return o1(n);case"month":return rm(n);case"quarter":return l1(n);case"year":return i1(n);default:return n}}});const wA={class:"softBubble"},vA=ge({__name:"WorkoutVolumeByWorkout",props:{workouts:{},graphSize:{},backTimes:{},binSize:{},whatGraphed:{}},setup(n){const e=n,t=B(null),s=B(null),i=B(!1),r=B(0);function o(){if(s.value){try{s.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}s.value=null}}async function a(){if(!t.value||!e.workouts||e.workouts.length===0||i.value)return;i.value=!0,r.value++;const l=r.value;if(o(),await At(),l!==r.value){i.value=!1;return}if(!t.value){i.value=!1;return}const c=e.workouts.map(g=>({x:g.getStartTime(),y:g.getItem(e.whatGraphed)})),u=getComputedStyle(document.documentElement);[...e.workouts];const h={labels:dk(c,e.binSize,e.graphSize,e.backTimes),datasets:[{label:"My First Dataset",data:hk(c,e.binSize||"day",e.graphSize,e.backTimes),...Zg}]},d={family:"Avenir",size:16},f={family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},p={type:"bar",data:h,options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{legend:{display:!1},title:{display:!0,text:dn.fullNameForType(e.whatGraphed),font:f,color:u.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(g){return[dn.stringifyItem(g.parsed.y,e.whatGraphed)]}},bodyFont:d}},scales:{y:{ticks:{maxTicksLimit:3,font:d},position:"right",startAtZero:!1}}}};try{if(l!==r.value||!t.value){i.value=!1;return}const g=new Xo(t.value,p);l===r.value?s.value=g:g.destroy()}catch(g){console.error("Error creating chart:",g)}finally{i.value=!1}}return Wt(async()=>{await At(),a()}),Xn(()=>e.workouts,async(l,c)=>{if(l!==c){if(await At(),!l||l.length===0){s.value&&(s.value.destroy(),s.value=null);return}await At(()=>a())}},{deep:!1,immediate:!1}),Xn(()=>e.whatGraphed,async(l,c)=>{await At(),a()}),Gl(()=>{s.value&&(s.value.destroy(),s.value=null),i.value=!1}),(l,c)=>(R(),H("div",wA,[O("canvas",{ref_key:"canvasRef",ref:t,id:"workoutVolumeChart"},null,512)]))}}),xA={key:0},kA=ge({__name:"DashboardStatBubble",props:{label:{},value:{},prevValue:{},dispValue:{},icon:{},selected:{type:Boolean}},emits:["click"],setup(n,{emit:e}){const t=n;function s(){if(t.prevValue==0)return"N/A";let i=(t.value-t.prevValue)/t.prevValue*100;return i<0&&(i*=-1),i.toFixed(1)}return(i,r)=>(R(),H("div",{class:gt(["statBubble softBubble clickable",{selected:n.selected}]),onClick:r[0]||(r[0]=o=>i.$emit("click"))},[O("p",null,[Me(fe(n.label)+" ",1),O("i",{class:gt(["right fa-solid",n.icon])},null,2)]),O("h2",null,fe(n.dispValue),1),n.prevValue!==0?(R(),H("p",xA,[n.value!==n.prevValue?(R(),H("i",{key:0,class:gt(["fa-solid",n.value-n.prevValue>=0?"fa-arrow-up":"fa-arrow-down"])},null,2)):Z("",!0),Me(" "+fe(s())+" % ",1)])):Z("",!0)],2))}}),Kr=Pe(kA,[["__scopeId","data-v-40435f7f"]]);class wn{static getTotalDuration(e){return e.reduce((t,s)=>t+s.getDuration(),0)}static getTotalEnergy(e){return e.reduce((t,s)=>t+(s.getEnergy()||0),0)}static getTotalEnergyString(e){const t=this.getTotalEnergy(e);return`${dn.commaNumber(t)} kj`}static getTotalVolume(e){return e.reduce((t,s)=>t+s.getVolume(),0)}static getTotalVolumeString(e){const t=this.getTotalVolume(e);return`${dn.commaNumber(t)} kg`}}const SA={class:"viewArea"},EA={class:"margins"},OA={key:0,class:"periodSelect"},TA={class:"center"},PA={class:"flex"},CA={key:1},AA=ge({__name:"StatsView",setup(n){let e=[];const t=B([]),s=B([]),i=B(!0),r=B("week"),o=B("volume"),a=B(0),l=B(new zo);function c(h){switch(h){case"week":return"day";case"month":return"week";case"year":return"month";default:return"year"}}async function u(h){if(r.value=h,i.value=!0,h==="all"){t.value=[...e],await At(),i.value=!1;return}const d=ce.getEnd(ce.addPeriod(new Date,h,-a.value),h),f=ce.getStart(d,h),p=ce.getStartOfPrevious(f,h),g=[];s.value=[];for(const m of e)m.getStartTime()>=f&&m.getStartTime()<=d&&g.push(m),m.getStartTime()>=p&&m.getStartTime()<f&&s.value.push(m);t.value=g,await At(),i.value=!1}return Wt(async()=>{try{e=await ax(),await u("week"),i.value=!1}catch(h){l.value.setError("Failed to load workouts. Please try again later."),console.error("Failed to load workouts:",h),e=[],t.value=[],i.value=!1}}),(h,d)=>(R(),H(ye,null,[z(Uo,{error:l.value},null,8,["error"]),O("div",SA,[O("div",EA,[d[8]||(d[8]=O("h1",null,"Workout Dashboard",-1)),d[9]||(d[9]=O("p",null,"Track your fitness journey and monitor your progress",-1)),z(Xg,{options:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"},{label:"All Time",value:"all"}],onSelect:d[0]||(d[0]=f=>{a.value=0,u(f)})}),r.value!=="all"?(R(),H("div",OA,[O("i",{class:"fa-solid fa-chevron-left clickable floatleft",onClick:d[1]||(d[1]=f=>{a.value=a.value+1,u(r.value)})}),O("div",TA,fe(Fe(ce).getPeriodString(r.value,a.value)),1),a.value!==0?(R(),H("i",{key:0,class:"fa-solid fa-chevron-right clickable floatright",onClick:d[2]||(d[2]=f=>{a.value=a.value>0?a.value-1:0,u(r.value)})})):Z("",!0)])):Z("",!0),O("div",PA,[z(Kr,{label:"Total Workouts",value:t.value.length,prevValue:s.value.length,dispValue:t.value.length.toString(),icon:"fa-dumbbell",selected:o.value==="workouts",onClick:d[3]||(d[3]=f=>o.value="workouts")},null,8,["value","prevValue","dispValue","selected"]),z(Kr,{label:"Total Time",value:Fe(wn).getTotalDuration(t.value),prevValue:Fe(wn).getTotalDuration(s.value),dispValue:Fe(ce).getDurationString(Fe(wn).getTotalDuration(t.value))||"--",icon:"fa-clock",selected:o.value==="time",onClick:d[4]||(d[4]=f=>o.value="time")},null,8,["value","prevValue","dispValue","selected"]),z(Kr,{label:"Total Energy",value:Fe(wn).getTotalEnergy(t.value),prevValue:Fe(wn).getTotalEnergy(s.value),dispValue:Fe(wn).getTotalEnergyString(t.value),icon:"fa-fire",selected:o.value==="energy",onClick:d[5]||(d[5]=f=>o.value="energy")},null,8,["value","prevValue","dispValue","selected"]),z(Kr,{label:"Total Volume",value:Fe(wn).getTotalVolume(t.value),prevValue:Fe(wn).getTotalVolume(s.value),dispValue:Fe(wn).getTotalVolumeString(t.value),icon:"fa-weight-hanging",selected:o.value==="volume",onClick:d[6]||(d[6]=f=>o.value="volume")},null,8,["value","prevValue","dispValue","selected"])]),i.value?(R(),H("div",CA,[...d[7]||(d[7]=[O("p",null,"Loading workouts...",-1)])])):(R(),we(vA,{key:2,workouts:t.value,graphSize:r.value,binSize:c(r.value),whatGraphed:o.value,backTimes:a.value},null,8,["workouts","graphSize","binSize","whatGraphed","backTimes"]))])])],64))}}),MA=Pe(AA,[["__scopeId","data-v-ff48e511"]]),DA={key:0,class:"number"},RA={key:0,class:"fa-solid fa-medal"},IA={key:1,class:"number"},LA={key:0,class:"fa-solid fa-medal"},NA={key:2,class:"number"},jA={key:3,class:"number"},$A=ge({__name:"ExerciseRow",props:{exercise:{},whichPR:{}},setup(n){const e=B(!0),t=ns(),s=n,i=B(null),r=B(null),o=B(null),a=B(null);return Wt(async()=>{i.value=await s.exercise.getWeightPB(),r.value=await s.exercise.getVolumePB(),o.value=await Jg(s.exercise.getId()).then(l=>l.length),a.value=await s.exercise.getSetCount(),e.value=!1}),(l,c)=>(R(),H(ye,null,[e.value?(R(),we(Nn,{key:0})):Z("",!0),O("tr",{class:"exerciseRow clickable",onClick:c[0]||(c[0]=u=>Fe(t).push(`/exercise/${n.exercise.getId()}`))},[O("td",null,fe(n.exercise.name),1),n.whichPR==="weight"?(R(),H("td",DA,[Me(fe(i.value!==null?i.value+" kg":"")+" ",1),i.value?(R(),H("i",RA)):Z("",!0)])):Z("",!0),n.whichPR==="volume"?(R(),H("td",IA,[Me(fe(r.value!==null?r.value+" kg":"")+" ",1),r.value?(R(),H("i",LA)):Z("",!0)])):Z("",!0),n.whichPR==="workouts"?(R(),H("td",NA,fe(o.value!==null?o.value:""),1)):Z("",!0),n.whichPR==="sets"?(R(),H("td",jA,fe(a.value!==null?a.value:""),1)):Z("",!0)])],64))}}),FA=Pe($A,[["__scopeId","data-v-9ecf6720"]]);class na{name;id;description;static async create(e){const{data:t,error:s}=await be.from("exercises").select().eq("id",e).single();return s?(console.error(`Error fetching exercise info for ID ${e}:`,s),null):new na(t)}constructor(e){this.name=e.name,this.id=e.id,this.description=e.description}getName(){return this.name}getId(){return this.id}getDescription(){return this.description}async getWeightPB(){const{data:e,error:t}=await be.from("sets").select("weight").eq("exercise_id",this.id).order("weight",{ascending:!1}).limit(1);return t?(console.error(`Error fetching weight PB for exercise ID ${this.id}:`,t),Promise.resolve(null)):e&&e.length>0?Promise.resolve(e[0].weight):Promise.resolve(null)}async getVolumePB(){const{data:e,error:t}=await be.rpc("get_volume_pb",{exercise_id:this.id});return t?(console.error(`Error fetching volume PB for exercise ID ${this.id}:`,t),Promise.resolve(null)):e&&e.length>0?Promise.resolve(e[0].volume):Promise.resolve(null)}async countSets(){const{data:e,error:t}=await be.from("sets").select("id").eq("exercise_id",this.id);return t?(console.error(`Error counting sets for exercise ID ${this.id}:`,t),Promise.resolve(0)):Promise.resolve(e?e.length:0)}async getSetCount(){const{data:e,error:t}=await be.from("sets").select("id").eq("exercise_id",this.id);return t?(console.error(`Error fetching set count for exercise ID ${this.id}:`,t),Promise.resolve(0)):Promise.resolve(e?e.length:0)}async delete(){const{error:e}=await be.from("exercises").delete().eq("id",this.id);return e?(console.error(`Error deleting exercise ID ${this.id}:`,e),!1):!0}}const BA={class:"viewArea margins"},WA={id:"exerciseTable"},VA=ge({__name:"ExercisesView",setup(n){const e=B([]),t=B("weight"),s=B(!0);return Wt(async()=>{const{data:i,error:r}=await be.from("exercises").select("*");if(r&&console.error("Error fetching exercises:",r),!!i){for(const o of i)e.value.push(new na(o));e.value.sort((o,a)=>o.name.localeCompare(a.name)),s.value=!1}}),(i,r)=>(R(),H(ye,null,[s.value?(R(),we(Nn,{key:0})):Z("",!0),O("div",BA,[z(Xg,{options:[{label:"best weight",value:"weight"},{label:"best volume",value:"volume"},{label:"count workouts",value:"workouts"},{label:"count sets",value:"sets"}],onSelect:r[0]||(r[0]=o=>t.value=o)}),O("table",WA,[(R(!0),H(ye,null,hi(e.value,o=>(R(),we(FA,{key:o.id,exercise:o,whichPR:t.value},null,8,["exercise","whichPR"]))),128))])])],64))}}),HA=Pe(VA,[["__scopeId","data-v-f075d627"]]),UA={class:"softBubble"},zA=ge({__name:"WeightByDate",props:{sets:{}},setup(n){const e=B(null),t=B(null),s=B(!1),i=B(0),r=n;Wt(async()=>{await At(),await a()});function o(){if(t.value){try{t.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}t.value=null}}async function a(){if(!e.value||!r.sets||r.sets.length===0||s.value)return;s.value=!0,i.value++;const l=i.value;if(o(),await At(),l!==i.value){s.value=!1;return}if(!e.value){s.value=!1;return}const c=r.sets.map(f=>({y:f.set.getWeight(),x:f.date}));c.sort((f,p)=>f.x.getTime()-p.x.getTime()),getComputedStyle(document.documentElement);const d={type:"line",data:{datasets:[{label:"",data:c,...Zg}]},options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{tooltip:{enabled:!0,mode:"nearest",intersect:!1,bodyFont:{family:"Avenir",size:16}},legend:{display:!1}},scales:{x:{type:"time",time:{time:{tooltipFormat:"MMM YYYY",unit:"month",displayFormats:{month:"MMM YYYY"}}}},y:{beginAtZero:!1}}}};try{if(l!==i.value||!e.value){s.value=!1;return}const f=new Xo(e.value,d);l===i.value?t.value=f:f.destroy()}catch(f){console.error("Error creating chart:",f)}finally{s.value=!1}}return Xn(()=>r.sets,async(l,c)=>{if(l!==c){if(await At(),!l||l.length===0){t.value&&(t.value.destroy(),t.value=null);return}await At(()=>a())}},{deep:!1,immediate:!1}),Xn(()=>r.whatGraphed,async(l,c)=>{await At(),a()}),(l,c)=>(R(),H("div",UA,[O("canvas",{ref_key:"canvasRef",ref:e,id:"weightByDateChart"},null,512)]))}}),qA={class:"viewArea margins"},YA={key:1},KA=ge({__name:"ExerciseView",props:["exercise_id"],setup(n){const e=ns(),t=n,s=B([]),i=B(null),r=B(!0),o=B([]),a=B(new zo),l=B(!1);function c(){return i.value?i.value.getName():"..."}async function u(){if(!i.value)return;const{data:f,error:p}=await be.from("sets").select("*").eq("exercise_id",i.value.getId());if(p){console.error("Error fetching sets:",p);return}if(!f)return;const g=[];for(const m of f)g.push(new Zr(m));for(const m of g){const{data:b,error:y}=await be.from("workouts").select("start_time").eq("workout_id",m.getWorkoutId()).single();if(y){console.error("Error fetching workout for set:",y);continue}o.value.push({set:m,date:new Date(b.start_time)})}}Wt(async()=>{i.value=await na.create(t.exercise_id),s.value=await Jg(t.exercise_id),await u(),r.value=!1});function h(){if(r.value=!0,!!i.value){if(s.value.length>0){a.value.setError("Cannot delete exercise","This exercise is used in existing workouts and cannot be deleted."),r.value=!1;return}l.value=!0}}async function d(){if(l.value=!1,r.value=!0,await i.value.delete()){e.push("/exercises"),r.value=!1;return}a.value.setError("Failed to delete exercise","An error occurred while trying to delete the exercise. Please try again later."),r.value=!1}return(f,p)=>(R(),H(ye,null,[r.value?(R(),we(Nn,{key:0})):Z("",!0),z(Uo,{error:a.value},null,8,["error"]),l.value?(R(),we(As,{key:1,title:"Delete Exercise",message:"Are you sure you want to delete this exercise? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:p[0]||(p[0]=g=>d()),onCancel:p[1]||(p[1]=g=>l.value=!1)})):Z("",!0),O("div",qA,[O("h1",null,fe(c()),1),!r.value&&o.value.length>0?(R(),we(zA,{key:0,sets:o.value},null,8,["sets"])):Z("",!0),s.value.length>0?(R(),H("h2",YA,"Workouts with "+fe(c()),1)):Z("",!0),(R(!0),H(ye,null,hi(s.value,g=>(R(),we(Kg,{key:g.getId(),workout:g},null,8,["workout"]))),128)),z(pn,{onClick:p[2]||(p[2]=g=>h()),red:""},{default:qt(()=>[...p[3]||(p[3]=[Me("Delete Exercise",-1)])]),_:1})])],64))}}),GA=Pe(KA,[["__scopeId","data-v-0e526dff"]]),JA=[{path:"/signin",name:"SignIn",component:Lv},{path:"/signup",name:"SignUp",component:Fv},{path:"/emailconf",name:"Email Confirmation",component:Hv},{path:"/",name:"Home",component:dx},{path:"/upload",name:"Upload",component:yx},{path:"/viewWorkout/:workout_id",name:"View Workout",component:ok,props:!0},{path:"/exercise/:exercise_id",name:"View Exercise",component:GA,props:!0},{path:"/stats",name:"Stats",component:MA},{path:"/exercises",name:"Exercises",component:HA}],XA=W_({history:v_(),routes:JA}),_m=Ly(Sv);_m.use(XA);_m.mount("#app");
