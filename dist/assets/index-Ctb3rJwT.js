(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function El(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const St={},Hs=[],cn=()=>{},Od=()=>!1,xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ol=e=>e.startsWith("onUpdate:"),fe=Object.assign,Tl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lm=Object.prototype.hasOwnProperty,bt=(e,t)=>lm.call(e,t),Z=Array.isArray,Us=e=>ko(e)==="[object Map]",Td=e=>ko(e)==="[object Set]",rt=e=>typeof e=="function",Xt=e=>typeof e=="string",Mn=e=>typeof e=="symbol",It=e=>e!==null&&typeof e=="object",Pd=e=>(It(e)||rt(e))&&rt(e.then)&&rt(e.catch),Cd=Object.prototype.toString,ko=e=>Cd.call(e),cm=e=>ko(e).slice(8,-1),Ad=e=>ko(e)==="[object Object]",Pl=e=>Xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mi=El(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),So=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},um=/-\w/g,He=So(e=>e.replace(um,t=>t.slice(1).toUpperCase())),hm=/\B([A-Z])/g,Ss=So(e=>e.replace(hm,"-$1").toLowerCase()),Eo=So(e=>e.charAt(0).toUpperCase()+e.slice(1)),Go=So(e=>e?`on${Eo(e)}`:""),Kn=(e,t)=>!Object.is(e,t),qr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Md=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ja=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Cc;const Oo=()=>Cc||(Cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cl(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Xt(s)?pm(s):Cl(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Xt(e)||It(e))return e}const dm=/;(?![^(]*\))/g,fm=/:([^]+)/,gm=/\/\*[^]*?\*\//g;function pm(e){const t={};return e.replace(gm,"").split(dm).forEach(n=>{if(n){const s=n.split(fm);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Pe(e){let t="";if(Xt(e))t=e;else if(Z(e))for(let n=0;n<e.length;n++){const s=Pe(e[n]);s&&(t+=s+" ")}else if(It(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bm=El(mm);function Rd(e){return!!e||e===""}const Dd=e=>!!(e&&e.__v_isRef===!0),Mt=e=>Xt(e)?e:e==null?"":Z(e)||It(e)&&(e.toString===Cd||!rt(e.toString))?Dd(e)?Mt(e.value):JSON.stringify(e,Id,2):String(e),Id=(e,t)=>Dd(t)?Id(e,t.value):Us(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[Jo(s,r)+" =>"]=i,n),{})}:Td(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jo(n))}:Mn(t)?Jo(t):It(t)&&!Z(t)&&!Ad(t)?String(t):t,Jo=(e,t="")=>{var n;return Mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oe;class ym{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oe,!t&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Oe;try{return Oe=this,t()}finally{Oe=n}}}on(){++this._on===1&&(this.prevScope=Oe,Oe=this)}off(){this._on>0&&--this._on===0&&(Oe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function _m(){return Oe}let Pt;const Xo=new WeakSet;class Ld{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oe&&Oe.active&&Oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xo.has(this)&&(Xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ac(this),$d(this);const t=Pt,n=Ke;Pt=this,Ke=!0;try{return this.fn()}finally{Fd(this),Pt=t,Ke=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Rl(t);this.deps=this.depsTail=void 0,Ac(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Na(this)&&this.run()}get dirty(){return Na(this)}}let jd=0,Ri,Di;function Nd(e,t=!1){if(e.flags|=8,t){e.next=Di,Di=e;return}e.next=Ri,Ri=e}function Al(){jd++}function Ml(){if(--jd>0)return;if(Di){let t=Di;for(Di=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ri;){let t=Ri;for(Ri=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function $d(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Fd(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Rl(s),vm(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Na(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yi)||(e.globalVersion=Yi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Na(e))))return;e.flags|=2;const t=e.dep,n=Pt,s=Ke;Pt=e,Ke=!0;try{$d(e);const i=e.fn(e._value);(t.version===0||Kn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Pt=n,Ke=s,Fd(e),e.flags&=-3}}function Rl(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Rl(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function vm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ke=!0;const Wd=[];function Tn(){Wd.push(Ke),Ke=!1}function Pn(){const e=Wd.pop();Ke=e===void 0?!0:e}function Ac(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pt;Pt=void 0;try{t()}finally{Pt=n}}}let Yi=0;class wm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pt||!Ke||Pt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pt)n=this.activeLink=new wm(Pt,this),Pt.deps?(n.prevDep=Pt.depsTail,Pt.depsTail.nextDep=n,Pt.depsTail=n):Pt.deps=Pt.depsTail=n,Vd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Pt.depsTail,n.nextDep=void 0,Pt.depsTail.nextDep=n,Pt.depsTail=n,Pt.deps===n&&(Pt.deps=s)}return n}trigger(t){this.version++,Yi++,this.notify(t)}notify(t){Al();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ml()}}}function Vd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Vd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const $a=new WeakMap,_s=Symbol(""),Fa=Symbol(""),Ki=Symbol("");function ce(e,t,n){if(Ke&&Pt){let s=$a.get(e);s||$a.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Dl),i.map=s,i.key=n),i.track()}}function xn(e,t,n,s,i,r){const o=$a.get(e);if(!o){Yi++;return}const a=l=>{l&&l.trigger()};if(Al(),t==="clear")o.forEach(a);else{const l=Z(e),c=l&&Pl(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Ki||!Mn(d)&&d>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ki)),t){case"add":l?c&&a(o.get("length")):(a(o.get(_s)),Us(e)&&a(o.get(Fa)));break;case"delete":l||(a(o.get(_s)),Us(e)&&a(o.get(Fa)));break;case"set":Us(e)&&a(o.get(_s));break}}Ml()}function Cs(e){const t=mt(e);return t===e?t:(ce(t,"iterate",Ki),Ve(e)?t:t.map(ie))}function To(e){return ce(e=mt(e),"iterate",Ki),e}const xm={__proto__:null,[Symbol.iterator](){return Qo(this,Symbol.iterator,ie)},concat(...e){return Cs(this).concat(...e.map(t=>Z(t)?Cs(t):t))},entries(){return Qo(this,"entries",e=>(e[1]=ie(e[1]),e))},every(e,t){return fn(this,"every",e,t,void 0,arguments)},filter(e,t){return fn(this,"filter",e,t,n=>n.map(ie),arguments)},find(e,t){return fn(this,"find",e,t,ie,arguments)},findIndex(e,t){return fn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return fn(this,"findLast",e,t,ie,arguments)},findLastIndex(e,t){return fn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return fn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zo(this,"includes",e)},indexOf(...e){return Zo(this,"indexOf",e)},join(e){return Cs(this).join(e)},lastIndexOf(...e){return Zo(this,"lastIndexOf",e)},map(e,t){return fn(this,"map",e,t,void 0,arguments)},pop(){return di(this,"pop")},push(...e){return di(this,"push",e)},reduce(e,...t){return Mc(this,"reduce",e,t)},reduceRight(e,...t){return Mc(this,"reduceRight",e,t)},shift(){return di(this,"shift")},some(e,t){return fn(this,"some",e,t,void 0,arguments)},splice(...e){return di(this,"splice",e)},toReversed(){return Cs(this).toReversed()},toSorted(e){return Cs(this).toSorted(e)},toSpliced(...e){return Cs(this).toSpliced(...e)},unshift(...e){return di(this,"unshift",e)},values(){return Qo(this,"values",ie)}};function Qo(e,t,n){const s=To(e),i=s[t]();return s!==e&&!Ve(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const km=Array.prototype;function fn(e,t,n,s,i,r){const o=To(e),a=o!==e&&!Ve(e),l=o[t];if(l!==km[t]){const h=l.apply(e,r);return a?ie(h):h}let c=n;o!==e&&(a?c=function(h,d){return n.call(this,ie(h),d,e)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,e)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Mc(e,t,n,s){const i=To(e);let r=n;return i!==e&&(Ve(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,ie(a),l,e)}),i[t](r,...s)}function Zo(e,t,n){const s=mt(e);ce(s,"iterate",Ki);const i=s[t](...n);return(i===-1||i===!1)&&jl(n[0])?(n[0]=mt(n[0]),s[t](...n)):i}function di(e,t,n=[]){Tn(),Al();const s=mt(e)[t].apply(e,n);return Ml(),Pn(),s}const Sm=El("__proto__,__v_isRef,__isVue"),Hd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mn));function Em(e){Mn(e)||(e=String(e));const t=mt(this);return ce(t,"has",e),t.hasOwnProperty(e)}class Ud{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Lm:Kd:r?Yd:qd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Z(t);if(!i){let l;if(o&&(l=xm[n]))return l;if(n==="hasOwnProperty")return Em}const a=Reflect.get(t,n,de(t)?t:s);if((Mn(n)?Hd.has(n):Sm(n))||(i||ce(t,"get",n),r))return a;if(de(a)){const l=o&&Pl(n)?a:a.value;return i&&It(l)?Wa(l):l}return It(a)?i?Wa(a):Po(a):a}}class zd extends Ud{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const l=Jn(r);if(!Ve(s)&&!Jn(s)&&(r=mt(r),s=mt(s)),!Z(t)&&de(r)&&!de(s))return l||(r.value=s),!0}const o=Z(t)&&Pl(n)?Number(n)<t.length:bt(t,n),a=Reflect.set(t,n,s,de(t)?t:i);return t===mt(i)&&(o?Kn(s,r)&&xn(t,"set",n,s):xn(t,"add",n,s)),a}deleteProperty(t,n){const s=bt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&xn(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Mn(n)||!Hd.has(n))&&ce(t,"has",n),s}ownKeys(t){return ce(t,"iterate",Z(t)?"length":_s),Reflect.ownKeys(t)}}class Om extends Ud{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Tm=new zd,Pm=new Om,Cm=new zd(!0);const Ba=e=>e,_r=e=>Reflect.getPrototypeOf(e);function Am(e,t,n){return function(...s){const i=this.__v_raw,r=mt(i),o=Us(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),u=n?Ba:t?Qr:ie;return!t&&ce(r,"iterate",l?Fa:_s),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function vr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mm(e,t){const n={get(i){const r=this.__v_raw,o=mt(r),a=mt(i);e||(Kn(i,a)&&ce(o,"get",i),ce(o,"get",a));const{has:l}=_r(o),c=t?Ba:e?Qr:ie;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&ce(mt(i),"iterate",_s),i.size},has(i){const r=this.__v_raw,o=mt(r),a=mt(i);return e||(Kn(i,a)&&ce(o,"has",i),ce(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=mt(a),c=t?Ba:e?Qr:ie;return!e&&ce(l,"iterate",_s),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return fe(n,e?{add:vr("add"),set:vr("set"),delete:vr("delete"),clear:vr("clear")}:{add(i){!t&&!Ve(i)&&!Jn(i)&&(i=mt(i));const r=mt(this);return _r(r).has.call(r,i)||(r.add(i),xn(r,"add",i,i)),this},set(i,r){!t&&!Ve(r)&&!Jn(r)&&(r=mt(r));const o=mt(this),{has:a,get:l}=_r(o);let c=a.call(o,i);c||(i=mt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Kn(r,u)&&xn(o,"set",i,r):xn(o,"add",i,r),this},delete(i){const r=mt(this),{has:o,get:a}=_r(r);let l=o.call(r,i);l||(i=mt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&xn(r,"delete",i,void 0),c},clear(){const i=mt(this),r=i.size!==0,o=i.clear();return r&&xn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Am(i,e,t)}),n}function Il(e,t){const n=Mm(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(bt(n,i)&&i in s?n:s,i,r)}const Rm={get:Il(!1,!1)},Dm={get:Il(!1,!0)},Im={get:Il(!0,!1)};const qd=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,Lm=new WeakMap;function jm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nm(e){return e.__v_skip||!Object.isExtensible(e)?0:jm(cm(e))}function Po(e){return Jn(e)?e:Ll(e,!1,Tm,Rm,qd)}function Gd(e){return Ll(e,!1,Cm,Dm,Yd)}function Wa(e){return Ll(e,!0,Pm,Im,Kd)}function Ll(e,t,n,s,i){if(!It(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Nm(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function zs(e){return Jn(e)?zs(e.__v_raw):!!(e&&e.__v_isReactive)}function Jn(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function jl(e){return e?!!e.__v_raw:!1}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function $m(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&Md(e,"__v_skip",!0),e}const ie=e=>It(e)?Po(e):e,Qr=e=>It(e)?Wa(e):e;function de(e){return e?e.__v_isRef===!0:!1}function Q(e){return Jd(e,!1)}function Fm(e){return Jd(e,!0)}function Jd(e,t){return de(e)?e:new Bm(e,t)}class Bm{constructor(t,n){this.dep=new Dl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:mt(t),this._value=n?t:ie(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ve(t)||Jn(t);t=s?t:mt(t),Kn(t,n)&&(this._rawValue=t,this._value=s?t:ie(t),this.dep.trigger())}}function ee(e){return de(e)?e.value:e}const Wm={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Xd(e){return zs(e)?e:new Proxy(e,Wm)}class Vm{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return Nd(this,!0),!0}get value(){const t=this.dep.track();return Bd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hm(e,t,n=!1){let s,i;return rt(e)?s=e:(s=e.get,i=e.set),new Vm(s,i,n)}const wr={},Zr=new WeakMap;let us;function Um(e,t=!1,n=us){if(n){let s=Zr.get(n);s||Zr.set(n,s=[]),s.push(e)}}function zm(e,t,n=St){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=x=>i?x:Ve(x)||i===!1||i===0?kn(x,1):kn(x);let u,h,d,f,g=!1,p=!1;if(de(e)?(h=()=>e.value,g=Ve(e)):zs(e)?(h=()=>c(e),g=!0):Z(e)?(p=!0,g=e.some(x=>zs(x)||Ve(x)),h=()=>e.map(x=>{if(de(x))return x.value;if(zs(x))return c(x);if(rt(x))return l?l(x,2):x()})):rt(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){Tn();try{d()}finally{Pn()}}const x=us;us=u;try{return l?l(e,3,[f]):e(f)}finally{us=x}}:h=cn,t&&i){const x=h,S=i===!0?1/0:i;h=()=>kn(x(),S)}const m=_m(),b=()=>{u.stop(),m&&m.active&&Tl(m.effects,u)};if(r&&t){const x=t;t=(...S)=>{x(...S),b()}}let y=p?new Array(e.length).fill(wr):wr;const w=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const S=u.run();if(i||g||(p?S.some((E,O)=>Kn(E,y[O])):Kn(S,y))){d&&d();const E=us;us=u;try{const O=[S,y===wr?void 0:p&&y[0]===wr?[]:y,f];y=S,l?l(t,3,O):t(...O)}finally{us=E}}}else u.run()};return a&&a(w),u=new Ld(h),u.scheduler=o?()=>o(w,!1):w,f=x=>Um(x,!1,u),d=u.onStop=()=>{const x=Zr.get(u);if(x){if(l)l(x,4);else for(const S of x)S();Zr.delete(u)}},t?s?w(!0):y=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function kn(e,t=1/0,n){if(t<=0||!It(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,de(e))kn(e.value,t,n);else if(Z(e))for(let s=0;s<e.length;s++)kn(e[s],t,n);else if(Td(e)||Us(e))e.forEach(s=>{kn(s,t,n)});else if(Ad(e)){for(const s in e)kn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&kn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ur(e,t,n,s){try{return s?e(...s):e()}catch(i){Co(i,t,n)}}function hn(e,t,n,s){if(rt(e)){const i=ur(e,t,n,s);return i&&Pd(i)&&i.catch(r=>{Co(r,t,n)}),i}if(Z(e)){const i=[];for(let r=0;r<e.length;r++)i.push(hn(e[r],t,n,s));return i}}function Co(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||St;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(r){Tn(),ur(r,null,10,[e,l,c]),Pn();return}}qm(e,n,i,s,o)}function qm(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const _e=[];let sn=-1;const qs=[];let Fn=null,$s=0;const Qd=Promise.resolve();let to=null;function Hn(e){const t=to||Qd;return e?t.then(this?e.bind(this):e):t}function Ym(e){let t=sn+1,n=_e.length;for(;t<n;){const s=t+n>>>1,i=_e[s],r=Gi(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function Nl(e){if(!(e.flags&1)){const t=Gi(e),n=_e[_e.length-1];!n||!(e.flags&2)&&t>=Gi(n)?_e.push(e):_e.splice(Ym(t),0,e),e.flags|=1,Zd()}}function Zd(){to||(to=Qd.then(ef))}function Km(e){Z(e)?qs.push(...e):Fn&&e.id===-1?Fn.splice($s+1,0,e):e.flags&1||(qs.push(e),e.flags|=1),Zd()}function Rc(e,t,n=sn+1){for(;n<_e.length;n++){const s=_e[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;_e.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function tf(e){if(qs.length){const t=[...new Set(qs)].sort((n,s)=>Gi(n)-Gi(s));if(qs.length=0,Fn){Fn.push(...t);return}for(Fn=t,$s=0;$s<Fn.length;$s++){const n=Fn[$s];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Fn=null,$s=0}}const Gi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ef(e){try{for(sn=0;sn<_e.length;sn++){const t=_e[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ur(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<_e.length;sn++){const t=_e[sn];t&&(t.flags&=-2)}sn=-1,_e.length=0,tf(),to=null,(_e.length||qs.length)&&ef()}}let re=null,nf=null;function eo(e){const t=re;return re=e,nf=e&&e.type.__scopeId||null,t}function Je(e,t=re,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&io(-1);const r=eo(t);let o;try{o=e(...i)}finally{eo(r),s._d&&io(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ve(e,t){if(re===null)return e;const n=Io(re),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=St]=t[i];r&&(rt(r)&&(r={mounted:r,updated:r}),r.deep&&kn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ns(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Tn(),hn(l,n,8,[e.el,a,e,t]),Pn())}}const Gm=Symbol("_vte"),Jm=e=>e.__isTeleport,Xm=Symbol("_leaveCb");function $l(e,t){e.shapeFlag&6&&e.component?(e.transition=t,$l(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function yt(e,t){return rt(e)?fe({name:e.name},t,{setup:e}):e}function sf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const no=new WeakMap;function Ii(e,t,n,s,i=!1){if(Z(e)){e.forEach((g,p)=>Ii(g,t&&(Z(t)?t[p]:t),n,s,i));return}if(Ys(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ii(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Io(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===St?a.refs={}:a.refs,h=a.setupState,d=mt(h),f=h===St?Od:g=>bt(d,g);if(c!=null&&c!==l){if(Dc(t),Xt(c))u[c]=null,f(c)&&(h[c]=null);else if(de(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(rt(l))ur(l,a,12,[o,u]);else{const g=Xt(l),p=de(l);if(g||p){const m=()=>{if(e.f){const b=g?f(l)?h[l]:u[l]:l.value;if(i)Z(b)&&Tl(b,r);else if(Z(b))b.includes(r)||b.push(r);else if(g)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,e.k&&(u[e.k]=y)}}else g?(u[l]=o,f(l)&&(h[l]=o)):p&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{m(),no.delete(e)};b.id=-1,no.set(e,b),Me(b,n)}else Dc(e),m()}}}function Dc(e){const t=no.get(e);t&&(t.flags|=8,no.delete(e))}Oo().requestIdleCallback;Oo().cancelIdleCallback;const Ys=e=>!!e.type.__asyncLoader,rf=e=>e.type.__isKeepAlive;function Qm(e,t){of(e,"a",t)}function Zm(e,t){of(e,"da",t)}function of(e,t,n=ue){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ao(t,s,n),n){let i=n.parent;for(;i&&i.parent;)rf(i.parent.vnode)&&tb(s,t,n,i),i=i.parent}}function tb(e,t,n,s){const i=Ao(t,e,s,!0);Bl(()=>{Tl(s[t],i)},n)}function Ao(e,t,n=ue,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Tn();const a=hr(n),l=hn(t,n,e,o);return a(),Pn(),l});return s?i.unshift(r):i.push(r),r}}const Rn=e=>(t,n=ue)=>{(!Qi||e==="sp")&&Ao(e,(...s)=>t(...s),n)},eb=Rn("bm"),Dn=Rn("m"),nb=Rn("bu"),Fl=Rn("u"),af=Rn("bum"),Bl=Rn("um"),sb=Rn("sp"),ib=Rn("rtg"),rb=Rn("rtc");function ob(e,t=ue){Ao("ec",e,t)}const ab="components";function lb(e,t){return ub(ab,e,!0,t)||e}const cb=Symbol.for("v-ndc");function ub(e,t,n=!0,s=!1){const i=re||ue;if(i){const r=i.type;{const a=Qb(r,!1);if(a&&(a===t||a===He(t)||a===Eo(He(t))))return r}const o=Ic(i[e]||r[e],t)||Ic(i.appContext[e],t);return!o&&s?r:o}}function Ic(e,t){return e&&(e[t]||e[He(t)]||e[Eo(He(t))])}function Mo(e,t,n,s){let i;const r=n,o=Z(e);if(o||Xt(e)){const a=o&&zs(e);let l=!1,c=!1;a&&(l=!Ve(e),c=Jn(e),e=To(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(l?c?Qr(ie(e[u])):ie(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(It(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}function lf(e,t,n={},s,i){if(re.ce||re.parent&&Ys(re.parent)&&re.parent.ce){const c=Object.keys(n).length>0;return B(),Bt(At,null,[H("slot",n,s)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),B();const o=r&&cf(r(n)),a=n.key||o&&o.key,l=Bt(At,{key:(a&&!Mn(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function cf(e){return e.some(t=>Xi(t)?!(t.type===Cn||t.type===At&&!cf(t.children)):!0)?e:null}const Va=e=>e?Cf(e)?Io(e):Va(e.parent):null,Li=fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Va(e.parent),$root:e=>Va(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hf(e),$forceUpdate:e=>e.f||(e.f=()=>{Nl(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>Mb.bind(e)}),ta=(e,t)=>e!==St&&!e.__isScriptSetup&&bt(e,t),hb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(ta(s,t))return o[t]=1,s[t];if(i!==St&&bt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&bt(c,t))return o[t]=3,r[t];if(n!==St&&bt(n,t))return o[t]=4,n[t];Ha&&(o[t]=0)}}const u=Li[t];let h,d;if(u)return t==="$attrs"&&ce(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==St&&bt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,bt(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return ta(i,t)?(i[t]=n,!0):s!==St&&bt(s,t)?(s[t]=n,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(n[a]||e!==St&&a[0]!=="$"&&bt(e,a)||ta(t,a)||(l=r[0])&&bt(l,a)||bt(s,a)||bt(Li,a)||bt(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Lc(e){return Z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ha=!0;function db(e){const t=hf(e),n=e.proxy,s=e.ctx;Ha=!1,t.beforeCreate&&jc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:w,unmounted:x,render:S,renderTracked:E,renderTriggered:O,errorCaptured:R,serverPrefetch:N,expose:Y,inheritAttrs:J,components:ot,directives:xt,filters:Qt}=t;if(c&&fb(c,s,null),o)for(const K in o){const at=o[K];rt(at)&&(s[K]=at.bind(n))}if(i){const K=i.call(n,n);It(K)&&(e.data=Po(K))}if(Ha=!0,r)for(const K in r){const at=r[K],Et=rt(at)?at.bind(n,n):rt(at.get)?at.get.bind(n,n):cn,pe=!rt(at)&&rt(at.set)?at.set.bind(n):cn,me=Le({get:Et,set:pe});Object.defineProperty(s,K,{enumerable:!0,configurable:!0,get:()=>me.value,set:zt=>me.value=zt})}if(a)for(const K in a)uf(a[K],s,n,K);if(l){const K=rt(l)?l.call(n):l;Reflect.ownKeys(K).forEach(at=>{Yr(at,K[at])})}u&&jc(u,e,"c");function it(K,at){Z(at)?at.forEach(Et=>K(Et.bind(n))):at&&K(at.bind(n))}if(it(eb,h),it(Dn,d),it(nb,f),it(Fl,g),it(Qm,p),it(Zm,m),it(ob,R),it(rb,E),it(ib,O),it(af,y),it(Bl,x),it(sb,N),Z(Y))if(Y.length){const K=e.exposed||(e.exposed={});Y.forEach(at=>{Object.defineProperty(K,at,{get:()=>n[at],set:Et=>n[at]=Et,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===cn&&(e.render=S),J!=null&&(e.inheritAttrs=J),ot&&(e.components=ot),xt&&(e.directives=xt),N&&sf(e)}function fb(e,t,n=cn){Z(e)&&(e=Ua(e));for(const s in e){const i=e[s];let r;It(i)?"default"in i?r=Ge(i.from||s,i.default,!0):r=Ge(i.from||s):r=Ge(i),de(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function jc(e,t,n){hn(Z(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function uf(e,t,n,s){let i=s.includes(".")?Sf(n,s):()=>n[s];if(Xt(e)){const r=t[e];rt(r)&&ji(i,r)}else if(rt(e))ji(i,e.bind(n));else if(It(e))if(Z(e))e.forEach(r=>uf(r,t,n,s));else{const r=rt(e.handler)?e.handler.bind(n):t[e.handler];rt(r)&&ji(i,r,e)}}function hf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>so(l,c,o,!0)),so(l,t,o)),It(t)&&r.set(t,l),l}function so(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&so(e,r,n,!0),i&&i.forEach(o=>so(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=gb[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const gb={data:Nc,props:$c,emits:$c,methods:Ei,computed:Ei,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:Ei,directives:Ei,watch:mb,provide:Nc,inject:pb};function Nc(e,t){return t?e?function(){return fe(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function pb(e,t){return Ei(Ua(e),Ua(t))}function Ua(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function be(e,t){return e?[...new Set([].concat(e,t))]:t}function Ei(e,t){return e?fe(Object.create(null),e,t):t}function $c(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:fe(Object.create(null),Lc(e),Lc(t??{})):t}function mb(e,t){if(!e)return t;if(!t)return e;const n=fe(Object.create(null),e);for(const s in t)n[s]=be(e[s],t[s]);return n}function df(){return{app:null,config:{isNativeTag:Od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bb=0;function yb(e,t){return function(s,i=null){rt(s)||(s=fe({},s)),i!=null&&!It(i)&&(i=null);const r=df(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:bb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ty,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&rt(u.install)?(o.add(u),u.install(c,...h)):rt(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||H(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Io(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(hn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Ks;Ks=c;try{return u()}finally{Ks=h}}};return c}}let Ks=null;function Yr(e,t){if(ue){let n=ue.provides;const s=ue.parent&&ue.parent.provides;s===n&&(n=ue.provides=Object.create(s)),n[e]=t}}function Ge(e,t,n=!1){const s=Yb();if(s||Ks){let i=Ks?Ks._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&rt(t)?t.call(s&&s.proxy):t}}const ff={},gf=()=>Object.create(ff),pf=e=>Object.getPrototypeOf(e)===ff;function _b(e,t,n,s=!1){const i={},r=gf();e.propsDefaults=Object.create(null),mf(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:Gd(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function vb(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=mt(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Ro(e.emitsOptions,d))continue;const f=t[d];if(l)if(bt(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=He(d);i[g]=za(l,a,g,f,e,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{mf(e,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!bt(t,h)&&((u=Ss(h))===h||!bt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=za(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!bt(t,h))&&(delete r[h],c=!0)}c&&xn(e.attrs,"set","")}function mf(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Mi(l))continue;const c=t[l];let u;i&&bt(i,u=He(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ro(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=mt(n),c=a||St;for(let u=0;u<r.length;u++){const h=r[u];n[h]=za(i,l,h,c[h],e,!bt(c,h))}}return o}function za(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=bt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&rt(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=hr(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ss(n))&&(s=!0))}return s}const wb=new WeakMap;function bf(e,t,n=!1){const s=n?wb:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!rt(e)){const u=h=>{l=!0;const[d,f]=bf(h,t,!0);fe(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return It(e)&&s.set(e,Hs),Hs;if(Z(r))for(let u=0;u<r.length;u++){const h=He(r[u]);Fc(h)&&(o[h]=St)}else if(r)for(const u in r){const h=He(u);if(Fc(h)){const d=r[u],f=o[h]=Z(d)||rt(d)?{type:d}:fe({},d),g=f.type;let p=!1,m=!0;if(Z(g))for(let b=0;b<g.length;++b){const y=g[b],w=rt(y)&&y.name;if(w==="Boolean"){p=!0;break}else w==="String"&&(m=!1)}else p=rt(g)&&g.name==="Boolean";f[0]=p,f[1]=m,(p||bt(f,"default"))&&a.push(h)}}const c=[o,a];return It(e)&&s.set(e,c),c}function Fc(e){return e[0]!=="$"&&!Mi(e)}const Wl=e=>e==="_"||e==="_ctx"||e==="$stable",Vl=e=>Z(e)?e.map(on):[on(e)],xb=(e,t,n)=>{if(t._n)return t;const s=Je((...i)=>Vl(t(...i)),n);return s._c=!1,s},yf=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Wl(i))continue;const r=e[i];if(rt(r))t[i]=xb(i,r,s);else if(r!=null){const o=Vl(r);t[i]=()=>o}}},_f=(e,t)=>{const n=Vl(t);e.slots.default=()=>n},vf=(e,t,n)=>{for(const s in t)(n||!Wl(s))&&(e[s]=t[s])},kb=(e,t,n)=>{const s=e.slots=gf();if(e.vnode.shapeFlag&32){const i=t._;i?(vf(s,t,n),n&&Md(s,"_",i,!0)):yf(t,s)}else t&&_f(e,t)},Sb=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=St;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:vf(i,t,n):(r=!t.$stable,yf(t,i)),o=t}else t&&(_f(e,t),o={default:1});if(r)for(const a in i)!Wl(a)&&o[a]==null&&delete i[a]},Me=Fb;function Eb(e){return Ob(e)}function Ob(e,t){const n=Oo();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=cn,insertStaticContent:g}=e,p=(_,v,k,P=null,M=null,T=null,j=void 0,L=null,I=!!v.dynamicChildren)=>{if(_===v)return;_&&!fi(_,v)&&(P=C(_),zt(_,M,T,!0),_=null),v.patchFlag===-2&&(I=!1,v.dynamicChildren=null);const{type:D,ref:G,shapeFlag:F}=v;switch(D){case Do:m(_,v,k,P);break;case Cn:b(_,v,k,P);break;case na:_==null&&y(v,k,P,j);break;case At:ot(_,v,k,P,M,T,j,L,I);break;default:F&1?S(_,v,k,P,M,T,j,L,I):F&6?xt(_,v,k,P,M,T,j,L,I):(F&64||F&128)&&D.process(_,v,k,P,M,T,j,L,I,U)}G!=null&&M?Ii(G,_&&_.ref,T,v||_,!v):G==null&&_&&_.ref!=null&&Ii(_.ref,null,T,_,!0)},m=(_,v,k,P)=>{if(_==null)s(v.el=a(v.children),k,P);else{const M=v.el=_.el;v.children!==_.children&&c(M,v.children)}},b=(_,v,k,P)=>{_==null?s(v.el=l(v.children||""),k,P):v.el=_.el},y=(_,v,k,P)=>{[_.el,_.anchor]=g(_.children,v,k,P,_.el,_.anchor)},w=({el:_,anchor:v},k,P)=>{let M;for(;_&&_!==v;)M=d(_),s(_,k,P),_=M;s(v,k,P)},x=({el:_,anchor:v})=>{let k;for(;_&&_!==v;)k=d(_),i(_),_=k;i(v)},S=(_,v,k,P,M,T,j,L,I)=>{v.type==="svg"?j="svg":v.type==="math"&&(j="mathml"),_==null?E(v,k,P,M,T,j,L,I):N(_,v,M,T,j,L,I)},E=(_,v,k,P,M,T,j,L)=>{let I,D;const{props:G,shapeFlag:F,transition:z,dirs:X}=_;if(I=_.el=o(_.type,T,G&&G.is,G),F&8?u(I,_.children):F&16&&R(_.children,I,null,P,M,ea(_,T),j,L),X&&ns(_,null,P,"created"),O(I,_,_.scopeId,j,P),G){for(const Ot in G)Ot!=="value"&&!Mi(Ot)&&r(I,Ot,null,G[Ot],T,P);"value"in G&&r(I,"value",null,G.value,T),(D=G.onVnodeBeforeMount)&&en(D,P,_)}X&&ns(_,null,P,"beforeMount");const dt=Tb(M,z);dt&&z.beforeEnter(I),s(I,v,k),((D=G&&G.onVnodeMounted)||dt||X)&&Me(()=>{D&&en(D,P,_),dt&&z.enter(I),X&&ns(_,null,P,"mounted")},M)},O=(_,v,k,P,M)=>{if(k&&f(_,k),P)for(let T=0;T<P.length;T++)f(_,P[T]);if(M){let T=M.subTree;if(v===T||Of(T.type)&&(T.ssContent===v||T.ssFallback===v)){const j=M.vnode;O(_,j,j.scopeId,j.slotScopeIds,M.parent)}}},R=(_,v,k,P,M,T,j,L,I=0)=>{for(let D=I;D<_.length;D++){const G=_[D]=L?Bn(_[D]):on(_[D]);p(null,G,v,k,P,M,T,j,L)}},N=(_,v,k,P,M,T,j)=>{const L=v.el=_.el;let{patchFlag:I,dynamicChildren:D,dirs:G}=v;I|=_.patchFlag&16;const F=_.props||St,z=v.props||St;let X;if(k&&ss(k,!1),(X=z.onVnodeBeforeUpdate)&&en(X,k,v,_),G&&ns(v,_,k,"beforeUpdate"),k&&ss(k,!0),(F.innerHTML&&z.innerHTML==null||F.textContent&&z.textContent==null)&&u(L,""),D?Y(_.dynamicChildren,D,L,k,P,ea(v,M),T):j||at(_,v,L,null,k,P,ea(v,M),T,!1),I>0){if(I&16)J(L,F,z,k,M);else if(I&2&&F.class!==z.class&&r(L,"class",null,z.class,M),I&4&&r(L,"style",F.style,z.style,M),I&8){const dt=v.dynamicProps;for(let Ot=0;Ot<dt.length;Ot++){const _t=dt[Ot],ke=F[_t],Se=z[_t];(Se!==ke||_t==="value")&&r(L,_t,ke,Se,M,k)}}I&1&&_.children!==v.children&&u(L,v.children)}else!j&&D==null&&J(L,F,z,k,M);((X=z.onVnodeUpdated)||G)&&Me(()=>{X&&en(X,k,v,_),G&&ns(v,_,k,"updated")},P)},Y=(_,v,k,P,M,T,j)=>{for(let L=0;L<v.length;L++){const I=_[L],D=v[L],G=I.el&&(I.type===At||!fi(I,D)||I.shapeFlag&198)?h(I.el):k;p(I,D,G,null,P,M,T,j,!0)}},J=(_,v,k,P,M)=>{if(v!==k){if(v!==St)for(const T in v)!Mi(T)&&!(T in k)&&r(_,T,v[T],null,M,P);for(const T in k){if(Mi(T))continue;const j=k[T],L=v[T];j!==L&&T!=="value"&&r(_,T,L,j,M,P)}"value"in k&&r(_,"value",v.value,k.value,M)}},ot=(_,v,k,P,M,T,j,L,I)=>{const D=v.el=_?_.el:a(""),G=v.anchor=_?_.anchor:a("");let{patchFlag:F,dynamicChildren:z,slotScopeIds:X}=v;X&&(L=L?L.concat(X):X),_==null?(s(D,k,P),s(G,k,P),R(v.children||[],k,G,M,T,j,L,I)):F>0&&F&64&&z&&_.dynamicChildren?(Y(_.dynamicChildren,z,k,M,T,j,L),(v.key!=null||M&&v===M.subTree)&&wf(_,v,!0)):at(_,v,k,G,M,T,j,L,I)},xt=(_,v,k,P,M,T,j,L,I)=>{v.slotScopeIds=L,_==null?v.shapeFlag&512?M.ctx.activate(v,k,P,j,I):Qt(v,k,P,M,T,j,I):ut(_,v,I)},Qt=(_,v,k,P,M,T,j)=>{const L=_.component=qb(_,P,M);if(rf(_)&&(L.ctx.renderer=U),Kb(L,!1,j),L.asyncDep){if(M&&M.registerDep(L,it,j),!_.el){const I=L.subTree=H(Cn);b(null,I,v,k),_.placeholder=I.el}}else it(L,_,v,k,M,T,j)},ut=(_,v,k)=>{const P=v.component=_.component;if(Nb(_,v,k))if(P.asyncDep&&!P.asyncResolved){K(P,v,k);return}else P.next=v,P.update();else v.el=_.el,P.vnode=v},it=(_,v,k,P,M,T,j)=>{const L=()=>{if(_.isMounted){let{next:F,bu:z,u:X,parent:dt,vnode:Ot}=_;{const Ze=xf(_);if(Ze){F&&(F.el=Ot.el,K(_,F,j)),Ze.asyncDep.then(()=>{_.isUnmounted||L()});return}}let _t=F,ke;ss(_,!1),F?(F.el=Ot.el,K(_,F,j)):F=Ot,z&&qr(z),(ke=F.props&&F.props.onVnodeBeforeUpdate)&&en(ke,dt,F,Ot),ss(_,!0);const Se=Wc(_),Qe=_.subTree;_.subTree=Se,p(Qe,Se,h(Qe.el),C(Qe),_,M,T),F.el=Se.el,_t===null&&$b(_,Se.el),X&&Me(X,M),(ke=F.props&&F.props.onVnodeUpdated)&&Me(()=>en(ke,dt,F,Ot),M)}else{let F;const{el:z,props:X}=v,{bm:dt,m:Ot,parent:_t,root:ke,type:Se}=_,Qe=Ys(v);ss(_,!1),dt&&qr(dt),!Qe&&(F=X&&X.onVnodeBeforeMount)&&en(F,_t,v),ss(_,!0);{ke.ce&&ke.ce._def.shadowRoot!==!1&&ke.ce._injectChildStyle(Se);const Ze=_.subTree=Wc(_);p(null,Ze,k,P,_,M,T),v.el=Ze.el}if(Ot&&Me(Ot,M),!Qe&&(F=X&&X.onVnodeMounted)){const Ze=v;Me(()=>en(F,_t,Ze),M)}(v.shapeFlag&256||_t&&Ys(_t.vnode)&&_t.vnode.shapeFlag&256)&&_.a&&Me(_.a,M),_.isMounted=!0,v=k=P=null}};_.scope.on();const I=_.effect=new Ld(L);_.scope.off();const D=_.update=I.run.bind(I),G=_.job=I.runIfDirty.bind(I);G.i=_,G.id=_.uid,I.scheduler=()=>Nl(G),ss(_,!0),D()},K=(_,v,k)=>{v.component=_;const P=_.vnode.props;_.vnode=v,_.next=null,vb(_,v.props,P,k),Sb(_,v.children,k),Tn(),Rc(_),Pn()},at=(_,v,k,P,M,T,j,L,I=!1)=>{const D=_&&_.children,G=_?_.shapeFlag:0,F=v.children,{patchFlag:z,shapeFlag:X}=v;if(z>0){if(z&128){pe(D,F,k,P,M,T,j,L,I);return}else if(z&256){Et(D,F,k,P,M,T,j,L,I);return}}X&8?(G&16&&Gt(D,M,T),F!==D&&u(k,F)):G&16?X&16?pe(D,F,k,P,M,T,j,L,I):Gt(D,M,T,!0):(G&8&&u(k,""),X&16&&R(F,k,P,M,T,j,L,I))},Et=(_,v,k,P,M,T,j,L,I)=>{_=_||Hs,v=v||Hs;const D=_.length,G=v.length,F=Math.min(D,G);let z;for(z=0;z<F;z++){const X=v[z]=I?Bn(v[z]):on(v[z]);p(_[z],X,k,null,M,T,j,L,I)}D>G?Gt(_,M,T,!0,!1,F):R(v,k,P,M,T,j,L,I,F)},pe=(_,v,k,P,M,T,j,L,I)=>{let D=0;const G=v.length;let F=_.length-1,z=G-1;for(;D<=F&&D<=z;){const X=_[D],dt=v[D]=I?Bn(v[D]):on(v[D]);if(fi(X,dt))p(X,dt,k,null,M,T,j,L,I);else break;D++}for(;D<=F&&D<=z;){const X=_[F],dt=v[z]=I?Bn(v[z]):on(v[z]);if(fi(X,dt))p(X,dt,k,null,M,T,j,L,I);else break;F--,z--}if(D>F){if(D<=z){const X=z+1,dt=X<G?v[X].el:P;for(;D<=z;)p(null,v[D]=I?Bn(v[D]):on(v[D]),k,dt,M,T,j,L,I),D++}}else if(D>z)for(;D<=F;)zt(_[D],M,T,!0),D++;else{const X=D,dt=D,Ot=new Map;for(D=dt;D<=z;D++){const Ae=v[D]=I?Bn(v[D]):on(v[D]);Ae.key!=null&&Ot.set(Ae.key,D)}let _t,ke=0;const Se=z-dt+1;let Qe=!1,Ze=0;const hi=new Array(Se);for(D=0;D<Se;D++)hi[D]=0;for(D=X;D<=F;D++){const Ae=_[D];if(ke>=Se){zt(Ae,M,T,!0);continue}let tn;if(Ae.key!=null)tn=Ot.get(Ae.key);else for(_t=dt;_t<=z;_t++)if(hi[_t-dt]===0&&fi(Ae,v[_t])){tn=_t;break}tn===void 0?zt(Ae,M,T,!0):(hi[tn-dt]=D+1,tn>=Ze?Ze=tn:Qe=!0,p(Ae,v[tn],k,null,M,T,j,L,I),ke++)}const Oc=Qe?Pb(hi):Hs;for(_t=Oc.length-1,D=Se-1;D>=0;D--){const Ae=dt+D,tn=v[Ae],Tc=v[Ae+1],Pc=Ae+1<G?Tc.el||Tc.placeholder:P;hi[D]===0?p(null,tn,k,Pc,M,T,j,L,I):Qe&&(_t<0||D!==Oc[_t]?me(tn,k,Pc,2):_t--)}}},me=(_,v,k,P,M=null)=>{const{el:T,type:j,transition:L,children:I,shapeFlag:D}=_;if(D&6){me(_.component.subTree,v,k,P);return}if(D&128){_.suspense.move(v,k,P);return}if(D&64){j.move(_,v,k,U);return}if(j===At){s(T,v,k);for(let F=0;F<I.length;F++)me(I[F],v,k,P);s(_.anchor,v,k);return}if(j===na){w(_,v,k);return}if(P!==2&&D&1&&L)if(P===0)L.beforeEnter(T),s(T,v,k),Me(()=>L.enter(T),M);else{const{leave:F,delayLeave:z,afterLeave:X}=L,dt=()=>{_.ctx.isUnmounted?i(T):s(T,v,k)},Ot=()=>{T._isLeaving&&T[Xm](!0),F(T,()=>{dt(),X&&X()})};z?z(T,dt,Ot):Ot()}else s(T,v,k)},zt=(_,v,k,P=!1,M=!1)=>{const{type:T,props:j,ref:L,children:I,dynamicChildren:D,shapeFlag:G,patchFlag:F,dirs:z,cacheIndex:X}=_;if(F===-2&&(M=!1),L!=null&&(Tn(),Ii(L,null,k,_,!0),Pn()),X!=null&&(v.renderCache[X]=void 0),G&256){v.ctx.deactivate(_);return}const dt=G&1&&z,Ot=!Ys(_);let _t;if(Ot&&(_t=j&&j.onVnodeBeforeUnmount)&&en(_t,v,_),G&6)Ce(_.component,k,P);else{if(G&128){_.suspense.unmount(k,P);return}dt&&ns(_,null,v,"beforeUnmount"),G&64?_.type.remove(_,v,k,U,P):D&&!D.hasOnce&&(T!==At||F>0&&F&64)?Gt(D,v,k,!1,!0):(T===At&&F&384||!M&&G&16)&&Gt(I,v,k),P&&Be(_)}(Ot&&(_t=j&&j.onVnodeUnmounted)||dt)&&Me(()=>{_t&&en(_t,v,_),dt&&ns(_,null,v,"unmounted")},k)},Be=_=>{const{type:v,el:k,anchor:P,transition:M}=_;if(v===At){xe(k,P);return}if(v===na){x(_);return}const T=()=>{i(k),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:j,delayLeave:L}=M,I=()=>j(k,T);L?L(_.el,T,I):I()}else T()},xe=(_,v)=>{let k;for(;_!==v;)k=d(_),i(_),_=k;i(v)},Ce=(_,v,k)=>{const{bum:P,scope:M,job:T,subTree:j,um:L,m:I,a:D}=_;Bc(I),Bc(D),P&&qr(P),M.stop(),T&&(T.flags|=8,zt(j,_,v,k)),L&&Me(L,v),Me(()=>{_.isUnmounted=!0},v)},Gt=(_,v,k,P=!1,M=!1,T=0)=>{for(let j=T;j<_.length;j++)zt(_[j],v,k,P,M)},C=_=>{if(_.shapeFlag&6)return C(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const v=d(_.anchor||_.el),k=v&&v[Gm];return k?d(k):v};let W=!1;const $=(_,v,k)=>{_==null?v._vnode&&zt(v._vnode,null,null,!0):p(v._vnode||null,_,v,null,null,null,k),v._vnode=_,W||(W=!0,Rc(),tf(),W=!1)},U={p,um:zt,m:me,r:Be,mt:Qt,mc:R,pc:at,pbc:Y,n:C,o:e};return{render:$,hydrate:void 0,createApp:yb($)}}function ea({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ss({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Tb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wf(e,t,n=!1){const s=e.children,i=t.children;if(Z(s)&&Z(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Bn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&wf(o,a)),a.type===Do&&a.patchFlag!==-1&&(a.el=o.el),a.type===Cn&&!a.el&&(a.el=o.el)}}function Pb(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function xf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xf(t)}function Bc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cb=Symbol.for("v-scx"),Ab=()=>Ge(Cb);function ji(e,t,n){return kf(e,t,n)}function kf(e,t,n=St){const{immediate:s,deep:i,flush:r,once:o}=n,a=fe({},n),l=t&&s||!t&&r!=="post";let c;if(Qi){if(r==="sync"){const f=Ab();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=cn,f.resume=cn,f.pause=cn,f}}const u=ue;a.call=(f,g,p)=>hn(f,u,g,p);let h=!1;r==="post"?a.scheduler=f=>{Me(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Nl(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=zm(e,t,a);return Qi&&(c?c.push(d):l&&d()),d}function Mb(e,t,n){const s=this.proxy,i=Xt(e)?e.includes(".")?Sf(s,e):()=>s[e]:e.bind(s,s);let r;rt(t)?r=t:(r=t.handler,n=t);const o=hr(this),a=kf(i,r.bind(s),n);return o(),a}function Sf(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Rb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${He(t)}Modifiers`]||e[`${Ss(t)}Modifiers`];function Db(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||St;let i=n;const r=t.startsWith("update:"),o=r&&Rb(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>Xt(u)?u.trim():u)),o.number&&(i=n.map(ja)));let a,l=s[a=Go(t)]||s[a=Go(He(t))];!l&&r&&(l=s[a=Go(Ss(t))]),l&&hn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,hn(c,e,6,i)}}const Ib=new WeakMap;function Ef(e,t,n=!1){const s=n?Ib:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!rt(e)){const l=c=>{const u=Ef(c,t,!0);u&&(a=!0,fe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(It(e)&&s.set(e,null),null):(Z(r)?r.forEach(l=>o[l]=null):fe(o,r),It(e)&&s.set(e,o),o)}function Ro(e,t){return!e||!xo(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,Ss(t))||bt(e,t))}function Wc(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:p}=e,m=eo(e);let b,y;try{if(n.shapeFlag&4){const x=i||s,S=x;b=on(c.call(S,x,u,h,f,d,g)),y=a}else{const x=t;b=on(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=t.props?a:Lb(a)}}catch(x){Ni.length=0,Co(x,e,1),b=H(Cn)}let w=b;if(y&&p!==!1){const x=Object.keys(y),{shapeFlag:S}=w;x.length&&S&7&&(r&&x.some(Ol)&&(y=jb(y,r)),w=Xs(w,y,!1,!0))}return n.dirs&&(w=Xs(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&$l(w,n.transition),b=w,eo(m),b}const Lb=e=>{let t;for(const n in e)(n==="class"||n==="style"||xo(n))&&((t||(t={}))[n]=e[n]);return t},jb=(e,t)=>{const n={};for(const s in e)(!Ol(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Nb(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Vc(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Ro(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vc(s,o,c):!0:!!o;return!1}function Vc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Ro(n,r))return!0}return!1}function $b({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Of=e=>e.__isSuspense;function Fb(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):Km(e)}const At=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),Cn=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Ni=[];let Fe=null;function B(e=!1){Ni.push(Fe=e?null:[])}function Bb(){Ni.pop(),Fe=Ni[Ni.length-1]||null}let Ji=1;function io(e,t=!1){Ji+=e,e<0&&Fe&&t&&(Fe.hasOnce=!0)}function Tf(e){return e.dynamicChildren=Ji>0?Fe||Hs:null,Bb(),Ji>0&&Fe&&Fe.push(e),e}function nt(e,t,n,s,i,r){return Tf(A(e,t,n,s,i,r,!0))}function Bt(e,t,n,s,i){return Tf(H(e,t,n,s,i,!0))}function Xi(e){return e?e.__v_isVNode===!0:!1}function fi(e,t){return e.type===t.type&&e.key===t.key}const Pf=({key:e})=>e??null,Kr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Xt(e)||de(e)||rt(e)?{i:re,r:e,k:t,f:!!n}:e:null);function A(e,t=null,n=null,s=0,i=null,r=e===At?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pf(t),ref:t&&Kr(t),scopeId:nf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:re};return a?(Hl(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=Xt(n)?8:16),Ji>0&&!o&&Fe&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Fe.push(l),l}const H=Wb;function Wb(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===cb)&&(e=Cn),Xi(e)){const a=Xs(e,t,!0);return n&&Hl(a,n),Ji>0&&!r&&Fe&&(a.shapeFlag&6?Fe[Fe.indexOf(e)]=a:Fe.push(a)),a.patchFlag=-2,a}if(Zb(e)&&(e=e.__vccOpts),t){t=Vb(t);let{class:a,style:l}=t;a&&!Xt(a)&&(t.class=Pe(a)),It(l)&&(jl(l)&&!Z(l)&&(l=fe({},l)),t.style=Cl(l))}const o=Xt(e)?1:Of(e)?128:Jm(e)?64:It(e)?4:rt(e)?2:0;return A(e,t,n,s,i,o,r,!0)}function Vb(e){return e?jl(e)||pf(e)?fe({},e):e:null}function Xs(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?Hb(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Pf(c),ref:t&&t.ref?n&&r?Z(r)?r.concat(Kr(t)):[r,Kr(t)]:Kr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==At?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xs(e.ssContent),ssFallback:e.ssFallback&&Xs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&$l(u,l.clone(u)),u}function Ft(e=" ",t=0){return H(Do,null,e,t)}function kt(e="",t=!1){return t?(B(),Bt(Cn,null,e)):H(Cn,null,e)}function on(e){return e==null||typeof e=="boolean"?H(Cn):Z(e)?H(At,null,e.slice()):Xi(e)?Bn(e):H(Do,null,String(e))}function Bn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xs(e)}function Hl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Z(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Hl(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!pf(t)?t._ctx=re:i===3&&re&&(re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:re},n=32):(t=String(t),s&64?(n=16,t=[Ft(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hb(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Pe([t.class,s.class]));else if(i==="style")t.style=Cl([t.style,s.style]);else if(xo(i)){const r=t[i],o=s[i];o&&r!==o&&!(Z(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function en(e,t,n,s=null){hn(e,t,7,[n,s])}const Ub=df();let zb=0;function qb(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Ub,r={uid:zb++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ym(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bf(s,i),emitsOptions:Ef(s,i),emit:null,emitted:null,propsDefaults:St,inheritAttrs:s.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Db.bind(null,r),e.ce&&e.ce(r),r}let ue=null;const Yb=()=>ue||re;let ro,qa;{const e=Oo(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ro=t("__VUE_INSTANCE_SETTERS__",n=>ue=n),qa=t("__VUE_SSR_SETTERS__",n=>Qi=n)}const hr=e=>{const t=ue;return ro(e),e.scope.on(),()=>{e.scope.off(),ro(t)}},Hc=()=>{ue&&ue.scope.off(),ro(null)};function Cf(e){return e.vnode.shapeFlag&4}let Qi=!1;function Kb(e,t=!1,n=!1){t&&qa(t);const{props:s,children:i}=e.vnode,r=Cf(e);_b(e,s,r,t),kb(e,i,n||t);const o=r?Gb(e,t):void 0;return t&&qa(!1),o}function Gb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hb);const{setup:s}=n;if(s){Tn();const i=e.setupContext=s.length>1?Xb(e):null,r=hr(e),o=ur(s,e,0,[e.props,i]),a=Pd(o);if(Pn(),r(),(a||e.sp)&&!Ys(e)&&sf(e),a){if(o.then(Hc,Hc),t)return o.then(l=>{Uc(e,l)}).catch(l=>{Co(l,e,0)});e.asyncDep=o}else Uc(e,o)}else Af(e)}function Uc(e,t,n){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:It(t)&&(e.setupState=Xd(t)),Af(e)}function Af(e,t,n){const s=e.type;e.render||(e.render=s.render||cn);{const i=hr(e);Tn();try{db(e)}finally{Pn(),i()}}}const Jb={get(e,t){return ce(e,"get",""),e[t]}};function Xb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Jb),slots:e.slots,emit:e.emit,expose:t}}function Io(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xd($m(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Li)return Li[n](e)},has(t,n){return n in t||n in Li}})):e.proxy}function Qb(e,t=!0){return rt(e)?e.displayName||e.name:e.name||t&&e.__name}function Zb(e){return rt(e)&&"__vccOpts"in e}const Le=(e,t)=>Hm(e,t,Qi);function Mf(e,t,n){try{io(-1);const s=arguments.length;return s===2?It(t)&&!Z(t)?Xi(t)?H(e,null,[t]):H(e,t):H(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Xi(n)&&(n=[n]),H(e,t,n))}finally{io(1)}}const ty="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ya;const zc=typeof window<"u"&&window.trustedTypes;if(zc)try{Ya=zc.createPolicy("vue",{createHTML:e=>e})}catch{}const Rf=Ya?e=>Ya.createHTML(e):e=>e,ey="http://www.w3.org/2000/svg",ny="http://www.w3.org/1998/Math/MathML",_n=typeof document<"u"?document:null,qc=_n&&_n.createElement("template"),sy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?_n.createElementNS(ey,e):t==="mathml"?_n.createElementNS(ny,e):n?_n.createElement(e,{is:n}):_n.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>_n.createTextNode(e),createComment:e=>_n.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_n.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{qc.innerHTML=Rf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=qc.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},iy=Symbol("_vtc");function ry(e,t,n){const s=e[iy];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Yc=Symbol("_vod"),oy=Symbol("_vsh"),ay=Symbol(""),ly=/(?:^|;)\s*display\s*:/;function cy(e,t,n){const s=e.style,i=Xt(n);let r=!1;if(n&&!i){if(t)if(Xt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Gr(s,a,"")}else for(const o in t)n[o]==null&&Gr(s,o,"");for(const o in n)o==="display"&&(r=!0),Gr(s,o,n[o])}else if(i){if(t!==n){const o=s[ay];o&&(n+=";"+o),s.cssText=n,r=ly.test(n)}}else t&&e.removeAttribute("style");Yc in e&&(e[Yc]=r?s.display:"",e[oy]&&(s.display="none"))}const Kc=/\s*!important$/;function Gr(e,t,n){if(Z(n))n.forEach(s=>Gr(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=uy(e,t);Kc.test(n)?e.setProperty(Ss(s),n.replace(Kc,""),"important"):e[s]=n}}const Gc=["Webkit","Moz","ms"],sa={};function uy(e,t){const n=sa[t];if(n)return n;let s=He(t);if(s!=="filter"&&s in e)return sa[t]=s;s=Eo(s);for(let i=0;i<Gc.length;i++){const r=Gc[i]+s;if(r in e)return sa[t]=r}return t}const Jc="http://www.w3.org/1999/xlink";function Xc(e,t,n,s,i,r=bm(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Jc,t.slice(6,t.length)):e.setAttributeNS(Jc,t,n):n==null||r&&!Rd(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Mn(n)?String(n):n)}function Qc(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Rf(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Rd(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Fs(e,t,n,s){e.addEventListener(t,n,s)}function hy(e,t,n,s){e.removeEventListener(t,n,s)}const Zc=Symbol("_vei");function dy(e,t,n,s,i=null){const r=e[Zc]||(e[Zc]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=fy(t);if(s){const c=r[t]=my(s,i);Fs(e,a,c,l)}else o&&(hy(e,a,o,l),r[t]=void 0)}}const tu=/(?:Once|Passive|Capture)$/;function fy(e){let t;if(tu.test(e)){t={};let s;for(;s=e.match(tu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ss(e.slice(2)),t]}let ia=0;const gy=Promise.resolve(),py=()=>ia||(gy.then(()=>ia=0),ia=Date.now());function my(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;hn(by(s,n.value),t,5,[s])};return n.value=e,n.attached=py(),n}function by(e,t){if(Z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const eu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yy=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?ry(e,s,o):t==="style"?cy(e,n,s):xo(t)?Ol(t)||dy(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_y(e,t,s,o))?(Qc(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xc(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xt(s))?Qc(e,He(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Xc(e,t,s,o))};function _y(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&eu(t)&&rt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eu(t)&&Xt(n)?!1:t in e}const nu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?n=>qr(t,n):t};function vy(e){e.target.composing=!0}function su(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ra=Symbol("_assign"),we={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[ra]=nu(i);const r=s||i.props&&i.props.type==="number";Fs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=ja(a)),e[ra](a)}),n&&Fs(e,"change",()=>{e.value=e.value.trim()}),t||(Fs(e,"compositionstart",vy),Fs(e,"compositionend",su),Fs(e,"change",su))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[ra]=nu(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?ja(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},wy=fe({patchProp:yy},sy);let iu;function xy(){return iu||(iu=Eb(wy))}const ky=((...e)=>{const t=xy().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Ey(s);if(!i)return;const r=t._component;!rt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Sy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function Sy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ey(e){return Xt(e)?document.querySelector(e):e}var Ka=function(e,t){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Ka(e,t)};function Df(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ka(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var oo=function(){return oo=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(this,arguments)};function oi(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function If(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function Lf(e,t){return function(n,s){t(n,s,e)}}function jf(e,t,n,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?s.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=n.length-1;f>=0;f--){var g={};for(var p in s)g[p]=p==="access"?{}:s[p];for(var p in s.access)g.access[p]=s.access[p];g.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function Nf(e,t,n){for(var s=arguments.length>2,i=0;i<t.length;i++)n=s?t[i].call(e,n):t[i].call(e);return s?n:void 0}function $f(e){return typeof e=="symbol"?e:"".concat(e)}function Ff(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Bf(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V(e,t,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})}function Wf(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Lo=Object.create?(function(e,t,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}):(function(e,t,n,s){s===void 0&&(s=n),e[s]=t[n]});function Vf(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Lo(t,e,n)}function ao(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ul(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),i,r=[],o;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}function Hf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ul(arguments[t]));return e}function Uf(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function zf(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,r;s<i;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function qf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(g){return Promise.resolve(g).then(f,h)}}function a(f,g){s[f]&&(i[f]=function(p){return new Promise(function(m,b){r.push([f,p,m,b])>1||l(f,p)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(s[f](g))}catch(p){d(r[0][3],p)}}function c(f){f.value instanceof Qs?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,g){f(g),r.shift(),r.length&&l(r[0][0],r[0][1])}}function Yf(e){var t,n;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,r){t[i]=e[i]?function(o){return(n=!n)?{value:Qs(e[i](o)),done:!1}:r?r(o):o}:r}}function Kf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ao=="function"?ao(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(r){n[r]=e[r]&&function(o){return new Promise(function(a,l){o=e[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function Gf(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Oy=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ga=function(e){return Ga=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},Ga(e)};function Jf(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ga(e),s=0;s<n.length;s++)n[s]!=="default"&&Lo(t,e,n[s]);return Oy(t,e),t}function Xf(e){return e&&e.__esModule?e:{default:e}}function Qf(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)}function Zf(e,t,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function tg(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function eg(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:s,async:n})}else n&&e.stack.push({async:!0});return t}var Ty=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var s=new Error(n);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function ng(e){function t(r){e.error=e.hasError?new Ty(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,s=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&s===1)return s=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(r).then(i,function(o){return t(o),i()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function sg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,r,o){return s?t?".jsx":".js":i&&(!r||!o)?n:i+r+"."+o.toLowerCase()+"js"}):e}const Py={__extends:Df,__assign:oo,__rest:oi,__decorate:If,__param:Lf,__esDecorate:jf,__runInitializers:Nf,__propKey:$f,__setFunctionName:Ff,__metadata:Bf,__awaiter:V,__generator:Wf,__createBinding:Lo,__exportStar:Vf,__values:ao,__read:Ul,__spread:Hf,__spreadArrays:Uf,__spreadArray:zf,__await:Qs,__asyncGenerator:qf,__asyncDelegator:Yf,__asyncValues:Kf,__makeTemplateObject:Gf,__importStar:Jf,__importDefault:Xf,__classPrivateFieldGet:Qf,__classPrivateFieldSet:Zf,__classPrivateFieldIn:tg,__addDisposableResource:eg,__disposeResources:ng,__rewriteRelativeImportExtension:sg},Cy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eg,get __assign(){return oo},__asyncDelegator:Yf,__asyncGenerator:qf,__asyncValues:Kf,__await:Qs,__awaiter:V,__classPrivateFieldGet:Qf,__classPrivateFieldIn:tg,__classPrivateFieldSet:Zf,__createBinding:Lo,__decorate:If,__disposeResources:ng,__esDecorate:jf,__exportStar:Vf,__extends:Df,__generator:Wf,__importDefault:Xf,__importStar:Jf,__makeTemplateObject:Gf,__metadata:Bf,__param:Lf,__propKey:$f,__read:Ul,__rest:oi,__rewriteRelativeImportExtension:sg,__runInitializers:Nf,__setFunctionName:Ff,__spread:Hf,__spreadArray:zf,__spreadArrays:Uf,__values:ao,default:Py},Symbol.toStringTag,{value:"Module"})),Ay="modulepreload",My=function(e){return"/paperWeight/dist/"+e},ru={},ai=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=My(u),u in ru)return;ru[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Ay,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Ry=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ai(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class zl extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class ou extends zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class au extends zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lu extends zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ja;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ja||(Ja={}));class Dy{constructor(t,{headers:n={},customFetch:s,region:i=Ja.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Ry(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new ou(b)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new au(f);if(!f.ok)throw new lu(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"||p==="application/pdf"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new ou(r)}:{data:null,error:r,response:r instanceof lu||r instanceof au?r.context:void 0}}})}}function Iy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ig(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var oe={};const li=ig(Cy);var xr={},kr={},Sr={},Er={},Or={},Ly=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zs=Ly();const jy=Zs.fetch,rg=Zs.fetch.bind(Zs),og=Zs.Headers,Ny=Zs.Request,$y=Zs.Response,Es=Object.freeze(Object.defineProperty({__proto__:null,Headers:og,Request:Ny,Response:$y,default:rg,fetch:jy},Symbol.toStringTag,{value:"Module"})),Fy=ig(Es);var Tr={},cu;function ag(){if(cu)return Tr;cu=1,Object.defineProperty(Tr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Tr.default=e,Tr}var uu;function lg(){if(uu)return Or;uu=1,Object.defineProperty(Or,"__esModule",{value:!0});const e=li,t=e.__importDefault(Fy),n=e.__importDefault(ag());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let g=null,p=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=E:p=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{g=JSON.parse(x),Array.isArray(g)&&c.status===404&&(p=[],g=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):g={message:x}}if(g&&this.isMaybeSingle&&(!((f=g?.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,b=200,y="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:p,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return Or.default=s,Or}var hu;function cg(){if(hu)return Er;hu=1,Object.defineProperty(Er,"__esModule",{value:!0});const t=li.__importDefault(lg());class n extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Er.default=n,Er}var du;function ql(){if(du)return Sr;du=1,Object.defineProperty(Sr,"__esModule",{value:!0});const t=li.__importDefault(cg());class n extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Sr.default=n,Sr}var fu;function ug(){if(fu)return kr;fu=1,Object.defineProperty(kr,"__esModule",{value:!0});const t=li.__importDefault(ql());class n{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return kr.default=n,kr}var gu;function By(){if(gu)return xr;gu=1,Object.defineProperty(xr,"__esModule",{value:!0});const e=li,t=e.__importDefault(ug()),n=e.__importDefault(ql());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{d.searchParams.append(p,m)})):(h="POST",f=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:h,url:d,headers:g,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return xr.default=s,xr}var pu;function Wy(){if(pu)return oe;pu=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostgrestError=oe.PostgrestBuilder=oe.PostgrestTransformBuilder=oe.PostgrestFilterBuilder=oe.PostgrestQueryBuilder=oe.PostgrestClient=void 0;const e=li,t=e.__importDefault(By());oe.PostgrestClient=t.default;const n=e.__importDefault(ug());oe.PostgrestQueryBuilder=n.default;const s=e.__importDefault(ql());oe.PostgrestFilterBuilder=s.default;const i=e.__importDefault(cg());oe.PostgrestTransformBuilder=i.default;const r=e.__importDefault(lg());oe.PostgrestBuilder=r.default;const o=e.__importDefault(ag());return oe.PostgrestError=o.default,oe.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},oe}var Vy=Wy();const Hy=Iy(Vy),{PostgrestClient:Uy,PostgrestQueryBuilder:mA,PostgrestFilterBuilder:bA,PostgrestTransformBuilder:yA,PostgrestBuilder:_A,PostgrestError:vA}=Hy;class zy{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qy="2.76.1",Yy=`realtime-js/${qy}`,Ky="1.0.0",Xa=1e4,Gy=1e3,Jy=100;var $i;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($i||($i={}));var te;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(te||(te={}));var qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qe||(qe={}));var Qa;(function(e){e.websocket="websocket"})(Qa||(Qa={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class Xy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+i));o=o+i;const l=s.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class hg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const mu=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((r,o)=>(r[o]=Qy(o,e,t,i),r),{}):{}},Qy=(e,t,n,s)=>{const i=t.find(a=>a.name===e),r=i?.type,o=n[e];return r&&!s.includes(r)?dg(r,o):Za(o)},dg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return n_(t,n)}switch(e){case Tt.bool:return Zy(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return t_(t);case Tt.json:case Tt.jsonb:return e_(t);case Tt.timestamp:return s_(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Za(t);default:return Za(t)}},Za=e=>e,Zy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},e_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},n_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>dg(t,a))}return e},s_=e=>typeof e=="string"?e.replace(" ","T"):e,fg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class oa{constructor(t,n,s={},i=Xa){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bu||(bu={}));class Fi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Fi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const r=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),p=h.filter(m=>d.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(t,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yu||(yu={}));var Bi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bi||(Bi={}));var vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class Yl{constructor(t,n={config:{}},s){var i,r;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oa(this,qe.join,this.params,this.timeout),this.rejoinTimer=new hg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Fi(this),this.broadcastEndpointURL=fg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Bi.PRESENCE]&&this.bindings[Bi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(vn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(vn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t?.(vn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p?.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<m;y++){const w=p[y],{filter:{event:x,schema:S,table:E,filter:O}}=w,R=f&&f[y];if(R&&R.event===x&&R.schema===S&&R.table===E&&R.filter===O)b.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=te.errored,t?.(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vn.SUBSCRIBED);return}}).receive("error",f=>{this.state=te.errored,t?.(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===te.joined&&t===Bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new oa(this,qe.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new oa(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Jy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qe;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,p,m,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return x&&((p=n.ids)===null||p===void 0?void 0:p.includes(x))&&(S==="*"||S?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:p,table:m,commit_timestamp:b,type:y,errors:w}=g;d=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(d,s)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Yl.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mu(t.columns,t.old_record)),n}}const aa=()=>{},Pr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i_=[1e3,2e3,5e3,1e4],r_=1e4,o_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a_{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xa,this.transport=null,this.heartbeatIntervalMs=Pr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aa,this.ref=0,this.reconnectTimer=null,this.logger=aa,this.conn=null,this.sendBuffer=[],this.serializer=new Xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>ai(async()=>{const{default:a}=await Promise.resolve().then(()=>Es);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Qa.websocket}`,this.httpEndpoint=fg(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ky}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $i.connecting:return ps.Connecting;case $i.open:return ps.Open;case $i.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new Yl(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:s,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Gy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([o_],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Yy};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,r,o,a,l,c,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Xa,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Pr.HEARTBEAT_INTERVAL,this.worker=(r=t?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:aa,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>i_[h-1]||r_),this.encode=(c=t?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Kl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class l_ extends Kl{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tl extends Kl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Gl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ai(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},c_=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ai(()=>Promise.resolve().then(()=>Es),void 0)).Response:Response}),el=e=>{if(Array.isArray(e))return e.map(n=>el(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=el(s)}),t},u_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h_=(e,t,n)=>V(void 0,void 0,void 0,function*(){const s=yield c_();e instanceof s&&!n?.noResolveJson?e.json().then(i=>{const r=e.status||500,o=i?.statusCode||r+"";t(new l_(la(i),r,o))}).catch(i=>{t(new tl(la(i),i))}):t(new tl(la(e),e))}),d_=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:(u_(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function dr(e,t,n,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,d_(t,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>h_(l,a,s))})})}function Zi(e,t,n,s){return V(this,void 0,void 0,function*(){return dr(e,"GET",t,n,s)})}function ze(e,t,n,s,i){return V(this,void 0,void 0,function*(){return dr(e,"POST",t,s,i,n)})}function nl(e,t,n,s,i){return V(this,void 0,void 0,function*(){return dr(e,"PUT",t,s,i,n)})}function f_(e,t,n,s){return V(this,void 0,void 0,function*(){return dr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Jl(e,t,n,s,i){return V(this,void 0,void 0,function*(){return dr(e,"DELETE",t,s,i,n)})}class g_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}}var gg;class p_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[gg]="BlobDownloadBuilder",this.promise=null}asStream(){return new g_(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}}gg=Symbol.toStringTag;const m_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b_{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=Gl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return V(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},_u),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(t=="PUT"?nl:ze)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}upload(t,n,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return V(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:_u.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield nl(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return V(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const r=yield ze(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Kl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}update(t,n,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return V(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield ze(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return V(this,void 0,void 0,function*(){try{const i=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(t),l=()=>Zi(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new p_(l,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Zi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:el(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}exists(t){return V(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield f_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s)&&s instanceof tl){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],r=n?.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}list(t,n,s){return V(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},m_),n),{prefix:t||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}listV2(t,n){return V(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pg="2.76.1",mg={"X-Client-Info":`storage-js/${pg}`};class y_{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mg),n),this.fetch=Gl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return V(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}createBucket(t){return V(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return V(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}class __{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mg),n),this.fetch=Gl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield Zi(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}const Xl={"X-Client-Info":`storage-js/${pg}`,"Content-Type":"application/json"};class bg extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ca extends bg{constructor(t,n,s){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v_ extends bg{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var vu;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vu||(vu={}));const Ql=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ai(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},w_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x_=(e,t,n)=>V(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new ca(wu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ca(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ca(a,i,o))}}else t(new v_(wu(e),e))}),k_=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return s?(w_(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function S_(e,t,n,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,k_(t,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>x_(l,a,s))})})}function Ne(e,t,n,s,i){return V(this,void 0,void 0,function*(){return S_(e,"POST",t,s,i,n)})}class E_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Ql(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getIndex(t,n){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}}class O_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Ql(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ne(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class T_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Ql(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield Ne(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class P_ extends T_{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new C_(this.url,this.headers,t,this.fetch)}}class C_ extends E_{constructor(t,n,s,i){super(t,n,i),this.vectorBucketName=s}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new A_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class A_ extends O_{constructor(t,n,s,i,r){super(t,n,r),this.vectorBucketName=s,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class M_ extends y_{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new b_(this.url,this.headers,t,this.fetch)}get vectors(){return new P_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new __(this.url+"/iceberg",this.headers,this.fetch)}}const R_="2.76.1";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const D_={"X-Client-Info":`supabase-js-${Oi}/${R_}`},I_={headers:D_},L_={schema:"public"},j_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N_={},$_=e=>{let t;return e?t=e:typeof fetch>"u"?t=rg:t=fetch,(...n)=>t(...n)},F_=()=>typeof Headers>"u"?og:Headers,B_=(e,t,n)=>{const s=$_(n),i=F_();return async(r,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function W_(e){return e.endsWith("/")?e:e+"/"}function V_(e,t){var n,s;const{db:i,auth:r,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function H_(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yg="2.76.1",Bs=30*1e3,sl=3,ua=sl*Bs,U_="http://localhost:9999",z_="supabase.auth.token",q_={"X-Client-Info":`gotrue-js/${yg}`},il="X-Supabase-Api-Version",_g={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,K_=600*1e3;class tr extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class G_ extends tr{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function J_(e){return q(e)&&e.name==="AuthApiError"}class ms extends tr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Zn extends tr{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class $n extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X_(e){return q(e)&&e.name==="AuthSessionMissingError"}class As extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cr extends Zn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ar extends Zn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q_(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class xu extends Zn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rl extends Zn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ha(e){return q(e)&&e.name==="AuthRetryableFetchError"}class ku extends Zn{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ol extends Zn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),Z_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Su.length;t+=1)e[Su[t].charCodeAt(0)]=-2;for(let t=0;t<lo.length;t+=1)e[lo[t].charCodeAt(0)]=t;return e})();function Eu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(lo[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(lo[s]),t.queuedBits-=6}}function vg(e,t,n){const s=Z_[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ou(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{n0(o,s,n)};for(let o=0;o<e.length;o+=1)vg(e.charCodeAt(o),i,r);return t.join("")}function t0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function e0(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}t0(s,t)}}function n0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gs(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)vg(e.charCodeAt(i),n,s);return new Uint8Array(t)}function s0(e){const t=[];return e0(e,n=>t.push(n)),new Uint8Array(t)}function bs(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>Eu(i,n,s)),Eu(null,n,s),t.join("")}function i0(e){return Math.round(Date.now()/1e3)+e}function r0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Re=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},wg=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function o0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const xg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ai(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},a0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ws=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ln=async(e,t)=>{await e.removeItem(t)};class jo{constructor(){this.promise=new jo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jo.promiseConstructor=Promise;function da(e){const t=e.split(".");if(t.length!==3)throw new ol("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Y_.test(t[s]))throw new ol("JWT not in base64url format");return{header:JSON.parse(Ou(t[0])),payload:JSON.parse(Ou(t[1])),signature:Gs(t[2]),raw:{header:t[0],payload:t[1]}}}async function l0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c0(e,t){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await e(r);if(!t(r,null,o)){s(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function u0(e){return("0"+e.toString(16)).substr(-2)}function h0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,u0).join("")}async function d0(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function f0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ms(e,t,n=!1){const s=h0();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Ws(e,`${t}-code-verifier`,i);const r=await f0(s);return[r,s===r?"plain":"s256"]}const g0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p0(e){const t=e.headers.get(il);if(!t||!t.match(g0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function b0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(e){if(!y0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fa(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tu(e){return JSON.parse(JSON.stringify(e))}const hs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_0=[502,503,504];async function Pu(e){var t;if(!a0(e))throw new rl(hs(e),0);if(_0.includes(e.status))throw new rl(hs(e),e.status);let n;try{n=await e.json()}catch(r){throw new ms(hs(r),r)}let s;const i=p0(e);if(i&&i.getTime()>=_g["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new ku(hs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new $n}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new ku(hs(n),e.status,n.weak_password.reasons);throw new G_(hs(n),e.status||500,s)}const v0=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function tt(e,t,n,s){var i;const r=Object.assign({},s?.headers);r[il]||(r[il]=_g["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await w0(e,t,n+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function w0(e,t,n,s,i,r){const o=v0(t,s,i,r);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new rl(hs(l),0)}if(a.ok||await Pu(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Pu(l)}}function Ue(e){var t;let n=null;S0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=i0(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Cu(e){const t=Ue(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function x0(e){return{data:e,error:null}}function k0(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=e,o=oi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Au(e){return e}function S0(e){return e.access_token&&e.refresh_token&&e.expires_in}const ga=["global","local","others"];class E0{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=xg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ga[0]){if(ga.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ga.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=oi(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:k0,redirectTo:n?.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Au});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rs(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vn})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Rs(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Vn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Rs(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vn})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Rs(t.userId);try{const{data:n,error:s}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Rs(t.userId),Rs(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Au});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}}function Mu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ds={debug:!!(globalThis&&wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O0 extends kg{}async function T0(e,t,n){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ds.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function P0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function C0(e){return parseInt(e,16)}function A0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function M0(e){var t;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Sg(e.address),g=u?`${u}://${s}`:s,p=e.statement?`${e.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${m}
${b}`}class Jt extends Error{constructor({message:t,code:n,cause:s,name:i}){var r;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class co extends Jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function R0({error:e,options:t}){var n,s,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Eg(o)){if(r.rp.id!==o)return new Jt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function D0({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Eg(s)){if(n.rpId!==s)return new Jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class I0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const L0=new I0;function j0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,i=oi(e,["challenge","user","excludeCredentials"]),r=Gs(t).buffer,o=Object.assign(Object.assign({},n),{id:Gs(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Gs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function N0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=oi(e,["challenge","allowCredentials"]),i=Gs(t).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Gs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function $0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:bs(new Uint8Array(e.response.attestationObject)),clientDataJSON:bs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function F0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bs(new Uint8Array(i.authenticatorData)),clientDataJSON:bs(new Uint8Array(i.clientDataJSON)),signature:bs(new Uint8Array(i.signature)),userHandle:i.userHandle?bs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Eg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ru(){var e,t;return!!(Re()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function B0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new co("Browser returned unexpected credential type",t)}:{data:null,error:new co("Empty credential response",t)}}catch(t){return{data:null,error:R0({error:t,options:e})}}}async function W0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new co("Browser returned unexpected credential type",t)}:{data:null,error:new co("Empty credential response",t)}}catch(t){return{data:null,error:D0({error:t,options:e})}}}const V0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},H0={userVerification:"preferred",hints:["security-key"]};function uo(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of e)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(n(o))s[r]=o;else if(t(o)){const a=s[r];t(a)?s[r]=uo(a,o):s[r]=uo(o)}else s[r]=o}return s}function U0(e,t){return uo(V0,e,t||{})}function z0(e,t){return uo(H0,e,t||{})}class q0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??L0.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=U0(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await B0({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=z0(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await W0(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!n)return{data:null,error:new tr("rpId is required for WebAuthn authentication")};try{if(!Ru())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!n)return{data:null,error:new tr("rpId is required for WebAuthn registration")};try{if(!Ru())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in register",o)}}}}P0();const Y0={url:U_,storageKey:z_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Du(e,t,n){return await n()}const Is={};class er{get jwks(){var t,n;return(n=(t=Is[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Is[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{cachedAt:t})}constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=er.nextInstanceID,er.nextInstanceID+=1,this.instanceID>0&&Re()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Y0),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new E0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xg(i.fetch),this.lock=i.lock||Du,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Re()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=T0:this.lock=Du,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q0(this)},this.persistSession?(i.storage?this.storage=i.storage:wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=o0(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Re()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Q_(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new ms("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const r=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ue}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,s,i;try{let r;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ms(this.storage,this.storageKey)),r=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ue})}else if("phone"in t){const{phone:u,password:h,options:d}=t;r=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ue})}else throw new Cr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:o,options:a}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Cu})}else if("phone"in t){const{phone:r,password:o,options:a}=t;n=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Cu})}else throw new Cr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new As}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,i,r,o,a,l,c,u,h,d;let f,g;if("message"in t)f=t.message,g=t.signature;else{const{chain:p,wallet:m,statement:b,options:y}=t;let w;if(Re())if(typeof m=="object")w=m;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const x=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Sg(S[0]);let O=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!O){const N=await w.request({method:"eth_chainId"});O=C0(N)}const R={domain:x.host,address:E,statement:b,uri:x.href,version:"1",chainId:O,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=M0(R),g=await w.request({method:"personal_sign",params:[A0(f),E]})}try{const{data:p,error:m}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ue});if(m)throw m;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new As}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:m})}catch(p){if(q(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var n,s,i,r,o,a,l,c,u,h,d,f;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:m,wallet:b,statement:y,options:w}=t;let x;if(Re())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const S=new URL((n=w?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)g=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),p=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:m,error:b}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:bs(p)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ue});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new As}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(q(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ue});if(await Ln(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new As}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(q(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=t,a=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ue}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new As}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ms(this.storage,this.storageKey));const{error:h}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Cr("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Ue});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ms(this.storage,this.storageKey)),await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:x0})}catch(r){if(q(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new $n;const{error:i}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:r}=t,{error:o}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:r}=t,{data:o,error:a}=await tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Cr("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ua:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await rs(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=fa()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Vn})})}catch(n){if(q(n))return X_(n)&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new $n;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ms(this.storage,this.storageKey));const{data:c,error:u}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Vn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $n;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=da(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new $n;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Re())throw new Ar("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ar(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ar("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xu("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new Ar("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,u);const{data:p,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(J_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=r0(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ms(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(q(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Re()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ue}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new As}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await c0(async i=>(i>0&&await l0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ue})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ha(r)&&Date.now()+o-s<Bs})}catch(s){if(this._debug(n,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Re()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ws(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:fa()}else if(i&&!i.user&&!i.user){const o=await rs(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ln(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,i)):i.user=fa()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ua;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${ua}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ha(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jo;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new $n;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),q(r)){const o={data:null,error:r};return ha(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=Tu(i);await Ws(this.storage,this.storageKey,r)}else{const i=Tu(n);await Ws(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ln(this.storage,this.storageKey),await Ln(this.storage,this.storageKey+"-code-verifier"),await Ln(this.storage,this.storageKey+"-user"),this.userStorage&&await Ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Re()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bs}ms, refresh threshold is ${sl} ticks`),i<=sl&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Re()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ms(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$0(t.webauthn.credential_response):F0(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:j0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:N0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=da(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(a=>a.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+K_>i)return s;const{data:r,error:o}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=da(s);n?.allowExpired||m0(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=b0(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,s0(`${a}.${l}`)))throw new ol("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}er.nextInstanceID=0;const K0=er;class G0 extends K0{constructor(t){super(t)}}class J0{constructor(t,n,s){var i,r,o;this.supabaseUrl=t,this.supabaseKey=n;const a=H_(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:L_,realtime:N_,auth:Object.assign(Object.assign({},j_),{storageKey:l}),global:I_},u=V_(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=B_(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Uy(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Dy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new a_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const X0=(e,t,n)=>new J0(e,t,n);function Q0(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Q0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z0="https://gkyqqlkxpfskmtryfmyp.supabase.co",tv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",$e=X0(Z0,tv);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Vs=typeof document<"u";function Og(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ev(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Og(e.default)}const pt=Object.assign;function pa(e,t){const n={};for(const s in t){const i=t[s];n[s]=Xe(i)?i.map(e):e(i)}return n}const Wi=()=>{},Xe=Array.isArray;function Iu(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Tg=/#/g,nv=/&/g,sv=/\//g,iv=/=/g,rv=/\?/g,Pg=/\+/g,ov=/%5B/g,av=/%5D/g,Cg=/%5E/g,lv=/%60/g,Ag=/%7B/g,cv=/%7C/g,Mg=/%7D/g,uv=/%20/g;function Zl(e){return e==null?"":encodeURI(""+e).replace(cv,"|").replace(ov,"[").replace(av,"]")}function hv(e){return Zl(e).replace(Ag,"{").replace(Mg,"}").replace(Cg,"^")}function al(e){return Zl(e).replace(Pg,"%2B").replace(uv,"+").replace(Tg,"%23").replace(nv,"%26").replace(lv,"`").replace(Ag,"{").replace(Mg,"}").replace(Cg,"^")}function dv(e){return al(e).replace(iv,"%3D")}function fv(e){return Zl(e).replace(Tg,"%23").replace(rv,"%3F")}function gv(e){return fv(e).replace(sv,"%2F")}function nr(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const pv=/\/$/,mv=e=>e.replace(pv,"");function ma(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),r=t.slice(l,a>0?a:t.length),i=e(r.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=vv(s??t,n),{fullPath:s+r+o,path:s,query:i,hash:nr(o)}}function bv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Lu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function yv(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&ti(t.matched[s],n.matched[i])&&Rg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Rg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_v(e[n],t[n]))return!1;return!0}function _v(e,t){return Xe(e)?ju(e,t):Xe(t)?ju(t,e):e===t}function ju(e,t){return Xe(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function vv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ll=(function(e){return e.pop="pop",e.push="push",e})({}),ba=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function wv(e){if(!e)if(Vs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mv(e)}const xv=/^[^#]+#/;function kv(e,t){return e.replace(xv,"#")+t}function Sv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const No=()=>({left:window.scrollX,top:window.scrollY});function Ev(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Sv(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Nu(e,t){return(history.state?history.state.position-t:-1)+e}const cl=new Map;function Ov(e,t){cl.set(e,t)}function Tv(e){const t=cl.get(e);return cl.delete(e),t}function Pv(e){return typeof e=="string"||e&&typeof e=="object"}function Dg(e){return typeof e=="string"||typeof e=="symbol"}let Wt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Ig=Symbol("");Wt.MATCHER_NOT_FOUND+"",Wt.NAVIGATION_GUARD_REDIRECT+"",Wt.NAVIGATION_ABORTED+"",Wt.NAVIGATION_CANCELLED+"",Wt.NAVIGATION_DUPLICATED+"";function ei(e,t){return pt(new Error,{type:e,[Ig]:!0},t)}function gn(e,t){return e instanceof Error&&Ig in e&&(t==null||!!(e.type&t))}const Cv=["params","query","hash"];function Av(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Cv)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Mv(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Pg," "),r=i.indexOf("="),o=nr(r<0?i:i.slice(0,r)),a=r<0?null:nr(i.slice(r+1));if(o in t){let l=t[o];Xe(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function $u(e){let t="";for(let n in e){const s=e[n];if(n=dv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xe(s)?s.map(i=>i&&al(i)):[s&&al(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Rv(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Xe(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const Dv=Symbol(""),Fu=Symbol(""),$o=Symbol(""),tc=Symbol(""),ul=Symbol("");function gi(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Wn(e,t,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ei(Wt.NAVIGATION_ABORTED,{from:n,to:t})):d instanceof Error?l(d):Pv(d)?l(ei(Wt.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(s&&s.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function ya(e,t,n,s,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Og(l)){const c=(l.__vccOpts||l)[t];c&&r.push(Wn(c,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=ev(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Wn(d,n,s,o,a,i)()}))}}return r}function Iv(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>ti(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>ti(c,l))||i.push(l))}return[n,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Lv=()=>location.protocol+"//"+location.host;function Lg(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let o=i.includes(e.slice(r))?e.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Lu(a,"")}return Lu(n,e)+s+i}function jv(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=Lg(e,location),g=n.value,p=t.value;let m=0;if(d){if(n.value=f,t.value=d,o&&o===g){o=null;return}m=p?d.position-p.position:0}else s(f);i.forEach(b=>{b(n.value,g,{delta:m,type:ll.pop,direction:m?m>0?ba.forward:ba.back:ba.unknown})})};function l(){o=n.value}function c(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(pt({},d.state,{scroll:No()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Bu(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?No():null}}function Nv(e){const{history:t,location:n}=window,s={value:Lg(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Lv()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){r(l,pt({},t.state,Bu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=pt({},i.value,t.state,{forward:l,scroll:No()});r(u.current,u,!0),r(l,pt({},Bu(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function $v(e){e=wv(e);const t=Nv(e),n=jv(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=pt({location:"",base:e,go:s,createHref:kv.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Fv(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),$v(e)}let ys=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Zt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Zt||{});const Bv={type:ys.Static,value:""},Wv=/[a-zA-Z0-9_]/;function Vv(e){if(!e)return[[]];if(e==="/")return[[Bv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=Zt.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===Zt.Static?r.push({type:ys.Static,value:c}):n===Zt.Param||n===Zt.ParamRegExp||n===Zt.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:ys.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==Zt.ParamRegExp){s=n,n=Zt.EscapeNext;continue}switch(n){case Zt.Static:l==="/"?(c&&h(),o()):l===":"?(h(),n=Zt.Param):d();break;case Zt.EscapeNext:d(),n=s;break;case Zt.Param:l==="("?n=Zt.ParamRegExp:Wv.test(l)?d():(h(),n=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Zt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=Zt.ParamRegExpEnd:u+=l;break;case Zt.ParamRegExpEnd:h(),n=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===Zt.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const Wu="[^/]+?",Hv={sensitive:!1,strict:!1,start:!0,end:!0};var ye=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(ye||{});const Uv=/[.+*?^${}()[\]/\\]/g;function zv(e,t){const n=pt({},Hv,t),s=[];let i=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[ye.Root];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=ye.Segment+(n.sensitive?ye.BonusCaseSensitive:0);if(d.type===ys.Static)h||(i+="/"),i+=d.value.replace(Uv,"\\$&"),f+=ye.Static;else if(d.type===ys.Param){const{value:g,repeatable:p,optional:m,regexp:b}=d;r.push({name:g,repeatable:p,optional:m});const y=b||Wu;if(y!==Wu){f+=ye.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+x.message)}}let w=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,f+=ye.Dynamic,m&&(f+=ye.BonusOptional),p&&(f+=ye.BonusRepeatable),y===".*"&&(f+=ye.BonusWildcard)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=ye.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=r[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===ys.Static)u+=f.value;else if(f.type===ys.Param){const{value:g,repeatable:p,optional:m}=f,b=g in c?c[g]:"";if(Xe(b)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Xe(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function qv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===ye.Static+ye.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ye.Static+ye.Segment?1:-1:0}function jg(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=qv(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Vu(s))return 1;if(Vu(i))return-1}return i.length-s.length}function Vu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Yv={strict:!1,end:!0,sensitive:!1};function Kv(e,t,n){const s=zv(Vv(e.path),n),i=pt(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Gv(e,t){const n=[],s=new Map;t=Iu(Yv,t);function i(h){return s.get(h)}function r(h,d,f){const g=!f,p=Uu(h);p.aliasOf=f&&f.record;const m=Iu(t,h),b=[p];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of x)b.push(Uu(pt({},p,{components:f?f.record.components:p.components,path:S,aliasOf:f?f.record:p})))}let y,w;for(const x of b){const{path:S}=x;if(d&&S[0]!=="/"){const E=d.record.path,O=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(S&&O+S)}if(y=Kv(x,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),g&&h.name&&!zu(y)&&o(h.name)),Ng(y)&&l(y),p.children){const E=p.children;for(let O=0;O<E.length;O++)r(E[O],y,f&&f.children[O])}f=f||y}return w?()=>{o(w)}:Wi}function o(h){if(Dg(h)){const d=s.get(h);d&&(s.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=Qv(h,n);n.splice(d,0,h),h.record.name&&!zu(h)&&s.set(h.record.name,h)}function c(h,d){let f,g={},p,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ei(Wt.MATCHER_NOT_FOUND,{location:h});m=f.record.name,g=pt(Hu(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&Hu(h.params,f.keys.map(w=>w.name))),p=f.stringify(g)}else if(h.path!=null)p=h.path,f=n.find(w=>w.re.test(p)),f&&(g=f.parse(p),m=f.record.name);else{if(f=d.name?s.get(d.name):n.find(w=>w.re.test(d.path)),!f)throw ei(Wt.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,g=pt({},d.params,h.params),p=f.stringify(g)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:p,params:g,matched:b,meta:Xv(b)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Hu(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Uu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Jv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Jv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function zu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Xv(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function Qv(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;jg(e,t[r])<0?s=r:n=r+1}const i=Zv(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function Zv(e){let t=e;for(;t=t.parent;)if(Ng(t)&&jg(e,t)===0)return t}function Ng({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function qu(e){const t=Ge($o),n=Ge(tc),s=Le(()=>{const l=ee(e.to);return t.resolve(l)}),i=Le(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(ti.bind(null,u));if(d>-1)return d;const f=Yu(l[c-2]);return c>1&&Yu(u)===f&&h[h.length-1].path!==f?h.findIndex(ti.bind(null,l[c-2])):d}),r=Le(()=>i.value>-1&&sw(n.params,s.value.params)),o=Le(()=>i.value>-1&&i.value===n.matched.length-1&&Rg(n.params,s.value.params));function a(l={}){if(nw(l)){const c=t[ee(e.replace)?"replace":"push"](ee(e.to)).catch(Wi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Le(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function tw(e){return e.length===1?e[0]:e}const ew=yt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qu,setup(e,{slots:t}){const n=Po(qu(e)),{options:s}=Ge($o),i=Le(()=>({[Ku(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ku(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&tw(t.default(n));return e.custom?r:Mf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),ec=ew;function nw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sw(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Xe(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Yu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ku=(e,t,n)=>e??t??n,iw=yt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ge(ul),i=Le(()=>e.route||s.value),r=Ge(Fu,0),o=Le(()=>{let c=ee(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Le(()=>i.value.matched[o.value]);Yr(Fu,Le(()=>o.value+1)),Yr(Dv,a),Yr(ul,i);const l=Q();return ji(()=>[l.value,a.value,e.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ti(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Gu(n.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Mf(d,pt({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Gu(n.default,{Component:m,route:c})||m}}});function Gu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $g=iw;function rw(e){const t=Gv(e.routes,e),n=e.parseQuery||Mv,s=e.stringifyQuery||$u,i=e.history,r=gi(),o=gi(),a=gi(),l=Fm(jn);let c=jn;Vs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pa.bind(null,C=>""+C),h=pa.bind(null,gv),d=pa.bind(null,nr);function f(C,W){let $,U;return Dg(C)?($=t.getRecordMatcher(C),U=W):U=C,t.addRoute(U,$)}function g(C){const W=t.getRecordMatcher(C);W&&t.removeRoute(W)}function p(){return t.getRoutes().map(C=>C.record)}function m(C){return!!t.getRecordMatcher(C)}function b(C,W){if(W=pt({},W||l.value),typeof C=="string"){const k=ma(n,C,W.path),P=t.resolve({path:k.path},W),M=i.createHref(k.fullPath);return pt(k,P,{params:d(P.params),hash:nr(k.hash),redirectedFrom:void 0,href:M})}let $;if(C.path!=null)$=pt({},C,{path:ma(n,C.path,W.path).path});else{const k=pt({},C.params);for(const P in k)k[P]==null&&delete k[P];$=pt({},C,{params:h(k)}),W.params=h(W.params)}const U=t.resolve($,W),ht=C.hash||"";U.params=u(d(U.params));const _=bv(s,pt({},C,{hash:hv(ht),path:U.path})),v=i.createHref(_);return pt({fullPath:_,hash:ht,query:s===$u?Rv(C.query):C.query||{}},U,{redirectedFrom:void 0,href:v})}function y(C){return typeof C=="string"?ma(n,C,l.value.path):pt({},C)}function w(C,W){if(c!==C)return ei(Wt.NAVIGATION_CANCELLED,{from:W,to:C})}function x(C){return O(C)}function S(C){return x(pt(y(C),{replace:!0}))}function E(C,W){const $=C.matched[C.matched.length-1];if($&&$.redirect){const{redirect:U}=$;let ht=typeof U=="function"?U(C,W):U;return typeof ht=="string"&&(ht=ht.includes("?")||ht.includes("#")?ht=y(ht):{path:ht},ht.params={}),pt({query:C.query,hash:C.hash,params:ht.path!=null?{}:C.params},ht)}}function O(C,W){const $=c=b(C),U=l.value,ht=C.state,_=C.force,v=C.replace===!0,k=E($,U);if(k)return O(pt(y(k),{state:typeof k=="object"?pt({},ht,k.state):ht,force:_,replace:v}),W||$);const P=$;P.redirectedFrom=W;let M;return!_&&yv(s,U,$)&&(M=ei(Wt.NAVIGATION_DUPLICATED,{to:P,from:U}),me(U,U,!0,!1)),(M?Promise.resolve(M):Y(P,U)).catch(T=>gn(T)?gn(T,Wt.NAVIGATION_GUARD_REDIRECT)?T:pe(T):at(T,P,U)).then(T=>{if(T){if(gn(T,Wt.NAVIGATION_GUARD_REDIRECT))return O(pt({replace:v},y(T.to),{state:typeof T.to=="object"?pt({},ht,T.to.state):ht,force:_}),W||P)}else T=ot(P,U,!0,v,ht);return J(P,U,T),T})}function R(C,W){const $=w(C,W);return $?Promise.reject($):Promise.resolve()}function N(C){const W=xe.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(C):C()}function Y(C,W){let $;const[U,ht,_]=Iv(C,W);$=ya(U.reverse(),"beforeRouteLeave",C,W);for(const k of U)k.leaveGuards.forEach(P=>{$.push(Wn(P,C,W))});const v=R.bind(null,C,W);return $.push(v),Gt($).then(()=>{$=[];for(const k of r.list())$.push(Wn(k,C,W));return $.push(v),Gt($)}).then(()=>{$=ya(ht,"beforeRouteUpdate",C,W);for(const k of ht)k.updateGuards.forEach(P=>{$.push(Wn(P,C,W))});return $.push(v),Gt($)}).then(()=>{$=[];for(const k of _)if(k.beforeEnter)if(Xe(k.beforeEnter))for(const P of k.beforeEnter)$.push(Wn(P,C,W));else $.push(Wn(k.beforeEnter,C,W));return $.push(v),Gt($)}).then(()=>(C.matched.forEach(k=>k.enterCallbacks={}),$=ya(_,"beforeRouteEnter",C,W,N),$.push(v),Gt($))).then(()=>{$=[];for(const k of o.list())$.push(Wn(k,C,W));return $.push(v),Gt($)}).catch(k=>gn(k,Wt.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function J(C,W,$){a.list().forEach(U=>N(()=>U(C,W,$)))}function ot(C,W,$,U,ht){const _=w(C,W);if(_)return _;const v=W===jn,k=Vs?history.state:{};$&&(U||v?i.replace(C.fullPath,pt({scroll:v&&k&&k.scroll},ht)):i.push(C.fullPath,ht)),l.value=C,me(C,W,$,v),pe()}let xt;function Qt(){xt||(xt=i.listen((C,W,$)=>{if(!Ce.listening)return;const U=b(C),ht=E(U,Ce.currentRoute.value);if(ht){O(pt(ht,{replace:!0,force:!0}),U).catch(Wi);return}c=U;const _=l.value;Vs&&Ov(Nu(_.fullPath,$.delta),No()),Y(U,_).catch(v=>gn(v,Wt.NAVIGATION_ABORTED|Wt.NAVIGATION_CANCELLED)?v:gn(v,Wt.NAVIGATION_GUARD_REDIRECT)?(O(pt(y(v.to),{force:!0}),U).then(k=>{gn(k,Wt.NAVIGATION_ABORTED|Wt.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===ll.pop&&i.go(-1,!1)}).catch(Wi),Promise.reject()):($.delta&&i.go(-$.delta,!1),at(v,U,_))).then(v=>{v=v||ot(U,_,!1),v&&($.delta&&!gn(v,Wt.NAVIGATION_CANCELLED)?i.go(-$.delta,!1):$.type===ll.pop&&gn(v,Wt.NAVIGATION_ABORTED|Wt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),J(U,_,v)}).catch(Wi)}))}let ut=gi(),it=gi(),K;function at(C,W,$){pe(C);const U=it.list();return U.length?U.forEach(ht=>ht(C,W,$)):console.error(C),Promise.reject(C)}function Et(){return K&&l.value!==jn?Promise.resolve():new Promise((C,W)=>{ut.add([C,W])})}function pe(C){return K||(K=!C,Qt(),ut.list().forEach(([W,$])=>C?$(C):W()),ut.reset()),C}function me(C,W,$,U){const{scrollBehavior:ht}=e;if(!Vs||!ht)return Promise.resolve();const _=!$&&Tv(Nu(C.fullPath,0))||(U||!$)&&history.state&&history.state.scroll||null;return Hn().then(()=>ht(C,W,_)).then(v=>v&&Ev(v)).catch(v=>at(v,C,W))}const zt=C=>i.go(C);let Be;const xe=new Set,Ce={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:p,resolve:b,options:e,push:x,replace:S,go:zt,back:()=>zt(-1),forward:()=>zt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:it.add,isReady:Et,install(C){C.component("RouterLink",ec),C.component("RouterView",$g),C.config.globalProperties.$router=Ce,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>ee(l)}),Vs&&!Be&&l.value===jn&&(Be=!0,x(i.location).catch(U=>{}));const W={};for(const U in jn)Object.defineProperty(W,U,{get:()=>l.value[U],enumerable:!0});C.provide($o,Ce),C.provide(tc,Gd(W)),C.provide(ul,l);const $=C.unmount;xe.add(C),C.unmount=function(){xe.delete(C),xe.size<1&&(c=jn,xt&&xt(),xt=null,l.value=jn,Be=!1,K=!1),$()}}};function Gt(C){return C.reduce((W,$)=>W.then(()=>N($)),Promise.resolve())}return Ce}function ci(){return Ge($o)}function ow(e){return Ge(tc)}const aw=yt({__name:"App",setup(e){const t=ci(),n=ow();async function s(){n.name==="SignIn"||n.name==="SignUp"||(await $e.auth.getUser()).data.user||t.push({name:"SignIn"})}return s(),(i,r)=>(B(),Bt(ee($g)))}}),lw={key:0,class:"bubbleError"},cw=yt({__name:"ErrorBubble",props:["errorMsg"],setup(e){return(t,n)=>e.errorMsg?(B(),nt("div",lw,[n[0]||(n[0]=A("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),A("p",null,Mt(e.errorMsg),1)])):kt("",!0)}}),Rt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},Fg=Rt(cw,[["__scopeId","data-v-26b1daef"]]),uw={},hw={class:"loading"};function dw(e,t){return B(),nt("div",hw,[...t[0]||(t[0]=[A("i",{class:"fa-solid fa-spinner"},null,-1)])])}const ui=Rt(uw,[["render",dw],["__scopeId","data-v-72d81299"]]),fw=["disabled"],gw=yt({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e,s=t;return(i,r)=>(B(),nt("button",{class:Pe(["bubbleButton",{red:n.red},{fullWidth:n.fullWidth}]),disabled:e.loading,onClick:r[0]||(r[0]=o=>s("click"))},[lf(i.$slots,"default",{},void 0),Ft(" "+Mt(e.label||""),1)],10,fw))}}),An=Rt(gw,[["__scopeId","data-v-2fc2d1c3"]]),pw={class:"margins"},mw={key:0},bw=yt({__name:"SignInView",setup(e){const t=ci(),n=Q(""),s=Q(""),i=Q(null),r=Q(!0),o=Q(!1);async function a(){try{r.value=!0,i.value=null,o.value=!1;const{data:c,error:u}=await $e.auth.signInWithPassword({email:n.value,password:s.value});if(u)throw u;o.value=!0,t.push({name:"Home"})}catch(c){i.value=c.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function l(){if(!(await $e.auth.getUser()).data.user){r.value=!1;return}t.push({name:"Home"})}return l(),(c,u)=>(B(),nt(At,null,[r.value?(B(),Bt(ui,{key:0})):kt("",!0),A("div",pw,[u[4]||(u[4]=A("h2",null,"Sign In",-1)),u[5]||(u[5]=A("h3",null,"Email",-1)),ve(A("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),type:"email",placeholder:"example@example.com"},null,512),[[we,n.value]]),u[6]||(u[6]=A("h3",null,"Password",-1)),ve(A("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[we,s.value]]),H(An,{loading:r.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),A("p",null,[H(ee(ec),{to:{name:"SignUp"}},{default:Je(()=>[...u[3]||(u[3]=[Ft("Don't have an account? Sign Up",-1)])]),_:1})]),H(Fg,{errorMsg:i.value},null,8,["errorMsg"]),o.value?(B(),nt("div",mw,"You are now signed in.")):kt("",!0)])],64))}}),yw=Rt(bw,[["__scopeId","data-v-94565b56"]]),_w={class:"margins"},vw=["disabled"],ww={__name:"SignUpView",setup(e){const t=ci(),n=Q(""),s=Q(""),i=Q(""),r=Q(!1),o=Q("");async function a(){try{r.value=!0;const{error:l}=await $e.auth.signUp({email:s.value,password:i.value,options:{data:{display_name:n.value}}});if(l)throw l;t.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{r.value=!1}}return(l,c)=>(B(),nt(At,null,[r.value?(B(),Bt(ui,{key:0})):kt("",!0),A("div",_w,[c[3]||(c[3]=A("h2",null,"Sign Up",-1)),c[4]||(c[4]=A("h3",null,"Display name",-1)),ve(A("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[we,n.value]]),c[5]||(c[5]=A("h3",null,"Email",-1)),ve(A("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[we,s.value]]),c[6]||(c[6]=A("h3",null,"Password",-1)),ve(A("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[we,i.value]]),A("button",{class:"bubbleButton",disabled:r.value,onClick:a},"Sign Up",8,vw),H(Fg,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},xw=Rt(ww,[["__scopeId","data-v-f3ba868a"]]),kw={},Sw={class:"cont"};function Ew(e,t){return B(),nt("div",Sw,[...t[0]||(t[0]=[A("i",{class:"fa-solid fa-envelope"},null,-1),A("h1",null,"Please check your email to finalise your account.",-1),A("h3",null,"Follow the link, then login using your email and password.",-1)])])}const Ow=Rt(kw,[["render",Ew],["__scopeId","data-v-ab9688cb"]]),Tw={class:"navLabel"},Pw=yt({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(e){return ci(),(t,n)=>(B(),Bt(ee(ec),{to:e.route,class:Pe("navLink"+(e.active===e.route?" active":""))},{default:Je(()=>[A("i",{class:Pe(e.icon)},null,2),A("span",Tw,Mt(e.label),1)]),_:1},8,["to","class"]))}}),_a=Rt(Pw,[["__scopeId","data-v-e368bd76"]]),Cw={class:"nav-bar"},Aw=yt({__name:"NavBar",props:{active:{}},setup(e){return(t,n)=>(B(),nt("nav",Cw,[H(_a,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:e.active},null,8,["active"]),H(_a,{label:"Home",icon:"fas fa-home",route:"/home",active:e.active},null,8,["active"]),H(_a,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:e.active},null,8,["active"])]))}}),Fo=Rt(Aw,[["__scopeId","data-v-bb3b9011"]]),Mw={key:0,class:"item"},pi=yt({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(e){return(t,n)=>e.label?(B(),nt("div",Mw,[e.icon?(B(),nt("i",{key:0,class:Pe(e.icon)},null,2)):kt("",!0),Ft(" "+Mt(e.label),1)])):kt("",!0)}}),Rw=yt({__name:"IconButton",props:{icon:{}},emits:["click"],setup(e,{emit:t}){return(n,s)=>(B(),nt("button",{onClick:s[0]||(s[0]=i=>n.$emit("click")),class:"icon-button"},[A("i",{class:Pe(e.icon)},null,2)]))}}),Dw=Rt(Rw,[["__scopeId","data-v-667d6651"]]),Iw={class:"popupOverlay"},Lw={class:"popupContainer softBubble"},jw={class:"buttonContainer"},Nw=yt({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:t}){return(n,s)=>(B(),nt("div",Iw,[A("div",Lw,[A("h2",null,Mt(e.title),1),A("p",null,[Ft(Mt(e.message)+" ",1),lf(n.$slots,"default",{},void 0)]),A("div",jw,[H(An,{label:e.confirmText,red:e.confirmRed||!1,loading:!1,onClick:s[0]||(s[0]=i=>n.$emit("confirm"))},null,8,["label","red"]),H(An,{label:e.cancelText,red:e.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>n.$emit("cancel"))},null,8,["label","red"])])])]))}}),fr=Rt(Nw,[["__scopeId","data-v-3425d997"]]),$w=yt({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(B(),Bt(fr,{key:0,title:`Delete Workout: ${e.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):kt("",!0)}}),Fw={class:"thumbnail"},Bw={class:"greyed"},Ww={class:"items"},Vw={id:"deleteContainer"},Hw=yt({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(e,{emit:t}){ci();const n=e,s=t,i=Q(!1),r=Q(!1);async function o(){i.value=!0,await n.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=lb("RouterLink");return B(),nt(At,null,[i.value?(B(),Bt(ui,{key:0})):kt("",!0),H($w,{visible:r.value,workout:e.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),A("div",Fw,[H(c,{class:"link",to:`/viewWorkout/${e.workout.getId()}`},{default:Je(()=>[A("h3",null,[Ft(Mt(e.workout.getTitle())+" ",1),A("span",Bw,Mt(e.workout.getDateString()),1)])]),_:1},8,["to"]),A("div",Ww,[H(pi,{icon:"fa-solid fa-dumbbell",label:e.workout.getVolumeString()},null,8,["label"]),H(pi,{icon:"fa-solid fa-clock",label:e.workout.getDurationString()},null,8,["label"]),H(pi,{icon:"fa-solid fa-list",label:e.workout.countSetsString()},null,8,["label"]),H(pi,{icon:"fa-solid fa-fire",label:e.workout.getEnergyString()},null,8,["label"]),H(pi,{icon:"fa-solid fa-heart",label:e.workout.getHeartRateString()},null,8,["label"])]),A("div",Vw,[H(Dw,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),Uw=Rt(Hw,[["__scopeId","data-v-7a888e2c"]]),zw={},qw={class:"container"};function Yw(e,t){return B(),nt("div",qw,[...t[0]||(t[0]=[A("i",{class:"fas fa-dumbbell fa-8x"},null,-1),A("h2",null,"No Workouts Found",-1),A("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const Kw=Rt(zw,[["render",Yw],["__scopeId","data-v-56405e8b"]]);class Ju{name;sets;notes;workout;constructor(t,n){this.name=t.exercise,this.sets=t.sets,this.notes=t.notes,this.workout=n}deserialize(){return{exercise:this.name,sets:this.sets,notes:this.notes}}addNewSet(){if(this.sets.length===0){this.sets.push({reps:0,weight:0,unit:"kg",notes:""});return}const t=this.sets[this.sets.length-1],n={reps:t.reps,weight:t.weight,unit:t.unit,notes:t.notes};this.sets.push(n),this.workout.changeMade()}removeSet(t){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets.splice(t,1),this.workout.changeMade()}removeFromWorkout(){const t=this.workout.getExercises().indexOf(this);if(t===-1)throw new Error("Exercise not found in workout");this.workout.removeExercise(t)}updateSet(t,n){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets[t]=n,this.workout.changeMade()}setName(t){this.name=t,this.workout.changeMade()}setNotes(t){this.notes=t,this.workout.changeMade()}reorderUp(){const t=this.workout.getExercises(),n=t.indexOf(this);n<=0||([t[n-1],t[n]]=[t[n],t[n-1]],this.workout.setExercises(t))}reorderDown(){const t=this.workout.getExercises(),n=t.indexOf(this);n===-1||n>=t.length-1||([t[n+1],t[n]]=[t[n],t[n+1]],this.workout.setExercises(t))}getVolume(){let t=0;for(const n of this.sets){let s=n.reps*n.weight;n.unit==="lbs"&&(s=s*.453592),t+=s}return t}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}getWorkout(){return this.workout}}class Bg{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;constructor(t){this.exercises=[],this.title=t.title,this.workout_id=t.workout_id,this.start_time=new Date(t.start_time),this.end_time=new Date(t.end_time),this.created_at=new Date(t.created_at),this.notes=t.notes,this.energy=t.energy,this.heart_rate=t.heart_rate;for(const n of t.exercises_full)this.exercises.push(new Ju(n,this))}async deleteWorkout(){const{data:t,error:n}=await $e.from("workouts").delete().eq("workout_id",this.workout_id);n&&console.error("Failed to delete workout:",n)}changeMade(){this.unsavedChanges++,!this.saving&&this.saveChanges()}async saveChanges(){this.saving=!0;const t=this.unsavedChanges,{data:n,error:s}=await $e.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(s&&console.error("Failed to save workout changes:",s),this.unsavedChanges-=t,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(t){if(t<0||t>=this.exercises.length)throw new Error("Index out of bounds");this.exercises.splice(t,1),this.changeMade()}addEmptyExercise(){const t={exercise:"New Exercise",sets:[],notes:""},n=new Ju(t,this);this.exercises.push(n),this.changeMade()}setExercises(t){this.exercises=t,this.changeMade()}setHeartRate(t){this.heart_rate=t,this.changeMade()}setEnergy(t){this.energy=t,this.changeMade()}setTitle(t){this.title=t,this.changeMade()}setStartDate(t){this.start_time=t,this.changeMade()}setEndDate(t){this.end_time=t,this.changeMade()}deserialize(){const t=[],n=[];for(const s of this.exercises)t.push(s.deserialize()),n.push(s.getName());return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:t,exercises:n,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate}}savingInProgress(){return console.log("in progress"),this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const t=this.getEnergy();return t===null?null:`${t} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let t=0;for(const n of this.exercises)t+=n.getVolume();return t}getVolumeString(){const t=this.getVolume();return t===0?null:`${t} kg`}countSets(){let t=0;for(const n of this.exercises)t+=n.countSets();return t}countSetsString(){const t=this.countSets();return t===0?null:`${t} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const t=this.getDuration();if(t<=0)return null;const n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return n>0&&r.push(`${n}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return this.exercises.length}}async function Wg(){const e=await $e.from("workouts").select(),t=[];for(const n of e.data||[])t.push(new Bg(n));return t.sort((n,s)=>s.getStartTime().getTime()-n.getStartTime().getTime()),t}const Gw={class:"viewArea"},Jw={class:"thumbnailContainer"},Xw=yt({__name:"HomeView",setup(e){const t=Q([]),n=Q(!0);Dn(async()=>{await s()});async function s(){t.value=await Wg(),n.value=!1}return(i,r)=>(B(),nt(At,null,[n.value?(B(),Bt(ui,{key:0})):kt("",!0),H(Fo,{active:"/home"}),A("div",Gw,[A("div",Jw,[(B(!0),nt(At,null,Mo(t.value,o=>(B(),Bt(Uw,{key:o.getId(),workout:o,onReload:r[0]||(r[0]=a=>s())},null,8,["workout"]))),128))]),!n.value&&t.value.length===0?(B(),Bt(Kw,{key:0})):kt("",!0)])],64))}}),Qw=Rt(Xw,[["__scopeId","data-v-109a1d61"]]),Zw={key:0,id:"urlsCount"},tx=yt({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(e){return(t,n)=>e.pageCount>0?(B(),nt("div",Zw,[Ft(" pages "+Mt(e.pageCount)+" ",1),H(An,{label:"Upload",loading:!1,onClick:n[0]||(n[0]=s=>t.$emit("uploadWorkoutData"))}),H(An,{label:"Retake",loading:!1,onClick:n[1]||(n[1]=s=>t.$emit("retakePhoto"))})])):kt("",!0)}}),ex=Rt(tx,[["__scopeId","data-v-0d77d51b"]]),nx={class:"viewArea"},sx=yt({__name:"UploadView",setup(e){const t=Q(0),n=ci(),s=Q(null),i=Q(null),r=Q([]),o=Q(0),a=Q(null);Dn(async()=>{const g={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(g).then(p=>{a.value=p,s?s.value.srcObject=p:console.error("Video element not found")}).catch(p=>{console.error("Error accessing camera: ",p)})}),af(()=>{a.value&&a.value.getTracks().forEach(g=>g.stop())});const l=async()=>{if(!s.value||!i.value){console.error("Video or canvas element not found");return}const{data:{user:g},error:p}=await $e.auth.getUser();if(p||!g){console.error("User not authenticated");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const m=i.value.getContext("2d");if(!m){console.error("Failed to get canvas context");return}m.drawImage(s.value,0,0),i.value.toBlob(async b=>{if(!b){console.error("Failed to capture image");return}const y=new File([b],`photo-${Date.now()}-${g.id}.jpg`,{type:"image/jpeg"}),{data:w,error:x}=await $e.storage.from("workoutImage").upload(`photos/${g.id}/${y.name}`,y,{contentType:"image/jpeg",upsert:!1});if(x){console.error("Error uploading image: ",x);return}r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${w.path}`),o.value++},"image/jpeg",.8)};function c(g,p){let m=p?g.startTime:g.endTime;if(!m)return null;const b=new Date;return m.year||(m.year=b.getFullYear()),m.month||(m.month=b.getMonth()+1),m.day||(m.day=b.getDate()),m.hour||(m.hour=b.getHours()),m.minute||(m.minute=b.getMinutes()),new Date(m.year,m.month-1,m.day,m.hour,m.minute,0)}async function u(g){t.value++;const p=c(g,!0),m=c(g,!1);let b=[];for(const S of g.exercises||[])b.push(S.exercise);let y=g.energy&&g.energy.amount||null;y!=null&&g.energy.unit==="kJ"&&(y=y/4.184),y!=null&&(y=Math.round(y));const w=g.heart_rate||null,x=(await $e.auth.getUser()).data.user?.id;return t.value--,{user_id:x,start_time:p?p.toISOString():null,end_time:m?m.toISOString():null,title:g.title||"unnamed workout",exercises_full:g.exercises||[],exercises:b,notes:g.notes||"",energy:y,heart_rate:w}}async function h(){const g=await f(r.value);if(!g){console.error("No workout data generated");return}const{data:p,error:m}=await d(g);if(m){console.error("Error uploading workout data: ",m);return}n.push({name:"Home"})}async function d(g){t.value++;const{data:p,error:m}=await $e.from("workouts").insert([await u(g)]);return m?(console.error("Error uploading workout data: ",m),t.value--,{data:p,error:m}):(t.value--,{data:p,error:m})}async function f(g){t.value++;const{data:p,error:m}=await $e.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:g}});return m?(console.error("Error invoking function: ",m),t.value--,""):(t.value--,p)}return(g,p)=>(B(),nt(At,null,[t.value>0?(B(),Bt(ui,{key:0})):kt("",!0),A("div",nx,[A("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),A("button",{class:"captureButton",onClick:p[0]||(p[0]=m=>l())}),H(ex,{pageCount:o.value,onUploadWorkoutData:p[1]||(p[1]=m=>h()),onRetakePhoto:p[2]||(p[2]=m=>{r.value.pop(),o.value--})},null,8,["pageCount"]),A("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)]),H(Fo,{active:"/upload"})],64))}}),ix=Rt(sx,[["__scopeId","data-v-230de188"]]),rx={key:0,class:"overview-item"},ox={class:"overview-title"},ax={class:"overview-value"},lx=yt({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(e){return(t,n)=>e.value?(B(),nt("div",rx,[A("p",ox,Mt(e.label),1),A("h1",ax,[A("i",{class:Pe(e.icon+" overview-icon")},null,2),Ft(Mt(e.value),1)])])):kt("",!0)}}),mi=Rt(lx,[["__scopeId","data-v-5430079f"]]),cx={class:"softBubble overview"},ux=yt({__name:"WorkoutOverview",props:{workout:{}},setup(e){return(t,n)=>(B(),nt("div",cx,[H(mi,{icon:"fa-solid fa-clock",label:"duration",value:e.workout.getDurationString()},null,8,["value"]),H(mi,{icon:"fa-solid fa-dumbbell",label:"volume",value:e.workout.getVolume()+" kg"},null,8,["value"]),H(mi,{icon:"fa-solid fa-list",label:"sets",value:e.workout.countSets()},null,8,["value"]),H(mi,{icon:"fa-solid fa-fire",label:"energy",value:e.workout.getEnergyString()},null,8,["value"]),H(mi,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:e.workout.getHeartRateString()},null,8,["value"])]))}}),hx=Rt(ux,[["__scopeId","data-v-0d1ed2c2"]]),dx={class:"inputs"},fx={class:"flexCol"},gx=yt({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(e,{emit:t}){const n=Q(0),s=Q(0),i=Q(""),r=e,o=t;function a(){const c={weight:Number(n.value),reps:Number(s.value),notes:i.value,unit:r.set.units||"kg"};r.exercise.updateSet(r.index,c),o("cancel")}function l(){n.value=r.set.weight||0,s.value=r.set.reps||0,i.value=r.set.notes||""}return Dn(()=>{l()}),Fl(()=>{l()}),(c,u)=>(B(),Bt(fr,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:Je(()=>[A("div",dx,[ve(A("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),min:"0"},null,512),[[we,n.value]]),u[6]||(u[6]=Ft(" kg ",-1)),u[7]||(u[7]=A("i",{class:"fa-solid fa-xmark"},null,-1)),ve(A("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[we,s.value]]),u[8]||(u[8]=Ft(" reps ",-1))]),A("div",fx,[ve(A("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[we,i.value]]),H(An,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:Je(()=>[...u[9]||(u[9]=[A("i",{class:"fa-solid fa-trash"},null,-1),Ft(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),px=Rt(gx,[["__scopeId","data-v-890ce486"]]),mx={class:"setlabel"},bx={class:"setdetails"},yx={key:0},_x={key:1,class:"fa-solid fa-note-sticky noteIcon"},vx=yt({__name:"SetContainer",props:{set:{},index:{},exercise:{}},setup(e){const t=Q(!1);return(n,s)=>(B(),nt(At,null,[t.value?(B(),Bt(px,{key:0,set:e.set,exercise:e.exercise,index:e.index,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["set","exercise","index"])):kt("",!0),A("tr",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"setItem"},[A("td",mx,Mt(e.index+1),1),A("td",bx,[e.set.weight!==null?(B(),nt("span",yx,[Ft(Mt(e.set.weight)+" kg ",1),s[2]||(s[2]=A("i",{class:"fa-solid fa-xmark"},null,-1))])):kt("",!0),Ft(" "+Mt(e.set.reps)+" reps ",1),e.set.notes!==""&&e.set.notes!==null?(B(),nt("i",_x)):kt("",!0)])])],64))}}),wx=Rt(vx,[["__scopeId","data-v-8bdd5088"]]),xx=yt({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(B(),Bt(fr,{key:0,title:`Remove Exercise: ${e.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):kt("",!0)}}),kx={class:"inputs"},Sx=yt({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(e,{emit:t}){const n=Q(""),s=Q(""),i=Q(!1),r=e,o=t;function a(){r.exercise.setName(n.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return Dn(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Fl(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(B(),nt(At,null,[H(fr,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:Je(()=>[A("div",kx,[ve(A("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h)},null,512),[[we,n.value]]),ve(A("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[we,s.value]])]),H(An,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:Je(()=>[...u[7]||(u[7]=[A("i",{class:"fa-solid fa-trash"},null,-1),Ft(" Remove Exercise ",-1)])]),_:1})]),_:1}),H(xx,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),Ex=Rt(Sx,[["__scopeId","data-v-66211c76"]]),Ox={class:"exerciseContainer softBubble"},Tx={class:"exerciseTitle"},Px={key:0,class:"reorderHandles clickable"},Cx={class:"setsContainer"},Ax={key:0},Mx={key:1},Rx={colspan:"2"},Dx={class:"setLabel"},Ix={class:"setDetails"},Lx=yt({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{}},setup(e){const t=Q(!1);return(n,s)=>(B(),nt(At,null,[t.value?(B(),Bt(Ex,{key:0,exercise:e.exercise,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["exercise"])):kt("",!0),A("div",Ox,[A("h2",Tx,[A("span",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"clickable"},[Ft(Mt(e.exercise.getName())+" ",1),s[5]||(s[5]=A("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),e.index!==0?(B(),nt("div",Px,[A("i",{onClick:s[2]||(s[2]=i=>e.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):kt("",!0)]),A("table",Cx,[e.showSets?(B(),nt("thead",Ax,[...s[6]||(s[6]=[A("tr",null,[A("th",{class:"greyed",colspan:"1"},"set"),A("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):kt("",!0),e.showSets?(B(),nt("tbody",Mx,[(B(!0),nt(At,null,Mo(e.exercise.getSets(),(i,r)=>(B(),Bt(wx,{key:r,index:r,set:i,exercise:e.exercise},null,8,["index","set","exercise"]))),128)),A("tr",null,[A("td",Rx,[A("button",{onClick:s[3]||(s[3]=i=>e.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[A("i",{class:"fa-solid fa-plus"},null,-1),Ft("Add set",-1)])])])])])):kt("",!0),A("tfoot",null,[A("tr",null,[A("td",Dx,[s[8]||(s[8]=A("b",null,"sets:",-1)),Ft(" "+Mt(e.exercise.countSets()),1)]),A("td",Ix,[s[9]||(s[9]=A("b",null,"volume:",-1)),Ft(" "+Mt(e.exercise.getVolume())+" kg ",1),e.index!==e.exercise.getWorkout().countExercises()-1?(B(),nt("i",{key:0,onClick:s[4]||(s[4]=i=>e.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):kt("",!0)])])])])])],64))}}),jx=yt({__name:"SavingDisplay",props:{workout:{}},setup(e){return(t,n)=>(B(),nt("div",{class:Pe(["savingDisplay",{display:e.workout.savingInProgress()}])},[...n[0]||(n[0]=[A("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),Nx=Rt(jx,[["__scopeId","data-v-2e9e3957"]]),$x={class:"inputs"},Fx=yt({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(e,{emit:t}){const n=e,s=t,i=Q(n.workout.getTitle()),r=Q(n.workout.getHeartRate()||""),o=Q(n.workout.getEnergy()||""),a=Q(n.workout.getStartTime()),l=Q(n.workout.getEndTime());function c(){n.workout.setTitle(i.value),n.workout.setHeartRate(Number(r.value)||null),n.workout.setEnergy(Number(o.value)||null),n.workout.setStartDate(a.value),n.workout.setEndDate(l.value),s("cancel")}const u=Le({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=Le({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(B(),Bt(fr,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=g=>c()),onCancel:f[6]||(f[6]=g=>s("cancel"))},{default:Je(()=>[A("div",$x,[f[7]||(f[7]=A("label",{for:"titleInput"},"Title:",-1)),ve(A("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g)},null,512),[[we,i.value]]),f[8]||(f[8]=A("label",{for:"startDate"},"Start Date and Time:",-1)),ve(A("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=g=>u.value=g)},null,512),[[we,u.value]]),f[9]||(f[9]=A("label",{for:"endDate"},"End Date and Time:",-1)),ve(A("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=g=>h.value=g)},null,512),[[we,h.value]]),f[10]||(f[10]=A("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),ve(A("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=g=>r.value=g),min:"0"},null,512),[[we,r.value,void 0,{number:!0}]]),f[11]||(f[11]=A("label",{for:"energyInput"},"Energy Burned (kj):",-1)),ve(A("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=g=>o.value=g),min:"0"},null,512),[[we,o.value,void 0,{number:!0}]])])]),_:1}))}}),Bx=Rt(Fx,[["__scopeId","data-v-d96ddd76"]]),Wx={key:1,class:"viewArea"},Vx={class:"margins"},Hx={class:"greyed"},Ux={key:0,class:"softBubble"},zx=yt({__name:"ViewWorkout",props:["workout_id"],setup(e){const t=e,n=Q(null),s=Q(!0),i=Q(!1);return Dn(async()=>{const{data:r,error:o}=await $e.from("workouts").select().eq("workout_id",t.workout_id).single();if(o){console.error("Error fetching workout:",o);return}n.value=new Bg(r)}),(r,o)=>(B(),nt(At,null,[i.value&&n.value?(B(),Bt(Bx,{key:0,workout:n.value,onCancel:o[0]||(o[0]=a=>i.value=!1)},null,8,["workout"])):kt("",!0),n.value?(B(),nt("div",Wx,[A("div",Vx,[A("h2",null,[Ft(Mt(n.value.getTitle())+" ",1),A("i",{class:"fa-solid fa-ellipsis clickable",onClick:o[1]||(o[1]=a=>i.value=!0)})]),A("p",Hx,Mt(n.value.getDateString()),1),n.value.getNotes()!==""?(B(),nt("p",Ux,Mt(n.value.getNotes()),1)):kt("",!0),H(hx,{workout:n.value},null,8,["workout"]),H(An,{onClick:o[2]||(o[2]=a=>s.value=!s.value),fullWidth:""},{default:Je(()=>[A("i",{class:Pe(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),Ft(" "+Mt(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(B(!0),nt(At,null,Mo(n.value.getExercises(),(a,l)=>(B(),Bt(Lx,{key:a.getName(),exercise:a,showSets:s.value,index:l},null,8,["exercise","showSets","index"]))),128)),H(Nx,{workout:n.value},null,8,["workout"]),H(An,{onClick:o[3]||(o[3]=a=>n.value.addEmptyExercise()),fullWidth:""},{default:Je(()=>[...o[4]||(o[4]=[A("i",{class:"fa-solid fa-plus"},null,-1),Ft(" Add Exercise ",-1)])]),_:1})])])):kt("",!0),n.value?kt("",!0):(B(),Bt(ui,{key:2})),H(Fo,{active:"/home"})],64))}}),qx=Rt(zx,[["__scopeId","data-v-301665d1"]]),Yx={class:"container"},Kx={class:"selector"},Gx=["onClick"],Jx=yt({__name:"Selector",props:{options:{}},emits:["select"],setup(e,{emit:t}){const n=e,s=Q("");return Dn(()=>{n.options.length>0&&(s.value=n.options[0].value)}),(i,r)=>(B(),nt("div",Yx,[A("div",Kx,[(B(!0),nt(At,null,Mo(e.options,o=>(B(),nt("div",{key:o.value,class:Pe({selectorOption:!0,clickable:!0,selected:o.value===s.value}),onClick:a=>{s.value=o.value,i.$emit("select",o.value)}},Mt(o.label),11,Gx))),128))])]))}}),Xx=Rt(Jx,[["__scopeId","data-v-77cbf122"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gr(e){return e+.5|0}const Un=(e,t,n)=>Math.max(Math.min(e,n),t);function Ti(e){return Un(gr(e*2.55),0,255)}function Gn(e){return Un(gr(e*255),0,255)}function wn(e){return Un(gr(e/2.55)/100,0,1)}function Xu(e){return Un(gr(e*100),0,100)}const We={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hl=[..."0123456789ABCDEF"],Qx=e=>hl[e&15],Zx=e=>hl[(e&240)>>4]+hl[e&15],Mr=e=>(e&240)>>4===(e&15),tk=e=>Mr(e.r)&&Mr(e.g)&&Mr(e.b)&&Mr(e.a);function ek(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&We[e[1]]*17,g:255&We[e[2]]*17,b:255&We[e[3]]*17,a:t===5?We[e[4]]*17:255}:(t===7||t===9)&&(n={r:We[e[1]]<<4|We[e[2]],g:We[e[3]]<<4|We[e[4]],b:We[e[5]]<<4|We[e[6]],a:t===9?We[e[7]]<<4|We[e[8]]:255})),n}const nk=(e,t)=>e<255?t(e):"";function sk(e){var t=tk(e)?Qx:Zx;return e?"#"+t(e.r)+t(e.g)+t(e.b)+nk(e.a,t):void 0}const ik=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vg(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function rk(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function ok(e,t,n){const s=Vg(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function ak(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function nc(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=ak(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function sc(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Gn)}function ic(e,t,n){return sc(Vg,e,t,n)}function lk(e,t,n){return sc(ok,e,t,n)}function ck(e,t,n){return sc(rk,e,t,n)}function Hg(e){return(e%360+360)%360}function uk(e){const t=ik.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Ti(+t[5]):Gn(+t[5]));const i=Hg(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=lk(i,r,o):t[1]==="hsv"?s=ck(i,r,o):s=ic(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function hk(e,t){var n=nc(e);n[0]=Hg(n[0]+t),n=ic(n),e.r=n[0],e.g=n[1],e.b=n[2]}function dk(e){if(!e)return;const t=nc(e),n=t[0],s=Xu(t[1]),i=Xu(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${wn(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Qu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fk(){const e={},t=Object.keys(Zu),n=Object.keys(Qu);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Qu[r]);r=parseInt(Zu[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Rr;function gk(e){Rr||(Rr=fk(),Rr.transparent=[0,0,0,0]);const t=Rr[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mk(e){const t=pk.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Ti(o):Un(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Ti(s):Un(s,0,255)),i=255&(t[4]?Ti(i):Un(i,0,255)),r=255&(t[6]?Ti(r):Un(r,0,255)),{r:s,g:i,b:r,a:n}}}function bk(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${wn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const va=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ls=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function yk(e,t,n){const s=Ls(wn(e.r)),i=Ls(wn(e.g)),r=Ls(wn(e.b));return{r:Gn(va(s+n*(Ls(wn(t.r))-s))),g:Gn(va(i+n*(Ls(wn(t.g))-i))),b:Gn(va(r+n*(Ls(wn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Dr(e,t,n){if(e){let s=nc(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=ic(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Ug(e,t){return e&&Object.assign(t||{},e)}function th(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Gn(e[3]))):(t=Ug(e,{r:0,g:0,b:0,a:1}),t.a=Gn(t.a)),t}function _k(e){return e.charAt(0)==="r"?mk(e):uk(e)}class sr{constructor(t){if(t instanceof sr)return t;const n=typeof t;let s;n==="object"?s=th(t):n==="string"&&(s=ek(t)||gk(t)||_k(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Ug(this._rgb);return t&&(t.a=wn(t.a)),t}set rgb(t){this._rgb=th(t)}rgbString(){return this._valid?bk(this._rgb):void 0}hexString(){return this._valid?sk(this._rgb):void 0}hslString(){return this._valid?dk(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=yk(this._rgb,t._rgb,n)),this}clone(){return new sr(this.rgb)}alpha(t){return this._rgb.a=Gn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=gr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dr(this._rgb,2,t),this}darken(t){return Dr(this._rgb,2,-t),this}saturate(t){return Dr(this._rgb,1,t),this}desaturate(t){return Dr(this._rgb,1,-t),this}rotate(t){return hk(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pn(){}const vk=(()=>{let e=0;return()=>e++})();function lt(e){return e==null}function Lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ct(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Vt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function De(e,t){return Vt(e)?e:t}function et(e,t){return typeof e>"u"?t:e}const wk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,zg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ct(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function wt(e,t,n,s){let i,r,o;if(Lt(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(ct(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function ho(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function fo(e){if(Lt(e))return e.map(fo);if(ct(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=fo(e[n[i]]);return t}return e}function qg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xk(e,t,n,s){if(!qg(e))return;const i=t[e],r=n[e];ct(i)&&ct(r)?ir(i,r,s):t[e]=fo(r)}function ir(e,t,n){const s=Lt(t)?t:[t],i=s.length;if(!ct(e))return e;n=n||{};const r=n.merger||xk;let o;for(let a=0;a<i;++a){if(o=s[a],!ct(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Vi(e,t){return ir(e,t,{merger:kk})}function kk(e,t,n){if(!qg(e))return;const s=t[e],i=n[e];ct(s)&&ct(i)?Vi(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fo(i))}const eh={"":e=>e,x:e=>e.x,y:e=>e.y};function Sk(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Ek(e){const t=Sk(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Xn(e,t){return(eh[t]||(eh[t]=Ek(t)))(e)}function rc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const rr=e=>typeof e<"u",Qn=e=>typeof e=="function",nh=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Ok(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ft=Math.PI,Dt=2*ft,Tk=Dt+ft,go=Number.POSITIVE_INFINITY,Pk=ft/180,qt=ft/2,os=ft/4,sh=ft*2/3,zn=Math.log10,un=Math.sign;function Hi(e,t,n){return Math.abs(e-t)<n}function ih(e){const t=Math.round(e);e=Hi(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(zn(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Ck(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function Ak(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ni(e){return!Ak(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Mk(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Yg(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ye(e){return e*(ft/180)}function oc(e){return e*(180/ft)}function rh(e){if(!Vt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Kg(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ft&&(r+=Dt),{angle:r,distance:i}}function dl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rk(e,t){return(e-t+Tk)%Dt-ft}function le(e){return(e%Dt+Dt)%Dt}function or(e,t,n,s){const i=le(e),r=le(t),o=le(n),a=le(r-i),l=le(o-i),c=le(i-r),u=le(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function se(e,t,n){return Math.max(t,Math.min(n,e))}function Dk(e){return se(e,-32768,32767)}function Sn(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function ac(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const En=(e,t,n,s)=>ac(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),Ik=(e,t,n)=>ac(e,n,s=>e[s][t]>=n);function Lk(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const Gg=["push","pop","shift","splice","unshift"];function jk(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Gg.forEach(n=>{const s="_onData"+rc(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function oh(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(Gg.forEach(r=>{delete e[r]}),delete e._chartjs)}function Jg(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Xg=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Qg(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Xg.call(window,()=>{s=!1,e.apply(t,n)}))}}function Nk(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const lc=e=>e==="start"?"left":e==="end"?"right":"center",ae=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,$k=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function Zg(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(En(l,u,h).lo,n?s:En(t,u,o.getPixelForValue(h)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(m=>!lt(m[a.axis]));i-=Math.max(0,p)}i=se(i,0,s-1)}if(g){let p=Math.max(En(l,o.axis,d,!0).hi+1,n?0:En(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(b=>!lt(b[a.axis]));p+=Math.max(0,m)}r=se(p,i,s)-i}else r=s-i}return{start:i,count:r}}function tp(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Ir=e=>e===0||e===1,ah=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dt/n)),lh=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dt/n)+1,Ui={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*qt)+1,easeOutSine:e=>Math.sin(e*qt),easeInOutSine:e=>-.5*(Math.cos(ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ir(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ir(e)?e:ah(e,.075,.3),easeOutElastic:e=>Ir(e)?e:lh(e,.075,.3),easeInOutElastic(e){return Ir(e)?e:e<.5?.5*ah(e*2,.1125,.45):.5+.5*lh(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ui.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ui.easeInBounce(e*2)*.5:Ui.easeOutBounce(e*2-1)*.5+.5};function cc(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ch(e){return cc(e)?e:new sr(e)}function wa(e){return cc(e)?e:new sr(e).saturate(.5).darken(.1).hexString()}const Fk=["x","y","borderWidth","radius","tension"],Bk=["color","borderColor","backgroundColor"];function Wk(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Bk},numbers:{type:"number",properties:Fk}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Vk(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uh=new Map;function Hk(e,t){t=t||{};const n=e+JSON.stringify(t);let s=uh.get(n);return s||(s=new Intl.NumberFormat(e,t),uh.set(n,s)),s}function pr(e,t,n){return Hk(t,n).format(e)}const ep={values(e){return Lt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=Uk(e,n)}const o=zn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),pr(e,s,l)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(zn(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?ep.numeric.call(this,e,t,n):""}};function Uk(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Bo={formatters:ep};function zk(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xs=Object.create(null),fl=Object.create(null);function zi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function xa(e,t,n){return typeof t=="string"?ir(zi(e,t),n):ir(zi(e,""),t)}class qk{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>wa(i.backgroundColor),this.hoverBorderColor=(s,i)=>wa(i.borderColor),this.hoverColor=(s,i)=>wa(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return xa(this,t,n)}get(t){return zi(this,t)}describe(t,n){return xa(fl,t,n)}override(t,n){return xa(xs,t,n)}route(t,n,s,i){const r=zi(this,t),o=zi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ct(l)?Object.assign({},c,l):et(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var jt=new qk({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Wk,Vk,zk]);function Yk(e){return!e||lt(e.size)||lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function po(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Kk(e,t,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Lt(h))o=po(e,i,r,o,h);else if(Lt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Lt(d)&&(o=po(e,i,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function as(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function hh(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function gl(e,t,n,s){np(e,t,n,s,null)}function np(e,t,n,s,i){let r,o,a,l,c,u,h,d;const f=t.pointStyle,g=t.rotation,p=t.radius;let m=(g||0)*Pk;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,s,i/2,p,0,0,Dt):e.arc(n,s,p,0,Dt),e.closePath();break;case"triangle":u=i?i/2:p,e.moveTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=sh,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=sh,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),e.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+os)*l,h=Math.cos(m+os)*(i?i/2-c:l),a=Math.sin(m+os)*l,d=Math.sin(m+os)*(i?i/2-c:l),e.arc(n-h,s-a,c,m-ft,m-qt),e.arc(n+d,s-o,c,m-qt,m),e.arc(n+h,s+a,c,m,m+qt),e.arc(n-d,s+o,c,m+qt,m+ft),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,e.rect(n-u,s-l,2*u,2*l);break}m+=os;case"rectRot":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+d,s-o),e.lineTo(n+h,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":m+=os;case"cross":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),m+=os,h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(m)*(i?i/2:p),s+Math.sin(m)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function On(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Wo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Vo(e){e.restore()}function Gk(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Jk(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Xk(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Qk(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Zk(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ks(e,t,n,s,i,r={}){const o=Lt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,Xk(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Zk(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),lt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),Qk(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function ar(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ft,ft,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ft,qt,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,qt,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-qt,!0),e.lineTo(n+o.topLeft,s)}const tS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nS(e,t){const n=(""+e).match(tS);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const sS=e=>+e||0;function uc(e,t){const n={},s=ct(t),i=s?Object.keys(t):t,r=ct(e)?s?o=>et(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=sS(r(o));return n}function sp(e){return uc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(e){return uc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ge(e){const t=sp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ne(e,t){e=e||{},t=t||jt.font;let n=et(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=et(e.style,t.style);s&&!(""+s).match(eS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:et(e.family,t.family),lineHeight:nS(et(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:et(e.weight,t.weight),string:""};return i.string=Yk(i),i}function Pi(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function iS(e,t,n){const{min:s,max:i}=e,r=zg(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function ts(e,t){return Object.assign(Object.create(e),t)}function hc(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=ap("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>hc([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return rp(a,l,()=>dS(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return fh(a).includes(l)},ownKeys(a){return fh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function si(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ip(e,s),setContext:r=>si(e,r,n,s),override:r=>si(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return rp(r,o,()=>oS(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function ip(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Qn(n)?n:()=>n,isIndexable:Qn(s)?s:()=>s}}const rS=(e,t)=>e?e+rc(t):t,dc=(e,t)=>ct(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rp(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function oS(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return Qn(a)&&o.isScriptable(t)&&(a=aS(t,a,e,n)),Lt(a)&&a.length&&(a=lS(t,a,e,o.isIndexable)),dc(t,a)&&(a=si(a,i,r&&r[t],o)),a}function aS(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),dc(e,l)&&(l=fc(i._scopes,i,e,l)),l}function lS(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(ct(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=fc(c,i,e,u);t.push(si(h,r,o&&o[e],a))}}return t}function op(e,t,n){return Qn(e)?e(t,n):e}const cS=(e,t)=>e===!0?t:typeof e=="string"?Xn(t,e):void 0;function uS(e,t,n,s,i){for(const r of t){const o=cS(n,r);if(o){e.add(o);const a=op(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function fc(e,t,n,s){const i=t._rootScopes,r=op(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=dh(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=dh(a,o,r,l,s),l===null)?!1:hc(Array.from(a),[""],i,r,()=>hS(t,n,s))}function dh(e,t,n,s,i){for(;n;)n=uS(e,t,n,s,i);return n}function hS(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Lt(i)&&ct(n)?n:i||{}}function dS(e,t,n,s){let i;for(const r of t)if(i=ap(rS(r,e),n),typeof i<"u")return dc(e,i)?fc(n,s,e,i):i}function ap(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function fh(e){let t=e._keys;return t||(t=e._keys=fS(e._scopes)),t}function fS(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function lp(e,t,n,s){const{iScale:i}=e,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=t[c],o[a]={r:i.parse(Xn(u,r),c)};return o}const gS=Number.EPSILON||1e-14,ii=(e,t)=>t<e.length&&!e[t].skip&&e[t],cp=e=>e==="x"?"y":"x";function pS(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=dl(r,i),l=dl(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function mS(e,t,n){const s=e.length;let i,r,o,a,l,c=ii(e,0);for(let u=0;u<s-1;++u)if(l=c,c=ii(e,u+1),!(!l||!c)){if(Hi(t[u],0,gS)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])}}function bS(e,t,n="x"){const s=cp(n),i=e.length;let r,o,a,l=ii(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ii(e,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*t[c])}}function yS(e,t="x"){const n=cp(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=ii(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=ii(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?un(i[o-1])!==un(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}mS(e,i,r),bS(e,r,t)}function Lr(e,t,n){return Math.max(Math.min(e,n),t)}function _S(e,t){let n,s,i,r,o,a=On(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&On(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=Lr(i.cp1x,t.left,t.right),i.cp1y=Lr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Lr(i.cp2x,t.left,t.right),i.cp2y=Lr(i.cp2y,t.top,t.bottom)))}function vS(e,t,n,s,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")yS(e,i);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=pS(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&_S(e,n)}function gc(){return typeof window<"u"&&typeof document<"u"}function pc(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mo(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Ho=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function wS(e,t){return Ho(e).getPropertyValue(t)}const xS=["top","right","bottom","left"];function ws(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=xS[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const kS=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function SS(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(kS(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ds(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Ho(n),r=i.boxSizing==="border-box",o=ws(i,"padding"),a=ws(i,"border","width"),{x:l,y:c,box:u}=SS(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/s),y:Math.round((c-d)/g*n.height/s)}}function ES(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&pc(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Ho(r),l=ws(a,"border","width"),c=ws(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=mo(a.maxWidth,r,"clientWidth"),i=mo(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||go,maxHeight:i||go}}const qn=e=>Math.round(e*10)/10;function OS(e,t,n,s){const i=Ho(e),r=ws(i,"margin"),o=mo(i.maxWidth,e,"clientWidth")||go,a=mo(i.maxHeight,e,"clientHeight")||go,l=ES(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=ws(i,"border","width"),f=ws(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=qn(Math.min(c,o,l.maxWidth)),u=qn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=qn(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=qn(Math.floor(u*s))),{width:c,height:u}}function gh(e,t,n){const s=t||1,i=qn(e.height*s),r=qn(e.width*s);e.height=qn(e.height),e.width=qn(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const TS=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};gc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function ph(e,t){const n=wS(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function fs(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function PS(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function CS(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=fs(e,i,n),a=fs(i,r,n),l=fs(r,t,n),c=fs(o,a,n),u=fs(a,l,n);return fs(c,u,n)}const AS=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},MS=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Js(e,t,n){return e?AS(t,n):MS()}function up(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function hp(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function dp(e){return e==="angle"?{between:or,compare:Rk,normalize:le}:{between:Sn,compare:(t,n)=>t-n,normalize:t=>t}}function mh({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function RS(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=dp(s),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function fp(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=dp(s),{start:u,end:h,loop:d,style:f}=RS(e,t,n),g=[];let p=!1,m=null,b,y,w;const x=()=>l(i,w,b)&&a(i,w)!==0,S=()=>a(r,b)===0||l(r,w,b),E=()=>p||x(),O=()=>!p||S();for(let R=u,N=u;R<=h;++R)y=t[R%o],!y.skip&&(b=c(y[s]),b!==w&&(p=l(b,i,r),m===null&&E()&&(m=a(b,i)===0?R:N),m!==null&&O()&&(g.push(mh({start:m,end:R,loop:d,count:o,style:f})),m=null),N=R,w=b));return m!==null&&g.push(mh({start:m,end:h,loop:d,count:o,style:f})),g}function gp(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=fp(s[i],e.points,t);r.length&&n.push(...r)}return n}function DS(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function IS(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function LS(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=DS(n,i,r,s);if(s===!0)return bh(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return bh(e,IS(n,o,l,c),n,t)}function bh(e,t,n,s){return!s||!s.setContext||!n?t:jS(e,t,n,s)}function jS(e,t,n,s){const i=e._chart.getContext(),r=yh(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function f(g,p,m,b){const y=a?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=y;for(;n[p%l].skip;)p+=y;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),u=b,h=p%l)}}for(const g of t){h=a?h:g.start;let p=n[h%l],m;for(d=h+1;d<=g.end;d++){const b=n[d%l];m=yh(s.setContext(ts(i,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),NS(m,u)&&f(h,d-1,g.loop,u),p=b,u=m}h<d-1&&f(h,d-1,g.loop,u)}return c}function yh(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function NS(e,t){if(!t)return!1;const n=[],s=function(i,r){return cc(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function jr(e,t,n){return e.options.clip?e[n]:t[n]}function $S(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:jr(n,t,"left"),right:jr(n,t,"right"),top:jr(s,t,"top"),bottom:jr(s,t,"bottom")}:t}function pp(e,t){const n=t._clip;if(n.disabled)return!1;const s=$S(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class FS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Xg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var bn=new FS;const _h="transparent",BS={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=ch(e||_h),i=s.valid&&ch(t||_h);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class WS{constructor(t,n,s,i){const r=n[s];i=Pi([t.to,i,r,t.from]);const o=Pi([t.from,r,i]);this._active=!0,this._fn=t.fn||BS[t.type||typeof o],this._easing=Ui[t.easing]||Ui.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Pi([t.to,n,i,t.from]),this._from=Pi([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class mp{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ct(t))return;const n=Object.keys(jt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ct(r))return;const o={};for(const a of n)o[a]=r[a];(Lt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=HS(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&VS(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new WS(d,t,c,u),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return bn.add(this._chart,s),!0}}function VS(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function HS(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vh(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function US(e,t,n){if(n===!1)return!1;const s=vh(e,n),i=vh(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function zS(e){let t,n,s,i;return ct(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function bp(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function wh(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],Vt(c)&&(r||t===0||un(t)===un(c))&&(t+=c)}return!u&&!s.all?0:t}function qS(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function ka(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function YS(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function KS(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function GS(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function xh(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function kh(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=YS(r,o,s),h=t.length;let d;for(let f=0;f<h;++f){const g=t[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});d=b[c]=GS(i,u,p),d[a]=m,d._top=xh(d,o,!0,s.type),d._bottom=xh(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Sa(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function JS(e,t){return ts(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function XS(e,t,n){return ts(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function bi(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Ea=e=>e==="reset"||e==="none",Sh=(e,t)=>t?e:Object.assign({},e),QS=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:bp(n,!0),values:null};class es{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ka(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&bi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=n.xAxisID=et(s.xAxisID,Sa(t,"x")),o=n.yAxisID=et(s.yAxisID,Sa(t,"y")),a=n.rAxisID=et(s.rAxisID,Sa(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oh(this._data,this),t._stacked&&bi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ct(n)){const i=this._cachedMeta;this._data=qS(n,i)}else if(s!==n){if(s){oh(s,this);const i=this._cachedMeta;bi(i),i._parsed=[]}n&&Object.isExtensible(n)&&jk(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=ka(n.vScale,n),n.stack!==s.stack&&(i=!0,bi(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(kh(this,n._parsed),n._stacked=ka(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Lt(i[t])?d=this.parseArrayData(s,i,t,n):ct(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&kh(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+s,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=n[d],c[u]={x:r.parse(Xn(f,a),d),y:o.parse(Xn(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:bp(i,!0),values:n._stacks[t.axis]._visualValues};return wh(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=wh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=QS(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=KS(a);let d,f;function g(){f=i[d];const p=f[a.axis];return!Vt(f[t.axis])||u>p||h<p}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Vt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=zS(et(this.options.clip,US(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=XS(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=JS(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&rr(s);if(a)return Sh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(jt.elements[t]),g=()=>this.getContext(s,i,n),p=c.resolveNamedOptions(d,f,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(Sh(p,l))),p}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,s,n))}const c=new mp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ea(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){Ea(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Ea(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&bi(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ZS(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Jg(s.sort((i,r)=>i-r))}return e._cache.$bar}function tE(e){const t=e.iScale,n=ZS(t,e.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(rr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function eE(e,t,n,s){const i=n.barThickness;let r,o;return lt(i)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[e]-r/2}}function nE(e,t,n,s){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function sE(e,t,n,s){const i=n.parse(e[0],s),r=n.parse(e[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function yp(e,t,n,s){return Lt(e)?sE(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Eh(e,t,n,s){const i=e.iScale,r=e.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=n,u=n+s;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(yp(d,h,r,c));return l}function Oa(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function iE(e,t,n){return e!==0?un(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rE(e){let t,n,s,i,r;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:t,top:i,bottom:r}}function oE(e,t,n,s){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=rE(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[Oh(u,o,a,l)]=!0,i=c)),r[Oh(i,o,a,l)]=!0,e.borderSkipped=r}function Oh(e,t,n,s){return s?(e=aE(e,t,n),e=Th(e,n,t)):e=Th(e,t,n),e}function aE(e,t,n){return e===t?n:e===n?t:e}function Th(e,t,n){return e==="start"?t:e==="end"?n:e}function lE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class cE extends es{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,i){return Eh(t,n,s,i)}parseArrayData(t,n,s,i){return Eh(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,p;for(d=s,f=s+i;d<f;++d)p=n[d],g={},g[r.axis]=r.parse(Xn(p,c),d),h.push(yp(Xn(p,u),g,o,d));return h}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(t),o=r._custom,a=Oa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const g=this.getParsed(f),p=r||lt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(g._stacks||{})[a.axis],y={horizontal:c,base:p.base,enableBorderRadius:!b||Oa(g._custom)||o===b._top||o===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const w=y.options||t[f].options;oE(y,w,b,o),lE(y,w,u.ratio),this.updateElement(t[f],f,y,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(lt(d)||isNaN(d))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[et(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const i=this._getStacks(t,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||tE(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Oa(c);let h=l[n.axis],d=0,f=s?this.applyStack(n,l,s):h,g,p;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&un(h)!==un(c.barEnd)&&(d=0),d+=h);const m=!lt(r)&&!u?r:d;let b=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(d+f):g=b,p=g-b,Math.abs(p)<o){p=iE(p,n,a)*o,h===a&&(b-=p/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),x=Math.min(y,w),S=Math.max(y,w);b=Math.max(Math.min(b,S),x),g=b+p,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const y=un(p)*n.getLineWidthForValue(a)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,r=i.skipNull,o=et(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?nE(t,n,i,u*c):eE(t,n,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(et(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+f;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class uE extends es{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const r=super.parsePrimitiveData(t,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,n,s,i){const r=super.parseArrayData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=et(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,n,s,i){const r=super.parseObjectData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=et(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+s;d++){const f=t[d],g=!r&&this.getParsed(d),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),b=p[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(p.options.radius=0)),this.updateElement(f,d,p,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=et(s&&s._custom,r),i}}function hE(e,t,n){let s=1,i=1,r=0,o=0;if(t<Dt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,x,S)=>or(w,a,l,!0)?1:Math.max(x,x*n,S,S*n),g=(w,x,S)=>or(w,a,l,!0)?-1:Math.min(x,x*n,S,S*n),p=f(0,c,h),m=f(qt,u,d),b=g(ft,c,h),y=g(ft+qt,u,d);s=(p-b)/2,i=(m-y)/2,r=-(p+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class mc extends es{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(ct(s[t])){const{key:l="value"}=this._parsing;r=c=>+Xn(s[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Ye(this.options.rotation-90)}_getCircumference(){return Ye(this.options.circumference)}_getRotationExtents(){let t=Dt,n=-Dt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(wk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=hE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),w=zg(this.options.radius,y),x=Math.max(w*l,0),S=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/Dt)}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,i);let b=this._getRotation(),y;for(y=0;y<n;++y)b+=this._circumference(y,r);for(y=n;y<n+s;++y){const w=this._circumference(y,r),x=t[y],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:f};m&&(S.options=p||this.resolveDataElementOptions(y,x.active?"active":i)),b+=w,this.updateElement(x,y,S,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Dt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=pr(n._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,r,o,a,l;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class dE extends es{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Zg(n,i,o);this._drawStart=a,this._drawCount=l,tp(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=ni(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=n+s,w=t.length;let x=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const E=t[S],O=b?E:{};if(S<n||S>=y){O.skip=!0;continue}const R=this.getParsed(S),N=lt(R[f]),Y=O[d]=o.getPixelForValue(R[d],S),J=O[f]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[f],S);O.skip=isNaN(Y)||isNaN(J)||N,O.stop=S>0&&Math.abs(R[d]-x[d])>m,p&&(O.parsed=R,O.raw=c.data[S]),h&&(O.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),b||this.updateElement(E,S,O,i),x=R}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class _p extends es{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=pr(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,n,s,i){return lp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*ft;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,p);for(g=n;g<n+s;g++){const m=t[g];let b=f,y=f+this._computeAngle(g,i,p),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(g,m.active?"active":i)};this.updateElement(m,g,x,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?Ye(this.resolveDataElementOptions(t,n).angle||s):0}}class fE extends mc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class gE extends es{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return lp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class pE extends es{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=Zg(n,s,i);if(this._drawStart=r,this._drawCount=o,tp(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=ni(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let w=n>0&&this.getParsed(n-1);for(let x=n;x<n+s;++x){const S=t[x],E=this.getParsed(x),O=y?S:{},R=lt(E[g]),N=O[f]=o.getPixelForValue(E[f],x),Y=O[g]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],x);O.skip=isNaN(N)||isNaN(Y)||R,O.stop=x>0&&Math.abs(E[f]-w[f])>b,m&&(O.parsed=E,O.raw=c.data[x]),d&&(O.options=h||this.resolveDataElementOptions(x,S.active?"active":i)),y||this.updateElement(S,x,O,i),w=E}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var mE=Object.freeze({__proto__:null,BarController:cE,BubbleController:uE,DoughnutController:mc,LineController:dE,PieController:fE,PolarAreaController:_p,RadarController:gE,ScatterController:pE});function ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bc{static override(t){Object.assign(bc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ls()}parse(){return ls()}format(){return ls()}add(){return ls()}diff(){return ls()}startOf(){return ls()}endOf(){return ls()}}var vp={_date:bc};function bE(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Ik:En;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,n-h),f=c(r,t,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=e,f=d.slice(0,u.lo+1).reverse().findIndex(p=>!lt(p[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(p=>!lt(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function Uo(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=bE(r[a],t,o,i);for(let f=h;f<=d;++f){const g=u[f];g.skip||s(g,c,f)}}}function yE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ta(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||Uo(e,n,t,function(a,l,c){!i&&!On(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function _E(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Kg(o,{x:t.x,y:t.y});or(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Uo(e,n,t,r),i}function vE(e,t,n,s,i,r){let o=[];const a=yE(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,i);if(s&&!f)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!f)return;const m=a(t,g);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return Uo(e,n,t,c),o}function Pa(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?_E(e,t,n,i):vE(e,t,n,s,i,r)}function Ph(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Uo(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var wE={modes:{index(e,t,n,s){const i=ds(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ta(e,i,r,s,o):Pa(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const i=ds(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ta(e,i,r,s,o):Pa(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const i=ds(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Ta(e,i,r,s,o)},nearest(e,t,n,s){const i=ds(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Pa(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=ds(t,e);return Ph(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=ds(t,e);return Ph(e,i,"y",n.intersect,s)}}};const wp=["left","top","right","bottom"];function yi(e,t){return e.filter(n=>n.pos===t)}function Ch(e,t){return e.filter(n=>wp.indexOf(n.pos)===-1&&n.box.axis===t)}function _i(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function xE(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function kE(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!wp.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function SE(e,t){const n=kE(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return n}function EE(e){const t=xE(e),n=_i(t.filter(c=>c.box.fullSize),!0),s=_i(yi(t,"left"),!0),i=_i(yi(t,"right")),r=_i(yi(t,"top"),!0),o=_i(yi(t,"bottom")),a=Ch(t,"x"),l=Ch(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:yi(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Ah(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function xp(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function OE(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!ct(i)){n.size&&(e[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[i]+=n.size}r.getPadding&&xp(o,r.getPadding());const a=Math.max(0,t.outerWidth-Ah(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ah(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function TE(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function PE(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Ci(e,t,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,PE(a.horizontal,t));const{same:h,other:d}=OE(t,n,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Ci(i,t,n,s)||u}function Nr(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function Mh(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;rr(c.start)&&(o=c.start),l.fullSize?Nr(l,i.left,o,n.outerWidth-i.right-i.left,d):Nr(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;rr(c.start)&&(r=c.start),l.fullSize?Nr(l,r,i.top,d,n.outerHeight-i.bottom-i.top):Nr(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var he={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=ge(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=EE(e.boxes),l=a.vertical,c=a.horizontal;wt(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);xp(d,ge(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),g=SE(l.concat(c),h);Ci(a.fullSize,f,h,g),Ci(l,f,h,g),Ci(c,f,h,g)&&Ci(l,f,h,g),TE(f),Mh(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Mh(a.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},wt(a.chartArea,p=>{const m=p.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class kp{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class CE extends kp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jr="$chartjs",AE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rh=e=>e===null||e==="";function ME(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Jr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Rh(i)){const r=ph(e,"width");r!==void 0&&(e.width=r)}if(Rh(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=ph(e,"height");r!==void 0&&(e.height=r)}return e}const Sp=TS?{passive:!0}:!1;function RE(e,t,n){e&&e.addEventListener(t,n,Sp)}function DE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Sp)}function IE(e,t){const n=AE[e.type]||e.type,{x:s,y:i}=ds(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function bo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function LE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||bo(a.addedNodes,s),o=o&&!bo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function jE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||bo(a.removedNodes,s),o=o&&!bo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const lr=new Map;let Dh=0;function Ep(){const e=window.devicePixelRatio;e!==Dh&&(Dh=e,lr.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function NE(e,t){lr.size||window.addEventListener("resize",Ep),lr.set(e,t)}function $E(e){lr.delete(e),lr.size||window.removeEventListener("resize",Ep)}function FE(e,t,n){const s=e.canvas,i=s&&pc(s);if(!i)return;const r=Qg((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),NE(e,r),o}function Ca(e,t,n){n&&n.disconnect(),t==="resize"&&$E(e)}function BE(e,t,n){const s=e.canvas,i=Qg(r=>{e.ctx!==null&&n(IE(r,e))},e);return RE(s,t,i),i}class WE extends kp{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(ME(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Jr])return!1;const s=n[Jr].initial;["height","width"].forEach(r=>{const o=s[r];lt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Jr],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:LE,detach:jE,resize:FE}[n]||BE;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Ca,detach:Ca,resize:Ca}[n]||DE)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return OS(t,n,s,i)}isAttached(t){const n=t&&pc(t);return!!(n&&n.isConnected)}}function VE(e){return!gc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?CE:WE}let In=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return ni(this.x)&&ni(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function HE(e,t){const n=e.options.ticks,s=UE(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?qE(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return YE(t,c,r,o/i),c;const u=zE(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for($r(t,c,u,lt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)$r(t,c,u,r[h],r[h+1]);return $r(t,c,u,l,lt(f)?t.length:l+f),c}return $r(t,c,u),c}function UE(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function zE(e,t,n){const s=KE(e),i=t.length/n;if(!s)return Math.max(i,1);const r=Ck(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function qE(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function YE(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function $r(e,t,n,s,i){const r=et(s,0),o=Math.min(et(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function KE(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const GE=e=>e==="left"?"right":e==="right"?"left":e,Ih=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Lh=(e,t)=>Math.min(t||e,e);function jh(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function JE(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function XE(e,t){wt(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function vi(e){return e.drawTicks?e.tickLength:0}function Nh(e,t){if(!e.display)return 0;const n=ne(e.font,t),s=ge(e.padding);return(Lt(e.text)?e.text.length:1)*n.lineHeight+s.height}function QE(e,t){return ts(e,{scale:t,type:"scale"})}function ZE(e,t,n){return ts(e,{tick:n,index:t,type:"tick"})}function tO(e,t,n){let s=lc(e);return(n&&t!=="right"||!n&&t==="right")&&(s=GE(s)),s}function eO(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,g;const p=o-i,m=a-r;if(e.isHorizontal()){if(f=ae(s,r,a),ct(n)){const b=Object.keys(n)[0],y=n[b];g=u[b].getPixelForValue(y)+p-t}else n==="center"?g=(c.bottom+c.top)/2+p-t:g=Ih(e,n,t);d=a-r}else{if(ct(n)){const b=Object.keys(n)[0],y=n[b];f=u[b].getPixelForValue(y)-m+t}else n==="center"?f=(c.left+c.right)/2-m+t:f=Ih(e,n,t);g=ae(s,o,i),h=n==="left"?-qt:qt}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class Os extends In{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=De(t,Number.POSITIVE_INFINITY),n=De(n,Number.NEGATIVE_INFINITY),s=De(s,Number.POSITIVE_INFINITY),i=De(i,Number.NEGATIVE_INFINITY),{min:De(t,s),max:De(n,i),minDefined:Vt(t),maxDefined:Vt(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:De(n,De(s,n)),max:De(s,De(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?jh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Ct(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Lh(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=se(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-vi(t.grid)-n.padding-Nh(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=oc(Math.min(Math.asin(se((u.highest.height+6)/a,-1,1)),Math.asin(se(l/c,-1,1))-Math.asin(se(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Nh(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=vi(r)+l):(t.height=this.maxHeight,t.width=vi(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,g=Ye(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=s.mirror?0:m*h.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:p*h.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*t.width,f=s*n.height):(d=s*t.height,f=i*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)lt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=jh(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Lh(n,s));let c=0,u=0,h,d,f,g,p,m,b,y,w,x,S;for(h=0;h<n;h+=l){if(g=t[h].label,p=this._resolveTickFontOptions(h),i.font=m=p.string,b=r[m]=r[m]||{data:{},gc:[]},y=p.lineHeight,w=x=0,!lt(g)&&!Lt(g))w=po(i,b.data,b.gc,w,g),x=y;else if(Lt(g))for(d=0,f=g.length;d<f;++d)S=g[d],!lt(S)&&!Lt(S)&&(w=po(i,b.data,b.gc,w,S),x+=y);o.push(w),a.push(x),c=Math.max(w,c),u=Math.max(x,u)}XE(r,n);const E=o.indexOf(c),O=a.indexOf(u),R=N=>({width:o[N]||0,height:a[N]||0});return{first:R(0),last:R(n-1),widest:R(E),highest:R(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Dk(this._alignToPixels?as(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=ZE(this.getContext(),t,s))}return this.$context||(this.$context=QE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ye(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=vi(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(it){return as(s,it,p)};let y,w,x,S,E,O,R,N,Y,J,ot,xt;if(o==="top")y=b(this.bottom),O=this.bottom-d,N=y-m,J=b(t.top)+m,xt=t.bottom;else if(o==="bottom")y=b(this.top),J=t.top,xt=b(t.bottom)-m,O=y+m,N=this.top+d;else if(o==="left")y=b(this.right),E=this.right-d,R=y-m,Y=b(t.left)+m,ot=t.right;else if(o==="right")y=b(this.left),Y=t.left,ot=b(t.right)-m,E=y+m,R=this.left+d;else if(n==="x"){if(o==="center")y=b((t.top+t.bottom)/2+.5);else if(ct(o)){const it=Object.keys(o)[0],K=o[it];y=b(this.chart.scales[it].getPixelForValue(K))}J=t.top,xt=t.bottom,O=y+m,N=O+d}else if(n==="y"){if(o==="center")y=b((t.left+t.right)/2);else if(ct(o)){const it=Object.keys(o)[0],K=o[it];y=b(this.chart.scales[it].getPixelForValue(K))}E=y-m,R=E-d,Y=t.left,ot=t.right}const Qt=et(i.ticks.maxTicksLimit,h),ut=Math.max(1,Math.ceil(h/Qt));for(w=0;w<h;w+=ut){const it=this.getContext(w),K=r.setContext(it),at=a.setContext(it),Et=K.lineWidth,pe=K.color,me=at.dash||[],zt=at.dashOffset,Be=K.tickWidth,xe=K.tickColor,Ce=K.tickBorderDash||[],Gt=K.tickBorderDashOffset;x=JE(this,w,l),x!==void 0&&(S=as(s,x,Et),c?E=R=Y=ot=S:O=N=J=xt=S,f.push({tx1:E,ty1:O,tx2:R,ty2:N,x1:Y,y1:J,x2:ot,y2:xt,width:Et,color:pe,borderDash:me,borderDashOffset:zt,tickWidth:Be,tickColor:xe,tickBorderDash:Ce,tickBorderDashOffset:Gt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=vi(s.grid),f=d+u,g=h?-u:f,p=-Ye(this.labelRotation),m=[];let b,y,w,x,S,E,O,R,N,Y,J,ot,xt="middle";if(i==="top")E=this.bottom-g,O=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+g,O=this._getXAxisLabelAlignment();else if(i==="left"){const ut=this._getYAxisLabelAlignment(d);O=ut.textAlign,S=ut.x}else if(i==="right"){const ut=this._getYAxisLabelAlignment(d);O=ut.textAlign,S=ut.x}else if(n==="x"){if(i==="center")E=(t.top+t.bottom)/2+f;else if(ct(i)){const ut=Object.keys(i)[0],it=i[ut];E=this.chart.scales[ut].getPixelForValue(it)+f}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(t.left+t.right)/2-f;else if(ct(i)){const ut=Object.keys(i)[0],it=i[ut];S=this.chart.scales[ut].getPixelForValue(it)}O=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?xt="top":l==="end"&&(xt="bottom"));const Qt=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){w=a[b],x=w.label;const ut=r.setContext(this.getContext(b));R=this.getPixelForTick(b)+r.labelOffset,N=this._resolveTickFontOptions(b),Y=N.lineHeight,J=Lt(x)?x.length:1;const it=J/2,K=ut.color,at=ut.textStrokeColor,Et=ut.textStrokeWidth;let pe=O;o?(S=R,O==="inner"&&(b===y-1?pe=this.options.reverse?"left":"right":b===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?c==="near"||p!==0?ot=-J*Y+Y/2:c==="center"?ot=-Qt.highest.height/2-it*Y+Y:ot=-Qt.highest.height+Y/2:c==="near"||p!==0?ot=Y/2:c==="center"?ot=Qt.highest.height/2-it*Y:ot=Qt.highest.height-J*Y,h&&(ot*=-1),p!==0&&!ut.showLabelBackdrop&&(S+=Y/2*Math.sin(p))):(E=R,ot=(1-J)*Y/2);let me;if(ut.showLabelBackdrop){const zt=ge(ut.backdropPadding),Be=Qt.heights[b],xe=Qt.widths[b];let Ce=ot-zt.top,Gt=0-zt.left;switch(xt){case"middle":Ce-=Be/2;break;case"bottom":Ce-=Be;break}switch(O){case"center":Gt-=xe/2;break;case"right":Gt-=xe;break;case"inner":b===y-1?Gt-=xe:b>0&&(Gt-=xe/2);break}me={left:Gt,top:Ce,width:xe+zt.width,height:Be+zt.height,color:ut.backdropColor}}m.push({label:x,font:N,textOffset:ot,options:{rotation:p,color:K,strokeColor:at,strokeWidth:Et,textAlign:pe,textBaseline:xt,translation:[S,E],backdrop:me}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ye(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=as(t,this.left,o)-o/2,u=as(t,this.right,a)+a/2,h=d=l):(h=as(t,this.top,o)-o/2,d=as(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Wo(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ks(s,c,0,u,l,a)}i&&Vo(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ne(s.font),o=ge(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ct(n)?(l+=o.bottom,Lt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=eO(this,l,n,a);ks(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:tO(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=et(t.grid&&t.grid.z,-1),i=et(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Os.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ne(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Fr{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;iO(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,nO(t,o,s),this.override&&jt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in jt[i]&&(delete jt[i][s],this.override&&delete xs[s])}}function nO(e,t,n){const s=ir(Object.create(null),[n?jt.get(n):{},jt.get(t),e.defaults]);jt.set(t,s),e.defaultRoutes&&sO(t,e.defaultRoutes),e.descriptors&&jt.describe(t,e.descriptors)}function sO(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");jt.route(r,i,l,a)})}function iO(e){return"id"in e&&"defaults"in e}class rO{constructor(){this.controllers=new Fr(es,"datasets",!0),this.elements=new Fr(In,"elements"),this.plugins=new Fr(Object,"plugins"),this.scales=new Fr(Os,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):wt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=rc(t);Ct(s["before"+i],[],s),n[t](s),Ct(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var rn=new rO;class oO{constructor(){this._init=void 0}notify(t,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Ct(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=et(s.options&&s.options.plugins,{}),r=aO(s);return i===!1&&!n?[]:cO(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function aO(e){const t={},n=[],s=Object.keys(rn.plugins.items);for(let r=0;r<s.length;r++)n.push(rn.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function lO(e,t){return!t&&e===!1?null:e===!0?{}:e}function cO(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=lO(s[l],i);c!==null&&r.push({plugin:a,options:uO(e.config,{plugin:a,local:n[l]},c,o)})}return r}function uO(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pl(e,t){const n=jt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hO(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function dO(e,t){return e===t?"_index_":"_value_"}function $h(e){if(e==="x"||e==="y"||e==="r")return e}function fO(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ml(e,...t){if($h(e))return e;for(const n of t){const s=n.axis||fO(n.position)||e.length>1&&$h(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Fh(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function gO(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Fh(e,"x",n[0])||Fh(e,"y",n[0])}return{}}function pO(e,t){const n=xs[e.type]||{scales:{}},s=t.scales||{},i=pl(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ct(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ml(o,a,gO(o,e),jt.scales[a.type]),c=dO(l,i),u=n.scales||{};r[o]=Vi(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||pl(a,t),u=(xs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=hO(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Vi(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Vi(a,[jt.scales[a.type],jt.scale])}),r}function Op(e){const t=e.options||(e.options={});t.plugins=et(t.plugins,{}),t.scales=pO(e,t)}function Tp(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function mO(e){return e=e||{},e.data=Tp(e.data),Op(e),e}const Bh=new Map,Pp=new Set;function Br(e,t){let n=Bh.get(e);return n||(n=t(),Bh.set(e,n),Pp.add(n)),n}const wi=(e,t,n)=>{const s=Xn(t,n);s!==void 0&&e.add(s)};class bO{constructor(t){this._config=mO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Tp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Op(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Br(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Br(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Br(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Br(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>wi(l,t,h))),u.forEach(h=>wi(l,i,h)),u.forEach(h=>wi(l,xs[r]||{},h)),u.forEach(h=>wi(l,jt,h)),u.forEach(h=>wi(l,fl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Pp.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,xs[n]||{},jt.datasets[n]||{},{type:n},jt,fl]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Wh(this._resolverCache,t,i);let l=o;if(_O(o,n)){r.$shared=!1,s=Qn(s)?s():s;const c=this.createResolver(t,s,a);l=si(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=Wh(this._resolverCache,t,s);return ct(n)?si(r,n,void 0,i):r}}function Wh(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:hc(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const yO=e=>ct(e)&&Object.getOwnPropertyNames(e).some(t=>Qn(e[t]));function _O(e,t){const{isScriptable:n,isIndexable:s}=ip(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(Qn(a)||yO(a))||o&&Lt(a))return!0}return!1}var vO="4.5.1";const wO=["top","bottom","left","right","chartArea"];function Vh(e,t){return e==="top"||e==="bottom"||wO.indexOf(e)===-1&&t==="x"}function Hh(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Uh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ct(n&&n.onComplete,[e],t)}function xO(e){const t=e.chart,n=t.options.animation;Ct(n&&n.onProgress,[e],t)}function Cp(e){return gc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Xr={},zh=e=>{const t=Cp(e);return Object.values(Xr).filter(n=>n.canvas===t).pop()};function kO(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function SO(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class yc{static defaults=jt;static instances=Xr;static overrides=xs;static registry=rn;static version=vO;static getChart=zh;static register(...t){rn.add(...t),qh()}static unregister(...t){rn.remove(...t),qh()}constructor(t,n){const s=this.config=new bO(n),i=Cp(t),r=zh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||VE(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=vk(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Nk(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Xr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bn.listen(this,"complete",Uh),bn.listen(this,"progress",xO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return lt(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hh(this.canvas,this.ctx),this}stop(){return bn.stop(this),this}resize(t,n){bn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ct(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};wt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ml(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),wt(r,o=>{const a=o.options,l=a.id,c=ml(l,a),u=et(a.type,o.dtype);(a.position===void 0||Vh(a.position,c)!==Vh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=rn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),wt(i,(o,a)=>{o||delete s[a]}),wt(s,o=>{he.configure(this,o,o.options),he.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Hh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||pl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=rn.getController(a),{datasetElementType:c,dataElementType:u}=jt.datasets[a];Object.assign(l,{dataElementType:rn.getElement(u),datasetElementType:c&&rn.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){wt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||wt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Hh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){wt(this.scales,t=>{he.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!nh(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;kO(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!nh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;he.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],wt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Qn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bn.has(this)?this.attached&&!bn.running(this)&&bn.start(this):(this.draw(),Uh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=pp(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Wo(n,i),t.controller.draw(),i&&Vo(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return On(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=wE.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);rr(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),bn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),hh(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Xr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};wt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){wt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},wt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ho(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=Ok(t),c=SO(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Ct(r.onHover,[t,a,this],this),l&&Ct(r.onClick,[t,a,this],this));const u=!ho(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function qh(){return wt(yc.instances,e=>e._plugins.invalidate())}function EO(e,t,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,le(s-n));if(e.beginPath(),e.arc(i,r,o-c/2,s+h/2,n-h/2),a>0){const d=Math.min(c/a,le(s-n));e.arc(i,r,a+c/2,n-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*le(s-n));if(u==="round")e.arc(i,r,d,n-ft/2,s+ft/2,!0);else if(u==="bevel"){const f=2*d*d,g=-f*Math.cos(n+ft/2)+i,p=-f*Math.sin(n+ft/2)+r,m=f*Math.cos(s+ft/2)+i,b=f*Math.sin(s+ft/2)+r;e.lineTo(g,p),e.lineTo(m,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function OO(e,t,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(r,o,a,s-c,n+c),l>i?(c=i/l,e.arc(r,o,l,n+c,s-c,!0)):e.arc(r,o,i,n+qt,s-qt),e.closePath(),e.clip()}function TO(e){return uc(e,["outerStart","outerEnd","innerStart","innerEnd"])}function PO(e,t,n,s){const i=TO(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return se(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:se(i.innerStart,0,o),innerEnd:se(i.innerEnd,0,o)}}function js(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function yo(e,t,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+s+n-c,0),d=u>0?u+s+n+c:0;let f=0;const g=i-l;if(s){const ut=u>0?u-s:0,it=h>0?h-s:0,K=(ut+it)/2,at=K!==0?g*K/(K+s):g;f=(g-at)/2}const p=Math.max(.001,g*h-n/ft)/h,m=(g-p)/2,b=l+m+f,y=i-m-f,{outerStart:w,outerEnd:x,innerStart:S,innerEnd:E}=PO(t,d,h,y-b),O=h-w,R=h-x,N=b+w/O,Y=y-x/R,J=d+S,ot=d+E,xt=b+S/J,Qt=y-E/ot;if(e.beginPath(),r){const ut=(N+Y)/2;if(e.arc(o,a,h,N,ut),e.arc(o,a,h,ut,Y),x>0){const Et=js(R,Y,o,a);e.arc(Et.x,Et.y,x,Y,y+qt)}const it=js(ot,y,o,a);if(e.lineTo(it.x,it.y),E>0){const Et=js(ot,Qt,o,a);e.arc(Et.x,Et.y,E,y+qt,Qt+Math.PI)}const K=(y-E/d+(b+S/d))/2;if(e.arc(o,a,d,y-E/d,K,!0),e.arc(o,a,d,K,b+S/d,!0),S>0){const Et=js(J,xt,o,a);e.arc(Et.x,Et.y,S,xt+Math.PI,b-qt)}const at=js(O,b,o,a);if(e.lineTo(at.x,at.y),w>0){const Et=js(O,N,o,a);e.arc(Et.x,Et.y,w,b-qt,N)}}else{e.moveTo(o,a);const ut=Math.cos(N)*h+o,it=Math.sin(N)*h+a;e.lineTo(ut,it);const K=Math.cos(Y)*h+o,at=Math.sin(Y)*h+a;e.lineTo(K,at)}e.closePath()}function CO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){yo(e,t,n,s,l,i);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%Dt||Dt))}return yo(e,t,n,s,l,i),e.fill(),l}function AO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,g?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){yo(e,t,n,s,p,i);for(let m=0;m<r;++m)e.stroke();isNaN(a)||(p=o+(a%Dt||Dt))}g&&OO(e,t,p),l.selfJoin&&p-o>=ft&&f===0&&u!=="miter"&&EO(e,t,p),r||(yo(e,t,n,s,p,i),e.stroke())}class MO extends In{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=Kg(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=et(h,l-a),g=or(r,a,l)&&a!==l,p=f>=Dt||g,m=Sn(o,c+d,u+d);return p&&m}getCenterPoint(t){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Dt?Math.floor(s/Dt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(ft,s||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,CO(t,this,c,r,o),AO(t,this,c,r,o),t.restore()}}function Ap(e,t,n=t){e.lineCap=et(n.borderCapStyle,t.borderCapStyle),e.setLineDash(et(n.borderDash,t.borderDash)),e.lineDashOffset=et(n.borderDashOffset,t.borderDashOffset),e.lineJoin=et(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=et(n.borderWidth,t.borderWidth),e.strokeStyle=et(n.borderColor,t.borderColor)}function RO(e,t,n){e.lineTo(n.x,n.y)}function DO(e){return e.stepped?Gk:e.tension||e.cubicInterpolationMode==="monotone"?Jk:RO}function Mp(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function IO(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Mp(i,n,s),u=DO(r);let{move:h=!0,reverse:d}=s||{},f,g,p;for(f=0;f<=c;++f)g=i[(a+(d?c-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,p,g,d,r.stepped),p=g);return l&&(g=i[(a+(d?c:0))%o],u(e,p,g,d,r.stepped)),!!l}function LO(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=Mp(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,g,p,m,b;const y=x=>(o+(c?a-x:x))%r,w=()=>{p!==m&&(e.lineTo(u,m),e.lineTo(u,p),e.lineTo(u,b))};for(l&&(f=i[y(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,S=f.y,E=x|0;E===g?(S<p?p=S:S>m&&(m=S),u=(h*u+x)/++h):(w(),e.lineTo(x,S),g=E,h=0,p=m=S),b=S}w()}function bl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?LO:IO}function jO(e){return e.stepped?PS:e.tension||e.cubicInterpolationMode==="monotone"?CS:fs}function NO(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),Ap(e,t.options),e.stroke(i)}function $O(e,t,n,s){const{segments:i,options:r}=t,o=bl(t);for(const a of i)Ap(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const FO=typeof Path2D=="function";function BO(e,t,n,s){FO&&!t.options.segment?NO(e,t,n,s):$O(e,t,n,s)}class zo extends In{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;vS(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=gp(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=jO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const p=Math.abs((i-f[n])/(g[n]-f[n])),m=l(f,g,p,s.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,s){return bl(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=bl(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),BO(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yh(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class WO extends In{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Yh(this,t,"x",n)}inYRange(t,n){return Yh(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!On(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,gl(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Rp(e,t){const{x:n,y:s,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Yn(e,t,n,s){return e?0:se(t,n,s)}function VO(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,r=sp(s);return{t:Yn(i.top,r.top,0,n),r:Yn(i.right,r.right,0,t),b:Yn(i.bottom,r.bottom,0,n),l:Yn(i.left,r.left,0,t)}}function HO(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=vs(i),o=Math.min(t,n),a=e.borderSkipped,l=s||ct(i);return{topLeft:Yn(!l||a.top||a.left,r.topLeft,0,o),topRight:Yn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Yn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Yn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function UO(e){const t=Rp(e),n=t.right-t.left,s=t.bottom-t.top,i=VO(e,n/2,s/2),r=HO(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Aa(e,t,n,s){const i=t===null,r=n===null,a=e&&!(i&&r)&&Rp(e,s);return a&&(i||Sn(t,a.left,a.right))&&(r||Sn(n,a.top,a.bottom))}function zO(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function qO(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ma(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class YO extends In{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=UO(this),a=zO(o.radius)?ar:qO;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Ma(o,n,r)),t.clip(),a(t,Ma(r,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Ma(r,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return Aa(this,t,n,s)}inXRange(t,n){return Aa(this,t,null,n)}inYRange(t,n){return Aa(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var KO=Object.freeze({__proto__:null,ArcElement:MO,BarElement:YO,LineElement:zo,PointElement:WO});const yl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Kh=yl.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Dp(e){return yl[e%yl.length]}function Ip(e){return Kh[e%Kh.length]}function GO(e,t){return e.borderColor=Dp(t),e.backgroundColor=Ip(t),++t}function JO(e,t){return e.backgroundColor=e.data.map(()=>Dp(t++)),t}function XO(e,t){return e.backgroundColor=e.data.map(()=>Ip(t++)),t}function QO(e){let t=0;return(n,s)=>{const i=e.getDatasetMeta(s).controller;i instanceof mc?t=JO(n,t):i instanceof _p?t=XO(n,t):i&&(t=GO(n,t))}}function Gh(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function ZO(e){return e&&(e.borderColor||e.backgroundColor)}function tT(){return jt.borderColor!=="rgba(0,0,0,0.1)"||jt.backgroundColor!=="rgba(0,0,0,0.1)"}var eT={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=e.config,{elements:r}=i,o=Gh(s)||ZO(i)||r&&Gh(r)||tT();if(!n.forceOverride&&o)return;const a=QO(e);s.forEach(a)}};function nT(e,t,n,s,i){const r=i.samples||s;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,d,f,g,p;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,b=0,y;const w=Math.floor((h+1)*a)+1+t,x=Math.min(Math.floor((h+2)*a)+1,n)+t,S=x-w;for(y=w;y<x;y++)m+=e[y].x,b+=e[y].y;m/=S,b/=S;const E=Math.floor(h*a)+1+t,O=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:R,y:N}=e[u];for(f=g=-1,y=E;y<O;y++)g=.5*Math.abs((R-m)*(e[y].y-N)-(R-e[y].x)*(b-N)),g>f&&(f=g,d=e[y],p=y);o[l++]=d,u=p}return o[l++]=e[c],o}function sT(e,t,n,s){let i=0,r=0,o,a,l,c,u,h,d,f,g,p;const m=[],b=t+n-1,y=e[t].x,x=e[b].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/x*s,c=a.y;const S=l|0;if(S===u)c<g?(g=c,h=o):c>p&&(p=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!lt(h)&&!lt(d)){const O=Math.min(h,d),R=Math.max(h,d);O!==f&&O!==E&&m.push({...e[O],x:i}),R!==f&&R!==E&&m.push({...e[R],x:i})}o>0&&E!==f&&m.push(e[E]),m.push(a),u=S,r=0,g=p=c,h=d=f=o}}return m}function Lp(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Jh(e){e.data.datasets.forEach(t=>{Lp(t)})}function iT(e,t){const n=t.length;let s=0,i;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=se(En(t,r.axis,o).lo,0,n-1)),c?i=se(En(t,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var rT={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Jh(e);return}const s=e.width;e.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(r),c=o||i.data;if(Pi([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=iT(l,c);const f=n.threshold||4*s;if(d<=f){Lp(i);return}lt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(n.algorithm){case"lttb":g=nT(c,h,d,s,n);break;case"min-max":g=sT(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(e){Jh(e)}};function oT(e,t,n){const s=e.segments,i=e.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=qo(l,c,i);const u=_l(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=gp(t,u);for(const d of h){const f=_l(n,r[d.start],r[d.end],d.loop),g=fp(a,i,f);for(const p of g)o.push({source:p,target:d,start:{[n]:Xh(u,f,"start",Math.max)},end:{[n]:Xh(u,f,"end",Math.min)}})}}return o}function _l(e,t,n,s){if(s)return;let i=t[e],r=n[e];return e==="angle"&&(i=le(i),r=le(r)),{property:e,start:i,end:r}}function aT(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=qo(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function qo(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Xh(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function jp(e,t){let n=[],s=!1;return Lt(e)?(s=!0,n=e):n=aT(e,t),n.length?new zo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Qh(e){return e&&e.fill!==!1}function lT(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Vt(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function cT(e,t,n){const s=fT(e);if(ct(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Vt(i)&&Math.floor(i)===i?uT(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function uT(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function hT(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ct(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function dT(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:ct(e)?s=e.value:s=t.getBaseValue(),s}function fT(e){const t=e.options,n=t.fill;let s=et(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function gT(e){const{scale:t,index:n,line:s}=e,i=[],r=s.segments,o=s.points,a=pT(t,n);a.push(jp({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)mT(i,o[u],a)}return new zo({points:i,options:{}})}function pT(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function mT(e,t,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=bT(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function bT(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(Sn(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class Np{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Dt},t.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,r=t.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function yT(e){const{chart:t,fill:n,line:s}=e;if(Vt(n))return _T(t,n);if(n==="stack")return gT(e);if(n==="shape")return!0;const i=vT(e);return i instanceof Np?i:jp(i,s)}function _T(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function vT(e){return(e.scale||{}).getPointPositionForValue?xT(e):wT(e)}function wT(e){const{scale:t={},fill:n}=e,s=hT(n,t);if(Vt(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function xT(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=dT(n,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Np({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Ra(e,t,n){const s=yT(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},g=i.getDatasetMeta(r),p=pp(i,g);s&&o.points.length&&(Wo(e,n),kT(e,{line:o,target:s,above:d,below:f,area:n,scale:a,axis:l,clip:p}),Vo(e))}function kT(e,t){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=r;r!==i&&(c==="x"?(Zh(e,s,o.top),Da(e,{line:n,target:s,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),Zh(e,s,o.bottom)):c==="y"&&(td(e,s,o.left),Da(e,{line:n,target:s,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),td(e,s,o.right),u=i)),Da(e,{line:n,target:s,color:u,scale:a,property:c,clip:l}),e.restore()}function Zh(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[qo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function td(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[qo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Da(e,t){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=t,l=oT(n,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,g=s!==!0;e.save(),e.fillStyle=f,ST(e,o,a,g&&_l(i,h,d)),e.beginPath();const p=!!n.pathSegment(e,c);let m;if(g){p?e.closePath():ed(e,s,d,i);const b=!!s.pathSegment(e,u,{move:p,reverse:!0});m=p&&b,m||ed(e,s,h,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function ST(e,t,n,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),e.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function ed(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var ET={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof zo&&(l={visible:e.isDatasetVisible(o),index:o,fill:cT(a,o,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=lT(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Ra(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Qh(r)&&Ra(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!Qh(s)||n.drawTime!=="beforeDatasetDraw"||Ra(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nd=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},OT=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class sd extends In{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ct(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=ne(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=nd(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,p)=>{const m=s+n/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,f+=u,d++),l[p]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:w}=TT(s,n,r,m,i);b>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[b]={left:g,top:f,col:p,width:y,height:w},d=Math.max(d,y),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Js(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ae(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ae(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ae(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ae(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Wo(t,this),this._draw(),Vo(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=jt.color,l=Js(t.rtl,this.left,this.width),c=ne(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=nd(o,h),b=function(E,O,R){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const N=et(R.lineWidth,1);if(i.fillStyle=et(R.fillStyle,a),i.lineCap=et(R.lineCap,"butt"),i.lineDashOffset=et(R.lineDashOffset,0),i.lineJoin=et(R.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=et(R.strokeStyle,a),i.setLineDash(et(R.lineDash,[])),o.usePointStyle){const Y={radius:p*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:N},J=l.xPlus(E,g/2),ot=O+d;np(i,Y,J,ot,o.pointStyleWidth&&g)}else{const Y=O+Math.max((h-p)/2,0),J=l.leftForLtr(E,g),ot=vs(R.borderRadius);i.beginPath(),Object.values(ot).some(xt=>xt!==0)?ar(i,{x:J,y:Y,w:g,h:p,radius:ot}):i.rect(J,Y,g,p),i.fill(),N!==0&&i.stroke()}i.restore()},y=function(E,O,R){ks(i,R.text,E,O+m/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:ae(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:ae(r,this.top+x+u,this.bottom-n[0].height),line:0},up(this.ctx,t.textDirection);const S=m+u;this.legendItems.forEach((E,O)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const R=i.measureText(E.text).width,N=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),Y=g+d+R;let J=f.x,ot=f.y;l.setWidth(this.width),w?O>0&&J+Y+u>this.right&&(ot=f.y+=S,f.line++,J=f.x=ae(r,this.left+u,this.right-s[f.line])):O>0&&ot+S>this.bottom&&(J=f.x=J+n[f.line].width+u,f.line++,ot=f.y=ae(r,this.top+x+u,this.bottom-n[f.line].height));const xt=l.x(J);if(b(xt,ot,E),J=$k(N,J+g+d,w?J+Y:this.right,t.rtl),y(l.x(J),ot,E),w)f.x+=Y+u;else if(typeof E.text!="string"){const Qt=c.lineHeight;f.y+=$p(E,Qt)+u}else f.y+=S}),hp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ne(n.font),i=ge(n.padding);if(!n.display)return;const r=Js(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ae(t.align,h,this.right-d);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+ae(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=ae(a,h,h+d);o.textAlign=r.textAlign(lc(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,ks(o,n.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,n=ne(t.font),s=ge(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(Sn(t,this.left,this.right)&&Sn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Sn(t,i.left,i.left+i.width)&&Sn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!AT(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=OT(i,s);i&&!r&&Ct(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Ct(n.onHover,[t,s,this],this)}else s&&Ct(n.onClick,[t,s,this],this)}}function TT(e,t,n,s,i){const r=PT(s,e,t,n),o=CT(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function PT(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function CT(e,t,n){let s=e;return typeof t.text!="string"&&(s=$p(t,n)),s}function $p(e,t){const n=e.text?e.text.length:0;return t*n}function AT(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var MT={id:"legend",_element:sd,start(e,t,n){const s=e.legend=new sd({ctx:e.ctx,options:n,chart:e});he.configure(e,s,n),he.addBox(e,s)},stop(e){he.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;he.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ge(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _c extends In{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Lt(s.text)?s.text.length:1;this._padding=ge(s.padding);const r=i*ne(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ae(a,s,r),h=n+t,c=r-s):(o.position==="left"?(u=s+t,h=ae(a,i,n),l=ft*-.5):(u=r-t,h=ae(a,n,i),l=ft*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=ne(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ks(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:lc(n.align),textBaseline:"middle",translation:[o,a]})}}function RT(e,t){const n=new _c({ctx:e.ctx,options:t,chart:e});he.configure(e,n,t),he.addBox(e,n),e.titleBlock=n}var DT={id:"title",_element:_c,start(e,t,n){RT(e,n)},stop(e){const t=e.titleBlock;he.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;he.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wr=new WeakMap;var IT={id:"subtitle",start(e,t,n){const s=new _c({ctx:e.ctx,options:n,chart:e});he.configure(e,s,n),he.addBox(e,s),Wr.set(e,s)},stop(e){he.removeBox(e,Wr.get(e)),Wr.delete(e)},beforeUpdate(e,t,n){const s=Wr.get(e);he.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ai={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=dl(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function nn(e,t){return t&&(Lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function yn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function LT(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function id(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ne(t.bodyFont),c=ne(t.titleFont),u=ne(t.footerFont),h=r.length,d=i.length,f=s.length,g=ge(t.padding);let p=g.height,m=0,b=s.reduce((x,S)=>x+S.before.length+S.lines.length+S.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const w=function(x){m=Math.max(m,n.measureText(x).width+y)};return n.save(),n.font=c.string,wt(e.title,w),n.font=l.string,wt(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,wt(s,x=>{wt(x.before,w),wt(x.lines,w),wt(x.after,w)}),y=0,n.font=u.string,wt(e.footer,w),n.restore(),m+=g.width,{width:m,height:p}}function jT(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function NT(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function $T(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),NT(c,e,t,n)&&(c="center"),c}function rd(e,t,n){const s=n.yAlign||t.yAlign||jT(e,n);return{xAlign:n.xAlign||t.xAlign||$T(e,t,n,s),yAlign:s}}function FT(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function BT(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function od(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=vs(o);let g=FT(t,a);const p=BT(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:se(g,0,s.width-t.width),y:se(p,0,s.height-t.height)}}function Vr(e,t,n){const s=ge(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function ad(e){return nn([],yn(e))}function WT(e,t,n){return ts(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function ld(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Fp={beforeTitle:pn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:pn,beforeBody:pn,beforeLabel:pn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return lt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:pn,afterBody:pn,beforeFooter:pn,footer:pn,afterFooter:pn};function Ee(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?Fp[t].call(n,s):i}class cd extends In{static positioners=Ai;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new mp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=WT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=Ee(s,"beforeTitle",this,t),r=Ee(s,"title",this,t),o=Ee(s,"afterTitle",this,t);let a=[];return a=nn(a,yn(i)),a=nn(a,yn(r)),a=nn(a,yn(o)),a}getBeforeBody(t,n){return ad(Ee(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return wt(t,r=>{const o={before:[],lines:[],after:[]},a=ld(s,r);nn(o.before,yn(Ee(a,"beforeLabel",this,r))),nn(o.lines,Ee(a,"label",this,r)),nn(o.after,yn(Ee(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return ad(Ee(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=Ee(s,"beforeFooter",this,t),r=Ee(s,"footer",this,t),o=Ee(s,"afterFooter",this,t);let a=[];return a=nn(a,yn(i)),a=nn(a,yn(r)),a=nn(a,yn(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(LT(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),wt(a,u=>{const h=ld(t.callbacks,u);i.push(Ee(h,"labelColor",this,u)),r.push(Ee(h,"labelPointStyle",this,u)),o.push(Ee(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ai[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=id(this,s),c=Object.assign({},a,l),u=rd(this.chart,s,c),h=od(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=vs(a),{x:d,y:f}=t,{width:g,height:p}=n;let m,b,y,w,x,S;return r==="center"?(x=f+p/2,i==="left"?(m=d,b=m-o,w=x+o,S=x-o):(m=d+g,b=m+o,w=x-o,S=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+g-Math.max(c,h)-o:b=this.caretX,r==="top"?(w=f,x=w-o,m=b-o,y=b+o):(w=f+p,x=w+o,m=b+o,y=b-o),S=w),{x1:m,x2:b,x3:y,y1:w,y2:x,y3:S}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Js(s.rtl,this.x,this.width);for(t.x=Vr(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=ne(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ne(r.bodyFont),h=Vr(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,gl(t,p,m,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,gl(t,p,m,b)}else{t.lineWidth=ct(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=vs(o.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ar(t,{x:p,y:g,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ar(t,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ne(s.bodyFont);let d=h.lineHeight,f=0;const g=Js(s.rtl,this.x,this.width),p=function(R){n.fillText(R,g.x(t.x+f),t.y+d/2),t.y+=d+r},m=g.textAlign(o);let b,y,w,x,S,E,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Vr(this,m,s),n.fillStyle=s.bodyColor,wt(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(b=i[x],y=this.labelTextColors[x],n.fillStyle=y,wt(b.before,p),w=b.lines,a&&w.length&&(this._drawColorBox(n,t,x,g,s),d=Math.max(h.lineHeight,l)),S=0,O=w.length;S<O;++S)p(w[S]),d=h.lineHeight;wt(b.after,p)}f=0,d=h.lineHeight,wt(this.afterBody,p),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Js(s.rtl,this.x,this.width);for(t.x=Vr(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=ne(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=vs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ai[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=id(this,t),l=Object.assign({},o,this._size),c=rd(n,t,l),u=od(t,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=ge(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),up(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),hp(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ho(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!ho(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Ai[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}var VT={id:"tooltip",_element:cd,positioners:Ai,afterInit(e,t,n){n&&(e.tooltip=new cd({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Fp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HT=Object.freeze({__proto__:null,Colors:eT,Decimation:rT,Filler:ET,Legend:MT,SubTitle:IT,Title:DT,Tooltip:VT});const UT=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function zT(e,t,n,s){const i=e.indexOf(t);if(i===-1)return UT(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const qT=(e,t)=>e===null?null:se(Math.round(e),0,t);function ud(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class YT extends Os{static id="category";static defaults={ticks:{callback:ud}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(lt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:zT(s,t,et(n,t),this._addedLabels),qT(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return ud.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function KT(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,g=u-1,{min:p,max:m}=t,b=!lt(o),y=!lt(a),w=!lt(c),x=(m-p)/(h+1);let S=ih((m-p)/g/f)*f,E,O,R,N;if(S<1e-14&&!b&&!y)return[{value:p},{value:m}];N=Math.ceil(m/S)-Math.floor(p/S),N>g&&(S=ih(N*S/g/f)*f),lt(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(O=Math.floor(p/S)*S,R=Math.ceil(m/S)*S):(O=p,R=m),b&&y&&r&&Mk((a-o)/r,S/1e3)?(N=Math.round(Math.min((a-o)/S,u)),S=(a-o)/N,O=o,R=a):w?(O=b?o:O,R=y?a:R,N=c-1,S=(R-O)/N):(N=(R-O)/S,Hi(N,Math.round(N),S/1e3)?N=Math.round(N):N=Math.ceil(N));const Y=Math.max(rh(S),rh(O));E=Math.pow(10,lt(l)?Y:l),O=Math.round(O*E)/E,R=Math.round(R*E)/E;let J=0;for(b&&(d&&O!==o?(n.push({value:o}),O<o&&J++,Hi(Math.round((O+J*S)*E)/E,o,hd(o,x,e))&&J++):O<o&&J++);J<N;++J){const ot=Math.round((O+J*S)*E)/E;if(y&&ot>a)break;n.push({value:ot})}return y&&d&&R!==a?n.length&&Hi(n[n.length-1].value,a,hd(a,x,e))?n[n.length-1].value=a:n.push({value:a}):(!y||R===a)&&n.push({value:R}),n}function hd(e,t,{horizontal:n,minRotation:s}){const i=Ye(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class _o extends Os{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=un(i),c=un(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=KT(i,r);return t.bounds==="ticks"&&Yg(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return pr(t,this.chart.options.locale,this.options.ticks.format)}}class GT extends _o{static id="linear";static defaults={ticks:{callback:Bo.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vt(t)?t:0,this.max=Vt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ye(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const cr=e=>Math.floor(zn(e)),cs=(e,t)=>Math.pow(10,cr(e)+t);function dd(e){return e/Math.pow(10,cr(e))===1}function fd(e,t,n){const s=Math.pow(10,n),i=Math.floor(e/s);return Math.ceil(t/s)-i}function JT(e,t){const n=t-e;let s=cr(n);for(;fd(e,t,s)>10;)s++;for(;fd(e,t,s)<10;)s--;return Math.min(s,cr(e))}function XT(e,{min:t,max:n}){t=De(e.min,t);const s=[],i=cr(t);let r=JT(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=De(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)s.push({value:d,major:dd(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=De(e.max,d);return s.push({value:f,major:dd(f),significand:h}),s}class QT extends Os{static id="logarithmic";static defaults={ticks:{callback:Bo.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=_o.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return Vt(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vt(t)?Math.max(0,t):null,this.max=Vt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=t===cs(this.min,0)?cs(this.min,-1):cs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(cs(s,-1)),o(cs(i,1)))),s<=0&&r(cs(i,-1)),i<=0&&o(cs(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=XT(n,this);return t.bounds==="ticks"&&Yg(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":pr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=zn(t),this._valueRange=zn(this.max)-zn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(zn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function vl(e){const t=e.ticks;if(t.display&&e.display){const n=ge(t.backdropPadding);return et(t.font&&t.font.size,jt.font.size)+n.height}return 0}function ZT(e,t,n){return n=Lt(n)?n:[n],{w:Kk(e,t.string,n),h:n.length*t.lineHeight}}function gd(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function tP(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?ft/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),h=ne(c.font),d=ZT(e.ctx,h,e._pointLabels[l]);s[l]=d;const f=le(e.getIndexAngle(l)+a),g=Math.round(oc(f)),p=gd(g,u.x,d.w,0,180),m=gd(g,u.y,d.h,90,270);eP(n,t,f,p,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=iP(e,s,i)}function eP(e,t,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function nP(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,s+i+o,r),c=Math.round(oc(le(l.angle+qt))),u=aP(l.y,a.h,c),h=rP(c),d=oP(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function sP(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:r}=e;return!(On({x:n,y:s},t)||On({x:n,y:r},t)||On({x:i,y:s},t)||On({x:i,y:r},t))}function iP(e,t,n){const s=[],i=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:vl(r)/2,additionalAngle:o?ft/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const h=nP(e,u,l);s.push(h),a==="auto"&&(h.visible=sP(h,c),h.visible&&(c=h))}return s}function rP(e){return e===0||e===180?"center":e<180?"left":"right"}function oP(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function aP(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function lP(e,t,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=t;if(!lt(a)){const l=vs(t.borderRadius),c=ge(t.backdropPadding);e.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),ar(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function cP(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const r=e._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(e.getPointLabelContext(i));lP(n,o,r);const a=ne(o.font),{x:l,y:c,textAlign:u}=r;ks(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Bp(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Dt);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=e.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function uP(e,t,n,s,i){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Bp(e,n,o,s),r.closePath(),r.stroke(),r.restore())}function hP(e,t,n){return ts(e,{label:n,index:t,type:"pointLabel"})}class dP extends _o{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ge(vl(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Vt(t)&&!isNaN(t)?t:0,this.max=Vt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vl(this.options))}generateTickLabels(t){_o.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=Ct(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?tP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=Dt/(this._pointLabels.length||1),s=this.options.startAngle||0;return le(t*n+Ye(s))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(lt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return hP(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-qt+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Bp(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&cP(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),g=r.setContext(d);uP(this,f,l,o,g)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=ne(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=ge(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}ks(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Yo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Te=Object.keys(Yo);function pd(e,t){return e-t}function md(e,t){if(lt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Vt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ni(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function bd(e,t,n,s){const i=Te.length;for(let r=Te.indexOf(e);r<i-1;++r){const o=Yo[Te[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return Te[r]}return Te[i-1]}function fP(e,t,n,s,i){for(let r=Te.length-1;r>=Te.indexOf(n);r--){const o=Te[r];if(Yo[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return Te[n?Te.indexOf(n):0]}function gP(e){for(let t=Te.indexOf(e)+1,n=Te.length;t<n;++t)if(Yo[Te[t]].common)return Te[t]}function yd(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=ac(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function pP(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function _d(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:pP(e,s,i,n)}class wl extends Os{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new vp._date(t.adapters.date);i.init(n),Vi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:md(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Vt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Vt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Lk(i,r,o);return this._unit=n.unit||(s.autoSkip?bd(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):fP(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:gP(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),_d(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=se(n,0,o),s=se(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||bd(r.minUnit,n,s,this._getLabelCapacity(n)),a=et(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ni(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+t.add(d,a,o),f++)yd(u,d,g);return(d===s||i.bounds==="ticks"||f===1)&&yd(u,d,g),Object.keys(u).sort(pd).map(p=>+p)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Ct(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[n],f=c&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=Ye(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,_d(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(md(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Jg(t.sort(pd))}}function Hr(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=En(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=En(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class mP extends wl{static id="timeseries";static defaults=wl.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Hr(n,this.min),this._tableRange=Hr(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Hr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Hr(this._table,s*this._tableRange+this._minPos,!0)}}var bP=Object.freeze({__proto__:null,CategoryScale:YT,LinearScale:GT,LogarithmicScale:QT,RadialLinearScale:dP,TimeScale:wl,TimeSeriesScale:mP});const yP=[mE,KO,HT,bP];yc.register(...yP);const Wp=6048e5,_P=864e5,mr=6e4,br=36e5,vP=1e3,vd=Symbol.for("constructDateFrom");function Ht(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vd in e?e[vd](t):e instanceof Date?new e.constructor(t):new Date(t)}function st(e,t){return Ht(t||e,e)}function Ko(e,t,n){const s=st(e,n?.in);return isNaN(t)?Ht(n?.in||e,NaN):(t&&s.setDate(s.getDate()+t),s)}function vc(e,t,n){const s=st(e,n?.in);if(isNaN(t))return Ht(e,NaN);if(!t)return s;const i=s.getDate(),r=Ht(e,s.getTime());r.setMonth(s.getMonth()+t+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function wc(e,t,n){return Ht(e,+st(e)+t)}function wP(e,t,n){return wc(e,t*br)}let xP={};function Ts(){return xP}function dn(e,t){const n=Ts(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(e,t?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ri(e,t){return dn(e,{...t,weekStartsOn:1})}function Vp(e,t){const n=st(e,t?.in),s=n.getFullYear(),i=Ht(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=ri(i),o=Ht(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=ri(o);return n.getTime()>=r.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function vo(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ps(e,...t){const n=Ht.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function xl(e,t){const n=st(e,t?.in);return n.setHours(0,0,0,0),n}function Hp(e,t,n){const[s,i]=Ps(n?.in,e,t),r=xl(s),o=xl(i),a=+r-vo(r),l=+o-vo(o);return Math.round((a-l)/_P)}function kP(e,t){const n=Vp(e,t),s=Ht(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),ri(s)}function SP(e,t,n){const s=st(e,n?.in);return s.setTime(s.getTime()+t*mr),s}function EP(e,t,n){return vc(e,t*3,n)}function OP(e,t,n){return wc(e,t*1e3)}function TP(e,t,n){return Ko(e,t*7,n)}function PP(e,t,n){return vc(e,t*12,n)}function qi(e,t){const n=+st(e)-+st(t);return n<0?-1:n>0?1:n}function CP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Up(e){return!(!CP(e)&&typeof e!="number"||isNaN(+st(e)))}function AP(e,t,n){const[s,i]=Ps(n?.in,e,t),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function MP(e,t,n){const[s,i]=Ps(n?.in,e,t);return s.getFullYear()-i.getFullYear()}function zp(e,t,n){const[s,i]=Ps(n?.in,e,t),r=wd(s,i),o=Math.abs(Hp(s,i));s.setDate(s.getDate()-r*o);const a=+(wd(s,i)===-r),l=r*(o-a);return l===0?0:l}function wd(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function yr(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function RP(e,t,n){const[s,i]=Ps(n?.in,e,t),r=(+s-+i)/br;return yr(n?.roundingMethod)(r)}function xc(e,t){return+st(e)-+st(t)}function DP(e,t,n){const s=xc(e,t)/mr;return yr(n?.roundingMethod)(s)}function qp(e,t){const n=st(e,t?.in);return n.setHours(23,59,59,999),n}function Yp(e,t){const n=st(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function IP(e,t){const n=st(e,t?.in);return+qp(n,t)==+Yp(n,t)}function Kp(e,t,n){const[s,i,r]=Ps(n?.in,e,e,t),o=qi(i,r),a=Math.abs(AP(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=qi(i,r)===-o;IP(s)&&a===1&&qi(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function LP(e,t,n){const s=Kp(e,t,n)/3;return yr(n?.roundingMethod)(s)}function jP(e,t,n){const s=xc(e,t)/1e3;return yr(n?.roundingMethod)(s)}function NP(e,t,n){const s=zp(e,t,n)/7;return yr(n?.roundingMethod)(s)}function $P(e,t,n){const[s,i]=Ps(n?.in,e,t),r=qi(s,i),o=Math.abs(MP(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=qi(s,i)===-r,l=r*(o-+a);return l===0?0:l}function FP(e,t){const n=st(e,t?.in),s=n.getMonth(),i=s-s%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function BP(e,t){const n=st(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function WP(e,t){const n=st(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Gp(e,t){const n=st(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function VP(e,t){const n=st(e,t?.in);return n.setMinutes(59,59,999),n}function HP(e,t){const n=Ts(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(e,t?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function UP(e,t){const n=st(e,t?.in);return n.setSeconds(59,999),n}function zP(e,t){const n=st(e,t?.in),s=n.getMonth(),i=s-s%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}function qP(e,t){const n=st(e,t?.in);return n.setMilliseconds(999),n}const YP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KP=(e,t,n)=>{let s;const i=YP[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ia(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QP={date:Ia({formats:GP,defaultWidth:"full"}),time:Ia({formats:JP,defaultWidth:"full"}),dateTime:Ia({formats:XP,defaultWidth:"full"})},ZP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t1=(e,t,n,s)=>ZP[e];function xi(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const r=e.argumentCallback?e.argumentCallback(t):t;return i[r]}}const e1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},o1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a1=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},l1={ordinalNumber:a1,era:xi({values:e1,defaultWidth:"wide"}),quarter:xi({values:n1,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xi({values:s1,defaultWidth:"wide"}),day:xi({values:i1,defaultWidth:"wide"}),dayPeriod:xi({values:r1,defaultWidth:"wide",formattingValues:o1,defaultFormattingWidth:"wide"})};function ki(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],r=t.match(i);if(!r)return null;const o=r[0],a=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?u1(a,h=>h.test(o)):c1(a,h=>h.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function c1(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function u1(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function h1(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],r=t.match(e.parsePattern);if(!r)return null;let o=e.valueCallback?e.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const d1=/^(\d+)(th|st|nd|rd)?/i,f1=/\d+/i,g1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p1={any:[/^b/i,/^(a|c)/i]},m1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b1={any:[/1/i,/2/i,/3/i,/4/i]},y1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S1={ordinalNumber:h1({matchPattern:d1,parsePattern:f1,valueCallback:e=>parseInt(e,10)}),era:ki({matchPatterns:g1,defaultMatchWidth:"wide",parsePatterns:p1,defaultParseWidth:"any"}),quarter:ki({matchPatterns:m1,defaultMatchWidth:"wide",parsePatterns:b1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ki({matchPatterns:y1,defaultMatchWidth:"wide",parsePatterns:_1,defaultParseWidth:"any"}),day:ki({matchPatterns:v1,defaultMatchWidth:"wide",parsePatterns:w1,defaultParseWidth:"any"}),dayPeriod:ki({matchPatterns:x1,defaultMatchWidth:"any",parsePatterns:k1,defaultParseWidth:"any"})},Jp={code:"en-US",formatDistance:KP,formatLong:QP,formatRelative:t1,localize:l1,match:S1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E1(e,t){const n=st(e,t?.in);return Hp(n,Gp(n))+1}function Xp(e,t){const n=st(e,t?.in),s=+ri(n)-+kP(n);return Math.round(s/Wp)+1}function kc(e,t){const n=st(e,t?.in),s=n.getFullYear(),i=Ts(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ht(t?.in||e,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=dn(o,t),l=Ht(t?.in||e,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=dn(l,t);return+n>=+a?s+1:+n>=+c?s:s-1}function O1(e,t){const n=Ts(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=kc(e,t),r=Ht(t?.in||e,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),dn(r,t)}function Qp(e,t){const n=st(e,t?.in),s=+dn(n,t)-+O1(n,t);return Math.round(s/Wp)+1}function vt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Nn={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return vt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):vt(n+1,2)},d(e,t){return vt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return vt(e.getHours()%12||12,t.length)},H(e,t){return vt(e.getHours(),t.length)},m(e,t){return vt(e.getMinutes(),t.length)},s(e,t){return vt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return vt(i,t.length)}},Ns={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xd={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Nn.y(e,t)},Y:function(e,t,n,s){const i=kc(e,s),r=i>0?i:1-i;if(t==="YY"){const o=r%100;return vt(o,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):vt(r,t.length)},R:function(e,t){const n=Vp(e);return vt(n,t.length)},u:function(e,t){const n=e.getFullYear();return vt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return vt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return vt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Nn.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return vt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Qp(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):vt(i,t.length)},I:function(e,t,n){const s=Xp(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):vt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Nn.d(e,t)},D:function(e,t,n){const s=E1(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):vt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return vt(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return vt(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return vt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Ns.noon:s===0?i=Ns.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Ns.evening:s>=12?i=Ns.afternoon:s>=4?i=Ns.morning:i=Ns.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Nn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Nn.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):vt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):vt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Nn.s(e,t)},S:function(e,t){return Nn.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Sd(s);case"XXXX":case"XX":return gs(s);case"XXXXX":case"XXX":default:return gs(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Sd(s);case"xxxx":case"xx":return gs(s);case"xxxxx":case"xxx":default:return gs(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kd(s,":");case"OOOO":default:return"GMT"+gs(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kd(s,":");case"zzzz":default:return"GMT"+gs(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return vt(s,t.length)},T:function(e,t,n){return vt(+e,t.length)}};function kd(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),r=s%60;return r===0?n+String(i):n+String(i)+t+vt(r,2)}function Sd(e,t){return e%60===0?(e>0?"-":"+")+vt(Math.abs(e)/60,2):gs(e,t)}function gs(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=vt(Math.trunc(s/60),2),r=vt(s%60,2);return n+i+t+r}const Ed=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},T1=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Ed(e,t);let r;switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Ed(s,t)).replace("{{time}}",Zp(i,t))},kl={p:Zp,P:T1},P1=/^D+$/,C1=/^Y+$/,A1=["D","DD","YY","YYYY"];function tm(e){return P1.test(e)}function em(e){return C1.test(e)}function Sl(e,t,n){const s=M1(e,t,n);if(console.warn(s),A1.includes(e))throw new RangeError(s)}function M1(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I1=/^'([^]*?)'?$/,L1=/''/g,j1=/[a-zA-Z]/;function N1(e,t,n){const s=Ts(),i=n?.locale??s.locale??Jp,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=st(e,n?.in);if(!Up(a))throw new RangeError("Invalid time value");let l=t.match(D1).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=kl[h];return d(u,i.formatLong)}return u}).join("").match(R1).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:$1(u)};if(xd[h])return{isToken:!0,value:u};if(h.match(j1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!n?.useAdditionalWeekYearTokens&&em(h)||!n?.useAdditionalDayOfYearTokens&&tm(h))&&Sl(h,t,String(e));const d=xd[h[0]];return d(a,h,i.localize,c)}).join("")}function $1(e){const t=e.match(I1);return t?t[1].replace(L1,"'"):e}function F1(){return Object.assign({},Ts())}function B1(e,t){const n=st(e,t?.in).getDay();return n===0?7:n}function W1(e,t){const n=V1(t)?new t(0):Ht(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function V1(e){return typeof e=="function"&&e.prototype?.constructor===e}const H1=10;class nm{subPriority=0;validate(t,n){return!0}}class U1 extends nm{constructor(t,n,s,i,r){super(),this.value=t,this.validateValue=n,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,s){return this.setValue(t,n,this.value,s)}}class z1 extends nm{priority=H1;subPriority=-1;constructor(t,n){super(),this.context=t||(s=>Ht(n,s))}set(t,n){return n.timestampIsSet?t:Ht(t,W1(t,this.context))}}class gt{run(t,n,s,i){const r=this.parse(t,n,s,i);return r?{setter:new U1(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,n,s){return!0}}class q1 extends gt{priority=140;parse(t,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,n,s){return n.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Yt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},an={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Kt(e,t){return e&&{value:t(e.value),rest:e.rest}}function $t(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ln(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const s=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:s*(i*br+r*mr+o*vP),rest:t.slice(n[0].length)}}function sm(e){return $t(Yt.anyDigitsSigned,e)}function Ut(e,t){switch(e){case 1:return $t(Yt.singleDigit,t);case 2:return $t(Yt.twoDigits,t);case 3:return $t(Yt.threeDigits,t);case 4:return $t(Yt.fourDigits,t);default:return $t(new RegExp("^\\d{1,"+e+"}"),t)}}function wo(e,t){switch(e){case 1:return $t(Yt.singleDigitSigned,t);case 2:return $t(Yt.twoDigitsSigned,t);case 3:return $t(Yt.threeDigitsSigned,t);case 4:return $t(Yt.fourDigitsSigned,t);default:return $t(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Sc(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function im(e,t){const n=t>0,s=n?t:1-t;let i;if(s<=50)i=e||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=e>=r%100;i=e+o-(a?100:0)}return n?i:1-i}function rm(e){return e%400===0||e%4===0&&e%100!==0}class Y1 extends gt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return Kt(Ut(4,t),i);case"yo":return Kt(s.ordinalNumber(t,{unit:"year"}),i);default:return Kt(Ut(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s){const i=t.getFullYear();if(s.isTwoDigitYear){const o=im(s.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const r=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class K1 extends gt{priority=130;parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Kt(Ut(4,t),i);case"Yo":return Kt(s.ordinalNumber(t,{unit:"year"}),i);default:return Kt(Ut(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s,i){const r=kc(t,i);if(s.isTwoDigitYear){const a=im(s.year,r);return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dn(t,i)}const o=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),dn(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class G1 extends gt{priority=130;parse(t,n){return wo(n==="R"?4:n.length,t)}set(t,n,s){const i=Ht(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),ri(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class J1 extends gt{priority=130;parse(t,n){return wo(n==="u"?4:n.length,t)}set(t,n,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class X1 extends gt{priority=120;parse(t,n,s){switch(n){case"Q":case"QQ":return Ut(n.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Q1 extends gt{priority=120;parse(t,n,s){switch(n){case"q":case"qq":return Ut(n.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Z1 extends gt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"M":return Kt($t(Yt.month,t),i);case"MM":return Kt(Ut(2,t),i);case"Mo":return Kt(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class tC extends gt{priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"L":return Kt($t(Yt.month,t),i);case"LL":return Kt(Ut(2,t),i);case"Lo":return Kt(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function eC(e,t,n){const s=st(e,n?.in),i=Qp(s,n)-t;return s.setDate(s.getDate()-i*7),st(s,n?.in)}class nC extends gt{priority=100;parse(t,n,s){switch(n){case"w":return $t(Yt.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s,i){return dn(eC(t,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function sC(e,t,n){const s=st(e,n?.in),i=Xp(s,n)-t;return s.setDate(s.getDate()-i*7),s}class iC extends gt{priority=100;parse(t,n,s){switch(n){case"I":return $t(Yt.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s){return ri(sC(t,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const rC=[31,28,31,30,31,30,31,31,30,31,30,31],oC=[31,29,31,30,31,30,31,31,30,31,30,31];class aC extends gt{priority=90;subPriority=1;parse(t,n,s){switch(n){case"d":return $t(Yt.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Ut(n.length,t)}}validate(t,n){const s=t.getFullYear(),i=rm(s),r=t.getMonth();return i?n>=1&&n<=oC[r]:n>=1&&n<=rC[r]}set(t,n,s){return t.setDate(s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class lC extends gt{priority=90;subpriority=1;parse(t,n,s){switch(n){case"D":case"DD":return $t(Yt.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Ut(n.length,t)}}validate(t,n){const s=t.getFullYear();return rm(s)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ec(e,t,n){const s=Ts(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=st(e,n?.in),o=r.getDay(),l=(t%7+7)%7,c=7-i,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Ko(r,u,n)}class cC extends gt{priority=90;parse(t,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Ec(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class uC extends gt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return Kt(Ut(n.length,t),r);case"eo":return Kt(s.ordinalNumber(t,{unit:"day"}),r);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Ec(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class hC extends gt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return Kt(Ut(n.length,t),r);case"co":return Kt(s.ordinalNumber(t,{unit:"day"}),r);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Ec(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function dC(e,t,n){const s=st(e,n?.in),i=B1(s,n),r=t-i;return Ko(s,r,n)}class fC extends gt{priority=90;parse(t,n,s){const i=r=>r===0?7:r;switch(n){case"i":case"ii":return Ut(n.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Kt(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Kt(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Kt(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Kt(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,s){return t=dC(t,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class gC extends gt{priority=80;parse(t,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Sc(s),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class pC extends gt{priority=80;parse(t,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Sc(s),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class mC extends gt{priority=80;parse(t,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Sc(s),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class bC extends gt{priority=70;parse(t,n,s){switch(n){case"h":return $t(Yt.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class yC extends gt{priority=70;parse(t,n,s){switch(n){case"H":return $t(Yt.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,s){return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class _C extends gt{priority=70;parse(t,n,s){switch(n){case"K":return $t(Yt.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class vC extends gt{priority=70;parse(t,n,s){switch(n){case"k":return $t(Yt.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class wC extends gt{priority=60;parse(t,n,s){switch(n){case"m":return $t(Yt.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setMinutes(s,0,0),t}incompatibleTokens=["t","T"]}class xC extends gt{priority=50;parse(t,n,s){switch(n){case"s":return $t(Yt.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setSeconds(s,0),t}incompatibleTokens=["t","T"]}class kC extends gt{priority=30;parse(t,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Kt(Ut(n.length,t),s)}set(t,n,s){return t.setMilliseconds(s),t}incompatibleTokens=["t","T"]}class SC extends gt{priority=10;parse(t,n){switch(n){case"X":return ln(an.basicOptionalMinutes,t);case"XX":return ln(an.basic,t);case"XXXX":return ln(an.basicOptionalSeconds,t);case"XXXXX":return ln(an.extendedOptionalSeconds,t);case"XXX":default:return ln(an.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Ht(t,t.getTime()-vo(t)-s)}incompatibleTokens=["t","T","x"]}class EC extends gt{priority=10;parse(t,n){switch(n){case"x":return ln(an.basicOptionalMinutes,t);case"xx":return ln(an.basic,t);case"xxxx":return ln(an.basicOptionalSeconds,t);case"xxxxx":return ln(an.extendedOptionalSeconds,t);case"xxx":default:return ln(an.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Ht(t,t.getTime()-vo(t)-s)}incompatibleTokens=["t","T","X"]}class OC extends gt{priority=40;parse(t){return sm(t)}set(t,n,s){return[Ht(t,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class TC extends gt{priority=20;parse(t){return sm(t)}set(t,n,s){return[Ht(t,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const PC={G:new q1,y:new Y1,Y:new K1,R:new G1,u:new J1,Q:new X1,q:new Q1,M:new Z1,L:new tC,w:new nC,I:new iC,d:new aC,D:new lC,E:new cC,e:new uC,c:new hC,i:new fC,a:new gC,b:new pC,B:new mC,h:new bC,H:new yC,K:new _C,k:new vC,m:new wC,s:new xC,S:new kC,X:new SC,x:new EC,t:new OC,T:new TC},CC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MC=/^'([^]*?)'?$/,RC=/''/g,DC=/\S/,IC=/[a-zA-Z]/;function LC(e,t,n,s){const i=()=>Ht(s?.in||n,NaN),r=F1(),o=s?.locale??r.locale??Jp,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return e?i():st(n,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new z1(s?.in,n)],h=t.match(AC).map(m=>{const b=m[0];if(b in kl){const y=kl[b];return y(m,o.formatLong)}return m}).join("").match(CC),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&em(m)&&Sl(m,t,e),!s?.useAdditionalDayOfYearTokens&&tm(m)&&Sl(m,t,e);const b=m[0],y=PC[b];if(y){const{incompatibleTokens:w}=y;if(Array.isArray(w)){const S=d.find(E=>w.includes(E.token)||E.token===b);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(e,m,o.match,c);if(!x)return i();u.push(x.setter),e=x.rest}else{if(b.match(IC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=jC(m)),e.indexOf(m)===0)e=e.slice(m.length);else return i()}}if(e.length>0&&DC.test(e))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let g=st(n,s?.in);if(isNaN(+g))return i();const p={};for(const m of f){if(!m.validate(g,c))return i();const b=m.set(g,p,c);Array.isArray(b)?(g=b[0],Object.assign(p,b[1])):g=b}return g}function jC(e){return e.match(MC)[1].replace(RC,"'")}function NC(e,t){const n=st(e,t?.in);return n.setMinutes(0,0,0),n}function $C(e,t){const n=st(e,t?.in);return n.setSeconds(0,0),n}function FC(e,t){const n=st(e,t?.in);return n.setMilliseconds(0),n}function BC(e,t){const n=()=>Ht(t?.in,NaN),s=t?.additionalDigits??2,i=UC(e);let r;if(i.date){const c=zC(i.date,s);r=qC(c.restDateString,c.year)}if(!r||isNaN(+r))return n();const o=+r;let a=0,l;if(i.time&&(a=YC(i.time),isNaN(a)))return n();if(i.timezone){if(l=KC(i.timezone),isNaN(l))return n()}else{const c=new Date(o+a),u=st(0,t?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return st(o+a+l,t?.in)}const Ur={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},WC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function UC(e){const t={},n=e.split(Ur.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Ur.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ur.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=Ur.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function zC(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:e.slice((s[1]||s[2]).length)}}function qC(e,t){if(t===null)return new Date(NaN);const n=e.match(WC);if(!n)return new Date(NaN);const s=!!n[4],i=Si(n[1]),r=Si(n[2])-1,o=Si(n[3]),a=Si(n[4]),l=Si(n[5])-1;if(s)return ZC(t,a,l)?GC(t,a,l):new Date(NaN);{const c=new Date(0);return!XC(t,r,o)||!QC(t,i)?new Date(NaN):(c.setUTCFullYear(t,r,Math.max(i,o)),c)}}function Si(e){return e?parseInt(e):1}function YC(e){const t=e.match(VC);if(!t)return NaN;const n=La(t[1]),s=La(t[2]),i=La(t[3]);return tA(n,s,i)?n*br+s*mr+i*1e3:NaN}function La(e){return e&&parseFloat(e.replace(",","."))||0}function KC(e){if(e==="Z")return 0;const t=e.match(HC);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return eA(s,i)?n*(s*br+i*mr):NaN}function GC(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,r=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const JC=[31,null,31,30,31,30,31,31,30,31,30,31];function om(e){return e%400===0||e%4===0&&e%100!==0}function XC(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(JC[t]||(om(e)?29:28))}function QC(e,t){return t>=1&&t<=(om(e)?366:365)}function ZC(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function tA(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function eA(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const nA={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};vp._date.override({_id:"date-fns",formats:function(){return nA},parse:function(e,t){if(e===null||typeof e>"u")return null;const n=typeof e;return n==="number"||e instanceof Date?e=st(e):n==="string"&&(typeof t=="string"?e=LC(e,t,new Date,this.options):e=BC(e,this.options)),Up(e)?e.getTime():null},format:function(e,t){return N1(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return wc(e,t);case"second":return OP(e,t);case"minute":return SP(e,t);case"hour":return wP(e,t);case"day":return Ko(e,t);case"week":return TP(e,t);case"month":return vc(e,t);case"quarter":return EP(e,t);case"year":return PP(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return xc(e,t);case"second":return jP(e,t);case"minute":return DP(e,t);case"hour":return RP(e,t);case"day":return zp(e,t);case"week":return NP(e,t);case"month":return Kp(e,t);case"quarter":return LP(e,t);case"year":return $P(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return FC(e);case"minute":return $C(e);case"hour":return NC(e);case"day":return xl(e);case"week":return dn(e);case"isoWeek":return dn(e,{weekStartsOn:+n});case"month":return BP(e);case"quarter":return FP(e);case"year":return Gp(e);default:return e}},endOf:function(e,t){switch(t){case"second":return qP(e);case"minute":return UP(e);case"hour":return VP(e);case"day":return qp(e);case"week":return HP(e);case"month":return Yp(e);case"quarter":return zP(e);case"year":return WP(e);default:return e}}});const sA={class:"softBubble"},iA=yt({__name:"WorkoutVolumeByWorkout",props:{workouts:{}},setup(e){const t=e,n=Q(null),s=Q(null),i=Q(!1),r=Q(0);function o(){if(s.value){try{s.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}s.value=null}}async function a(){if(console.log("Creating Workout Volume By Workout Chart"),!n.value){console.log("Canvas not ready");return}if(!t.workouts||t.workouts.length===0){console.log("No workouts available");return}if(i.value){console.log("Chart creation already in progress");return}i.value=!0,r.value++;const l=r.value;if(o(),await Hn(),l!==r.value){i.value=!1;return}if(!n.value){console.log("Canvas no longer available"),i.value=!1;return}console.log("Creating chart with",t.workouts.length,"workouts");const c=t.workouts.map(m=>({x:m.getStartTime(),y:m.getVolume()})),u=getComputedStyle(document.documentElement),h=[...t.workouts],d={datasets:[{label:"My First Dataset",data:c,fill:!1,borderColor:"rgb(75, 192, 192)",borderWidth:2,tension:0,showLine:!0,pointRadius:5}]},f={family:"Avenir",size:16},p={type:"scatter",data:d,options:{responsive:!0,animation:{duration:0},plugins:{legend:{display:!1},title:{display:!0,text:"Workout Volume (kg)",font:{family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},color:u.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(m){return[h[m.dataIndex]?.getTitle()||"Unknown Workout",`Volume: ${m.parsed.y} kg`,`Date: ${new Date(m.parsed.x).toLocaleDateString()}`]}},bodyFont:f}},scales:{x:{type:"time",time:{unit:"week",displayFormats:{week:"MMM d"}},ticks:{font:f}},y:{ticks:{maxTicksLimit:3,font:f},position:"right",startAtZero:!1}}}};try{if(l!==r.value||!n.value){i.value=!1;return}const m=new yc(n.value,p);l===r.value?s.value=m:m.destroy()}catch(m){console.error("Error creating chart:",m)}finally{i.value=!1}}return Dn(async()=>{await Hn(),a()}),ji(()=>t.workouts,async(l,c)=>{if(console.log("Watch triggered - new workouts:",l?.length||0),l!==c){if(await Hn(),!l||l.length===0){s.value&&(s.value.destroy(),s.value=null);return}await Hn(()=>a())}},{deep:!1,immediate:!1}),Bl(()=>{s.value&&(s.value.destroy(),s.value=null),i.value=!1}),(l,c)=>(B(),nt("div",sA,[A("canvas",{ref_key:"canvasRef",ref:n,id:"workoutVolumeChart"},null,512)]))}}),rA={class:"statBubble softBubble"},oA={key:0},aA=yt({__name:"DashboardStatBubble",props:{label:{},value:{},prevValue:{},dispValue:{},icon:{}},setup(e){const t=e;function n(){if(t.prevValue==0)return"N/A";let s=(t.value-t.prevValue)/t.prevValue*100;return s<0&&(s*=-1),s.toFixed(1)}return(s,i)=>(B(),nt("div",rA,[A("p",null,[Ft(Mt(e.label)+" ",1),A("i",{class:Pe(["right fa-solid",e.icon])},null,2)]),A("h2",null,Mt(e.dispValue),1),e.prevValue!==0?(B(),nt("p",oA,[e.value!==e.prevValue?(B(),nt("i",{key:0,class:Pe(["fa-solid",e.value-e.prevValue>=0?"fa-arrow-up":"fa-arrow-down"])},null,2)):kt("",!0),Ft(" "+Mt(n())+" % ",1)])):kt("",!0)]))}}),zr=Rt(aA,[["__scopeId","data-v-ec9026fe"]]);class Ie{static getStartOfWeek(t){t=new Date(t);var n=t.getDay(),s=t.getDate()-n+(n==0?-6:1);return t.setDate(s),t.setHours(0,0,0,0),t}static getStartOfPreviousWeek(t){const n=Ie.getStartOfWeek(t),s=new Date(n);return s.setDate(n.getDate()-7),s}static getStartOfMonth(t){const n=new Date(t);return n.setDate(1),n.setHours(0,0,0,0),n}static getStartOfPreviousMonth(t){const n=Ie.getStartOfMonth(t),s=new Date(n);return s.setMonth(n.getMonth()-1),s}static getStartOfYear(t){const n=new Date(t);return n.setMonth(0),n.setDate(1),n.setHours(0,0,0,0),n}static getStartOfPreviousYear(t){const n=Ie.getStartOfYear(t),s=new Date(n);return s.setFullYear(n.getFullYear()-1),s}static getStart(t,n){switch(n){case"week":return Ie.getStartOfWeek(t);case"month":return Ie.getStartOfMonth(t);case"year":return Ie.getStartOfYear(t);default:return t}}static getStartOfPrevious(t,n){switch(n){case"week":return Ie.getStartOfPreviousWeek(t);case"month":return Ie.getStartOfPreviousMonth(t);case"year":return Ie.getStartOfPreviousYear(t);default:return t}}static getDurationString(t){if(t<=0)return null;const n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return n>0&&r.push(`${n}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}}class mn{static getTotalDuration(t){return t.reduce((n,s)=>n+s.getDuration(),0)}static getTotalEnergy(t){return t.reduce((n,s)=>n+(s.getEnergy()||0),0)}static getTotalEnergyString(t){return`${this.getTotalEnergy(t)} kj`}static getTotalVolume(t){return t.reduce((n,s)=>n+s.getVolume(),0)}static getTotalVolumeString(t){return`${this.getTotalVolume(t)} kg`}}const lA={class:"viewArea"},cA={class:"margins"},uA={class:"flex"},hA={key:0},dA=yt({__name:"StatsView",setup(e){let t=[];const n=Q([]),s=Q([]),i=Q(!0);async function r(o){if(i.value=!0,o==="all"){n.value=[...t],await Hn(),i.value=!1;return}console.log("updateWorkouts called with:",o);const a=new Date,l=Ie.getStart(a,o),c=Ie.getStartOfPrevious(l,o),u=[];s.value=[];for(const h of t)h.getStartTime()>=l&&h.getStartTime()<=a&&u.push(h),h.getStartTime()>=c&&h.getStartTime()<l&&s.value.push(h);console.log("Filtered workouts:",u.length),n.value=u,await Hn(),i.value=!1}return Dn(async()=>{try{console.log("Loading workouts..."),t=await Wg(),console.log("Loaded workouts:",t.length),await r("week"),i.value=!1}catch(o){console.error("Failed to load workouts:",o),t=[],n.value=[],i.value=!1}}),(o,a)=>(B(),nt(At,null,[A("div",lA,[A("div",cA,[a[2]||(a[2]=A("h1",null,"Workout Dashboard",-1)),a[3]||(a[3]=A("p",null,"Track your fitness journey and monitor your progress",-1)),H(Xx,{options:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"},{label:"All Time",value:"all"}],onSelect:a[0]||(a[0]=l=>r(l))}),A("div",uA,[H(zr,{label:"Total Workouts",value:n.value.length,prevValue:s.value.length,dispValue:n.value.length.toString(),icon:"fa-dumbbell"},null,8,["value","prevValue","dispValue"]),H(zr,{label:"Total Time",value:ee(mn).getTotalDuration(n.value),prevValue:ee(mn).getTotalDuration(s.value),dispValue:ee(Ie).getDurationString(ee(mn).getTotalDuration(n.value)),icon:"fa-clock"},null,8,["value","prevValue","dispValue"]),H(zr,{label:"Total Energy",value:ee(mn).getTotalEnergy(n.value),prevValue:ee(mn).getTotalEnergy(s.value),dispValue:ee(mn).getTotalEnergyString(n.value),icon:"fa-fire"},null,8,["value","prevValue","dispValue"]),H(zr,{label:"Total Volume",value:ee(mn).getTotalVolume(n.value),prevValue:ee(mn).getTotalVolume(s.value),dispValue:ee(mn).getTotalVolumeString(n.value),icon:"fa-weight-hanging"},null,8,["value","prevValue","dispValue"])]),i.value?(B(),nt("div",hA,[...a[1]||(a[1]=[A("p",null,"Loading workouts...",-1)])])):(B(),Bt(iA,{key:1,workouts:n.value},null,8,["workouts"]))])]),H(Fo,{active:"/stats"})],64))}}),fA=Rt(dA,[["__scopeId","data-v-79d52988"]]),gA=[{path:"/",name:"SignIn",component:yw},{path:"/signup",name:"SignUp",component:xw},{path:"/emailconf",name:"Email Confirmation",component:Ow},{path:"/home",name:"Home",component:Qw},{path:"/upload",name:"Upload",component:ix},{path:"/viewWorkout/:workout_id",name:"View Workout",component:qx,props:!0},{path:"/stats",name:"Stats",component:fA}],pA=rw({history:Fv(),routes:gA}),am=ky(aw);am.use(pA);am.mount("#app");
