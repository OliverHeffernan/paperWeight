(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bl(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const $e={},Qs=[],pn=()=>{},Wd=()=>!1,Lo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Wl=n=>n.startsWith("onUpdate:"),Et=Object.assign,Vl=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Cm=Object.prototype.hasOwnProperty,De=(n,e)=>Cm.call(n,e),ae=Array.isArray,Zs=n=>No(n)==="[object Map]",Vd=n=>No(n)==="[object Set]",he=n=>typeof n=="function",ot=n=>typeof n=="string",Nn=n=>typeof n=="symbol",He=n=>n!==null&&typeof n=="object",Hd=n=>(He(n)||he(n))&&he(n.then)&&he(n.catch),Ud=Object.prototype.toString,No=n=>Ud.call(n),Am=n=>No(n).slice(8,-1),zd=n=>No(n)==="[object Object]",Hl=n=>ot(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Wi=Bl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$o=n=>{const e=Object.create(null);return(t=>e[t]||(e[t]=n(t)))},Mm=/-\w/g,Gt=$o(n=>n.replace(Mm,e=>e.slice(1).toUpperCase())),Dm=/\B([A-Z])/g,rs=$o(n=>n.replace(Dm,"-$1").toLowerCase()),Fo=$o(n=>n.charAt(0).toUpperCase()+n.slice(1)),ca=$o(n=>n?`on${Fo(n)}`:""),es=(n,e)=>!Object.is(n,e),ro=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},qd=(n,e,t,s=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:s,value:t})},Xa=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Vc;const jo=()=>Vc||(Vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bo(n){if(ae(n)){const e={};for(let t=0;t<n.length;t++){const s=n[t],i=ot(s)?Nm(s):Bo(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(ot(n)||He(n))return n}const Rm=/;(?![^(]*\))/g,Im=/:([^]+)/,Lm=/\/\*[^]*?\*\//g;function Nm(n){const e={};return n.replace(Lm,"").split(Rm).forEach(t=>{if(t){const s=t.split(Im);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ht(n){let e="";if(ot(n))e=n;else if(ae(n))for(let t=0;t<n.length;t++){const s=ht(n[t]);s&&(e+=s+" ")}else if(He(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const $m="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fm=Bl($m);function Yd(n){return!!n||n===""}const Gd=n=>!!(n&&n.__v_isRef===!0),fe=n=>ot(n)?n:n==null?"":ae(n)||He(n)&&(n.toString===Ud||!he(n.toString))?Gd(n)?fe(n.value):JSON.stringify(n,Kd,2):String(n),Kd=(n,e)=>Gd(e)?Kd(n,e.value):Zs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,i],r)=>(t[ua(s,r)+" =>"]=i,t),{})}:Vd(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ua(t))}:Nn(e)?ua(e):He(e)&&!ae(e)&&!zd(e)?String(e):e,ua=(n,e="")=>{var t;return Nn(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rt;class jm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rt,!e&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Rt;try{return Rt=this,e()}finally{Rt=t}}}on(){++this._on===1&&(this.prevScope=Rt,Rt=this)}off(){this._on>0&&--this._on===0&&(Rt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Bm(){return Rt}let Be;const ha=new WeakSet;class Xd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ha.has(this)&&(ha.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hc(this),Zd(this);const e=Be,t=tn;Be=this,tn=!0;try{return this.fn()}finally{ef(this),Be=e,tn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ql(e);this.deps=this.depsTail=void 0,Hc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ha.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ja(this)&&this.run()}get dirty(){return Ja(this)}}let Jd=0,Vi,Hi;function Qd(n,e=!1){if(n.flags|=8,e){n.next=Hi,Hi=n;return}n.next=Vi,Vi=n}function Ul(){Jd++}function zl(){if(--Jd>0)return;if(Hi){let e=Hi;for(Hi=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Vi;){let e=Vi;for(Vi=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){n||(n=s)}e=t}}if(n)throw n}function Zd(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ef(n){let e,t=n.depsTail,s=t;for(;s;){const i=s.prevDep;s.version===-1?(s===t&&(t=i),ql(s),Wm(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}n.deps=e,n.depsTail=t}function Ja(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function tf(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===sr)||(n.globalVersion=sr,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Ja(n))))return;n.flags|=2;const e=n.dep,t=Be,s=tn;Be=n,tn=!0;try{Zd(n);const i=n.fn(n._value);(e.version===0||es(i,n._value))&&(n.flags|=128,n._value=i,e.version++)}catch(i){throw e.version++,i}finally{Be=t,tn=s,ef(n),n.flags&=-3}}function ql(n,e=!1){const{dep:t,prevSub:s,nextSub:i}=n;if(s&&(s.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=s,n.nextSub=void 0),t.subs===n&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)ql(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Wm(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let tn=!0;const nf=[];function Rn(){nf.push(tn),tn=!1}function In(){const n=nf.pop();tn=n===void 0?!0:n}function Hc(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Be;Be=void 0;try{e()}finally{Be=t}}}let sr=0;class Vm{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Be||!tn||Be===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Be)t=this.activeLink=new Vm(Be,this),Be.deps?(t.prevDep=Be.depsTail,Be.depsTail.nextDep=t,Be.depsTail=t):Be.deps=Be.depsTail=t,sf(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=Be.depsTail,t.nextDep=void 0,Be.depsTail.nextDep=t,Be.depsTail=t,Be.deps===t&&(Be.deps=s)}return t}trigger(e){this.version++,sr++,this.notify(e)}notify(e){Ul();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{zl()}}}function sf(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)sf(s)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Qa=new WeakMap,Ps=Symbol(""),Za=Symbol(""),ir=Symbol("");function _t(n,e,t){if(tn&&Be){let s=Qa.get(n);s||Qa.set(n,s=new Map);let i=s.get(t);i||(s.set(t,i=new Yl),i.map=s,i.key=t),i.track()}}function Pn(n,e,t,s,i,r){const o=Qa.get(n);if(!o){sr++;return}const a=l=>{l&&l.trigger()};if(Ul(),e==="clear")o.forEach(a);else{const l=ae(n),c=l&&Hl(t);if(l&&t==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===ir||!Nn(d)&&d>=u)&&a(h)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(ir)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ps)),Zs(n)&&a(o.get(Za)));break;case"delete":l||(a(o.get(Ps)),Zs(n)&&a(o.get(Za)));break;case"set":Zs(n)&&a(o.get(Ps));break}}zl()}function Ns(n){const e=Me(n);return e===n?e:(_t(e,"iterate",ir),Yt(n)?e:e.map(gt))}function Wo(n){return _t(n=Me(n),"iterate",ir),n}const Hm={__proto__:null,[Symbol.iterator](){return da(this,Symbol.iterator,gt)},concat(...n){return Ns(this).concat(...n.map(e=>ae(e)?Ns(e):e))},entries(){return da(this,"entries",n=>(n[1]=gt(n[1]),n))},every(n,e){return _n(this,"every",n,e,void 0,arguments)},filter(n,e){return _n(this,"filter",n,e,t=>t.map(gt),arguments)},find(n,e){return _n(this,"find",n,e,gt,arguments)},findIndex(n,e){return _n(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return _n(this,"findLast",n,e,gt,arguments)},findLastIndex(n,e){return _n(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return _n(this,"forEach",n,e,void 0,arguments)},includes(...n){return fa(this,"includes",n)},indexOf(...n){return fa(this,"indexOf",n)},join(n){return Ns(this).join(n)},lastIndexOf(...n){return fa(this,"lastIndexOf",n)},map(n,e){return _n(this,"map",n,e,void 0,arguments)},pop(){return vi(this,"pop")},push(...n){return vi(this,"push",n)},reduce(n,...e){return Uc(this,"reduce",n,e)},reduceRight(n,...e){return Uc(this,"reduceRight",n,e)},shift(){return vi(this,"shift")},some(n,e){return _n(this,"some",n,e,void 0,arguments)},splice(...n){return vi(this,"splice",n)},toReversed(){return Ns(this).toReversed()},toSorted(n){return Ns(this).toSorted(n)},toSpliced(...n){return Ns(this).toSpliced(...n)},unshift(...n){return vi(this,"unshift",n)},values(){return da(this,"values",gt)}};function da(n,e,t){const s=Wo(n),i=s[e]();return s!==n&&!Yt(n)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=t(r.value)),r}),i}const Um=Array.prototype;function _n(n,e,t,s,i,r){const o=Wo(n),a=o!==n&&!Yt(n),l=o[e];if(l!==Um[e]){const h=l.apply(n,r);return a?gt(h):h}let c=t;o!==n&&(a?c=function(h,d){return t.call(this,gt(h),d,n)}:t.length>2&&(c=function(h,d){return t.call(this,h,d,n)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Uc(n,e,t,s){const i=Wo(n);let r=t;return i!==n&&(Yt(n)?t.length>3&&(r=function(o,a,l){return t.call(this,o,a,l,n)}):r=function(o,a,l){return t.call(this,o,gt(a),l,n)}),i[e](r,...s)}function fa(n,e,t){const s=Me(n);_t(s,"iterate",ir);const i=s[e](...t);return(i===-1||i===!1)&&Xl(t[0])?(t[0]=Me(t[0]),s[e](...t)):i}function vi(n,e,t=[]){Rn(),Ul();const s=Me(n)[e].apply(n,t);return zl(),In(),s}const zm=Bl("__proto__,__v_isRef,__isVue"),rf=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Nn));function qm(n){Nn(n)||(n=String(n));const e=Me(this);return _t(e,"has",n),e.hasOwnProperty(n)}class of{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(i?r?nb:uf:r?cf:lf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ae(e);if(!i){let l;if(o&&(l=Hm[t]))return l;if(t==="hasOwnProperty")return qm}const a=Reflect.get(e,t,St(e)?e:s);if((Nn(t)?rf.has(t):zm(t))||(i||_t(e,"get",t),r))return a;if(St(a)){const l=o&&Hl(t)?a:a.value;return i&&He(l)?tl(l):l}return He(a)?i?tl(a):Vo(a):a}}class af extends of{constructor(e=!1){super(!1,e)}set(e,t,s,i){let r=e[t];if(!this._isShallow){const l=ns(r);if(!Yt(s)&&!ns(s)&&(r=Me(r),s=Me(s)),!ae(e)&&St(r)&&!St(s))return l||(r.value=s),!0}const o=ae(e)&&Hl(t)?Number(t)<e.length:De(e,t),a=Reflect.set(e,t,s,St(e)?e:i);return e===Me(i)&&(o?es(s,r)&&Pn(e,"set",t,s):Pn(e,"add",t,s)),a}deleteProperty(e,t){const s=De(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&Pn(e,"delete",t,void 0),i}has(e,t){const s=Reflect.has(e,t);return(!Nn(t)||!rf.has(t))&&_t(e,"has",t),s}ownKeys(e){return _t(e,"iterate",ae(e)?"length":Ps),Reflect.ownKeys(e)}}class Ym extends of{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Gm=new af,Km=new Ym,Xm=new af(!0);const el=n=>n,Mr=n=>Reflect.getPrototypeOf(n);function Jm(n,e,t){return function(...s){const i=this.__v_raw,r=Me(i),o=Zs(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=i[n](...s),u=t?el:e?ho:gt;return!e&&_t(r,"iterate",l?Za:Ps),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Dr(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Qm(n,e){const t={get(i){const r=this.__v_raw,o=Me(r),a=Me(i);n||(es(i,a)&&_t(o,"get",i),_t(o,"get",a));const{has:l}=Mr(o),c=e?el:n?ho:gt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!n&&_t(Me(i),"iterate",Ps),i.size},has(i){const r=this.__v_raw,o=Me(r),a=Me(i);return n||(es(i,a)&&_t(o,"has",i),_t(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Me(a),c=e?el:n?ho:gt;return!n&&_t(l,"iterate",Ps),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return Et(t,n?{add:Dr("add"),set:Dr("set"),delete:Dr("delete"),clear:Dr("clear")}:{add(i){!e&&!Yt(i)&&!ns(i)&&(i=Me(i));const r=Me(this);return Mr(r).has.call(r,i)||(r.add(i),Pn(r,"add",i,i)),this},set(i,r){!e&&!Yt(r)&&!ns(r)&&(r=Me(r));const o=Me(this),{has:a,get:l}=Mr(o);let c=a.call(o,i);c||(i=Me(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?es(r,u)&&Pn(o,"set",i,r):Pn(o,"add",i,r),this},delete(i){const r=Me(this),{has:o,get:a}=Mr(r);let l=o.call(r,i);l||(i=Me(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Pn(r,"delete",i,void 0),c},clear(){const i=Me(this),r=i.size!==0,o=i.clear();return r&&Pn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Jm(i,n,e)}),t}function Gl(n,e){const t=Qm(n,e);return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(De(t,i)&&i in s?t:s,i,r)}const Zm={get:Gl(!1,!1)},eb={get:Gl(!1,!0)},tb={get:Gl(!0,!1)};const lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,nb=new WeakMap;function sb(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ib(n){return n.__v_skip||!Object.isExtensible(n)?0:sb(Am(n))}function Vo(n){return ns(n)?n:Kl(n,!1,Gm,Zm,lf)}function hf(n){return Kl(n,!1,Xm,eb,cf)}function tl(n){return Kl(n,!0,Km,tb,uf)}function Kl(n,e,t,s,i){if(!He(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=ib(n);if(r===0)return n;const o=i.get(n);if(o)return o;const a=new Proxy(n,r===2?s:t);return i.set(n,a),a}function ei(n){return ns(n)?ei(n.__v_raw):!!(n&&n.__v_isReactive)}function ns(n){return!!(n&&n.__v_isReadonly)}function Yt(n){return!!(n&&n.__v_isShallow)}function Xl(n){return n?!!n.__v_raw:!1}function Me(n){const e=n&&n.__v_raw;return e?Me(e):n}function rb(n){return!De(n,"__v_skip")&&Object.isExtensible(n)&&qd(n,"__v_skip",!0),n}const gt=n=>He(n)?Vo(n):n,ho=n=>He(n)?tl(n):n;function St(n){return n?n.__v_isRef===!0:!1}function F(n){return df(n,!1)}function ob(n){return df(n,!0)}function df(n,e){return St(n)?n:new ab(n,e)}class ab{constructor(e,t){this.dep=new Yl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Me(e),this._value=t?e:gt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Yt(e)||ns(e);e=s?e:Me(e),es(e,t)&&(this._rawValue=e,this._value=s?e:gt(e),this.dep.trigger())}}function Se(n){return St(n)?n.value:n}const lb={get:(n,e,t)=>e==="__v_raw"?n:Se(Reflect.get(n,e,t)),set:(n,e,t,s)=>{const i=n[e];return St(i)&&!St(t)?(i.value=t,!0):Reflect.set(n,e,t,s)}};function ff(n){return ei(n)?n:new Proxy(n,lb)}class cb{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Yl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return Qd(this,!0),!0}get value(){const e=this.dep.track();return tf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ub(n,e,t=!1){let s,i;return he(n)?s=n:(s=n.get,i=n.set),new cb(s,i,t)}const Rr={},fo=new WeakMap;let ys;function hb(n,e=!1,t=ys){if(t){let s=fo.get(t);s||fo.set(t,s=[]),s.push(n)}}function db(n,e,t=$e){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=t,c=x=>i?x:Yt(x)||i===!1||i===0?Tn(x,1):Tn(x);let u,h,d,f,g=!1,p=!1;if(St(n)?(h=()=>n.value,g=Yt(n)):ei(n)?(h=()=>c(n),g=!0):ae(n)?(p=!0,g=n.some(x=>ei(x)||Yt(x)),h=()=>n.map(x=>{if(St(x))return x.value;if(ei(x))return c(x);if(he(x))return l?l(x,2):x()})):he(n)?e?h=l?()=>l(n,2):n:h=()=>{if(d){Rn();try{d()}finally{In()}}const x=ys;ys=u;try{return l?l(n,3,[f]):n(f)}finally{ys=x}}:h=pn,e&&i){const x=h,E=i===!0?1/0:i;h=()=>Tn(x(),E)}const m=Bm(),b=()=>{u.stop(),m&&m.active&&Vl(m.effects,u)};if(r&&e){const x=e;e=(...E)=>{x(...E),b()}}let y=p?new Array(n.length).fill(Rr):Rr;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const E=u.run();if(i||g||(p?E.some((O,P)=>es(O,y[P])):es(E,y))){d&&d();const O=ys;ys=u;try{const P=[E,y===Rr?void 0:p&&y[0]===Rr?[]:y,f];y=E,l?l(e,3,P):e(...P)}finally{ys=O}}}else u.run()};return a&&a(v),u=new Xd(h),u.scheduler=o?()=>o(v,!1):v,f=x=>hb(x,!1,u),d=u.onStop=()=>{const x=fo.get(u);if(x){if(l)l(x,4);else for(const E of x)E();fo.delete(u)}},e?s?v(!0):y=u.run():o?o(v.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Tn(n,e=1/0,t){if(e<=0||!He(n)||n.__v_skip||(t=t||new Map,(t.get(n)||0)>=e))return n;if(t.set(n,e),e--,St(n))Tn(n.value,e,t);else if(ae(n))for(let s=0;s<n.length;s++)Tn(n[s],e,t);else if(Vd(n)||Zs(n))n.forEach(s=>{Tn(s,e,t)});else if(zd(n)){for(const s in n)Tn(n[s],e,t);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&Tn(n[s],e,t)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vr(n,e,t,s){try{return s?n(...s):n()}catch(i){Ho(i,e,t)}}function bn(n,e,t,s){if(he(n)){const i=vr(n,e,t,s);return i&&Hd(i)&&i.catch(r=>{Ho(r,e,t)}),i}if(ae(n)){const i=[];for(let r=0;r<n.length;r++)i.push(bn(n[r],e,t,s));return i}}function Ho(n,e,t,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||$e;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](n,l,c)===!1)return}a=a.parent}if(r){Rn(),vr(r,null,10,[n,l,c]),In();return}}fb(n,t,i,s,o)}function fb(n,e,t,s=!0,i=!1){if(i)throw n;console.error(n)}const Ct=[];let un=-1;const ti=[];let zn=null,Ys=0;const gf=Promise.resolve();let go=null;function It(n){const e=go||gf;return n?e.then(this?n.bind(this):n):e}function gb(n){let e=un+1,t=Ct.length;for(;e<t;){const s=e+t>>>1,i=Ct[s],r=rr(i);r<n||r===n&&i.flags&2?e=s+1:t=s}return e}function Jl(n){if(!(n.flags&1)){const e=rr(n),t=Ct[Ct.length-1];!t||!(n.flags&2)&&e>=rr(t)?Ct.push(n):Ct.splice(gb(e),0,n),n.flags|=1,pf()}}function pf(){go||(go=gf.then(bf))}function pb(n){ae(n)?ti.push(...n):zn&&n.id===-1?zn.splice(Ys+1,0,n):n.flags&1||(ti.push(n),n.flags|=1),pf()}function zc(n,e,t=un+1){for(;t<Ct.length;t++){const s=Ct[t];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;Ct.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function mf(n){if(ti.length){const e=[...new Set(ti)].sort((t,s)=>rr(t)-rr(s));if(ti.length=0,zn){zn.push(...e);return}for(zn=e,Ys=0;Ys<zn.length;Ys++){const t=zn[Ys];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}zn=null,Ys=0}}const rr=n=>n.id==null?n.flags&2?-1:1/0:n.id;function bf(n){try{for(un=0;un<Ct.length;un++){const e=Ct[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<Ct.length;un++){const e=Ct[un];e&&(e.flags&=-2)}un=-1,Ct.length=0,mf(),go=null,(Ct.length||ti.length)&&bf()}}let pt=null,yf=null;function po(n){const e=pt;return pt=n,yf=n&&n.type.__scopeId||null,e}function dt(n,e=pt,t){if(!e||n._n)return n;const s=(...i)=>{s._d&&yo(-1);const r=po(e);let o;try{o=n(...i)}finally{po(r),s._d&&yo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function wt(n,e){if(pt===null)return n;const t=Go(pt),s=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=$e]=e[i];r&&(he(r)&&(r={mounted:r,updated:r}),r.deep&&Tn(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function us(n,e,t,s){const i=n.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Rn(),bn(l,t,8,[n.el,a,n,e]),In())}}const mb=Symbol("_vte"),bb=n=>n.__isTeleport,yb=Symbol("_leaveCb");function Ql(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Ql(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function ie(n,e){return he(n)?Et({name:n.name},e,{setup:n}):n}function _f(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const mo=new WeakMap;function Ui(n,e,t,s,i=!1){if(ae(n)){n.forEach((g,p)=>Ui(g,e&&(ae(e)?e[p]:e),t,s,i));return}if(ni(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ui(n,e,t,s.component.subTree);return}const r=s.shapeFlag&4?Go(s.component):s.el,o=i?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===$e?a.refs={}:a.refs,h=a.setupState,d=Me(h),f=h===$e?Wd:g=>De(d,g);if(c!=null&&c!==l){if(qc(e),ot(c))u[c]=null,f(c)&&(h[c]=null);else if(St(c)){c.value=null;const g=e;g.k&&(u[g.k]=null)}}if(he(l))vr(l,a,12,[o,u]);else{const g=ot(l),p=St(l);if(g||p){const m=()=>{if(n.f){const b=g?f(l)?h[l]:u[l]:l.value;if(i)ae(b)&&Vl(b,r);else if(ae(b))b.includes(r)||b.push(r);else if(g)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,n.k&&(u[n.k]=y)}}else g?(u[l]=o,f(l)&&(h[l]=o)):p&&(l.value=o,n.k&&(u[n.k]=o))};if(o){const b=()=>{m(),mo.delete(n)};b.id=-1,mo.set(n,b),jt(b,t)}else qc(n),m()}}}function qc(n){const e=mo.get(n);e&&(e.flags|=8,mo.delete(n))}jo().requestIdleCallback;jo().cancelIdleCallback;const ni=n=>!!n.type.__asyncLoader,wf=n=>n.type.__isKeepAlive;function _b(n,e){vf(n,"a",e)}function wb(n,e){vf(n,"da",e)}function vf(n,e,t=vt){const s=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Uo(e,s,t),t){let i=t.parent;for(;i&&i.parent;)wf(i.parent.vnode)&&vb(s,e,t,i),i=i.parent}}function vb(n,e,t,s){const i=Uo(e,n,s,!0);zo(()=>{Vl(s[e],i)},t)}function Uo(n,e,t=vt,s=!1){if(t){const i=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{Rn();const a=xr(t),l=bn(e,t,n,o);return a(),In(),l});return s?i.unshift(r):i.push(r),r}}const $n=n=>(e,t=vt)=>{(!lr||n==="sp")&&Uo(n,(...s)=>e(...s),t)},xb=$n("bm"),ft=$n("m"),kb=$n("bu"),Zl=$n("u"),xf=$n("bum"),zo=$n("um"),Sb=$n("sp"),Eb=$n("rtg"),Ob=$n("rtc");function Pb(n,e=vt){Uo("ec",n,e)}const Tb="components";function Cb(n,e){return Mb(Tb,n,!0,e)||n}const Ab=Symbol.for("v-ndc");function Mb(n,e,t=!0,s=!1){const i=pt||vt;if(i){const r=i.type;{const a=_y(r,!1);if(a&&(a===e||a===Gt(e)||a===Fo(Gt(e))))return r}const o=Yc(i[n]||r[n],e)||Yc(i.appContext[n],e);return!o&&s?r:o}}function Yc(n,e){return n&&(n[e]||n[Gt(e)]||n[Fo(Gt(e))])}function Fn(n,e,t,s){let i;const r=t,o=ae(n);if(o||ot(n)){const a=o&&ei(n);let l=!1,c=!1;a&&(l=!Yt(n),c=ns(n),n=Wo(n)),i=new Array(n.length);for(let u=0,h=n.length;u<h;u++)i[u]=e(l?c?ho(gt(n[u])):gt(n[u]):n[u],u,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=e(a+1,a,void 0,r)}else if(He(n))if(n[Symbol.iterator])i=Array.from(n,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(n);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(n[u],u,l,r)}}else i=[];return i}function ec(n,e,t={},s,i){if(pt.ce||pt.parent&&ni(pt.parent)&&pt.parent.ce){const c=Object.keys(t).length>0;return T(),Ee(ye,null,[$("slot",t,s)],c?-2:64)}let r=n[e];r&&r._c&&(r._d=!1),T();const o=r&&kf(r(t)),a=t.key||o&&o.key,l=Ee(ye,{key:(a&&!Nn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&n._===1?64:-2);return r&&r._c&&(r._d=!0),l}function kf(n){return n.some(e=>ar(e)?!(e.type===Ln||e.type===ye&&!kf(e.children)):!0)?n:null}const nl=n=>n?Hf(n)?Go(n):nl(n.parent):null,zi=Et(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>nl(n.parent),$root:n=>nl(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Ef(n),$forceUpdate:n=>n.f||(n.f=()=>{Jl(n.update)}),$nextTick:n=>n.n||(n.n=It.bind(n.proxy)),$watch:n=>Qb.bind(n)}),ga=(n,e)=>n!==$e&&!n.__isScriptSetup&&De(n,e),Db={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(ga(s,e))return o[e]=1,s[e];if(i!==$e&&De(i,e))return o[e]=2,i[e];if((c=n.propsOptions[0])&&De(c,e))return o[e]=3,r[e];if(t!==$e&&De(t,e))return o[e]=4,t[e];sl&&(o[e]=0)}}const u=zi[e];let h,d;if(u)return e==="$attrs"&&_t(n.attrs,"get",""),u(n);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==$e&&De(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,De(d,e))return d[e]},set({_:n},e,t){const{data:s,setupState:i,ctx:r}=n;return ga(i,e)?(i[e]=t,!0):s!==$e&&De(s,e)?(s[e]=t,!0):De(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(t[a]||n!==$e&&a[0]!=="$"&&De(n,a)||ga(e,a)||(l=r[0])&&De(l,a)||De(s,a)||De(zi,a)||De(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:De(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Gc(n){return ae(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let sl=!0;function Rb(n){const e=Ef(n),t=n.proxy,s=n.ctx;sl=!1,e.beforeCreate&&Kc(e.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:v,unmounted:x,render:E,renderTracked:O,renderTriggered:P,errorCaptured:R,serverPrefetch:H,expose:J,inheritAttrs:te,components:q,directives:we,filters:Ye}=e;if(c&&Ib(c,s,null),o)for(const Y in o){const Q=o[Y];he(Q)&&(s[Y]=Q.bind(t))}if(i){const Y=i.call(t,t);He(Y)&&(n.data=Vo(Y))}if(sl=!0,r)for(const Y in r){const Q=r[Y],pe=he(Q)?Q.bind(t,t):he(Q.get)?Q.get.bind(t,t):pn,Xe=!he(Q)&&he(Q.set)?Q.set.bind(t):pn,se=Lt({get:pe,set:Xe});Object.defineProperty(s,Y,{enumerable:!0,configurable:!0,get:()=>se.value,set:me=>se.value=me})}if(a)for(const Y in a)Sf(a[Y],s,t,Y);if(l){const Y=he(l)?l.call(t):l;Reflect.ownKeys(Y).forEach(Q=>{oo(Q,Y[Q])})}u&&Kc(u,n,"c");function X(Y,Q){ae(Q)?Q.forEach(pe=>Y(pe.bind(t))):Q&&Y(Q.bind(t))}if(X(xb,h),X(ft,d),X(kb,f),X(Zl,g),X(_b,p),X(wb,m),X(Pb,R),X(Ob,O),X(Eb,P),X(xf,y),X(zo,x),X(Sb,H),ae(J))if(J.length){const Y=n.exposed||(n.exposed={});J.forEach(Q=>{Object.defineProperty(Y,Q,{get:()=>t[Q],set:pe=>t[Q]=pe,enumerable:!0})})}else n.exposed||(n.exposed={});E&&n.render===pn&&(n.render=E),te!=null&&(n.inheritAttrs=te),q&&(n.components=q),we&&(n.directives=we),H&&_f(n)}function Ib(n,e,t=pn){ae(n)&&(n=il(n));for(const s in n){const i=n[s];let r;He(i)?"default"in i?r=nn(i.from||s,i.default,!0):r=nn(i.from||s):r=nn(i),St(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Kc(n,e,t){bn(ae(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,t)}function Sf(n,e,t,s){let i=s.includes(".")?Ff(t,s):()=>t[s];if(ot(n)){const r=e[n];he(r)&&Dn(i,r)}else if(he(n))Dn(i,n.bind(t));else if(He(n))if(ae(n))n.forEach(r=>Sf(r,e,t,s));else{const r=he(n.handler)?n.handler.bind(t):e[n.handler];he(r)&&Dn(i,r,n)}}function Ef(n){const e=n.type,{mixins:t,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!t&&!s?l=e:(l={},i.length&&i.forEach(c=>bo(l,c,o,!0)),bo(l,e,o)),He(e)&&r.set(e,l),l}function bo(n,e,t,s=!1){const{mixins:i,extends:r}=e;r&&bo(n,r,t,!0),i&&i.forEach(o=>bo(n,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const a=Lb[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const Lb={data:Xc,props:Jc,emits:Jc,methods:Ri,computed:Ri,beforeCreate:Pt,created:Pt,beforeMount:Pt,mounted:Pt,beforeUpdate:Pt,updated:Pt,beforeDestroy:Pt,beforeUnmount:Pt,destroyed:Pt,unmounted:Pt,activated:Pt,deactivated:Pt,errorCaptured:Pt,serverPrefetch:Pt,components:Ri,directives:Ri,watch:$b,provide:Xc,inject:Nb};function Xc(n,e){return e?n?function(){return Et(he(n)?n.call(this,this):n,he(e)?e.call(this,this):e)}:e:n}function Nb(n,e){return Ri(il(n),il(e))}function il(n){if(ae(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Pt(n,e){return n?[...new Set([].concat(n,e))]:e}function Ri(n,e){return n?Et(Object.create(null),n,e):e}function Jc(n,e){return n?ae(n)&&ae(e)?[...new Set([...n,...e])]:Et(Object.create(null),Gc(n),Gc(e??{})):e}function $b(n,e){if(!n)return e;if(!e)return n;const t=Et(Object.create(null),n);for(const s in e)t[s]=Pt(n[s],e[s]);return t}function Of(){return{app:null,config:{isNativeTag:Wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fb=0;function jb(n,e){return function(s,i=null){he(s)||(s=Et({},s)),i!=null&&!He(i)&&(i=null);const r=Of(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Fb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:vy,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(c,...h)):he(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||$(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),n(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Go(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(bn(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=si;si=c;try{return u()}finally{si=h}}};return c}}let si=null;function oo(n,e){if(vt){let t=vt.provides;const s=vt.parent&&vt.parent.provides;s===t&&(t=vt.provides=Object.create(s)),t[n]=e}}function nn(n,e,t=!1){const s=gy();if(s||si){let i=si?si._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&he(e)?e.call(s&&s.proxy):e}}const Pf={},Tf=()=>Object.create(Pf),Cf=n=>Object.getPrototypeOf(n)===Pf;function Bb(n,e,t,s=!1){const i={},r=Tf();n.propsDefaults=Object.create(null),Af(n,e,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=s?i:hf(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function Wb(n,e,t,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,a=Me(i),[l]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(qo(n.emitsOptions,d))continue;const f=e[d];if(l)if(De(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=Gt(d);i[g]=rl(l,a,g,f,n,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{Af(n,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!De(e,h)&&((u=rs(h))===h||!De(e,u)))&&(l?t&&(t[h]!==void 0||t[u]!==void 0)&&(i[h]=rl(l,a,h,void 0,n,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!De(e,h))&&(delete r[h],c=!0)}c&&Pn(n.attrs,"set","")}function Af(n,e,t,s){const[i,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Wi(l))continue;const c=e[l];let u;i&&De(i,u=Gt(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:qo(n.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Me(t),c=a||$e;for(let u=0;u<r.length;u++){const h=r[u];t[h]=rl(i,l,h,c[h],n,!De(c,h))}}return o}function rl(n,e,t,s,i,r){const o=n[t];if(o!=null){const a=De(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:c}=i;if(t in c)s=c[t];else{const u=xr(i);s=c[t]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(t,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===rs(t))&&(s=!0))}return s}const Vb=new WeakMap;function Mf(n,e,t=!1){const s=t?Vb:e.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},a=[];let l=!1;if(!he(n)){const u=h=>{l=!0;const[d,f]=Mf(h,e,!0);Et(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return He(n)&&s.set(n,Qs),Qs;if(ae(r))for(let u=0;u<r.length;u++){const h=Gt(r[u]);Qc(h)&&(o[h]=$e)}else if(r)for(const u in r){const h=Gt(u);if(Qc(h)){const d=r[u],f=o[h]=ae(d)||he(d)?{type:d}:Et({},d),g=f.type;let p=!1,m=!0;if(ae(g))for(let b=0;b<g.length;++b){const y=g[b],v=he(y)&&y.name;if(v==="Boolean"){p=!0;break}else v==="String"&&(m=!1)}else p=he(g)&&g.name==="Boolean";f[0]=p,f[1]=m,(p||De(f,"default"))&&a.push(h)}}const c=[o,a];return He(n)&&s.set(n,c),c}function Qc(n){return n[0]!=="$"&&!Wi(n)}const tc=n=>n==="_"||n==="_ctx"||n==="$stable",nc=n=>ae(n)?n.map(dn):[dn(n)],Hb=(n,e,t)=>{if(e._n)return e;const s=dt((...i)=>nc(e(...i)),t);return s._c=!1,s},Df=(n,e,t)=>{const s=n._ctx;for(const i in n){if(tc(i))continue;const r=n[i];if(he(r))e[i]=Hb(i,r,s);else if(r!=null){const o=nc(r);e[i]=()=>o}}},Rf=(n,e)=>{const t=nc(e);n.slots.default=()=>t},If=(n,e,t)=>{for(const s in e)(t||!tc(s))&&(n[s]=e[s])},Ub=(n,e,t)=>{const s=n.slots=Tf();if(n.vnode.shapeFlag&32){const i=e._;i?(If(s,e,t),t&&qd(s,"_",i,!0)):Df(e,s)}else e&&Rf(n,e)},zb=(n,e,t)=>{const{vnode:s,slots:i}=n;let r=!0,o=$e;if(s.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:If(i,e,t):(r=!e.$stable,Df(e,i)),o=e}else e&&(Rf(n,e),o={default:1});if(r)for(const a in i)!tc(a)&&o[a]==null&&delete i[a]},jt=oy;function qb(n){return Yb(n)}function Yb(n,e){const t=jo();t.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=pn,insertStaticContent:g}=n,p=(_,w,k,A=null,D=null,C=null,V=void 0,B=null,j=!!w.dynamicChildren)=>{if(_===w)return;_&&!xi(_,w)&&(A=M(_),me(_,D,C,!0),_=null),w.patchFlag===-2&&(j=!1,w.dynamicChildren=null);const{type:L,ref:ne,shapeFlag:U}=w;switch(L){case Yo:m(_,w,k,A);break;case Ln:b(_,w,k,A);break;case ma:_==null&&y(w,k,A,V);break;case ye:q(_,w,k,A,D,C,V,B,j);break;default:U&1?E(_,w,k,A,D,C,V,B,j):U&6?we(_,w,k,A,D,C,V,B,j):(U&64||U&128)&&L.process(_,w,k,A,D,C,V,B,j,z)}ne!=null&&D?Ui(ne,_&&_.ref,C,w||_,!w):ne==null&&_&&_.ref!=null&&Ui(_.ref,null,C,_,!0)},m=(_,w,k,A)=>{if(_==null)s(w.el=a(w.children),k,A);else{const D=w.el=_.el;w.children!==_.children&&c(D,w.children)}},b=(_,w,k,A)=>{_==null?s(w.el=l(w.children||""),k,A):w.el=_.el},y=(_,w,k,A)=>{[_.el,_.anchor]=g(_.children,w,k,A,_.el,_.anchor)},v=({el:_,anchor:w},k,A)=>{let D;for(;_&&_!==w;)D=d(_),s(_,k,A),_=D;s(w,k,A)},x=({el:_,anchor:w})=>{let k;for(;_&&_!==w;)k=d(_),i(_),_=k;i(w)},E=(_,w,k,A,D,C,V,B,j)=>{w.type==="svg"?V="svg":w.type==="math"&&(V="mathml"),_==null?O(w,k,A,D,C,V,B,j):H(_,w,D,C,V,B,j)},O=(_,w,k,A,D,C,V,B)=>{let j,L;const{props:ne,shapeFlag:U,transition:Z,dirs:oe}=_;if(j=_.el=o(_.type,C,ne&&ne.is,ne),U&8?u(j,_.children):U&16&&R(_.children,j,null,A,D,pa(_,C),V,B),oe&&us(_,null,A,"created"),P(j,_,_.scopeId,V,A),ne){for(const Fe in ne)Fe!=="value"&&!Wi(Fe)&&r(j,Fe,null,ne[Fe],C,A);"value"in ne&&r(j,"value",null,ne.value,C),(L=ne.onVnodeBeforeMount)&&ln(L,A,_)}oe&&us(_,null,A,"beforeMount");const ke=Gb(D,Z);ke&&Z.beforeEnter(j),s(j,w,k),((L=ne&&ne.onVnodeMounted)||ke||oe)&&jt(()=>{L&&ln(L,A,_),ke&&Z.enter(j),oe&&us(_,null,A,"mounted")},D)},P=(_,w,k,A,D)=>{if(k&&f(_,k),A)for(let C=0;C<A.length;C++)f(_,A[C]);if(D){let C=D.subTree;if(w===C||Bf(C.type)&&(C.ssContent===w||C.ssFallback===w)){const V=D.vnode;P(_,V,V.scopeId,V.slotScopeIds,D.parent)}}},R=(_,w,k,A,D,C,V,B,j=0)=>{for(let L=j;L<_.length;L++){const ne=_[L]=B?qn(_[L]):dn(_[L]);p(null,ne,w,k,A,D,C,V,B)}},H=(_,w,k,A,D,C,V)=>{const B=w.el=_.el;let{patchFlag:j,dynamicChildren:L,dirs:ne}=w;j|=_.patchFlag&16;const U=_.props||$e,Z=w.props||$e;let oe;if(k&&hs(k,!1),(oe=Z.onVnodeBeforeUpdate)&&ln(oe,k,w,_),ne&&us(w,_,k,"beforeUpdate"),k&&hs(k,!0),(U.innerHTML&&Z.innerHTML==null||U.textContent&&Z.textContent==null)&&u(B,""),L?J(_.dynamicChildren,L,B,k,A,pa(w,D),C):V||Q(_,w,B,null,k,A,pa(w,D),C,!1),j>0){if(j&16)te(B,U,Z,k,D);else if(j&2&&U.class!==Z.class&&r(B,"class",null,Z.class,D),j&4&&r(B,"style",U.style,Z.style,D),j&8){const ke=w.dynamicProps;for(let Fe=0;Fe<ke.length;Fe++){const Re=ke[Fe],At=U[Re],Mt=Z[Re];(Mt!==At||Re==="value")&&r(B,Re,At,Mt,D,k)}}j&1&&_.children!==w.children&&u(B,w.children)}else!V&&L==null&&te(B,U,Z,k,D);((oe=Z.onVnodeUpdated)||ne)&&jt(()=>{oe&&ln(oe,k,w,_),ne&&us(w,_,k,"updated")},A)},J=(_,w,k,A,D,C,V)=>{for(let B=0;B<w.length;B++){const j=_[B],L=w[B],ne=j.el&&(j.type===ye||!xi(j,L)||j.shapeFlag&198)?h(j.el):k;p(j,L,ne,null,A,D,C,V,!0)}},te=(_,w,k,A,D)=>{if(w!==k){if(w!==$e)for(const C in w)!Wi(C)&&!(C in k)&&r(_,C,w[C],null,D,A);for(const C in k){if(Wi(C))continue;const V=k[C],B=w[C];V!==B&&C!=="value"&&r(_,C,B,V,D,A)}"value"in k&&r(_,"value",w.value,k.value,D)}},q=(_,w,k,A,D,C,V,B,j)=>{const L=w.el=_?_.el:a(""),ne=w.anchor=_?_.anchor:a("");let{patchFlag:U,dynamicChildren:Z,slotScopeIds:oe}=w;oe&&(B=B?B.concat(oe):oe),_==null?(s(L,k,A),s(ne,k,A),R(w.children||[],k,ne,D,C,V,B,j)):U>0&&U&64&&Z&&_.dynamicChildren?(J(_.dynamicChildren,Z,k,D,C,V,B),(w.key!=null||D&&w===D.subTree)&&Lf(_,w,!0)):Q(_,w,k,ne,D,C,V,B,j)},we=(_,w,k,A,D,C,V,B,j)=>{w.slotScopeIds=B,_==null?w.shapeFlag&512?D.ctx.activate(w,k,A,V,j):Ye(w,k,A,D,C,V,j):re(_,w,j)},Ye=(_,w,k,A,D,C,V)=>{const B=_.component=fy(_,A,D);if(wf(_)&&(B.ctx.renderer=z),py(B,!1,V),B.asyncDep){if(D&&D.registerDep(B,X,V),!_.el){const j=B.subTree=$(Ln);b(null,j,w,k),_.placeholder=j.el}}else X(B,_,w,k,D,C,V)},re=(_,w,k)=>{const A=w.component=_.component;if(iy(_,w,k))if(A.asyncDep&&!A.asyncResolved){Y(A,w,k);return}else A.next=w,A.update();else w.el=_.el,A.vnode=w},X=(_,w,k,A,D,C,V)=>{const B=()=>{if(_.isMounted){let{next:U,bu:Z,u:oe,parent:ke,vnode:Fe}=_;{const on=Nf(_);if(on){U&&(U.el=Fe.el,Y(_,U,V)),on.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Re=U,At;hs(_,!1),U?(U.el=Fe.el,Y(_,U,V)):U=Fe,Z&&ro(Z),(At=U.props&&U.props.onVnodeBeforeUpdate)&&ln(At,ke,U,Fe),hs(_,!0);const Mt=eu(_),rn=_.subTree;_.subTree=Mt,p(rn,Mt,h(rn.el),M(rn),_,D,C),U.el=Mt.el,Re===null&&ry(_,Mt.el),oe&&jt(oe,D),(At=U.props&&U.props.onVnodeUpdated)&&jt(()=>ln(At,ke,U,Fe),D)}else{let U;const{el:Z,props:oe}=w,{bm:ke,m:Fe,parent:Re,root:At,type:Mt}=_,rn=ni(w);hs(_,!1),ke&&ro(ke),!rn&&(U=oe&&oe.onVnodeBeforeMount)&&ln(U,Re,w),hs(_,!0);{At.ce&&At.ce._def.shadowRoot!==!1&&At.ce._injectChildStyle(Mt);const on=_.subTree=eu(_);p(null,on,k,A,_,D,C),w.el=on.el}if(Fe&&jt(Fe,D),!rn&&(U=oe&&oe.onVnodeMounted)){const on=w;jt(()=>ln(U,Re,on),D)}(w.shapeFlag&256||Re&&ni(Re.vnode)&&Re.vnode.shapeFlag&256)&&_.a&&jt(_.a,D),_.isMounted=!0,w=k=A=null}};_.scope.on();const j=_.effect=new Xd(B);_.scope.off();const L=_.update=j.run.bind(j),ne=_.job=j.runIfDirty.bind(j);ne.i=_,ne.id=_.uid,j.scheduler=()=>Jl(ne),hs(_,!0),L()},Y=(_,w,k)=>{w.component=_;const A=_.vnode.props;_.vnode=w,_.next=null,Wb(_,w.props,A,k),zb(_,w.children,k),Rn(),zc(_),In()},Q=(_,w,k,A,D,C,V,B,j=!1)=>{const L=_&&_.children,ne=_?_.shapeFlag:0,U=w.children,{patchFlag:Z,shapeFlag:oe}=w;if(Z>0){if(Z&128){Xe(L,U,k,A,D,C,V,B,j);return}else if(Z&256){pe(L,U,k,A,D,C,V,B,j);return}}oe&8?(ne&16&&Ue(L,D,C),U!==L&&u(k,U)):ne&16?oe&16?Xe(L,U,k,A,D,C,V,B,j):Ue(L,D,C,!0):(ne&8&&u(k,""),oe&16&&R(U,k,A,D,C,V,B,j))},pe=(_,w,k,A,D,C,V,B,j)=>{_=_||Qs,w=w||Qs;const L=_.length,ne=w.length,U=Math.min(L,ne);let Z;for(Z=0;Z<U;Z++){const oe=w[Z]=j?qn(w[Z]):dn(w[Z]);p(_[Z],oe,k,null,D,C,V,B,j)}L>ne?Ue(_,D,C,!0,!1,U):R(w,k,A,D,C,V,B,j,U)},Xe=(_,w,k,A,D,C,V,B,j)=>{let L=0;const ne=w.length;let U=_.length-1,Z=ne-1;for(;L<=U&&L<=Z;){const oe=_[L],ke=w[L]=j?qn(w[L]):dn(w[L]);if(xi(oe,ke))p(oe,ke,k,null,D,C,V,B,j);else break;L++}for(;L<=U&&L<=Z;){const oe=_[U],ke=w[Z]=j?qn(w[Z]):dn(w[Z]);if(xi(oe,ke))p(oe,ke,k,null,D,C,V,B,j);else break;U--,Z--}if(L>U){if(L<=Z){const oe=Z+1,ke=oe<ne?w[oe].el:A;for(;L<=Z;)p(null,w[L]=j?qn(w[L]):dn(w[L]),k,ke,D,C,V,B,j),L++}}else if(L>Z)for(;L<=U;)me(_[L],D,C,!0),L++;else{const oe=L,ke=L,Fe=new Map;for(L=ke;L<=Z;L++){const Ft=w[L]=j?qn(w[L]):dn(w[L]);Ft.key!=null&&Fe.set(Ft.key,L)}let Re,At=0;const Mt=Z-ke+1;let rn=!1,on=0;const wi=new Array(Mt);for(L=0;L<Mt;L++)wi[L]=0;for(L=oe;L<=U;L++){const Ft=_[L];if(At>=Mt){me(Ft,D,C,!0);continue}let an;if(Ft.key!=null)an=Fe.get(Ft.key);else for(Re=ke;Re<=Z;Re++)if(wi[Re-ke]===0&&xi(Ft,w[Re])){an=Re;break}an===void 0?me(Ft,D,C,!0):(wi[an-ke]=L+1,an>=on?on=an:rn=!0,p(Ft,w[an],k,null,D,C,V,B,j),At++)}const jc=rn?Kb(wi):Qs;for(Re=jc.length-1,L=Mt-1;L>=0;L--){const Ft=ke+L,an=w[Ft],Bc=w[Ft+1],Wc=Ft+1<ne?Bc.el||Bc.placeholder:A;wi[L]===0?p(null,an,k,Wc,D,C,V,B,j):rn&&(Re<0||L!==jc[Re]?se(an,k,Wc,2):Re--)}}},se=(_,w,k,A,D=null)=>{const{el:C,type:V,transition:B,children:j,shapeFlag:L}=_;if(L&6){se(_.component.subTree,w,k,A);return}if(L&128){_.suspense.move(w,k,A);return}if(L&64){V.move(_,w,k,z);return}if(V===ye){s(C,w,k);for(let U=0;U<j.length;U++)se(j[U],w,k,A);s(_.anchor,w,k);return}if(V===ma){v(_,w,k);return}if(A!==2&&L&1&&B)if(A===0)B.beforeEnter(C),s(C,w,k),jt(()=>B.enter(C),D);else{const{leave:U,delayLeave:Z,afterLeave:oe}=B,ke=()=>{_.ctx.isUnmounted?i(C):s(C,w,k)},Fe=()=>{C._isLeaving&&C[yb](!0),U(C,()=>{ke(),oe&&oe()})};Z?Z(C,ke,Fe):Fe()}else s(C,w,k)},me=(_,w,k,A=!1,D=!1)=>{const{type:C,props:V,ref:B,children:j,dynamicChildren:L,shapeFlag:ne,patchFlag:U,dirs:Z,cacheIndex:oe}=_;if(U===-2&&(D=!1),B!=null&&(Rn(),Ui(B,null,k,_,!0),In()),oe!=null&&(w.renderCache[oe]=void 0),ne&256){w.ctx.deactivate(_);return}const ke=ne&1&&Z,Fe=!ni(_);let Re;if(Fe&&(Re=V&&V.onVnodeBeforeUnmount)&&ln(Re,w,_),ne&6)it(_.component,k,A);else{if(ne&128){_.suspense.unmount(k,A);return}ke&&us(_,null,w,"beforeUnmount"),ne&64?_.type.remove(_,w,k,z,A):L&&!L.hasOnce&&(C!==ye||U>0&&U&64)?Ue(L,w,k,!1,!0):(C===ye&&U&384||!D&&ne&16)&&Ue(j,w,k),A&&Te(_)}(Fe&&(Re=V&&V.onVnodeUnmounted)||ke)&&jt(()=>{Re&&ln(Re,w,_),ke&&us(_,null,w,"unmounted")},k)},Te=_=>{const{type:w,el:k,anchor:A,transition:D}=_;if(w===ye){Ne(k,A);return}if(w===ma){x(_);return}const C=()=>{i(k),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(_.shapeFlag&1&&D&&!D.persisted){const{leave:V,delayLeave:B}=D,j=()=>V(k,C);B?B(_.el,C,j):j()}else C()},Ne=(_,w)=>{let k;for(;_!==w;)k=d(_),i(_),_=k;i(w)},it=(_,w,k)=>{const{bum:A,scope:D,job:C,subTree:V,um:B,m:j,a:L}=_;Zc(j),Zc(L),A&&ro(A),D.stop(),C&&(C.flags|=8,me(V,_,w,k)),B&&jt(B,w),jt(()=>{_.isUnmounted=!0},w)},Ue=(_,w,k,A=!1,D=!1,C=0)=>{for(let V=C;V<_.length;V++)me(_[V],w,k,A,D)},M=_=>{if(_.shapeFlag&6)return M(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const w=d(_.anchor||_.el),k=w&&w[mb];return k?d(k):w};let W=!1;const I=(_,w,k)=>{_==null?w._vnode&&me(w._vnode,null,null,!0):p(w._vnode||null,_,w,null,null,null,k),w._vnode=_,W||(W=!0,zc(),mf(),W=!1)},z={p,um:me,m:se,r:Te,mt:Ye,mc:R,pc:Q,pbc:J,n:M,o:n};return{render:I,hydrate:void 0,createApp:jb(I)}}function pa({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function hs({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Gb(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Lf(n,e,t=!1){const s=n.children,i=e.children;if(ae(s)&&ae(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=qn(i[r]),a.el=o.el),!t&&a.patchFlag!==-2&&Lf(o,a)),a.type===Yo&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ln&&!a.el&&(a.el=o.el)}}function Kb(n){const e=n.slice(),t=[0];let s,i,r,o,a;const l=n.length;for(s=0;s<l;s++){const c=n[s];if(c!==0){if(i=t[t.length-1],n[i]<c){e[s]=i,t.push(s);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function Nf(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nf(e)}function Zc(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Xb=Symbol.for("v-scx"),Jb=()=>nn(Xb);function Dn(n,e,t){return $f(n,e,t)}function $f(n,e,t=$e){const{immediate:s,deep:i,flush:r,once:o}=t,a=Et({},t),l=e&&s||!e&&r!=="post";let c;if(lr){if(r==="sync"){const f=Jb();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=pn,f.resume=pn,f.pause=pn,f}}const u=vt;a.call=(f,g,p)=>bn(f,u,g,p);let h=!1;r==="post"?a.scheduler=f=>{jt(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Jl(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=db(n,e,a);return lr&&(c?c.push(d):l&&d()),d}function Qb(n,e,t){const s=this.proxy,i=ot(n)?n.includes(".")?Ff(s,n):()=>s[n]:n.bind(s,s);let r;he(e)?r=e:(r=e.handler,t=e);const o=xr(this),a=$f(i,r.bind(s),t);return o(),a}function Ff(n,e){const t=e.split(".");return()=>{let s=n;for(let i=0;i<t.length&&s;i++)s=s[t[i]];return s}}const Zb=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Gt(e)}Modifiers`]||n[`${rs(e)}Modifiers`];function ey(n,e,...t){if(n.isUnmounted)return;const s=n.vnode.props||$e;let i=t;const r=e.startsWith("update:"),o=r&&Zb(s,e.slice(7));o&&(o.trim&&(i=t.map(u=>ot(u)?u.trim():u)),o.number&&(i=t.map(Xa)));let a,l=s[a=ca(e)]||s[a=ca(Gt(e))];!l&&r&&(l=s[a=ca(rs(e))]),l&&bn(l,n,6,i);const c=s[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,bn(c,n,6,i)}}const ty=new WeakMap;function jf(n,e,t=!1){const s=t?ty:e.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},a=!1;if(!he(n)){const l=c=>{const u=jf(c,e,!0);u&&(a=!0,Et(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(He(n)&&s.set(n,null),null):(ae(r)?r.forEach(l=>o[l]=null):Et(o,r),He(n)&&s.set(n,o),o)}function qo(n,e){return!n||!Lo(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(n,e[0].toLowerCase()+e.slice(1))||De(n,rs(e))||De(n,e))}function eu(n){const{type:e,vnode:t,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:p}=n,m=po(n);let b,y;try{if(t.shapeFlag&4){const x=i||s,E=x;b=dn(c.call(E,x,u,h,f,d,g)),y=a}else{const x=e;b=dn(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=e.props?a:ny(a)}}catch(x){qi.length=0,Ho(x,n,1),b=$(Ln)}let v=b;if(y&&p!==!1){const x=Object.keys(y),{shapeFlag:E}=v;x.length&&E&7&&(r&&x.some(Wl)&&(y=sy(y,r)),v=ai(v,y,!1,!0))}return t.dirs&&(v=ai(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(t.dirs):t.dirs),t.transition&&Ql(v,t.transition),b=v,po(m),b}const ny=n=>{let e;for(const t in n)(t==="class"||t==="style"||Lo(t))&&((e||(e={}))[t]=n[t]);return e},sy=(n,e)=>{const t={};for(const s in n)(!Wl(s)||!(s.slice(9)in e))&&(t[s]=n[s]);return t};function iy(n,e,t){const{props:s,children:i,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return s?tu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!qo(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?tu(s,o,c):!0:!!o;return!1}function tu(n,e,t){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==n[r]&&!qo(t,r))return!0}return!1}function ry({vnode:n,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=e.vnode).el=t,e=e.parent;else break}}const Bf=n=>n.__isSuspense;function oy(n,e){e&&e.pendingBranch?ae(n)?e.effects.push(...n):e.effects.push(n):pb(n)}const ye=Symbol.for("v-fgt"),Yo=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),ma=Symbol.for("v-stc"),qi=[];let Ut=null;function T(n=!1){qi.push(Ut=n?null:[])}function ay(){qi.pop(),Ut=qi[qi.length-1]||null}let or=1;function yo(n,e=!1){or+=n,n<0&&Ut&&e&&(Ut.hasOnce=!0)}function Wf(n){return n.dynamicChildren=or>0?Ut||Qs:null,ay(),or>0&&Ut&&Ut.push(n),n}function N(n,e,t,s,i,r){return Wf(S(n,e,t,s,i,r,!0))}function Ee(n,e,t,s,i){return Wf($(n,e,t,s,i,!0))}function ar(n){return n?n.__v_isVNode===!0:!1}function xi(n,e){return n.type===e.type&&n.key===e.key}const Vf=({key:n})=>n??null,ao=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ot(n)||St(n)||he(n)?{i:pt,r:n,k:e,f:!!t}:n:null);function S(n,e=null,t=null,s=0,i=null,r=n===ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Vf(e),ref:e&&ao(e),scopeId:yf,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:pt};return a?(sc(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=ot(t)?8:16),or>0&&!o&&Ut&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ut.push(l),l}const $=ly;function ly(n,e=null,t=null,s=0,i=null,r=!1){if((!n||n===Ab)&&(n=Ln),ar(n)){const a=ai(n,e,!0);return t&&sc(a,t),or>0&&!r&&Ut&&(a.shapeFlag&6?Ut[Ut.indexOf(n)]=a:Ut.push(a)),a.patchFlag=-2,a}if(wy(n)&&(n=n.__vccOpts),e){e=cy(e);let{class:a,style:l}=e;a&&!ot(a)&&(e.class=ht(a)),He(l)&&(Xl(l)&&!ae(l)&&(l=Et({},l)),e.style=Bo(l))}const o=ot(n)?1:Bf(n)?128:bb(n)?64:He(n)?4:he(n)?2:0;return S(n,e,t,s,i,o,r,!0)}function cy(n){return n?Xl(n)||Cf(n)?Et({},n):n:null}function ai(n,e,t=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=n,c=e?uy(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&Vf(c),ref:e&&e.ref?t&&r?ae(r)?r.concat(ao(e)):[r,ao(e)]:ao(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ye?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ai(n.ssContent),ssFallback:n.ssFallback&&ai(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&s&&Ql(u,l.clone(u)),u}function Oe(n=" ",e=0){return $(Yo,null,n,e)}function K(n="",e=!1){return e?(T(),Ee(Ln,null,n)):$(Ln,null,n)}function dn(n){return n==null||typeof n=="boolean"?$(Ln):ae(n)?$(ye,null,n.slice()):ar(n)?qn(n):$(Yo,null,String(n))}function qn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ai(n)}function sc(n,e){let t=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(ae(e))t=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),sc(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Cf(e)?e._ctx=pt:i===3&&pt&&(pt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:pt},t=32):(e=String(e),s&64?(t=16,e=[Oe(e)]):t=8);n.children=e,n.shapeFlag|=t}function uy(...n){const e={};for(let t=0;t<n.length;t++){const s=n[t];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=ht([e.class,s.class]));else if(i==="style")e.style=Bo([e.style,s.style]);else if(Lo(i)){const r=e[i],o=s[i];o&&r!==o&&!(ae(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ln(n,e,t,s=null){bn(n,e,7,[t,s])}const hy=Of();let dy=0;function fy(n,e,t){const s=n.type,i=(e?e.appContext:n.appContext)||hy,r={uid:dy++,vnode:n,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mf(s,i),emitsOptions:jf(s,i),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ey.bind(null,r),n.ce&&n.ce(r),r}let vt=null;const gy=()=>vt||pt;let _o,ol;{const n=jo(),e=(t,s)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};_o=e("__VUE_INSTANCE_SETTERS__",t=>vt=t),ol=e("__VUE_SSR_SETTERS__",t=>lr=t)}const xr=n=>{const e=vt;return _o(n),n.scope.on(),()=>{n.scope.off(),_o(e)}},nu=()=>{vt&&vt.scope.off(),_o(null)};function Hf(n){return n.vnode.shapeFlag&4}let lr=!1;function py(n,e=!1,t=!1){e&&ol(e);const{props:s,children:i}=n.vnode,r=Hf(n);Bb(n,s,r,e),Ub(n,i,t||e);const o=r?my(n,e):void 0;return e&&ol(!1),o}function my(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Db);const{setup:s}=t;if(s){Rn();const i=n.setupContext=s.length>1?yy(n):null,r=xr(n),o=vr(s,n,0,[n.props,i]),a=Hd(o);if(In(),r(),(a||n.sp)&&!ni(n)&&_f(n),a){if(o.then(nu,nu),e)return o.then(l=>{su(n,l)}).catch(l=>{Ho(l,n,0)});n.asyncDep=o}else su(n,o)}else Uf(n)}function su(n,e,t){he(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:He(e)&&(n.setupState=ff(e)),Uf(n)}function Uf(n,e,t){const s=n.type;n.render||(n.render=s.render||pn);{const i=xr(n);Rn();try{Rb(n)}finally{In(),i()}}}const by={get(n,e){return _t(n,"get",""),n[e]}};function yy(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,by),slots:n.slots,emit:n.emit,expose:e}}function Go(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(ff(rb(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in zi)return zi[t](n)},has(e,t){return t in e||t in zi}})):n.proxy}function _y(n,e=!0){return he(n)?n.displayName||n.name:n.name||e&&n.__name}function wy(n){return he(n)&&"__vccOpts"in n}const Lt=(n,e)=>ub(n,e,lr);function zf(n,e,t){try{yo(-1);const s=arguments.length;return s===2?He(e)&&!ae(e)?ar(e)?$(n,null,[e]):$(n,e):$(n,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&ar(t)&&(t=[t]),$(n,e,t))}finally{yo(1)}}const vy="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let al;const iu=typeof window<"u"&&window.trustedTypes;if(iu)try{al=iu.createPolicy("vue",{createHTML:n=>n})}catch{}const qf=al?n=>al.createHTML(n):n=>n,xy="http://www.w3.org/2000/svg",ky="http://www.w3.org/1998/Math/MathML",Sn=typeof document<"u"?document:null,ru=Sn&&Sn.createElement("template"),Sy={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,s)=>{const i=e==="svg"?Sn.createElementNS(xy,n):e==="mathml"?Sn.createElementNS(ky,n):t?Sn.createElement(n,{is:t}):Sn.createElement(n);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>Sn.createTextNode(n),createComment:n=>Sn.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Sn.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,s,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{ru.innerHTML=qf(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const a=ru.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Ey=Symbol("_vtc");function Oy(n,e,t){const s=n[Ey];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const ou=Symbol("_vod"),Py=Symbol("_vsh"),Ty=Symbol(""),Cy=/(?:^|;)\s*display\s*:/;function Ay(n,e,t){const s=n.style,i=ot(t);let r=!1;if(t&&!i){if(e)if(ot(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&lo(s,a,"")}else for(const o in e)t[o]==null&&lo(s,o,"");for(const o in t)o==="display"&&(r=!0),lo(s,o,t[o])}else if(i){if(e!==t){const o=s[Ty];o&&(t+=";"+o),s.cssText=t,r=Cy.test(t)}}else e&&n.removeAttribute("style");ou in n&&(n[ou]=r?s.display:"",n[Py]&&(s.display="none"))}const au=/\s*!important$/;function lo(n,e,t){if(ae(t))t.forEach(s=>lo(n,e,s));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const s=My(n,e);au.test(t)?n.setProperty(rs(s),t.replace(au,""),"important"):n[s]=t}}const lu=["Webkit","Moz","ms"],ba={};function My(n,e){const t=ba[e];if(t)return t;let s=Gt(e);if(s!=="filter"&&s in n)return ba[e]=s;s=Fo(s);for(let i=0;i<lu.length;i++){const r=lu[i]+s;if(r in n)return ba[e]=r}return e}const cu="http://www.w3.org/1999/xlink";function uu(n,e,t,s,i,r=Fm(e)){s&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(cu,e.slice(6,e.length)):n.setAttributeNS(cu,e,t):t==null||r&&!Yd(t)?n.removeAttribute(e):n.setAttribute(e,r?"":Nn(t)?String(t):t)}function hu(n,e,t,s,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?qf(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=Yd(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function Gs(n,e,t,s){n.addEventListener(e,t,s)}function Dy(n,e,t,s){n.removeEventListener(e,t,s)}const du=Symbol("_vei");function Ry(n,e,t,s,i=null){const r=n[du]||(n[du]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=Iy(e);if(s){const c=r[e]=$y(s,i);Gs(n,a,c,l)}else o&&(Dy(n,a,o,l),r[e]=void 0)}}const fu=/(?:Once|Passive|Capture)$/;function Iy(n){let e;if(fu.test(n)){e={};let s;for(;s=n.match(fu);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):rs(n.slice(2)),e]}let ya=0;const Ly=Promise.resolve(),Ny=()=>ya||(Ly.then(()=>ya=0),ya=Date.now());function $y(n,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;bn(Fy(s,t.value),e,5,[s])};return t.value=n,t.attached=Ny(),t}function Fy(n,e){if(ae(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const gu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,jy=(n,e,t,s,i,r)=>{const o=i==="svg";e==="class"?Oy(n,s,o):e==="style"?Ay(n,t,s):Lo(e)?Wl(e)||Ry(n,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):By(n,e,s,o))?(hu(n,e,s),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&uu(n,e,s,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ot(s))?hu(n,Gt(e),s,r,e):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),uu(n,e,s,o))};function By(n,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in n&&gu(e)&&he(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return gu(e)&&ot(t)?!1:e in n}const pu=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ae(e)?t=>ro(e,t):e};function Wy(n){n.target.composing=!0}function mu(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _a=Symbol("_assign"),xt={created(n,{modifiers:{lazy:e,trim:t,number:s}},i){n[_a]=pu(i);const r=s||i.props&&i.props.type==="number";Gs(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=Xa(a)),n[_a](a)}),t&&Gs(n,"change",()=>{n.value=n.value.trim()}),e||(Gs(n,"compositionstart",Wy),Gs(n,"compositionend",mu),Gs(n,"change",mu))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:s,trim:i,number:r}},o){if(n[_a]=pu(o),n.composing)return;const a=(r||n.type==="number")&&!/^0\d/.test(n.value)?Xa(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(s&&e===t||i&&n.value.trim()===l)||(n.value=l))}},Vy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yi=(n,e)=>{const t=n._withKeys||(n._withKeys={}),s=e.join(".");return t[s]||(t[s]=(i=>{if(!("key"in i))return;const r=rs(i.key);if(e.some(o=>o===r||Vy[o]===r))return n(i)}))},Hy=Et({patchProp:jy},Sy);let bu;function Uy(){return bu||(bu=qb(Hy))}const zy=((...n)=>{const e=Uy().createApp(...n),{mount:t}=e;return e.mount=s=>{const i=Yy(s);if(!i)return;const r=e._component;!he(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,qy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function qy(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Yy(n){return ot(n)?document.querySelector(n):n}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ks=typeof document<"u";function Yf(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Gy(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Yf(n.default)}const Ae=Object.assign;function wa(n,e){const t={};for(const s in e){const i=e[s];t[s]=sn(i)?i.map(n):n(i)}return t}const Gi=()=>{},sn=Array.isArray;function yu(n,e){const t={};for(const s in n)t[s]=s in e?e[s]:n[s];return t}const Gf=/#/g,Ky=/&/g,Xy=/\//g,Jy=/=/g,Qy=/\?/g,Kf=/\+/g,Zy=/%5B/g,e_=/%5D/g,Xf=/%5E/g,t_=/%60/g,Jf=/%7B/g,n_=/%7C/g,Qf=/%7D/g,s_=/%20/g;function ic(n){return n==null?"":encodeURI(""+n).replace(n_,"|").replace(Zy,"[").replace(e_,"]")}function i_(n){return ic(n).replace(Jf,"{").replace(Qf,"}").replace(Xf,"^")}function ll(n){return ic(n).replace(Kf,"%2B").replace(s_,"+").replace(Gf,"%23").replace(Ky,"%26").replace(t_,"`").replace(Jf,"{").replace(Qf,"}").replace(Xf,"^")}function r_(n){return ll(n).replace(Jy,"%3D")}function o_(n){return ic(n).replace(Gf,"%23").replace(Qy,"%3F")}function a_(n){return o_(n).replace(Xy,"%2F")}function cr(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const l_=/\/$/,c_=n=>n.replace(l_,"");function va(n,e,t="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),r=e.slice(l,a>0?a:e.length),i=n(r.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=f_(s??e,t),{fullPath:s+r+o,path:s,query:i,hash:cr(o)}}function u_(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function _u(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function h_(n,e,t){const s=e.matched.length-1,i=t.matched.length-1;return s>-1&&s===i&&li(e.matched[s],t.matched[i])&&Zf(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function li(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Zf(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!d_(n[t],e[t]))return!1;return!0}function d_(n,e){return sn(n)?wu(n,e):sn(e)?wu(e,n):n===e}function wu(n,e){return sn(e)?n.length===e.length&&n.every((t,s)=>t===e[s]):n.length===1&&n[0]===e}function f_(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=t.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cl=(function(n){return n.pop="pop",n.push="push",n})({}),xa=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function g_(n){if(!n)if(Ks){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),c_(n)}const p_=/^[^#]+#/;function m_(n,e){return n.replace(p_,"#")+e}function b_(n,e){const t=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:e.behavior,left:s.left-t.left-(e.left||0),top:s.top-t.top-(e.top||0)}}const Ko=()=>({left:window.scrollX,top:window.scrollY});function y_(n){let e;if("el"in n){const t=n.el,s=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?s?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=b_(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vu(n,e){return(history.state?history.state.position-e:-1)+n}const ul=new Map;function __(n,e){ul.set(n,e)}function w_(n){const e=ul.get(n);return ul.delete(n),e}function v_(n){return typeof n=="string"||n&&typeof n=="object"}function eg(n){return typeof n=="string"||typeof n=="symbol"}let Je=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const tg=Symbol("");Je.MATCHER_NOT_FOUND+"",Je.NAVIGATION_GUARD_REDIRECT+"",Je.NAVIGATION_ABORTED+"",Je.NAVIGATION_CANCELLED+"",Je.NAVIGATION_DUPLICATED+"";function ci(n,e){return Ae(new Error,{type:n,[tg]:!0},e)}function wn(n,e){return n instanceof Error&&tg in n&&(e==null||!!(n.type&e))}const x_=["params","query","hash"];function k_(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const e={};for(const t of x_)t in n&&(e[t]=n[t]);return JSON.stringify(e,null,2)}function S_(n){const e={};if(n===""||n==="?")return e;const t=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<t.length;++s){const i=t[s].replace(Kf," "),r=i.indexOf("="),o=cr(r<0?i:i.slice(0,r)),a=r<0?null:cr(i.slice(r+1));if(o in e){let l=e[o];sn(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function xu(n){let e="";for(let t in n){const s=n[t];if(t=r_(t),s==null){s!==void 0&&(e+=(e.length?"&":"")+t);continue}(sn(s)?s.map(i=>i&&ll(i)):[s&&ll(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function E_(n){const e={};for(const t in n){const s=n[t];s!==void 0&&(e[t]=sn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const O_=Symbol(""),ku=Symbol(""),Xo=Symbol(""),rc=Symbol(""),hl=Symbol("");function ki(){let n=[];function e(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Yn(n,e,t,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ci(Je.NAVIGATION_ABORTED,{from:t,to:e})):d instanceof Error?l(d):v_(d)?l(ci(Je.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>n.call(s&&s.instances[i],e,t,c));let h=Promise.resolve(u);n.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function ka(n,e,t,s,i=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Yf(l)){const c=(l.__vccOpts||l)[e];c&&r.push(Yn(c,t,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Gy(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Yn(d,t,s,o,a,i)()}))}}return r}function P_(n,e){const t=[],s=[],i=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(c=>li(c,a))?s.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>li(c,l))||i.push(l))}return[t,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let T_=()=>location.protocol+"//"+location.host;function ng(n,e){const{pathname:t,search:s,hash:i}=e,r=n.indexOf("#");if(r>-1){let o=i.includes(n.slice(r))?n.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),_u(a,"")}return _u(t,n)+s+i}function C_(n,e,t,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=ng(n,location),g=t.value,p=e.value;let m=0;if(d){if(t.value=f,e.value=d,o&&o===g){o=null;return}m=p?d.position-p.position:0}else s(f);i.forEach(b=>{b(t.value,g,{delta:m,type:cl.pop,direction:m?m>0?xa.forward:xa.back:xa.unknown})})};function l(){o=t.value}function c(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(Ae({},d.state,{scroll:Ko()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Su(n,e,t,s=!1,i=!1){return{back:n,current:e,forward:t,replaced:s,position:window.history.length,scroll:i?Ko():null}}function A_(n){const{history:e,location:t}=window,s={value:ng(n,t)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=n.indexOf("#"),d=h>-1?(t.host&&document.querySelector("base")?n:n.slice(h))+l:T_()+n+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),t[u?"replace":"assign"](d)}}function o(l,c){r(l,Ae({},e.state,Su(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=Ae({},i.value,e.state,{forward:l,scroll:Ko()});r(u.current,u,!0),r(l,Ae({},Su(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function M_(n){n=g_(n);const e=A_(n),t=C_(n,e.state,e.location,e.replace);function s(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=Ae({location:"",base:n,go:s,createHref:m_.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let Es=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var at=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(at||{});const D_={type:Es.Static,value:""},R_=/[a-zA-Z0-9_]/;function I_(n){if(!n)return[[]];if(n==="/")return[[D_]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${c}": ${f}`)}let t=at.Static,s=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(t===at.Static?r.push({type:Es.Static,value:c}):t===at.Param||t===at.ParamRegExp||t===at.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:Es.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==at.ParamRegExp){s=t,t=at.EscapeNext;continue}switch(t){case at.Static:l==="/"?(c&&h(),o()):l===":"?(h(),t=at.Param):d();break;case at.EscapeNext:d(),t=s;break;case at.Param:l==="("?t=at.ParamRegExp:R_.test(l)?d():(h(),t=at.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case at.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=at.ParamRegExpEnd:u+=l;break;case at.ParamRegExpEnd:h(),t=at.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===at.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const Eu="[^/]+?",L_={sensitive:!1,strict:!1,start:!0,end:!0};var Tt=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Tt||{});const N_=/[.+*?^${}()[\]/\\]/g;function $_(n,e){const t=Ae({},L_,e),s=[];let i=t.start?"^":"";const r=[];for(const c of n){const u=c.length?[]:[Tt.Root];t.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Tt.Segment+(t.sensitive?Tt.BonusCaseSensitive:0);if(d.type===Es.Static)h||(i+="/"),i+=d.value.replace(N_,"\\$&"),f+=Tt.Static;else if(d.type===Es.Param){const{value:g,repeatable:p,optional:m,regexp:b}=d;r.push({name:g,repeatable:p,optional:m});const y=b||Eu;if(y!==Eu){f+=Tt.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+x.message)}}let v=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(v=m&&c.length<2?`(?:/${v})`:"/"+v),m&&(v+="?"),i+=v,f+=Tt.Dynamic,m&&(f+=Tt.BonusOptional),p&&(f+=Tt.BonusRepeatable),y===".*"&&(f+=Tt.BonusWildcard)}u.push(f)}s.push(u)}if(t.strict&&t.end){const c=s.length-1;s[c][s[c].length-1]+=Tt.BonusStrict}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=r[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of n){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===Es.Static)u+=f.value;else if(f.type===Es.Param){const{value:g,repeatable:p,optional:m}=f,b=g in c?c[g]:"";if(sn(b)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=sn(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function F_(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=e[t]-n[t];if(s)return s;t++}return n.length<e.length?n.length===1&&n[0]===Tt.Static+Tt.Segment?-1:1:n.length>e.length?e.length===1&&e[0]===Tt.Static+Tt.Segment?1:-1:0}function sg(n,e){let t=0;const s=n.score,i=e.score;for(;t<s.length&&t<i.length;){const r=F_(s[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-s.length)===1){if(Ou(s))return 1;if(Ou(i))return-1}return i.length-s.length}function Ou(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const j_={strict:!1,end:!0,sensitive:!1};function B_(n,e,t){const s=$_(I_(n.path),t),i=Ae(s,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function W_(n,e){const t=[],s=new Map;e=yu(j_,e);function i(h){return s.get(h)}function r(h,d,f){const g=!f,p=Tu(h);p.aliasOf=f&&f.record;const m=yu(e,h),b=[p];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const E of x)b.push(Tu(Ae({},p,{components:f?f.record.components:p.components,path:E,aliasOf:f?f.record:p})))}let y,v;for(const x of b){const{path:E}=x;if(d&&E[0]!=="/"){const O=d.record.path,P=O[O.length-1]==="/"?"":"/";x.path=d.record.path+(E&&P+E)}if(y=B_(x,d,m),f?f.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),g&&h.name&&!Cu(y)&&o(h.name)),ig(y)&&l(y),p.children){const O=p.children;for(let P=0;P<O.length;P++)r(O[P],y,f&&f.children[P])}f=f||y}return v?()=>{o(v)}:Gi}function o(h){if(eg(h)){const d=s.get(h);d&&(s.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){const d=U_(h,t);t.splice(d,0,h),h.record.name&&!Cu(h)&&s.set(h.record.name,h)}function c(h,d){let f,g={},p,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ci(Je.MATCHER_NOT_FOUND,{location:h});m=f.record.name,g=Ae(Pu(d.params,f.keys.filter(v=>!v.optional).concat(f.parent?f.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),h.params&&Pu(h.params,f.keys.map(v=>v.name))),p=f.stringify(g)}else if(h.path!=null)p=h.path,f=t.find(v=>v.re.test(p)),f&&(g=f.parse(p),m=f.record.name);else{if(f=d.name?s.get(d.name):t.find(v=>v.re.test(d.path)),!f)throw ci(Je.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,g=Ae({},d.params,h.params),p=f.stringify(g)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:p,params:g,matched:b,meta:H_(b)}}n.forEach(h=>r(h));function u(){t.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Pu(n,e){const t={};for(const s of e)s in n&&(t[s]=n[s]);return t}function Tu(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:V_(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function V_(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const s in n.components)e[s]=typeof t=="object"?t[s]:t;return e}function Cu(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function H_(n){return n.reduce((e,t)=>Ae(e,t.meta),{})}function U_(n,e){let t=0,s=e.length;for(;t!==s;){const r=t+s>>1;sg(n,e[r])<0?s=r:t=r+1}const i=z_(n);return i&&(s=e.lastIndexOf(i,s-1)),s}function z_(n){let e=n;for(;e=e.parent;)if(ig(e)&&sg(n,e)===0)return e}function ig({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Au(n){const e=nn(Xo),t=nn(rc),s=Lt(()=>{const l=Se(n.to);return e.resolve(l)}),i=Lt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=t.matched;if(!u||!h.length)return-1;const d=h.findIndex(li.bind(null,u));if(d>-1)return d;const f=Mu(l[c-2]);return c>1&&Mu(u)===f&&h[h.length-1].path!==f?h.findIndex(li.bind(null,l[c-2])):d}),r=Lt(()=>i.value>-1&&K_(t.params,s.value.params)),o=Lt(()=>i.value>-1&&i.value===t.matched.length-1&&Zf(t.params,s.value.params));function a(l={}){if(G_(l)){const c=e[Se(n.replace)?"replace":"push"](Se(n.to)).catch(Gi);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Lt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function q_(n){return n.length===1?n[0]:n}const Y_=ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Au,setup(n,{slots:e}){const t=Vo(Au(n)),{options:s}=nn(Xo),i=Lt(()=>({[Du(n.activeClass,s.linkActiveClass,"router-link-active")]:t.isActive,[Du(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&q_(e.default(t));return n.custom?r:zf("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),ui=Y_;function G_(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function K_(n,e){for(const t in e){const s=e[t],i=n[t];if(typeof s=="string"){if(s!==i)return!1}else if(!sn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Mu(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Du=(n,e,t)=>n??e??t,X_=ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const s=nn(hl),i=Lt(()=>n.route||s.value),r=nn(ku,0),o=Lt(()=>{let c=Se(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Lt(()=>i.value.matched[o.value]);oo(ku,Lt(()=>o.value+1)),oo(O_,a),oo(hl,i);const l=F();return Dn(()=>[l.value,a.value,n.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!li(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=n.name,h=a.value,d=h&&h.components[u];if(!d)return Ru(t.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=zf(d,Ae({},g,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Ru(t.default,{Component:m,route:c})||m}}});function Ru(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const rg=X_;function J_(n){const e=W_(n.routes,n),t=n.parseQuery||S_,s=n.stringifyQuery||xu,i=n.history,r=ki(),o=ki(),a=ki(),l=ob(Wn);let c=Wn;Ks&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=wa.bind(null,M=>""+M),h=wa.bind(null,a_),d=wa.bind(null,cr);function f(M,W){let I,z;return eg(M)?(I=e.getRecordMatcher(M),z=W):z=M,e.addRoute(z,I)}function g(M){const W=e.getRecordMatcher(M);W&&e.removeRoute(W)}function p(){return e.getRoutes().map(M=>M.record)}function m(M){return!!e.getRecordMatcher(M)}function b(M,W){if(W=Ae({},W||l.value),typeof M=="string"){const k=va(t,M,W.path),A=e.resolve({path:k.path},W),D=i.createHref(k.fullPath);return Ae(k,A,{params:d(A.params),hash:cr(k.hash),redirectedFrom:void 0,href:D})}let I;if(M.path!=null)I=Ae({},M,{path:va(t,M.path,W.path).path});else{const k=Ae({},M.params);for(const A in k)k[A]==null&&delete k[A];I=Ae({},M,{params:h(k)}),W.params=h(W.params)}const z=e.resolve(I,W),de=M.hash||"";z.params=u(d(z.params));const _=u_(s,Ae({},M,{hash:i_(de),path:z.path})),w=i.createHref(_);return Ae({fullPath:_,hash:de,query:s===xu?E_(M.query):M.query||{}},z,{redirectedFrom:void 0,href:w})}function y(M){return typeof M=="string"?va(t,M,l.value.path):Ae({},M)}function v(M,W){if(c!==M)return ci(Je.NAVIGATION_CANCELLED,{from:W,to:M})}function x(M){return P(M)}function E(M){return x(Ae(y(M),{replace:!0}))}function O(M,W){const I=M.matched[M.matched.length-1];if(I&&I.redirect){const{redirect:z}=I;let de=typeof z=="function"?z(M,W):z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=y(de):{path:de},de.params={}),Ae({query:M.query,hash:M.hash,params:de.path!=null?{}:M.params},de)}}function P(M,W){const I=c=b(M),z=l.value,de=M.state,_=M.force,w=M.replace===!0,k=O(I,z);if(k)return P(Ae(y(k),{state:typeof k=="object"?Ae({},de,k.state):de,force:_,replace:w}),W||I);const A=I;A.redirectedFrom=W;let D;return!_&&h_(s,z,I)&&(D=ci(Je.NAVIGATION_DUPLICATED,{to:A,from:z}),se(z,z,!0,!1)),(D?Promise.resolve(D):J(A,z)).catch(C=>wn(C)?wn(C,Je.NAVIGATION_GUARD_REDIRECT)?C:Xe(C):Q(C,A,z)).then(C=>{if(C){if(wn(C,Je.NAVIGATION_GUARD_REDIRECT))return P(Ae({replace:w},y(C.to),{state:typeof C.to=="object"?Ae({},de,C.to.state):de,force:_}),W||A)}else C=q(A,z,!0,w,de);return te(A,z,C),C})}function R(M,W){const I=v(M,W);return I?Promise.reject(I):Promise.resolve()}function H(M){const W=Ne.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(M):M()}function J(M,W){let I;const[z,de,_]=P_(M,W);I=ka(z.reverse(),"beforeRouteLeave",M,W);for(const k of z)k.leaveGuards.forEach(A=>{I.push(Yn(A,M,W))});const w=R.bind(null,M,W);return I.push(w),Ue(I).then(()=>{I=[];for(const k of r.list())I.push(Yn(k,M,W));return I.push(w),Ue(I)}).then(()=>{I=ka(de,"beforeRouteUpdate",M,W);for(const k of de)k.updateGuards.forEach(A=>{I.push(Yn(A,M,W))});return I.push(w),Ue(I)}).then(()=>{I=[];for(const k of _)if(k.beforeEnter)if(sn(k.beforeEnter))for(const A of k.beforeEnter)I.push(Yn(A,M,W));else I.push(Yn(k.beforeEnter,M,W));return I.push(w),Ue(I)}).then(()=>(M.matched.forEach(k=>k.enterCallbacks={}),I=ka(_,"beforeRouteEnter",M,W,H),I.push(w),Ue(I))).then(()=>{I=[];for(const k of o.list())I.push(Yn(k,M,W));return I.push(w),Ue(I)}).catch(k=>wn(k,Je.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function te(M,W,I){a.list().forEach(z=>H(()=>z(M,W,I)))}function q(M,W,I,z,de){const _=v(M,W);if(_)return _;const w=W===Wn,k=Ks?history.state:{};I&&(z||w?i.replace(M.fullPath,Ae({scroll:w&&k&&k.scroll},de)):i.push(M.fullPath,de)),l.value=M,se(M,W,I,w),Xe()}let we;function Ye(){we||(we=i.listen((M,W,I)=>{if(!it.listening)return;const z=b(M),de=O(z,it.currentRoute.value);if(de){P(Ae(de,{replace:!0,force:!0}),z).catch(Gi);return}c=z;const _=l.value;Ks&&__(vu(_.fullPath,I.delta),Ko()),J(z,_).catch(w=>wn(w,Je.NAVIGATION_ABORTED|Je.NAVIGATION_CANCELLED)?w:wn(w,Je.NAVIGATION_GUARD_REDIRECT)?(P(Ae(y(w.to),{force:!0}),z).then(k=>{wn(k,Je.NAVIGATION_ABORTED|Je.NAVIGATION_DUPLICATED)&&!I.delta&&I.type===cl.pop&&i.go(-1,!1)}).catch(Gi),Promise.reject()):(I.delta&&i.go(-I.delta,!1),Q(w,z,_))).then(w=>{w=w||q(z,_,!1),w&&(I.delta&&!wn(w,Je.NAVIGATION_CANCELLED)?i.go(-I.delta,!1):I.type===cl.pop&&wn(w,Je.NAVIGATION_ABORTED|Je.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),te(z,_,w)}).catch(Gi)}))}let re=ki(),X=ki(),Y;function Q(M,W,I){Xe(M);const z=X.list();return z.length?z.forEach(de=>de(M,W,I)):console.error(M),Promise.reject(M)}function pe(){return Y&&l.value!==Wn?Promise.resolve():new Promise((M,W)=>{re.add([M,W])})}function Xe(M){return Y||(Y=!M,Ye(),re.list().forEach(([W,I])=>M?I(M):W()),re.reset()),M}function se(M,W,I,z){const{scrollBehavior:de}=n;if(!Ks||!de)return Promise.resolve();const _=!I&&w_(vu(M.fullPath,0))||(z||!I)&&history.state&&history.state.scroll||null;return It().then(()=>de(M,W,_)).then(w=>w&&y_(w)).catch(w=>Q(w,M,W))}const me=M=>i.go(M);let Te;const Ne=new Set,it={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:p,resolve:b,options:n,push:x,replace:E,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:pe,install(M){M.component("RouterLink",ui),M.component("RouterView",rg),M.config.globalProperties.$router=it,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(l)}),Ks&&!Te&&l.value===Wn&&(Te=!0,x(i.location).catch(z=>{}));const W={};for(const z in Wn)Object.defineProperty(W,z,{get:()=>l.value[z],enumerable:!0});M.provide(Xo,it),M.provide(rc,hf(W)),M.provide(hl,l);const I=M.unmount;Ne.add(M),M.unmount=function(){Ne.delete(M),Ne.size<1&&(c=Wn,we&&we(),we=null,l.value=Wn,Te=!1,Y=!1),I()}}};function Ue(M){return M.reduce((W,I)=>W.then(()=>H(I)),Promise.resolve())}return it}function zt(){return nn(Xo)}function og(n){return nn(rc)}const Q_={class:"navLabel"},Z_=ie({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(n){return zt(),(e,t)=>(T(),Ee(Se(ui),{to:n.route,class:ht("navLink"+(n.active===n.label?" active":""))},{default:dt(()=>[S("i",{class:ht(n.icon)},null,2),S("span",Q_,fe(n.label),1)]),_:1},8,["to","class"]))}}),ge=(n,e)=>{const t=n.__vccOpts||n;for(const[s,i]of e)t[s]=i;return t},Ir=ge(Z_,[["__scopeId","data-v-64e6c1bc"]]),ew={class:"nav-bar"},tw=ie({__name:"NavBar",props:{active:{}},setup(n){return(e,t)=>(T(),N("nav",ew,[$(Ir,{label:"Home",icon:"fas fa-home",route:"/app",active:n.active},null,8,["active"]),$(Ir,{label:"Stats",icon:"fas fa-chart-bar",route:"/app/stats",active:n.active},null,8,["active"]),$(Ir,{label:"Exercises",icon:"fas fa-dumbbell",route:"/app/exercises",active:n.active},null,8,["active"]),$(Ir,{label:"Upload",icon:"fas fa-camera",route:"/app/upload",active:n.active},null,8,["active"])]))}}),nw=ge(tw,[["__scopeId","data-v-dae4698a"]]),sw=["disabled"],iw=ie({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(n,{emit:e}){const t=n,s=e;return(i,r)=>(T(),N("button",{class:ht(["bubbleButton","clickable",{red:t.red},{fullWidth:t.fullWidth}]),disabled:n.loading,onClick:r[0]||(r[0]=o=>s("click"))},[ec(i.$slots,"default",{},void 0),Oe(" "+fe(n.label||""),1)],10,sw))}}),$t=ge(iw,[["__scopeId","data-v-0a902d4f"]]),rw={class:"popupOverlay"},ow={key:0,class:"fa-solid fa-triangle-exclamation",style:{color:"var(--errorBorder)","margin-right":"10px"}},aw={class:"buttonContainer"},lw=ie({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean},error:{type:Boolean}},emits:["confirm","cancel"],setup(n,{emit:e}){return(t,s)=>(T(),N("div",rw,[S("div",{class:ht(["popupContainer softBubble marginsWidth",{error:n.error}])},[S("h2",null,[n.error?(T(),N("i",ow)):K("",!0),Oe(" "+fe(n.title),1)]),S("p",null,[Oe(fe(n.message)+" ",1),ec(t.$slots,"default",{},void 0)]),S("div",aw,[$($t,{label:n.confirmText,red:n.confirmRed||!1||n.error||!1,loading:!1,onClick:s[0]||(s[0]=i=>t.$emit("confirm"))},null,8,["label","red"]),n.cancelText?(T(),Ee($t,{key:0,label:n.cancelText,red:n.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>t.$emit("cancel"))},null,8,["label","red"])):K("",!0)])],2)]))}}),os=ge(lw,[["__scopeId","data-v-9bb5e498"]]);var dl=function(n,e){return dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])},dl(n,e)};function ag(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dl(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wo=function(){return wo=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},wo.apply(this,arguments)};function bi(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function lg(n,e,t,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,s);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(i<3?o(r):i>3?o(e,t,r):o(e,t))||r);return i>3&&r&&Object.defineProperty(e,t,r),r}function cg(n,e){return function(t,s){e(t,s,n)}}function ug(n,e,t,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&n?s.static?n:n.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=t.length-1;f>=0;f--){var g={};for(var p in s)g[p]=p==="access"?{}:s[p];for(var p in s.access)g.access[p]=s.access[p];g.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function hg(n,e,t){for(var s=arguments.length>2,i=0;i<e.length;i++)t=s?e[i].call(n,t):e[i].call(n);return s?t:void 0}function dg(n){return typeof n=="symbol"?n:"".concat(n)}function fg(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function gg(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function G(n,e,t,s){function i(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(n,e||[])).next())})}function pg(n,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Jo=Object.create?(function(n,e,t,s){s===void 0&&(s=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,s,i)}):(function(n,e,t,s){s===void 0&&(s=t),n[s]=e[t]});function mg(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Jo(e,n,t)}function vo(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var s=t.call(n),i,r=[],o;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(o)throw o.error}}return r}function bg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(oc(arguments[e]));return n}function yg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var s=Array(n),i=0,e=0;e<t;e++)for(var r=arguments[e],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function _g(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}function hi(n){return this instanceof hi?(this.v=n,this):new hi(n)}function wg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(g){return Promise.resolve(g).then(f,h)}}function a(f,g){s[f]&&(i[f]=function(p){return new Promise(function(m,b){r.push([f,p,m,b])>1||l(f,p)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(s[f](g))}catch(p){d(r[0][3],p)}}function c(f){f.value instanceof hi?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,g){f(g),r.shift(),r.length&&l(r[0][0],r[0][1])}}function vg(n){var e,t;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,r){e[i]=n[i]?function(o){return(t=!t)?{value:hi(n[i](o)),done:!1}:r?r(o):o}:r}}function xg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vo=="function"?vo(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=n[r]&&function(o){return new Promise(function(a,l){o=n[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function kg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var cw=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},fl=function(n){return fl=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},fl(n)};function Sg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=fl(n),s=0;s<t.length;s++)t[s]!=="default"&&Jo(e,n,t[s]);return cw(e,n),e}function Eg(n){return n&&n.__esModule?n:{default:n}}function Og(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)}function Pg(n,e,t,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Tg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Cg(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),n.stack.push({value:e,dispose:s,async:t})}else t&&n.stack.push({async:!0});return e}var uw=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=n,s.suppressed=e,s};function Ag(n){function e(r){n.error=n.hasError?new uw(r,n.error,"An error was suppressed during disposal."):r,n.hasError=!0}var t,s=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&s===1)return s=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var r=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(r).then(i,function(o){return e(o),i()})}else s|=1}catch(o){e(o)}if(s===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Mg(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,i,r,o){return s?e?".jsx":".js":i&&(!r||!o)?t:i+r+"."+o.toLowerCase()+"js"}):n}const hw={__extends:ag,__assign:wo,__rest:bi,__decorate:lg,__param:cg,__esDecorate:ug,__runInitializers:hg,__propKey:dg,__setFunctionName:fg,__metadata:gg,__awaiter:G,__generator:pg,__createBinding:Jo,__exportStar:mg,__values:vo,__read:oc,__spread:bg,__spreadArrays:yg,__spreadArray:_g,__await:hi,__asyncGenerator:wg,__asyncDelegator:vg,__asyncValues:xg,__makeTemplateObject:kg,__importStar:Sg,__importDefault:Eg,__classPrivateFieldGet:Og,__classPrivateFieldSet:Pg,__classPrivateFieldIn:Tg,__addDisposableResource:Cg,__disposeResources:Ag,__rewriteRelativeImportExtension:Mg},dw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cg,get __assign(){return wo},__asyncDelegator:vg,__asyncGenerator:wg,__asyncValues:xg,__await:hi,__awaiter:G,__classPrivateFieldGet:Og,__classPrivateFieldIn:Tg,__classPrivateFieldSet:Pg,__createBinding:Jo,__decorate:lg,__disposeResources:Ag,__esDecorate:ug,__exportStar:mg,__extends:ag,__generator:pg,__importDefault:Eg,__importStar:Sg,__makeTemplateObject:kg,__metadata:gg,__param:cg,__propKey:dg,__read:oc,__rest:bi,__rewriteRelativeImportExtension:Mg,__runInitializers:hg,__setFunctionName:fg,__spread:bg,__spreadArray:_g,__spreadArrays:yg,__values:vo,default:hw},Symbol.toStringTag,{value:"Module"})),fw="modulepreload",gw=function(n){return"/"+n},Iu={},yi=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(t.map(u=>{if(u=gw(u),u in Iu)return;Iu[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":fw,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},pw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ds);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class ac extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Lu extends ac{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends ac{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $u extends ac{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(gl||(gl={}));class mw{constructor(e,{headers:t={},customFetch:s,region:i=gl.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=pw(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return G(this,arguments,void 0,function*(t,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new Lu(b)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Nu(f);if(!f.ok)throw new $u(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"||p==="application/pdf"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new Lu(r)}:{data:null,error:r,response:r instanceof $u||r instanceof Nu?r.context:void 0}}})}}function bw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Dg(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),t}var mt={};const _i=Dg(dw);var Lr={},Nr={},$r={},Fr={},jr={},yw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},di=yw();const _w=di.fetch,Rg=di.fetch.bind(di),Ig=di.Headers,ww=di.Request,vw=di.Response,Ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ig,Request:ww,Response:vw,default:Rg,fetch:_w},Symbol.toStringTag,{value:"Module"})),xw=Dg(Ds);var Br={},Fu;function Lg(){if(Fu)return Br;Fu=1,Object.defineProperty(Br,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Br.default=n,Br}var ju;function Ng(){if(ju)return jr;ju=1,Object.defineProperty(jr,"__esModule",{value:!0});const n=_i,e=n.__importDefault(xw),t=n.__importDefault(Lg());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let g=null,p=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=O:p=JSON.parse(O))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{g=JSON.parse(x),Array.isArray(g)&&c.status===404&&(p=[],g=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):g={message:x}}if(g&&this.isMaybeSingle&&(!((f=g?.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,b=200,y="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:p,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return jr.default=s,jr}var Bu;function $g(){if(Bu)return Fr;Bu=1,Object.defineProperty(Fr,"__esModule",{value:!0});const e=_i.__importDefault(Ng());class t extends e.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fr.default=t,Fr}var Wu;function lc(){if(Wu)return $r;Wu=1,Object.defineProperty($r,"__esModule",{value:!0});const e=_i.__importDefault($g());class t extends e.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return $r.default=t,$r}var Vu;function Fg(){if(Vu)return Nr;Vu=1,Object.defineProperty(Nr,"__esModule",{value:!0});const e=_i.__importDefault(lc());class t{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Nr.default=t,Nr}var Hu;function kw(){if(Hu)return Lr;Hu=1,Object.defineProperty(Lr,"__esModule",{value:!0});const n=_i,e=n.__importDefault(Fg()),t=n.__importDefault(lc());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{d.searchParams.append(p,m)})):(h="POST",f=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new t.default({method:h,url:d,headers:g,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Lr.default=s,Lr}var Uu;function Sw(){if(Uu)return mt;Uu=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const n=_i,e=n.__importDefault(kw());mt.PostgrestClient=e.default;const t=n.__importDefault(Fg());mt.PostgrestQueryBuilder=t.default;const s=n.__importDefault(lc());mt.PostgrestFilterBuilder=s.default;const i=n.__importDefault($g());mt.PostgrestTransformBuilder=i.default;const r=n.__importDefault(Ng());mt.PostgrestBuilder=r.default;const o=n.__importDefault(Lg());return mt.PostgrestError=o.default,mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},mt}var Ew=Sw();const Ow=bw(Ew),{PostgrestClient:Pw,PostgrestQueryBuilder:yD,PostgrestFilterBuilder:_D,PostgrestTransformBuilder:wD,PostgrestBuilder:vD,PostgrestError:xD}=Ow;class Tw{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Cw="2.76.1",Aw=`realtime-js/${Cw}`,Mw="1.0.0",pl=1e4,Dw=1e3,Rw=100;var Ki;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ki||(Ki={}));var lt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(lt||(lt={}));var Qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Qt||(Qt={}));var ml;(function(n){n.websocket="websocket"})(ml||(ml={}));var ks;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ks||(ks={}));class Iw{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const i=t.getUint8(1),r=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class jg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(je||(je={}));const zu=(n,e,t={})=>{var s;const i=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((r,o)=>(r[o]=Lw(o,n,e,i),r),{}):{}},Lw=(n,e,t,s)=>{const i=e.find(a=>a.name===n),r=i?.type,o=t[n];return r&&!s.includes(r)?Bg(r,o):bl(o)},Bg=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return jw(e,t)}switch(n){case je.bool:return Nw(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return $w(e);case je.json:case je.jsonb:return Fw(e);case je.timestamp:return Bw(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return bl(e);default:return bl(e)}},bl=n=>n,Nw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},$w=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Fw=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},jw=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let r;const o=n.slice(1,t);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Bg(e,a))}return n},Bw=n=>typeof n=="string"?n.replace(" ","T"):n,Wg=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Sa{constructor(e,t,s={},i=pl){this.channel=e,this.event=t,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qu;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(qu||(qu={}));class Xi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Xi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,i){const r=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),p=h.filter(m=>d.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,t,s,i){const{joins:r,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const i=e[s];return"metas"in i?t[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[s]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yu;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Yu||(Yu={}));var Ji;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ji||(Ji={}));var En;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class cc{constructor(e,t={config:{}},s){var i,r;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Sa(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new jg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Xi(this),this.broadcastEndpointURL=Wg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ji.PRESENCE]&&this.bindings[Ji.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(En.CHANNEL_ERROR,f)),this._onClose(()=>e?.(En.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e?.(En.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p?.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<m;y++){const v=p[y],{filter:{event:x,schema:E,table:O,filter:P}}=v,R=f&&f[y];if(R&&R.event===x&&R.schema===E&&R.table===O&&R.filter===P)b.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=lt.errored,e?.(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(En.SUBSCRIBED);return}}).receive("error",f=>{this.state=lt.errored,e?.(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===lt.joined&&e===Ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,t={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Sa(this,Qt.leave,{},e),s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(r),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sa(this,e,t,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rw){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Qt;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,p,m,b,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,E=(g=f.filter)===null||g===void 0?void 0:g.event;return x&&((p=t.ids)===null||p===void 0?void 0:p.includes(x))&&(E==="*"||E?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((v=t?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:p,table:m,commit_timestamp:b,type:y,errors:v}=g;d=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(g))}f.callback(d,s)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const i=e.toLocaleLowerCase(),r={type:i,filter:t,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&cc.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=zu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=zu(e.columns,e.old_record)),t}}const Ea=()=>{},Wr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ww=[1e3,2e3,5e3,1e4],Vw=1e4,Hw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uw{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pl,this.transport=null,this.heartbeatIntervalMs=Wr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ea,this.ref=0,this.reconnectTimer=null,this.logger=Ea,this.conn=null,this.sendBuffer=[],this.serializer=new Iw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>yi(async()=>{const{default:a}=await Promise.resolve().then(()=>Ds);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ml.websocket}`,this.httpEndpoint=Wg(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mw}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return ks.Connecting;case Ki.open:return ks.Open;case Ki.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new cc(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Dw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Wr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=t,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${s}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Hw],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const i={access_token:t,version:Aw};t&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Qt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,i,r,o,a,l,c,u;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:pl,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Wr.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Ea,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>Ww[h-1]||Vw),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class uc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class zw extends uc{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yl extends uc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const hc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ds);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},qw=()=>G(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>Ds),void 0)).Response:Response}),_l=n=>{if(Array.isArray(n))return n.map(t=>_l(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const i=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=_l(s)}),e},Yw=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Oa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Gw=(n,e,t)=>G(void 0,void 0,void 0,function*(){const s=yield qw();n instanceof s&&!t?.noResolveJson?n.json().then(i=>{const r=n.status||500,o=i?.statusCode||r+"";e(new zw(Oa(i),r,o))}).catch(i=>{e(new yl(Oa(i),i))}):e(new yl(Oa(n),n))}),Kw=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!s?i:(Yw(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function kr(n,e,t,s,i,r){return G(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,Kw(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gw(l,a,s))})})}function ur(n,e,t,s){return G(this,void 0,void 0,function*(){return kr(n,"GET",e,t,s)})}function Jt(n,e,t,s,i){return G(this,void 0,void 0,function*(){return kr(n,"POST",e,s,i,t)})}function wl(n,e,t,s,i){return G(this,void 0,void 0,function*(){return kr(n,"PUT",e,s,i,t)})}function Xw(n,e,t,s){return G(this,void 0,void 0,function*(){return kr(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function dc(n,e,t,s,i){return G(this,void 0,void 0,function*(){return kr(n,"DELETE",e,s,i,t)})}class Jw{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return G(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}}var Vg;class Qw{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Vg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jw(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return G(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}}Vg=Symbol.toStringTag;const Zw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e0{constructor(e,t={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,i){return G(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Gu),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=yield(e=="PUT"?wl:Jt)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}upload(e,t,s){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,i){return G(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Gu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield wl(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return G(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const r=yield Jt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new uc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}update(e,t,s){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return G(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}copy(e,t,s){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,s){return G(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Jt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,s){return G(this,void 0,void 0,function*(){try{const i=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(e),l=()=>ur(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Qw(l,this.shouldThrowOnError)}info(e){return G(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield ur(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_l(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}exists(e){return G(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Xw(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s)&&s instanceof yl){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),i=[],r=t?.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&i.push(r);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return G(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}list(e,t,s){return G(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Zw),t),{prefix:e||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}listV2(e,t){return G(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Hg="2.76.1",Ug={"X-Client-Info":`storage-js/${Hg}`};class t0{constructor(e,t={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ug),t),this.fetch=hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return G(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}getBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}createBucket(e){return G(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return G(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}emptyBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}class n0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ug),t),this.fetch=hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}listBuckets(e){return G(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield ur(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}const fc={"X-Client-Info":`storage-js/${Hg}`,"Content-Type":"application/json"};class zg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Pa extends zg{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s0 extends zg{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Ku;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ku||(Ku={}));const gc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ds);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},i0=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Xu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),r0=(n,e,t)=>G(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const i=n.status||500,r=n;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";e(new Pa(Xu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new Pa(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;e(new Pa(a,i,o))}}else e(new s0(Xu(n),n))}),o0=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return s?(i0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),t)):i};function a0(n,e,t,s,i,r){return G(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,o0(e,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>r0(l,a,s))})})}function Ht(n,e,t,s,i){return G(this,void 0,void 0,function*(){return a0(n,"POST",e,s,i,t)})}class l0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),t),this.fetch=gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return G(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return G(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listIndexes(e){return G(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return G(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}}class c0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),t),this.fetch=gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return G(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getVectors(e){return G(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}listVectors(e){return G(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}queryVectors(e){return G(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return G(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}class u0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fc),t),this.fetch=gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return G(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}listBuckets(){return G(this,arguments,void 0,function*(e={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}class h0 extends u0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new d0(this.url,this.headers,e,this.fetch)}}class d0 extends l0{constructor(e,t,s,i){super(e,t,i),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return G(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return G(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return G(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return G(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new f0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class f0 extends c0{constructor(e,t,s,i,r){super(e,t,r),this.vectorBucketName=s,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return G(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return G(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return G(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return G(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return G(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class g0 extends t0{constructor(e,t={},s,i){super(e,t,s,i)}from(e){return new e0(this.url,this.headers,e,this.fetch)}get vectors(){return new h0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n0(this.url+"/iceberg",this.headers,this.fetch)}}const p0="2.76.1";let Ii="";typeof Deno<"u"?Ii="deno":typeof document<"u"?Ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ii="react-native":Ii="node";const m0={"X-Client-Info":`supabase-js-${Ii}/${p0}`},b0={headers:m0},y0={schema:"public"},_0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w0={},v0=n=>{let e;return n?e=n:typeof fetch>"u"?e=Rg:e=fetch,(...t)=>e(...t)},x0=()=>typeof Headers>"u"?Ig:Headers,k0=(n,e,t)=>{const s=v0(t),i=x0();return async(r,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:n;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function S0(n){return n.endsWith("/")?n:n+"/"}function E0(n,e){var t,s;const{db:i,auth:r,realtime:o,global:a}=n,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}function O0(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qg="2.76.1",Xs=30*1e3,vl=3,Ta=vl*Xs,P0="http://localhost:9999",T0="supabase.auth.token",C0={"X-Client-Info":`gotrue-js/${qg}`},xl="X-Supabase-Api-Version",Yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M0=600*1e3;class hr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class D0 extends hr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function R0(n){return ee(n)&&n.name==="AuthApiError"}class Ss extends hr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class as extends hr{constructor(e,t,s,i){super(e,s,i),this.name=t,this.status=s}}class Un extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I0(n){return ee(n)&&n.name==="AuthSessionMissingError"}class $s extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vr extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hr extends as{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L0(n){return ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ju extends as{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kl extends as{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ca(n){return ee(n)&&n.name==="AuthRetryableFetchError"}class Qu extends as{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Sl extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zu=` 	
\r=`.split(""),N0=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Zu.length;e+=1)n[Zu[e].charCodeAt(0)]=-2;for(let e=0;e<xo.length;e+=1)n[xo[e].charCodeAt(0)]=e;return n})();function eh(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xo[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xo[s]),e.queuedBits-=6}}function Gg(n,e,t){const s=N0[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function th(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{j0(o,s,t)};for(let o=0;o<n.length;o+=1)Gg(n.charCodeAt(o),i,r);return e.join("")}function $0(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function F0(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}$0(s,e)}}function j0(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ii(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Gg(n.charCodeAt(i),t,s);return new Uint8Array(e)}function B0(n){const e=[];return F0(n,t=>e.push(t)),new Uint8Array(e)}function Os(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};return n.forEach(i=>eh(i,t,s)),eh(null,t,s),e.join("")}function W0(n){return Math.round(Date.now()/1e3)+n}function V0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},Kg=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function H0(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return t.searchParams.forEach((s,i)=>{e[i]=s}),e}const Xg=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ds);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},U0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Js=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},fs=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Vn=async(n,e)=>{await n.removeItem(e)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Qo.promiseConstructor=Promise;function Aa(n){const e=n.split(".");if(e.length!==3)throw new Sl("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!A0.test(e[s]))throw new Sl("JWT not in base64url format");return{header:JSON.parse(th(e[0])),payload:JSON.parse(th(e[1])),signature:ii(e[2]),raw:{header:e[0],payload:e[1]}}}async function z0(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function q0(n,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function Y0(n){return("0"+n.toString(16)).substr(-2)}function G0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let i="";for(let r=0;r<56;r++)i+=t.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,Y0).join("")}async function K0(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function X0(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await K0(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(n,e,t=!1){const s=G0();let i=s;t&&(i+="/PASSWORD_RECOVERY"),await Js(n,`${e}-code-verifier`,i);const r=await X0(s);return[r,s===r?"plain":"s256"]}const J0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q0(n){const e=n.headers.get(xl);if(!e||!e.match(J0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Z0(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function ev(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(n){if(!tv.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ma(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nh(n){return JSON.parse(JSON.stringify(n))}const _s=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nv=[502,503,504];async function sh(n){var e;if(!U0(n))throw new kl(_s(n),0);if(nv.includes(n.status))throw new kl(_s(n),n.status);let t;try{t=await n.json()}catch(r){throw new Ss(_s(r),r)}let s;const i=Q0(n);if(i&&i.getTime()>=Yg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Qu(_s(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Un}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Qu(_s(t),n.status,t.weak_password.reasons);throw new D0(_s(t),n.status||500,s)}const sv=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),t))};async function le(n,e,t,s){var i;const r=Object.assign({},s?.headers);r[xl]||(r[xl]=Yg["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iv(n,e,t+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function iv(n,e,t,s,i,r){const o=sv(e,s,i,r);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new kl(_s(l),0)}if(a.ok||await sh(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await sh(l)}}function Kt(n){var e;let t=null;av(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=W0(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function ih(n){const e=Kt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Gn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function rv(n){return{data:n,error:null}}function ov(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r}=n,o=bi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rh(n){return n}function av(n){return n.access_token&&n.refresh_token&&n.expires_in}const Da=["global","local","others"];class lv{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=Xg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Da[0]){if(Da.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Da.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Gn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=bi(e,["options"]),i=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ov,redirectTo:t?.redirectTo})}catch(t){if(ee(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gn})}catch(t){if(ee(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:rh});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){js(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gn})}catch(t){if(ee(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){js(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Gn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){js(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Gn})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){js(e.userId);try{const{data:t,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:s}}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:rh});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ee(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}}function oh(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Bs={debug:!!(globalThis&&Kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cv extends Jg{}async function uv(n,e,t){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new cv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Bs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function dv(n){return parseInt(n,16)}function fv(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function gv(n){var e;const{chainId:t,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const f=Qg(n.address),g=u?`${u}://${s}`:s,p=n.statement?`${n.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}b+=y}return`${m}
${b}`}class rt extends Error{constructor({message:e,code:t,cause:s,name:i}){var r;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=t}}class ko extends rt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function pv({error:n,options:e}){var t,s,i;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=r.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(Zg(o)){if(r.rp.id!==o)return new rt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function mv({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(Zg(s)){if(t.rpId!==s)return new rt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class bv{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yv=new bv;function _v(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:s}=n,i=bi(n,["challenge","user","excludeCredentials"]),r=ii(e).buffer,o=Object.assign(Object.assign({},t),{id:ii(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ii(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function wv(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,s=bi(n,["challenge","allowCredentials"]),i=ii(e).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(t&&t.length>0){r.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const a=t[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ii(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function vv(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Os(new Uint8Array(n.response.attestationObject)),clientDataJSON:Os(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xv(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,s=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Os(new Uint8Array(i.authenticatorData)),clientDataJSON:Os(new Uint8Array(i.clientDataJSON)),signature:Os(new Uint8Array(i.signature)),userHandle:i.userHandle?Os(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ah(){var n,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kv(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",e)}:{data:null,error:new ko("Empty credential response",e)}}catch(e){return{data:null,error:pv({error:e,options:n})}}}async function Sv(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",e)}:{data:null,error:new ko("Empty credential response",e)}}catch(e){return{data:null,error:mv({error:e,options:n})}}}const Ev={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ov={userVerification:"preferred",hints:["security-key"]};function So(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of n)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(t(o))s[r]=o;else if(e(o)){const a=s[r];e(a)?s[r]=So(a,o):s[r]=So(o)}else s[r]=o}return s}function Pv(n,e){return So(Ev,n,e||{})}function Tv(n,e){return So(Ov,n,e||{})}class Cv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:a};const l=i??yv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Pv(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await kv({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Tv(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await Sv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ss("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!t)return{data:null,error:new hr("rpId is required for WebAuthn authentication")};try{if(!ah())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ss("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!t)return{data:null,error:new hr("rpId is required for WebAuthn registration")};try{if(!ah())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ss("Unexpected error in register",o)}}}}hv();const Av={url:P0,storageKey:T0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lh(n,e,t){return await t()}const Ws={};class dr{get jwks(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dr.nextInstanceID,dr.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Av),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xg(i.fetch),this.lock=i.lock||lh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Bt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=uv:this.lock=lh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cv(this)},this.persistSession?(i.storage?this.storage=i.storage:Kg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=oh(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=H0(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Bt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(t,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),L0(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ee(t)?{error:t}:{error:new Ss("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,i;try{const r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kt}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,s,i;try{let r;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Fs(this.storage,this.storageKey)),r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(t=d?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Kt})}else if("phone"in e){const{phone:u,password:h,options:d}=e;r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kt})}else throw new Vr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:a}=e;t=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ih})}else if("phone"in e){const{phone:r,password:o,options:a}=e;t=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ih})}else throw new Vr("You must provide either an email or phone number and a password");const{data:s,error:i}=t;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new $s}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,i,r,o,a,l,c,u,h,d;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:p,wallet:m,statement:b,options:y}=e;let v;if(Bt())if(typeof m=="object")v=m;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")v=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const x=new URL((t=y?.url)!==null&&t!==void 0?t:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Qg(E[0]);let P=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!P){const H=await v.request({method:"eth_chainId"});P=dv(H)}const R={domain:x.host,address:O,statement:b,uri:x.href,version:"1",chainId:P,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=gv(R),g=await v.request({method:"personal_sign",params:[fv(f),O]})}try{const{data:p,error:m}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Kt});if(m)throw m;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new $s}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:m})}catch(p){if(ee(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var t,s,i,r,o,a,l,c,u,h,d,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:m,wallet:b,statement:y,options:v}=e;let x;if(Bt())if(typeof b=="object")x=b;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))x=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const E=new URL((t=v?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in x&&x.signIn){const O=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let P;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")P=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)P=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),p=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(s=v?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=v?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const O=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=O}}try{const{data:m,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Os(p)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Kt});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new $s}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(ee(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await fs(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(t??"").split("/");try{const{data:r,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Kt});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new $s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(ee(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:s,token:i,access_token:r,nonce:o}=e,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Kt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new $s}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Fs(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Vr("You must provide either an email or phone number.")}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let i,r;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Fs(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:rv})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Un;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await le(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await le(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Vr("You must provide either an email or phone number and a type")}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ta:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await fs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Ma()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gn}):await this._useSession(async t=>{var s,i,r;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Gn})})}catch(t){if(ee(t))return I0(t)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Un;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Fs(this.storage,this.storageKey));const{data:c,error:u}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Gn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const t=Date.now()/1e3;let s=t,i=!0,r=null;const{payload:o}=Aa(e.access_token);if(o.exp&&(s=o.exp,i=s<=t),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(ee(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Un;const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Bt())throw new Hr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ju("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Hr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,u);const{data:p,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(R0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=V0(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,i;try{const{data:{session:r},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Fs(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Bt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(ee(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:i,data:{session:r}}=t;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Kt}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new $s}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await q0(async i=>(i>0&&await z0(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(i,r)=>{const o=200*Math.pow(2,i);return r&&Ca(r)&&Date.now()+o-s<Xs})}catch(s){if(this._debug(t,"error",s),ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Bt()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await fs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Js(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Ma()}else if(i&&!i.user&&!i.user){const o=await fs(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Vn(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,i)):i.user=Ma()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ta;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Ta}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ca(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qo;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Un;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),ee(r)){const o={data:null,error:r};return Ca(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Js(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const r=nh(i);await Js(this.storage,this.storageKey,r)}else{const i=nh(t);await Js(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xs}ms, refresh threshold is ${vl} ticks`),i<=vl&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const i=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Fs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(ee(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vv(e.webauthn.credential_response):xv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const o=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_v(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:wv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ee(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Aa(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+M0>i)return s;const{data:r,error:o}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=Aa(s);t?.allowExpired||Z0(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=ev(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,B0(`${a}.${l}`)))throw new Sl("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}dr.nextInstanceID=0;const Mv=dr;class Dv extends Mv{constructor(e){super(e)}}class Rv{constructor(e,t,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=t;const a=O0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:y0,realtime:w0,auth:Object.assign(Object.assign({},_0),{storageKey:l}),global:b0},u=E0(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=k0(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Pw(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new g0(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new mw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dv({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Uw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Iv=(n,e,t)=>new Rv(n,e,t);function Lv(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Lv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nv="https://gkyqqlkxpfskmtryfmyp.supabase.co",$v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",ve=Iv(Nv,$v),Fv={class:"backBar"},jv=ie({__name:"TopBar",setup(n){const e=F(!1),t=zt(),s=og();async function i(){await ve.auth.signOut(),t.push({name:"Sign In",params:{message:"signedout"}}),e.value=!1}function r(){return s.name==="Home"||s.name==="Stats"||s.name==="Exercises"||s.name==="Upload"?!1:window.history.length>1}return(o,a)=>(T(),N("div",Fv,[r()?(T(),N("button",{key:0,class:"backButton clickable",onClick:a[0]||(a[0]=l=>Se(t).back())},[...a[4]||(a[4]=[S("i",{class:"fa-solid fa-chevron-left"},null,-1)])])):K("",!0),S("h3",null,fe(Se(s).name),1),!r()&&Se(s).name!=="Sign In"&&Se(s).name!=="Sign Up"?(T(),N("button",{key:1,class:"iconButton clickable signOutButton",onClick:a[1]||(a[1]=l=>e.value=!0)},[...a[5]||(a[5]=[S("i",{class:"fa-solid fa-right-from-bracket"},null,-1)])])):K("",!0),e.value?(T(),Ee(os,{key:2,title:"Sign Out",message:"Are you sure you want to sign out?",confirmText:"Sign Out",confirmRed:"",cancelText:"Cancel",onConfirm:a[2]||(a[2]=l=>i()),onCancel:a[3]||(a[3]=l=>e.value=!1)})):K("",!0)]))}}),Bv=ge(jv,[["__scopeId","data-v-4de3eb03"]]),Wv={key:1,class:"spacer",style:{height:"70px"}},Vv=ie({__name:"App",setup(n){function e(){return t.name==="Home"||t.name==="Stats"||t.name==="Exercises"||t.name==="Upload"?!1:window.history.length>1}F("/home"),zt();const t=og();async function s(){t.name==="SignIn"||t.name}return s(),(i,r)=>(T(),N(ye,null,[Se(t).name!=="landing"?(T(),Ee(Bv,{key:0})):K("",!0),Se(t).name!=="landing"?(T(),N("div",Wv)):K("",!0),$(Se(rg)),!e()&&Se(t).name!=="landing"?(T(),Ee(nw,{key:2,active:Se(t).name||""},null,8,["active"])):K("",!0)],64))}}),Hv={key:0,class:"bubbleError"},Uv=ie({__name:"ErrorBubble",props:["errorMsg"],setup(n){return(e,t)=>n.errorMsg?(T(),N("div",Hv,[t[0]||(t[0]=S("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),S("p",null,fe(n.errorMsg),1)])):K("",!0)}}),ep=ge(Uv,[["__scopeId","data-v-ec389251"]]),zv={},qv={class:"loading"};function Yv(n,e){return T(),N("div",qv,[...e[0]||(e[0]=[S("i",{class:"fa-solid fa-spinner"},null,-1)])])}const jn=ge(zv,[["render",Yv],["__scopeId","data-v-72d81299"]]),Sr=ie({__name:"ErrorPopup",props:{error:{},notRed:{type:Boolean}},emits:["close"],setup(n){return(e,t)=>n.error.shouldDisplay()?(T(),Ee(os,{key:0,title:n.error.getTitle(),message:n.error.getMessage(),confirmText:"OK",error:!n.notRed,onConfirm:t[0]||(t[0]=s=>n.error.clearError())},null,8,["title","message","error"])):K("",!0)}});class Er{title;message;display;constructor(){this.title="",this.message="",this.display=!1}setError(e,t){this.title=e,this.message=t,this.display=!0}clearError(){this.title="",this.message="",this.display=!1}getTitle(){return this.title}getMessage(){return this.message}shouldDisplay(){return this.display}}const Gv={class:"margins"},Kv={key:0},Xv=ie({__name:"SignInView",props:{message:{}},setup(n){const e=n,t=zt(),s=F(""),i=F(""),r=F([]),o=f=>{f&&!r.value.includes(f)&&r.value.push(f)};function a(f){f<r.value.length-1?r.value[f+1].focus():d()}const l=F(null),c=F(!1),u=F(!1),h=F(new Er);async function d(){try{c.value=!0,l.value=null,u.value=!1;const{data:f,error:g}=await ve.auth.signInWithPassword({email:s.value,password:i.value});if(g)throw g;u.value=!0,t.push({name:"Home"})}catch(f){l.value=f.message||"Failed to sign in. Please check your credentials."}finally{c.value=!1}}return ft(()=>{if(e.message==="signedout"){h.value.setError("Signed Out","You have been signed out successfully.");return}if(e.message!==void 0&&e.message.startsWith("emailconfirmed")){h.value.setError("Email Confirmed","Your email has been confirmed. You can now sign in.");return}}),(f,g)=>(T(),N(ye,null,[$(Sr,{error:h.value,notRed:""},null,8,["error"]),c.value?(T(),Ee(jn,{key:0})):K("",!0),S("div",Gv,[g[6]||(g[6]=S("h2",null,"Sign In",-1)),g[7]||(g[7]=S("h3",null,"Email",-1)),wt(S("input",{ref:o,onKeyup:g[0]||(g[0]=Yi(p=>a(0),["enter"])),"onUpdate:modelValue":g[1]||(g[1]=p=>s.value=p),type:"email",placeholder:"example@example.com"},null,544),[[xt,s.value]]),g[8]||(g[8]=S("h3",null,"Password",-1)),wt(S("input",{ref:o,onKeyup:g[2]||(g[2]=Yi(p=>a(1),["enter"])),"onUpdate:modelValue":g[3]||(g[3]=p=>i.value=p),type:"password",placeholder:"password..."},null,544),[[xt,i.value]]),$($t,{loading:c.value,label:"Sign In",onClick:g[4]||(g[4]=p=>d())},null,8,["loading"]),S("p",null,[$(Se(ui),{to:{name:"Sign Up"}},{default:dt(()=>[...g[5]||(g[5]=[Oe("Don't have an account? Sign Up",-1)])]),_:1})]),$(ep,{errorMsg:l.value},null,8,["errorMsg"]),u.value?(T(),N("div",Kv,"You are now signed in.")):K("",!0)])],64))}}),ch=ge(Xv,[["__scopeId","data-v-58089229"]]),Jv={class:"margins"},Qv=ie({__name:"SignUpView",props:{email:{}},setup(n){const e=n,t=zt(),s=F(""),i=F(""),r=F(""),o=F(!1),a=F(""),l=F([]),c=d=>{d&&!l.value.includes(d)&&l.value.push(d)};function u(d){d<l.value.length-1?l.value[d+1].focus():h()}ft(()=>{e.email&&(i.value=e.email)});async function h(){try{o.value=!0;const{error:d}=await ve.auth.signUp({email:i.value,password:r.value,options:{data:{display_name:s.value,emailRedirectTo:"https://paperweight.olihef.com/email-confirmed"}}});if(d)throw d;t.push({name:"Email Confirmation"})}catch(d){a.value=d.message}finally{o.value=!1}}return(d,f)=>(T(),N(ye,null,[o.value?(T(),Ee(jn,{key:0})):K("",!0),S("div",Jv,[f[8]||(f[8]=S("h2",null,"Sign Up",-1)),f[9]||(f[9]=S("h3",null,"Email",-1)),wt(S("input",{"onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g),ref:c,onKeyup:f[1]||(f[1]=Yi(g=>u(0),["enter"])),type:"email",placeholder:"Enter your email."},null,544),[[xt,i.value]]),f[10]||(f[10]=S("h3",null,"Display name",-1)),wt(S("input",{"onUpdate:modelValue":f[2]||(f[2]=g=>s.value=g),ref:c,onKeyup:f[3]||(f[3]=Yi(g=>u(1),["enter"])),type:"text",placeholder:"Enter your display name."},null,544),[[xt,s.value]]),f[11]||(f[11]=S("h3",null,"Password",-1)),wt(S("input",{"onUpdate:modelValue":f[4]||(f[4]=g=>r.value=g),ref:c,onKeyup:f[5]||(f[5]=Yi(g=>u(2),["enter"])),type:"password",placeholder:"Enter the password you would like to use."},null,544),[[xt,r.value]]),$($t,{loading:o.value,label:"Sign Up",onClick:f[6]||(f[6]=g=>h())},null,8,["loading"]),$(ep,{errorMsg:a.value},null,8,["errorMsg"]),f[12]||(f[12]=S("br",null,null,-1)),f[13]||(f[13]=S("br",null,null,-1)),$(Se(ui),{to:{name:"Sign In"}},{default:dt(()=>[...f[7]||(f[7]=[Oe("Already have an account? Sign in here.",-1)])]),_:1})])],64))}}),Zv=ge(Qv,[["__scopeId","data-v-27739e17"]]),ex={},tx={class:"cont"};function nx(n,e){return T(),N("div",tx,[...e[0]||(e[0]=[S("i",{class:"fa-solid fa-envelope"},null,-1),S("h1",null,"Please check your email to finalise your account.",-1),S("h3",null,"Follow the link, then login using your email and password.",-1)])])}const sx=ge(ex,[["render",nx],["__scopeId","data-v-ab9688cb"]]),ix={key:0,class:"item"},Vs=ie({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(n){return(e,t)=>n.label?(T(),N("div",ix,[n.icon?(T(),N("i",{key:0,class:ht(n.icon)},null,2)):K("",!0),Oe(" "+fe(n.label),1)])):K("",!0)}}),rx=ie({__name:"IconButton",props:{icon:{}},emits:["click"],setup(n,{emit:e}){return(t,s)=>(T(),N("button",{onClick:s[0]||(s[0]=i=>t.$emit("click")),class:"icon-button"},[S("i",{class:ht(n.icon)},null,2)]))}}),ox=ge(rx,[["__scopeId","data-v-667d6651"]]),ax=ie({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(e,t)=>n.visible?(T(),Ee(os,{key:0,title:`Delete Workout: ${n.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:t[0]||(t[0]=s=>e.$emit("confirm")),onCancel:t[1]||(t[1]=s=>e.$emit("cancel"))},null,8,["title"])):K("",!0)}}),lx={class:"thumbnail"},cx={class:"greyed"},ux={class:"items"},hx={id:"deleteContainer"},dx=ie({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(n,{emit:e}){zt();const t=n,s=e,i=F(!1),r=F(!1);async function o(){i.value=!0,await t.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=Cb("RouterLink");return T(),N(ye,null,[i.value?(T(),Ee(jn,{key:0})):K("",!0),$(ax,{visible:r.value,workout:n.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),S("div",lx,[$(c,{class:"link",to:{name:"View Workout",params:{workout_id:n.workout.getId()}}},{default:dt(()=>[S("h3",null,[Oe(fe(n.workout.getTitle())+" ",1),S("span",cx,fe(n.workout.getDateString()),1)])]),_:1},8,["to"]),S("div",ux,[$(Vs,{icon:"fa-solid fa-dumbbell",label:n.workout.getVolumeString()},null,8,["label"]),$(Vs,{icon:"fa-solid fa-clock",label:n.workout.getDurationString()},null,8,["label"]),$(Vs,{icon:"fa-solid fa-list",label:n.workout.countSetsString()},null,8,["label"]),$(Vs,{icon:"fa-solid fa-fire",label:n.workout.getEnergyString()},null,8,["label"]),$(Vs,{icon:"fa-solid fa-heart",label:n.workout.getHeartRateString()},null,8,["label"]),$(Vs,{icon:"fa-solid fa-medal",label:n.workout.getPBCountString()},null,8,["label"])]),S("div",hx,[$(ox,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),tp=ge(dx,[["__scopeId","data-v-376d040d"]]),fx={},gx={class:"container"};function px(n,e){return T(),N("div",gx,[...e[0]||(e[0]=[S("i",{class:"fas fa-dumbbell fa-8x"},null,-1),S("h2",null,"No Workouts Found",-1),S("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const mx=ge(fx,[["render",px],["__scopeId","data-v-56405e8b"]]);let Li=class Ni{reps=0;weight=0;notes="";id=null;exercise;workout_id=null;isWeightPB=!1;static async create(e,t){if(e.id){const{data:s,error:i}=await ve.from("sets").select("*").eq("id",e.id).single();return i?(e.id=null,new Ni(e,t)):new Ni(s,t)}return e.workout_id?new Ni(e,t):(e.workout_id=t&&t.getWorkout()?.getId()||null,new Ni(e,t))}constructor(e,t){this.exercise=t,this.reps=e.reps||0,this.weight=e.weight||0,this.notes=e.notes||"",this.id=e.id||null,this.workout_id=e.workout_id||null}async initialDBCheck(){this.id!==null&&await this.getFromDB(),this.createNewId()}async getFromDB(){if(this.id===null)return null;const{data:e,error:t}=await ve.from("sets").select("*").eq("id",this.id).single();if(t)throw new Error(`Failed to fetch set from DB: ${t.message}`);return this.reps=e.reps,this.weight=e.weight,this.notes=e.notes,e}async deleteFromDB(){if(this.id===null)return;const{error:e}=await ve.from("sets").delete().eq("id",this.id);if(e)throw new Error(`Failed to delete set from DB: ${e.message}`)}async waitForExercise(){for(;this.exercise===null;)await new Promise(e=>setTimeout(e,50))}async getExercise(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Exercise is not set for this Set.");return this.exercise}async createNewId(){if(await this.waitForExercise(),this.exercise===null)throw new Error("Cannot create set without associated exercise.");const e=await this.exercise.getWorkoutId(),t=await this.exercise.createNewIdIfNeeded(),{data:s,error:i}=await ve.from("sets").insert({exercise_id:t,workout_id:e,reps:this.reps,weight:this.weight,notes:this.notes}).select("id").single();if(i)throw new Error(`Failed to create new set ID: ${i.message}`);return this.id=s.id,console.log(this.id),this.id}async updateDB(){if(console.log("yo"),this.id===null){console.log("yo"),await this.createNewId();return}console.log("yo");const{error:e}=await ve.from("sets").update({reps:this.reps,weight:this.weight,notes:this.notes,exercise_id:this.exercise?await this.exercise.getId():""}).eq("id",this.id);if(console.log("yo"),e)throw console.log("yo"),new Error(`Failed to update set in DB: ${e.message}`);console.log("yo");const s=(await this.getExercise()).getWorkout();s&&s.changeMade()}deserialize(){return{id:this.id}}getReps(){return this.reps}getWeight(){return this.weight}getNotes(){return this.notes}setReps(e){this.reps=e}setWeight(e){this.weight=e}setNotes(e){this.notes=e}setWeightPB(){console.log(this.weight+"x"+this.reps+" is a new weight PB!"),console.log(this.exercise?.getWorkout()?.countPBSets()),this.isWeightPB=!0}isItWeightPB(){return this.isWeightPB}setExercise(e){const t=e.getWorkout()?.getId()||null,s=this.exercise!==e||this.workout_id!==t;this.exercise=e,this.workout_id=t,s||this.updateDB()}setExerciseWithoutUpdate(e){const t=e.getWorkout()?.getId()||null;this.exercise=e,this.workout_id=t}getId(){return this.id}getWorkoutId(){return this.workout_id}getVolume(){return this.reps*this.weight}};class ri{name;sets;notes;workout;id;constructor(e,t,s=[]){this.name=e.exercise,this.workout=t,this.notes=e.notes,this.id=e.id;for(const i of s)i.setExercise(this);this.sets=s,this.getId()}static async create(e,t){const s=[];for(const i of e.sets){const r=await Li.create(i,null);s.push(r)}return new ri(e,t,s)}static createFromFullExercise(e){const t=e.sets.map(i=>new Li(i,null)),s=new ri(e,null,t);for(const i of t)i.setExerciseWithoutUpdate(s);return console.log(s),s}async getId(){if(this.id)return this.id;const{data:e,error:t}=await ve.from("exercises").select().eq("name",this.name.toLowerCase());if(t)throw new Error(`Failed to fetch exercise ID: ${t.message}`);return e===null||e.length===0?await this.createNewIdIfNeeded():(this.id=e[0].id,this.name=e[0].name,this.id)}async createNewIdIfNeeded(){const{data:e,error:t}=await ve.from("exercises").select().eq("name",this.name.toLowerCase());if(t)throw new Error(`Failed to fetch exercise ID: ${t.message}`);return e===null||e.length===0?await this.createNewId():(this.id=e[0].id,this.name=e[0].name,this.workout?.changeMade(),this.id)}async createNewId(){const{data:{user:e}}=await ve.auth.getUser(),{data:t,error:s}=await ve.from("exercises").insert([{name:this.name.toLowerCase()}]).select("id").single();if(s)throw console.error(s),new Error(`Failed to create new exercise ID: ${s.message}`);return this.id=t.id,this.id}deserialize(){return{exercise:this.name,sets:this.sets.map(e=>e.deserialize()),notes:this.notes,id:this.id}}async addNewSet(){if(this.sets.length===0){const i=new Li({reps:0,weight:0,unit:"kg",notes:"",id:null},this);this.sets.push(i),await i.createNewId(),this.workout&&this.workout.changeMade();return}const e=this.sets[this.sets.length-1],t=new Li({reps:e.getReps(),weight:e.getWeight(),unit:"kg",notes:e.getNotes(),id:null},this);this.sets.push(t),await t.createNewId(),this.workout&&this.workout.changeMade()}removeSet(e){if(e<0||e>=this.sets.length)throw new Error("Index out of bounds");const t=this.sets[e];this.sets.splice(e,1),t.deleteFromDB(),this.workout&&this.workout.changeMade(),ve.from("sets").delete().eq("id",t.getId())}removeAllSets(){for(let e=0;e<this.sets.length;e++)this.removeSet(0)}removeFromWorkout(){if(!this.workout)return;const e=this.workout.getExercises().indexOf(this);if(e===-1)throw new Error("Exercise not found in workout");this.workout.removeExercise(e)}updateSet(e,t){if(e<0||e>=this.sets.length)throw new Error("Index out of bounds");const s=this.sets[e];s.setReps(t.reps||0),s.setWeight(t.weight||0),s.setNotes(t.notes||""),this.workout&&this.workout.changeMade()}async setName(e){this.name=e,await this.createNewIdIfNeeded();for(const t of this.sets)t.setExercise(this),await t.updateDB();this.workout&&this.workout.changeMade()}setWorkout(e){this.workout=e;for(const t of this.sets)t.setExerciseWithoutUpdate(this),t.updateDB()}setWorkoutWithoutUpdate(e){this.workout=e;for(const t of this.sets)t.setExerciseWithoutUpdate(this)}setNotes(e){this.notes=e,this.workout&&this.workout.changeMade()}reorderUp(){if(!this.workout)return;const e=this.workout.getExercises(),t=e.indexOf(this);t<=0||([e[t-1],e[t]]=[e[t],e[t-1]],this.workout.setExercises(e))}reorderDown(){if(!this.workout)return;const e=this.workout.getExercises(),t=e.indexOf(this);t===-1||t>=e.length-1||([e[t+1],e[t]]=[e[t],e[t+1]],this.workout.setExercises(e))}getVolume(){let e=0;for(const t of this.sets){let s=t.getReps()*t.getWeight();e+=s}return e}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}async waitForWorkout(){for(;!this.workout;)await new Promise(e=>setTimeout(e,50))}async getWorkoutId(){return await this.waitForWorkout(),this.workout?this.workout.getId():""}getWorkout(){return this.workout}countPBSets(){let e=0;for(const t of this.sets)t.isItWeightPB()&&e++;return e}}class be{static addPeriod(e,t,s){const i=new Date(e);switch(t){case"day":i.setDate(i.getDate()+s);break;case"week":i.setDate(i.getDate()+s*7);break;case"month":i.setMonth(i.getMonth()+s);break;case"year":i.setFullYear(i.getFullYear()+s);break}return i}static getStartOfTerm(e,t){switch(t){case"month":const s=new Date;return s.setMonth(s.getMonth()-e),be.getStartOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-e),be.getStartOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-e*7),be.getStartOfWeek(r);default:return null}}static getEndOfTerm(e,t){switch(t){case"month":const s=new Date;return s.setMonth(s.getMonth()-e),be.getEndOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-e),be.getEndOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-e*7),be.getEndOfWeek(r);default:return null}}static getStartOfWeek(e){e=new Date(e);var t=e.getDay(),s=e.getDate()-t+(t==0?-6:1);return e.setDate(s),e.setHours(0,0,0,0),e}static getEndOfWeek(e){const t=be.getStartOfWeek(e),s=new Date(t);return s.setDate(t.getDate()+6),s.setHours(23,59,59,999),s}static getStartOfPreviousWeek(e){const t=be.getStartOfWeek(e),s=new Date(t);return s.setDate(t.getDate()-7),s}static getStartOfMonth(e){const t=new Date(e);return t.setDate(1),t.setHours(0,0,0,0),t}static getEndOfMonth(e){const t=e.getFullYear(),s=e.getMonth();return new Date(t,s+1,0,23,59,59,999)}static getStartOfPreviousMonth(e){const t=be.getStartOfMonth(e),s=new Date(t);return s.setMonth(t.getMonth()-1),s}static getStartOfYear(e){const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t}static getEndOfYear(e){const t=e.getFullYear();return new Date(t,11,31,23,59,59,999)}static getStartOfPreviousYear(e){const t=be.getStartOfYear(e),s=new Date(t);return s.setFullYear(t.getFullYear()-1),s}static getStart(e,t){switch(t){case"week":return be.getStartOfWeek(e);case"month":return be.getStartOfMonth(e);case"year":return be.getStartOfYear(e);default:return e}}static getEnd(e,t){switch(t){case"week":return be.getEndOfWeek(e);case"month":return be.getEndOfMonth(e);case"year":return be.getEndOfYear(e);default:return e}}static getStartOfPrevious(e,t){switch(t){case"week":return be.getStartOfPreviousWeek(e);case"month":return be.getStartOfPreviousMonth(e);case"year":return be.getStartOfPreviousYear(e);default:return e}}static getDurationString(e){if(e<=0)return null;const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}static getPeriodString(e,t){const s=new Date,i=be.addPeriod(be.getStart(s,e),e,-t),r=be.addPeriod(be.getEnd(s,e),e,-t);switch(e){case"month":return`
                    ${i.toLocaleString("default",{month:"long"})} 
                    ${i.getFullYear()}
                `;case"year":return`${i.getFullYear()}`;case"week":return`
                    ${i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}  
                    ${r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}
                `;default:return""}}}class Zt{static stringifyItem(e,t){switch(t){case"time":return be.getDurationString(e)||"0 s";case"workouts":return e.toString()+(e===1?" workout":" workouts");case"energy":return Zt.commaNumber(e)+" kj";case"volume":return Zt.commaNumber(e)+" kg";default:return Zt.commaNumber(e)}}static fullNameForType(e){switch(e){case"time":return"Workout time";case"workouts":return"Number of workouts";case"energy":return"Energy burned";case"volume":return"Volume";default:return e}}static intCommaNumber(e){let t="";for(let s=0;s<e.toString().length;s++){t+=e.toString()[s];const i=e.toString().length-s-1;i%3===0&&i!==0&&(t+=",")}return t}static commaNumber(e){const t=e.toString().split(".");return t[0]=Zt.intCommaNumber(parseInt(t[0],10)),t.join(".")}}class Kn{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;pbCount=0;pbsCounting=!0;constructor(e,t){this.title=e.title,this.workout_id=e.workout_id,this.start_time=e.start_time?new Date(e.start_time):new Date,this.end_time=e.end_time?new Date(e.end_time):new Date,this.created_at=e.created_at?new Date(e.created_at):new Date,this.notes=e.notes,typeof e.energy!="number"&&e.energy!==null&&(e.energy.amount!==null&&e.energy.amount!==void 0?e.energy=e.energy.amount:e.energy=null),this.energy=e.energy,this.heart_rate=e.heart_rate,this.exercises=t,this.pbCount=e.count_pbs||0}static async fetchById(e){const{data:t,error:s}=await ve.rpc("get_full_workout",{p_workout_id:e});if(s)return{workout:null,error:s};if(!t||t.length===0)return{workout:null,error:{message:"No workout with that id for that user"}};console.log(t);const i=t,r=[];for(const a of i.exercises_full){const l=ri.createFromFullExercise(a);r.push(l)}const o=new Kn(i,r);console.log(o);for(const a of r)a.setWorkoutWithoutUpdate(o);return{workout:o,error:null}}static async createEmpty(){const e=new Date,{data:t,error:s}=await ve.from("workouts").insert({title:"New Workout",start_time:e.toISOString(),end_time:e.toISOString(),created_at:e.toISOString()}).select("workout_id").single();return{data:t,error:s}}static async create(e){const t=[];for(const a of e.exercises_full){const l=await ri.create(a,null);t.push(l)}if(e.startTime){const a=Kn.dateFromJSONDate(e.startTime);e.start_time=a.toISOString()}if(e.endTime){const a=Kn.dateFromJSONDate(e.endTime);e.end_time=a.toISOString()}e.start_time||(e.start_time=new Date().toISOString()),e.end_time||(e.end_time=e.start_time);const s=new Kn(e,t);for(const a of t)a.setWorkout(s);if(e.workout_id)return s;const i=s.deserialize();delete i.workout_id;const{data:r,error:o}=await ve.from("workouts").insert(s.deserialize()).select("workout_id").single();if(o)throw new Error(`Failed to insert new workout into DB: ${o.message}`);s.workout_id=r.workout_id;for(const a of s.exercises)a.setWorkout(s);return s}async deleteWorkout(){const{error:e}=await ve.from("workouts").delete().eq("workout_id",this.workout_id);for(const t of this.exercises)t.removeAllSets();e&&console.error("Failed to delete workout:",e)}changeMade(){this.unsavedChanges++,this.saveChanges()}passWorkoutIdToExercises(){for(const e of this.exercises)e.setWorkout(this)}async saveChanges(){if(this.saving)return;this.saving=!0;const e=this.unsavedChanges,{error:t}=await ve.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(t&&console.error("Failed to save workout changes:",t),this.unsavedChanges-=e,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(e){if(e<0||e>=this.exercises.length)throw new Error("Index out of bounds");this.exercises[e].removeAllSets(),this.exercises.splice(e,1),this.changeMade()}addEmptyExercise(){const e={exercise:"New Exercise",sets:[],notes:"",id:null},t=new ri(e,this);this.exercises.push(t),this.changeMade()}setExercises(e){this.exercises=e,this.changeMade()}setHeartRate(e){this.heart_rate=e,this.changeMade()}setEnergy(e){this.energy=e,this.changeMade()}setTitle(e){this.title=e,this.changeMade()}setStartDate(e){this.start_time=e,this.changeMade()}setEndDate(e){this.end_time=e,this.changeMade()}deserialize(){const e=[],t=[],s=new Set,i=new Set;this.passWorkoutIdToExercises();for(const r of this.exercises){const o=r.deserialize();e.push(o),t.push(r.getName());for(const l of o.sets){const c=l.id;c&&i.add(c)}const a=o.id;a!==null&&s.add(a)}return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:e,exercises:t,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate,volume:this.getVolume(),set_count:this.countSets(),exercise_ids:Array.from(s),set_ids:Array.from(i),count_pbs:this.countPBSets()}}savingInProgress(){return this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const e=this.getEnergy();return e===null?null:`${Zt.commaNumber(e)} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let e=0;for(const t of this.exercises)e+=t.getVolume();return e}getVolumeString(){const e=this.getVolume();return e===0?null:`${Zt.commaNumber(e)} kg`}countSets(){let e=0;for(const t of this.exercises)e+=t.countSets();return e}countSetsString(){const e=this.countSets();return e===0?null:`${e} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const e=this.getDuration();if(e<=0)return"0s";const t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return console.log(this.exercises.length),this.exercises.length}getItem(e){switch(e){case"workouts":return 1;case"time":return this.getDuration();case"energy":return this.getEnergy();case"volume":return this.getVolume();default:throw new Error(`Unknown item: ${e}`)}}static dateFromJSONDate(e){const t=new Date;let s=t.getFullYear();e.year!==null&&e.year!==void 0&&typeof e.year=="number"&&e.year>=1900&&e.year<=2100&&(s=Math.floor(e.year));let i=t.getMonth();e.month!==null&&e.month!==void 0&&typeof e.month=="number"&&e.month>=1&&e.month<=12&&(i=Math.floor(e.month)-1);let r=t.getHours();e.hour!==null&&e.hour!==void 0&&typeof e.hour=="number"&&e.hour>=0&&e.hour<=23&&(r=Math.floor(e.hour));let o=t.getMinutes();e.minute!==null&&e.minute!==void 0&&typeof e.minute=="number"&&e.minute>=0&&e.minute<=59&&(o=Math.floor(e.minute));let a=t.getDate();if(e.day!==null&&e.day!==void 0&&typeof e.day=="number"&&e.day>=1){const u=new Date(s,i+1,0).getDate();e.day<=u?a=Math.floor(e.day):a=Math.min(a,u)}const l=new Date(s,i,a,r,o,0,0);return isNaN(l.getTime())?(console.warn("Failed to create valid date from JSONDate:",e,"Using current time instead"),new Date):l}async getExerciseIds(){const e=[];for(const t of this.exercises){const s=await t.getId();s!==null&&e.push(s)}return e}countPBSets(){let e=0;for(const t of this.exercises)e+=t.countPBSets();return this.pbCount=e,e}getPBCount(){return this.pbCount}}class np{title;workout_id;start_time;end_time;energy;heart_rate;volume;set_count;count_pbs;constructor(e){this.title=e.title,this.workout_id=e.workout_id,this.start_time=e.start_time,this.end_time=e.end_time,this.energy=e.energy,this.heart_rate=e.heart_rate,this.volume=e.volume,this.set_count=e.set_count,this.count_pbs=e.count_pbs}getDuration(){const e=new Date(this.start_time).getTime();return(new Date(this.end_time).getTime()-e)/1e3}getDurationString(){const e=this.getDuration(),t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%60),r=[];return t>0&&r.push(`${t}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getTitle(){return this.title}getDateString(){return new Date(this.start_time).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}getWorkoutId(){return this.workout_id}getStartTime(){return new Date(this.start_time)}getEndTime(){return new Date(this.end_time)}getEnergy(){return this.energy}getEnergyString(){return this.energy!==null?`${this.energy} kj`:null}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate!==null?`${this.heart_rate} bpm`:null}getVolume(){return this.volume||0}getVolumeString(){return this.volume!==null?`${this.volume} kg`:null}getId(){return this.workout_id}getPBCount(){return this.count_pbs||0}getPBCountString(){return this.count_pbs===void 0||this.count_pbs===0||this.count_pbs===null?null:this.count_pbs.toString()}getItem(e){switch(e){case"workouts":return 1;case"time":return this.getDuration();case"energy":return this.getEnergy();case"volume":return this.getVolume();default:throw new Error(`Unknown item: ${e}`)}}countSets(){return this.set_count}countSetsString(){return this.set_count!==null?`${this.set_count} sets`:null}async deleteWorkout(){const{error:e}=await ve.from("workouts").delete().eq("workout_id",this.workout_id);e&&console.error(`Error deleting workout ID ${this.workout_id}:`,e)}}async function sp(){const{data:n,error:e}=await ve.from("workouts").select("title, workout_id, start_time, end_time, energy, heart_rate, volume, set_count, count_pbs");if(e)return console.error("Error fetching workouts info:",e),[];const t=[];for(const s of n||[])t.push(new np(s));return t.sort((s,i)=>i.getStartTime().getTime()-s.getStartTime().getTime()),t}async function ip(n){const{data:e,error:t}=await ve.rpc("get_workouts_by_exercise_id",{exercise_id_param:n});if(t)return console.error(`Error fetching workouts for exercise ID ${n}:`,t),[];const s=[];for(const i of e||[])s.push(new np(i));return s.sort((i,r)=>r.getStartTime().getTime()-i.getStartTime().getTime()),s}const bx={class:"viewArea"},yx={class:"thumbnailContainer margins"},_x=ie({__name:"HomeView",setup(n){const e=F([]);zt();const t=F(!0);ft(async()=>{await s()});async function s(){e.value=await sp(),t.value=!1}return(i,r)=>(T(),N(ye,null,[t.value?(T(),Ee(jn,{key:0})):K("",!0),S("div",bx,[S("div",yx,[$($t,{onClick:r[0]||(r[0]=o=>Se(Kn).createEmpty())},{default:dt(()=>[...r[2]||(r[2]=[S("i",{class:"fa-solid fa-plus"},null,-1),Oe(" New Empty Workout ",-1)])]),_:1}),(T(!0),N(ye,null,Fn(e.value,o=>(T(),Ee(tp,{key:o.getId(),workout:o,onReload:r[1]||(r[1]=a=>s())},null,8,["workout"]))),128))]),!t.value&&e.value.length===0?(T(),Ee(mx,{key:0})):K("",!0)])],64))}}),wx=ge(_x,[["__scopeId","data-v-359fd6e6"]]),vx={key:0,id:"urlsCount"},xx=ie({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(n){return(e,t)=>n.pageCount>0?(T(),N("div",vx,[Oe(" pages "+fe(n.pageCount)+" ",1),$($t,{label:"Upload",loading:!1,onClick:t[0]||(t[0]=s=>e.$emit("uploadWorkoutData"))}),$($t,{label:"Retake",loading:!1,onClick:t[1]||(t[1]=s=>e.$emit("retakePhoto"))})])):K("",!0)}}),kx=ge(xx,[["__scopeId","data-v-23272a4e"]]),Sx={class:"viewArea"},Ex=ie({__name:"UploadView",setup(n){const e=F(0),t=zt(),s=F(null),i=F(null),r=F([]),o=F(0),a=F(null),l=F(new Er);ft(async()=>{const f={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(f).then(g=>{a.value=g,s?s.value.srcObject=g:(l.value.setError("Error creating video feed","Video element not found"),console.error("Video element not found"))}).catch(g=>{l.value.setError("Error accessing camera",g.message),console.error("Error accessing camera: ",g)})}),xf(()=>{a.value&&a.value.getTracks().forEach(f=>f.stop())});const c=async()=>{if(!s.value||!i.value){console.error("Video or canvas element not found"),l.value.setError("Error capturing image","Video or canvas element not found");return}const{data:{user:f},error:g}=await ve.auth.getUser();if(g||!f){console.error("User not authenticated"),l.value.setError("User not authenticated",g?.message||"No user found");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const p=i.value.getContext("2d");if(!p){l.value.setError("Error capturing image","Failed to get canvas context"),console.error("Failed to get canvas context");return}p.drawImage(s.value,0,0),i.value.toBlob(async m=>{if(!m){l.value.setError("Error capturing image","Failed to capture image blob"),console.error("Failed to capture image");return}const b=new File([m],`photo-${Date.now()}-${f.id}.jpg`,{type:"image/jpeg"}),{data:y,error:v}=await ve.storage.from("workoutImage").upload(`photos/${f.id}/${b.name}`,b,{contentType:"image/jpeg",upsert:!1});if(v){l.value.setError("Error uploading image",v.message),console.error("Error uploading image: ",v);return}r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${y.path}`),o.value++},"image/jpeg",.8)};async function u(){const f=await d(r.value);if(!f){l.value.setError("Error generating workout data","No workout data generated. Please try again by clicking the upload button again."),console.error("No workout data generated");return}const{data:g,error:p}=await h(f);if(p){l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),console.error("Error uploading workout data: ",p);return}console.log(g),t.push({name:"Home"})}async function h(f){e.value++;const g=await Kn.create(f);return e.value--,g?{data:g,error:null}:(l.value.setError("Error creating workout object","Please try again by clicking the upload button again."),{data:null,error:"Error creating workout object"})}async function d(f){e.value++;const{data:g,error:p}=await ve.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:f}});return p?(console.error("Error invoking function: ",p),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),e.value--,""):(e.value--,g)}return(f,g)=>(T(),N(ye,null,[e.value>0?(T(),Ee(jn,{key:0})):K("",!0),$(Sr,{error:l.value},null,8,["error"]),S("div",Sx,[S("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),S("button",{class:"captureButton",onClick:g[0]||(g[0]=p=>c())}),$(kx,{pageCount:o.value,onUploadWorkoutData:g[1]||(g[1]=p=>u()),onRetakePhoto:g[2]||(g[2]=p=>{r.value.pop(),o.value--})},null,8,["pageCount"]),S("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)])],64))}}),Ox=ge(Ex,[["__scopeId","data-v-6f3faa51"]]),Px={key:0,class:"overview-item"},Tx={class:"overview-title"},Cx={class:"overview-value"},Ax=ie({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(n){return(e,t)=>n.value!==null?(T(),N("div",Px,[S("p",Tx,fe(n.label),1),S("h1",Cx,[S("i",{class:ht(n.icon+" overview-icon")},null,2),Oe(fe(n.value),1)])])):K("",!0)}}),Hs=ge(Ax,[["__scopeId","data-v-fd43305a"]]),Mx={class:"softBubble overview"},Dx=ie({__name:"WorkoutOverview",props:{workout:{}},setup(n){const e=n,t=Lt(()=>{const s=e.workout.getPBCount();return s===0?null:s.toString()});return(s,i)=>(T(),N("div",Mx,[$(Hs,{icon:"fa-solid fa-clock",label:"duration",value:n.workout.getDurationString()},null,8,["value"]),$(Hs,{icon:"fa-solid fa-dumbbell",label:"volume",value:n.workout.getVolumeString()},null,8,["value"]),$(Hs,{icon:"fa-solid fa-list",label:"sets",value:n.workout.countSets()},null,8,["value"]),$(Hs,{icon:"fa-solid fa-fire",label:"energy",value:n.workout.getEnergyString()},null,8,["value"]),$(Hs,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:n.workout.getHeartRateString()},null,8,["value"]),$(Hs,{icon:"fa-solid fa-medal",label:"personal bests",value:t.value},null,8,["value"])]))}}),Rx=ge(Dx,[["__scopeId","data-v-7cc5bbca"]]),Ix={class:"inputs"},Lx={class:"flexCol"},Nx=ie({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(n,{emit:e}){const t=F(0),s=F(0),i=F(""),r=n,o=e;function a(){r.set.setWeight(Number(t.value)),r.set.setReps(Number(s.value)),r.set.setNotes(i.value),r.set.updateDB(),o("cancel")}function l(){t.value=r.set.getWeight()||0,s.value=r.set.getReps()||0,i.value=r.set.getNotes()||""}return ft(()=>{l()}),Zl(()=>{l()}),(c,u)=>(T(),Ee(os,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:dt(()=>[S("div",Ix,[wt(S("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h),min:"0"},null,512),[[xt,t.value]]),u[6]||(u[6]=Oe(" kg ",-1)),u[7]||(u[7]=S("i",{class:"fa-solid fa-xmark"},null,-1)),wt(S("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[xt,s.value]]),u[8]||(u[8]=Oe(" reps ",-1))]),S("div",Lx,[wt(S("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[xt,i.value]]),$($t,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:dt(()=>[...u[9]||(u[9]=[S("i",{class:"fa-solid fa-trash"},null,-1),Oe(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),$x=ge(Nx,[["__scopeId","data-v-6ecea0ae"]]),Fx={class:"setlabel"},jx={class:"setdetails"},Bx={key:0},Wx={key:1,class:"fa-solid fa-note-sticky noteIcon"},Vx={key:2,class:"fa-solid fa-medal"},Hx=ie({__name:"SetContainer",props:{set:{},previousSet:{},index:{},exercise:{},weightPbSets:{}},setup(n){const e=n,t=F(""),s=F("");ft(async()=>{s.value=await e.set.getId(),e.previousSet&&(t.value=await e.previousSet.getId()),console.log(`Set ID: ${s.value}`),console.log(e.weightPbSets),e.weightPbSets.includes(s.value)&&console.log(`Set ${s.value} is a weight PB`)});function i(){if(!e.previousSet)return e.weightPbSets.includes(s.value);const a=e.previousSet.getWeight(),l=e.set.getWeight();return a>l?!1:a!==l?e.weightPbSets.includes(s.value):e.weightPbSets.includes(s.value)&&!e.weightPbSets.includes(t.value)}function r(){const a=i();return a&&e.set.setWeightPB(),a}const o=F(!1);return(a,l)=>(T(),N(ye,null,[o.value?(T(),Ee($x,{key:0,set:n.set,exercise:n.exercise,index:n.index,onCancel:l[0]||(l[0]=c=>o.value=!1)},null,8,["set","exercise","index"])):K("",!0),S("tr",{onClick:l[1]||(l[1]=c=>o.value=!0),class:"setItem"},[S("td",Fx,fe(n.index+1),1),S("td",jx,[n.set.getWeight()!==null?(T(),N("span",Bx,[Oe(fe(n.set.getWeight())+" kg ",1),l[2]||(l[2]=S("i",{class:"fa-solid fa-xmark"},null,-1))])):K("",!0),Oe(" "+fe(n.set.getReps())+" reps ",1),n.set.getNotes()!==""&&n.set.getNotes()!==null?(T(),N("i",Wx)):K("",!0),r()?(T(),N("i",Vx)):K("",!0)])])],64))}}),Ux=ge(Hx,[["__scopeId","data-v-3df1da94"]]),zx=ie({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(n){return(e,t)=>n.visible?(T(),Ee(os,{key:0,title:`Remove Exercise: ${n.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:t[0]||(t[0]=s=>e.$emit("confirm")),onCancel:t[1]||(t[1]=s=>e.$emit("cancel"))},null,8,["title"])):K("",!0)}}),qx={class:"inputs"},Yx=ie({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(n,{emit:e}){const t=F(""),s=F(""),i=F(!1),r=n,o=e;function a(){r.exercise.setName(t.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return ft(()=>{t.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Zl(()=>{t.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(T(),N(ye,null,[$(os,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:dt(()=>[S("div",qx,[wt(S("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h)},null,512),[[xt,t.value]]),wt(S("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[xt,s.value]])]),$($t,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:dt(()=>[...u[7]||(u[7]=[S("i",{class:"fa-solid fa-trash"},null,-1),Oe(" Remove Exercise ",-1)])]),_:1})]),_:1}),$(zx,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),Gx=ge(Yx,[["__scopeId","data-v-66211c76"]]),Kx={class:"exerciseContainer softBubble"},Xx={class:"exerciseTitle"},Jx={key:0,class:"reorderHandles clickable"},Qx={class:"setsContainer"},Zx={key:0},ek={key:1},tk={colspan:"2"},nk={class:"setLabel"},sk={class:"setDetails"},ik=ie({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{},weightPbSets:{}},setup(n){const e=F(!1);return(t,s)=>(T(),N(ye,null,[e.value?(T(),Ee(Gx,{key:0,exercise:n.exercise,onCancel:s[0]||(s[0]=i=>e.value=!1)},null,8,["exercise"])):K("",!0),S("div",Kx,[S("h2",Xx,[S("span",{onClick:s[1]||(s[1]=i=>e.value=!0),class:"clickable"},[Oe(fe(n.exercise.getName())+" ",1),s[5]||(s[5]=S("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),n.index!==0?(T(),N("div",Jx,[S("i",{onClick:s[2]||(s[2]=i=>n.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):K("",!0)]),S("table",Qx,[n.showSets?(T(),N("thead",Zx,[...s[6]||(s[6]=[S("tr",null,[S("th",{class:"greyed",colspan:"1"},"set"),S("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):K("",!0),n.showSets?(T(),N("tbody",ek,[(T(!0),N(ye,null,Fn(n.exercise.getSets(),(i,r)=>(T(),Ee(Ux,{key:r,index:r,set:i,previousSet:r>0?n.exercise.getSets()[r-1]:null,exercise:n.exercise,weightPbSets:n.weightPbSets},null,8,["index","set","previousSet","exercise","weightPbSets"]))),128)),S("tr",null,[S("td",tk,[S("button",{onClick:s[3]||(s[3]=i=>n.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[S("i",{class:"fa-solid fa-plus"},null,-1),Oe("Add set",-1)])])])])])):K("",!0),S("tfoot",null,[S("tr",null,[S("td",nk,[s[8]||(s[8]=S("b",null,"sets:",-1)),Oe(" "+fe(n.exercise.countSets()),1)]),S("td",sk,[s[9]||(s[9]=S("b",null,"volume:",-1)),Oe(" "+fe(n.exercise.getVolume())+" kg ",1),n.index!==n.exercise.getWorkout().countExercises()-1?(T(),N("i",{key:0,onClick:s[4]||(s[4]=i=>n.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):K("",!0)])])])])])],64))}}),rk=ie({__name:"SavingDisplay",props:{workout:{}},setup(n){return(e,t)=>(T(),N("div",{class:ht(["savingDisplay",{display:n.workout.savingInProgress()}])},[...t[0]||(t[0]=[S("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),ok=ge(rk,[["__scopeId","data-v-2e9e3957"]]),ak={class:"inputs"},lk=ie({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(n,{emit:e}){const t=n,s=e,i=F(t.workout.getTitle()),r=F(t.workout.getHeartRate()||""),o=F(t.workout.getEnergy()||""),a=F(t.workout.getStartTime()),l=F(t.workout.getEndTime());function c(){t.workout.setTitle(i.value),t.workout.setHeartRate(Number(r.value)||null),t.workout.setEnergy(Number(o.value)||null),t.workout.setStartDate(a.value),t.workout.setEndDate(l.value),s("cancel")}const u=Lt({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=Lt({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(T(),Ee(os,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=g=>c()),onCancel:f[6]||(f[6]=g=>s("cancel"))},{default:dt(()=>[S("div",ak,[f[7]||(f[7]=S("label",{for:"titleInput"},"Title:",-1)),wt(S("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g)},null,512),[[xt,i.value]]),f[8]||(f[8]=S("label",{for:"startDate"},"Start Date and Time:",-1)),wt(S("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=g=>u.value=g)},null,512),[[xt,u.value]]),f[9]||(f[9]=S("label",{for:"endDate"},"End Date and Time:",-1)),wt(S("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=g=>h.value=g)},null,512),[[xt,h.value]]),f[10]||(f[10]=S("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),wt(S("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=g=>r.value=g),min:"0"},null,512),[[xt,r.value,void 0,{number:!0}]]),f[11]||(f[11]=S("label",{for:"energyInput"},"Energy Burned (kj):",-1)),wt(S("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=g=>o.value=g),min:"0"},null,512),[[xt,o.value,void 0,{number:!0}]])])]),_:1}))}}),ck=ge(lk,[["__scopeId","data-v-d96ddd76"]]),uk={key:1,class:"viewArea"},hk={class:"margins"},dk={class:"greyed"},fk={key:0,class:"softBubble"},gk=ie({__name:"ViewWorkout",props:["workout_id"],setup(n){const e=n,t=F(null),s=F(!0),i=F(!0),r=F([]),o=F(!1),a=F(new Er);return ft(async()=>{const l=await Kn.fetchById(e.workout_id);t.value=l.workout,console.log(t.value),i.value=!1;const c=await ve.rpc("get_weight_pbs",{pb_exercise_ids:await t.value.getExerciseIds()});if(c.error){console.error("Error fetching weight PBs:",c.error);return}console.log(c.data),c.data&&Array.isArray(c.data)&&(r.value=c.data.map(u=>u.id))}),(l,c)=>(T(),N(ye,null,[$(Sr,{error:a.value},null,8,["error"]),o.value&&t.value?(T(),Ee(ck,{key:0,workout:t.value,onCancel:c[0]||(c[0]=u=>o.value=!1)},null,8,["workout"])):K("",!0),t.value?(T(),N("div",uk,[S("div",hk,[S("h2",null,[Oe(fe(t.value.getTitle())+" ",1),S("i",{class:"fa-solid fa-ellipsis clickable",onClick:c[1]||(c[1]=u=>o.value=!0)})]),S("p",dk,fe(t.value.getDateString()),1),t.value.getNotes()!==""?(T(),N("p",fk,fe(t.value.getNotes()),1)):K("",!0),$(Rx,{workout:t.value},null,8,["workout"]),$($t,{onClick:c[2]||(c[2]=u=>s.value=!s.value),fullWidth:""},{default:dt(()=>[S("i",{class:ht(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),Oe(" "+fe(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(T(!0),N(ye,null,Fn(t.value.getExercises(),(u,h)=>(T(),Ee(ik,{key:u.getName(),exercise:u,showSets:s.value,index:h,weightPbSets:r.value},null,8,["exercise","showSets","index","weightPbSets"]))),128)),$(ok,{workout:t.value},null,8,["workout"]),$($t,{onClick:c[3]||(c[3]=u=>t.value.addEmptyExercise()),fullWidth:""},{default:dt(()=>[...c[4]||(c[4]=[S("i",{class:"fa-solid fa-plus"},null,-1),Oe(" Add Exercise ",-1)])]),_:1})])])):K("",!0),i.value?(T(),Ee(jn,{key:2})):K("",!0)],64))}}),pk=ge(gk,[["__scopeId","data-v-b233658d"]]),mk={class:"container"},bk=["onClick"],yk=ie({__name:"Selector",props:{options:{},colorSwap:{type:Boolean}},emits:["select"],setup(n,{emit:e}){const t=n,s=F("");return ft(()=>{t.options.length>0&&(s.value=t.options[0].value)}),(i,r)=>(T(),N("div",mk,[S("div",{class:ht(["selector",{colorSwap:n.colorSwap}])},[(T(!0),N(ye,null,Fn(n.options,o=>(T(),N("div",{key:o.value,class:ht({selectorOption:!0,clickable:!0,selected:o.value===s.value,colorSwap:n.colorSwap}),onClick:a=>{s.value=o.value,i.$emit("select",o.value)}},fe(o.label),11,bk))),128))],2)]))}}),pc=ge(yk,[["__scopeId","data-v-e16fb3a8"]]);function _k(n,e,t,s){if(n.length===0)return[];const i=[...n].sort((h,d)=>h.x.getTime()-d.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=be.addPeriod(be.getStartOfTerm(0,t)||r,t,-s),l=be.addPeriod(be.getEndOfTerm(0,t)||o,t,-s),c=rp(a,l,e),u=new Array(c.length-1).fill(0);for(const{x:h,y:d}of n){const f=vk(h,c);f>=0&&f<u.length&&(u[f]+=d)}return u}function wk(n,e,t,s){if(n.length===0)return[];const i=[...n].sort((u,h)=>u.x.getTime()-h.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=be.addPeriod(be.getStartOfTerm(0,t)||r,t,-s),l=be.addPeriod(be.getEndOfTerm(0,t)||o,t,-s),c=rp(a,l,e);return c.slice(0,-1).map((u,h)=>xk(u,c[h+1],e))}function rp(n,e,t){const s=[];let i=uh(n,t);const r=Ra(e,t,1);for(;i<=r;)s.push(new Date(i)),i=uh(Ra(i,t,1),t);return s.length===1&&s.push(Ra(s[0],t,1)),s}function vk(n,e){for(let t=0;t<e.length-1;t++)if(n>=e[t]&&n<e[t+1])return t;return n>=e[e.length-1]?e.length-2:-1}function xk(n,e,t){const s=i=>{switch(t){case"day":return i.toLocaleDateString(void 0,{month:"short",day:"numeric"});case"week":return`${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`;case"month":return i.toLocaleDateString(void 0,{month:"short",year:"2-digit"});case"year":return i.getFullYear().toString()}};if(t==="week"){const i=new Date(e);return i.setDate(i.getDate()-1),`${s(n)}  ${s(i)}`}return s(n)}function uh(n,e){const t=new Date(n);switch(e){case"day":t.setHours(0,0,0,0);break;case"week":t.setHours(0,0,0,0);const s=t.getDay();t.setDate(t.getDate()-(s===0?6:s-1));break;case"month":t.setDate(1),t.setHours(0,0,0,0);break;case"year":t.setMonth(0,1),t.setHours(0,0,0,0);break}return t}function Ra(n,e,t){const s=new Date(n);switch(e){case"day":s.setDate(s.getDate()+t);break;case"week":s.setDate(s.getDate()+t*7);break;case"month":s.setMonth(s.getMonth()+t);break;case"year":s.setFullYear(s.getFullYear()+t);break}return s}const hh=getComputedStyle(document.documentElement),op={borderColor:hh.getPropertyValue("--accent"),backgroundColor:hh.getPropertyValue("--accentTransparent"),borderWidth:2,borderRadius:10,pointRadius:5,pointHoverRadius:10};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Or(n){return n+.5|0}const Xn=(n,e,t)=>Math.max(Math.min(n,t),e);function $i(n){return Xn(Or(n*2.55),0,255)}function ts(n){return Xn(Or(n*255),0,255)}function On(n){return Xn(Or(n/2.55)/100,0,1)}function dh(n){return Xn(Or(n*100),0,100)}const qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},El=[..."0123456789ABCDEF"],kk=n=>El[n&15],Sk=n=>El[(n&240)>>4]+El[n&15],Ur=n=>(n&240)>>4===(n&15),Ek=n=>Ur(n.r)&&Ur(n.g)&&Ur(n.b)&&Ur(n.a);function Ok(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&qt[n[1]]*17,g:255&qt[n[2]]*17,b:255&qt[n[3]]*17,a:e===5?qt[n[4]]*17:255}:(e===7||e===9)&&(t={r:qt[n[1]]<<4|qt[n[2]],g:qt[n[3]]<<4|qt[n[4]],b:qt[n[5]]<<4|qt[n[6]],a:e===9?qt[n[7]]<<4|qt[n[8]]:255})),t}const Pk=(n,e)=>n<255?e(n):"";function Tk(n){var e=Ek(n)?kk:Sk;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Pk(n.a,e):void 0}const Ck=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ap(n,e,t){const s=e*Math.min(t,1-t),i=(r,o=(r+n/30)%12)=>t-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Ak(n,e,t){const s=(i,r=(i+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Mk(n,e,t){const s=ap(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)s[i]*=1-e-t,s[i]+=e;return s}function Dk(n,e,t,s,i){return n===i?(e-t)/s+(e<t?6:0):e===i?(t-n)/s+2:(n-e)/s+4}function mc(n){const t=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(t,s,i),o=Math.min(t,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Dk(t,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function bc(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(ts)}function yc(n,e,t){return bc(ap,n,e,t)}function Rk(n,e,t){return bc(Mk,n,e,t)}function Ik(n,e,t){return bc(Ak,n,e,t)}function lp(n){return(n%360+360)%360}function Lk(n){const e=Ck.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?$i(+e[5]):ts(+e[5]));const i=lp(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Rk(i,r,o):e[1]==="hsv"?s=Ik(i,r,o):s=yc(i,r,o),{r:s[0],g:s[1],b:s[2],a:t}}function Nk(n,e){var t=mc(n);t[0]=lp(t[0]+e),t=yc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $k(n){if(!n)return;const e=mc(n),t=e[0],s=dh(e[1]),i=dh(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${i}%, ${On(n.a)})`:`hsl(${t}, ${s}%, ${i}%)`}const fh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fk(){const n={},e=Object.keys(gh),t=Object.keys(fh);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<t.length;i++)r=t[i],a=a.replace(r,fh[r]);r=parseInt(gh[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let zr;function jk(n){zr||(zr=Fk(),zr.transparent=[0,0,0,0]);const e=zr[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Bk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wk(n){const e=Bk.exec(n);let t=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];t=e[8]?$i(o):Xn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?$i(s):Xn(s,0,255)),i=255&(e[4]?$i(i):Xn(i,0,255)),r=255&(e[6]?$i(r):Xn(r,0,255)),{r:s,g:i,b:r,a:t}}}function Vk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${On(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ia=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Us=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Hk(n,e,t){const s=Us(On(n.r)),i=Us(On(n.g)),r=Us(On(n.b));return{r:ts(Ia(s+t*(Us(On(e.r))-s))),g:ts(Ia(i+t*(Us(On(e.g))-i))),b:ts(Ia(r+t*(Us(On(e.b))-r))),a:n.a+t*(e.a-n.a)}}function qr(n,e,t){if(n){let s=mc(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=yc(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function cp(n,e){return n&&Object.assign(e||{},n)}function ph(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ts(n[3]))):(e=cp(n,{r:0,g:0,b:0,a:1}),e.a=ts(e.a)),e}function Uk(n){return n.charAt(0)==="r"?Wk(n):Lk(n)}class fr{constructor(e){if(e instanceof fr)return e;const t=typeof e;let s;t==="object"?s=ph(e):t==="string"&&(s=Ok(e)||jk(e)||Uk(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=cp(this._rgb);return e&&(e.a=On(e.a)),e}set rgb(e){this._rgb=ph(e)}rgbString(){return this._valid?Vk(this._rgb):void 0}hexString(){return this._valid?Tk(this._rgb):void 0}hslString(){return this._valid?$k(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Hk(this._rgb,e._rgb,t)),this}clone(){return new fr(this.rgb)}alpha(e){return this._rgb.a=ts(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Or(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qr(this._rgb,2,e),this}darken(e){return qr(this._rgb,2,-e),this}saturate(e){return qr(this._rgb,1,e),this}desaturate(e){return qr(this._rgb,1,-e),this}rotate(e){return Nk(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vn(){}const zk=(()=>{let n=0;return()=>n++})();function _e(n){return n==null}function ze(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Wt(n,e){return Qe(n)?n:e}function ce(n,e){return typeof n>"u"?e:n}const qk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,up=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function We(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Le(n,e,t,s){let i,r,o;if(ze(n))for(r=n.length,i=0;i<r;i++)e.call(t,n[i],i);else if(xe(n))for(o=Object.keys(n),r=o.length,i=0;i<r;i++)e.call(t,n[o[i]],o[i])}function Eo(n,e){let t,s,i,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(i=n[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Oo(n){if(ze(n))return n.map(Oo);if(xe(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let i=0;for(;i<s;++i)e[t[i]]=Oo(n[t[i]]);return e}return n}function hp(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Yk(n,e,t,s){if(!hp(n))return;const i=e[n],r=t[n];xe(i)&&xe(r)?gr(i,r,s):e[n]=Oo(r)}function gr(n,e,t){const s=ze(e)?e:[e],i=s.length;if(!xe(n))return n;t=t||{};const r=t.merger||Yk;let o;for(let a=0;a<i;++a){if(o=s[a],!xe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],n,o,t)}return n}function Qi(n,e){return gr(n,e,{merger:Gk})}function Gk(n,e,t){if(!hp(n))return;const s=e[n],i=t[n];xe(s)&&xe(i)?Qi(s,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Oo(i))}const mh={"":n=>n,x:n=>n.x,y:n=>n.y};function Kk(n){const e=n.split("."),t=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function Xk(n){const e=Kk(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function ss(n,e){return(mh[e]||(mh[e]=Xk(e)))(n)}function _c(n){return n.charAt(0).toUpperCase()+n.slice(1)}const pr=n=>typeof n<"u",is=n=>typeof n=="function",bh=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Jk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pe=Math.PI,Ve=2*Pe,Qk=Ve+Pe,Po=Number.POSITIVE_INFINITY,Zk=Pe/180,tt=Pe/2,gs=Pe/4,yh=Pe*2/3,Jn=Math.log10,mn=Math.sign;function Zi(n,e,t){return Math.abs(n-e)<t}function _h(n){const e=Math.round(n);n=Zi(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Jn(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function eS(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function tS(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function fi(n){return!tS(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function nS(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function dp(n,e,t){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function en(n){return n*(Pe/180)}function wc(n){return n*(180/Pe)}function wh(n){if(!Qe(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function fp(n,e){const t=e.x-n.x,s=e.y-n.y,i=Math.sqrt(t*t+s*s);let r=Math.atan2(s,t);return r<-.5*Pe&&(r+=Ve),{angle:r,distance:i}}function Ol(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function sS(n,e){return(n-e+Qk)%Ve-Pe}function yt(n){return(n%Ve+Ve)%Ve}function mr(n,e,t,s){const i=yt(n),r=yt(e),o=yt(t),a=yt(r-i),l=yt(o-i),c=yt(i-r),u=yt(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ut(n,e,t){return Math.max(e,Math.min(t,n))}function iS(n){return ut(n,-32768,32767)}function Cn(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function vc(n,e,t){t=t||(o=>n[o]<e);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,t(r)?i=r:s=r;return{lo:i,hi:s}}const An=(n,e,t,s)=>vc(n,t,s?i=>{const r=n[i][e];return r<t||r===t&&n[i+1][e]===t}:i=>n[i][e]<t),rS=(n,e,t)=>vc(n,t,s=>n[s][e]>=t);function oS(n,e,t){let s=0,i=n.length;for(;s<i&&n[s]<e;)s++;for(;i>s&&n[i-1]>t;)i--;return s>0||i<n.length?n.slice(s,i):n}const gp=["push","pop","shift","splice","unshift"];function aS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gp.forEach(t=>{const s="_onData"+_c(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function vh(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(gp.forEach(r=>{delete n[r]}),delete n._chartjs)}function pp(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const mp=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function bp(n,e){let t=[],s=!1;return function(...i){t=i,s||(s=!0,mp.call(window,()=>{s=!1,n.apply(e,t)}))}}function lS(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const xc=n=>n==="start"?"left":n==="end"?"right":"center",bt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,cS=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function yp(n,e,t){const s=e.length;let i=0,r=s;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(An(l,u,h).lo,t?s:An(e,u,o.getPixelForValue(h)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(m=>!_e(m[a.axis]));i-=Math.max(0,p)}i=ut(i,0,s-1)}if(g){let p=Math.max(An(l,o.axis,d,!0).hi+1,t?0:An(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(b=>!_e(b[a.axis]));p+=Math.max(0,m)}r=ut(p,i,s)-i}else r=s-i}return{start:i,count:r}}function _p(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),r}const Yr=n=>n===0||n===1,xh=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ve/t)),kh=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ve/t)+1,er={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*tt)+1,easeOutSine:n=>Math.sin(n*tt),easeInOutSine:n=>-.5*(Math.cos(Pe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yr(n)?n:xh(n,.075,.3),easeOutElastic:n=>Yr(n)?n:kh(n,.075,.3),easeInOutElastic(n){return Yr(n)?n:n<.5?.5*xh(n*2,.1125,.45):.5+.5*kh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-er.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?er.easeInBounce(n*2)*.5:er.easeOutBounce(n*2-1)*.5+.5};function kc(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Sh(n){return kc(n)?n:new fr(n)}function La(n){return kc(n)?n:new fr(n).saturate(.5).darken(.1).hexString()}const uS=["x","y","borderWidth","radius","tension"],hS=["color","borderColor","backgroundColor"];function dS(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:hS},numbers:{type:"number",properties:uS}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fS(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Eh=new Map;function gS(n,e){e=e||{};const t=n+JSON.stringify(e);let s=Eh.get(t);return s||(s=new Intl.NumberFormat(n,e),Eh.set(t,s)),s}function Pr(n,e,t){return gS(e,t).format(n)}const wp={values(n){return ze(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=pS(n,t)}const o=Jn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Pr(n,s,l)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Jn(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?wp.numeric.call(this,n,e,t):""}};function pS(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Zo={formatters:wp};function mS(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const As=Object.create(null),Pl=Object.create(null);function tr(n,e){if(!e)return n;const t=e.split(".");for(let s=0,i=t.length;s<i;++s){const r=t[s];n=n[r]||(n[r]=Object.create(null))}return n}function Na(n,e,t){return typeof e=="string"?gr(tr(n,e),t):gr(tr(n,""),e)}class bS{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>La(i.backgroundColor),this.hoverBorderColor=(s,i)=>La(i.borderColor),this.hoverColor=(s,i)=>La(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Na(this,e,t)}get(e){return tr(this,e)}describe(e,t){return Na(Pl,e,t)}override(e,t){return Na(As,e,t)}route(e,t,s,i){const r=tr(this,e),o=tr(this,s),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[i];return xe(l)?Object.assign({},c,l):ce(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var qe=new bS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dS,fS,mS]);function yS(n){return!n||_e(n.size)||_e(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function To(n,e,t,s,i){let r=e[i];return r||(r=e[i]=n.measureText(i).width,t.push(i)),r>s&&(s=r),s}function _S(n,e,t,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),n.save(),n.font=e;let o=0;const a=t.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=t[l],h!=null&&!ze(h))o=To(n,i,r,o,h);else if(ze(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ze(d)&&(o=To(n,i,r,o,d));n.restore();const f=r.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function ps(n,e,t){const s=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*s)/s+i}function Oh(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Tl(n,e,t,s){vp(n,e,t,s,null)}function vp(n,e,t,s,i){let r,o,a,l,c,u,h,d;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*Zk;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(m),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,s,i/2,p,0,0,Ve):n.arc(t,s,p,0,Ve),n.closePath();break;case"triangle":u=i?i/2:p,n.moveTo(t+Math.sin(m)*u,s-Math.cos(m)*p),m+=yh,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*p),m+=yh,n.lineTo(t+Math.sin(m)*u,s-Math.cos(m)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+gs)*l,h=Math.cos(m+gs)*(i?i/2-c:l),a=Math.sin(m+gs)*l,d=Math.sin(m+gs)*(i?i/2-c:l),n.arc(t-h,s-a,c,m-Pe,m-tt),n.arc(t+d,s-o,c,m-tt,m),n.arc(t+h,s+a,c,m,m+tt),n.arc(t-d,s+o,c,m+tt,m+Pe),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,n.rect(t-u,s-l,2*u,2*l);break}m+=gs;case"rectRot":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),n.moveTo(t-h,s-a),n.lineTo(t+d,s-o),n.lineTo(t+h,s+a),n.lineTo(t-d,s+o),n.closePath();break;case"crossRot":m+=gs;case"cross":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o),m+=gs,h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),n.moveTo(t-h,s-a),n.lineTo(t+h,s+a),n.moveTo(t+d,s-o),n.lineTo(t-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(t-o,s-a),n.lineTo(t+o,s+a);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(m)*(i?i/2:p),s+Math.sin(m)*p);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Mn(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function ea(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ta(n){n.restore()}function wS(n,e,t,s,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else i==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function vS(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function xS(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),_e(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function kS(n,e,t,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function SS(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ms(n,e,t,s,i,r={}){const o=ze(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,xS(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&SS(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),_e(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,t,s,r.maxWidth)),n.fillText(c,t,s,r.maxWidth),kS(n,t,s,c,r),s+=Number(i.lineHeight);n.restore()}function br(n,e){const{x:t,y:s,w:i,h:r,radius:o}=e;n.arc(t+o.topLeft,s+o.topLeft,o.topLeft,1.5*Pe,Pe,!0),n.lineTo(t,s+r-o.bottomLeft),n.arc(t+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,Pe,tt,!0),n.lineTo(t+i-o.bottomRight,s+r),n.arc(t+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,tt,0,!0),n.lineTo(t+i,s+o.topRight),n.arc(t+i-o.topRight,s+o.topRight,o.topRight,0,-tt,!0),n.lineTo(t+o.topLeft,s)}const ES=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PS(n,e){const t=(""+n).match(ES);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const TS=n=>+n||0;function Sc(n,e){const t={},s=xe(e),i=s?Object.keys(e):e,r=xe(n)?s?o=>ce(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=TS(r(o));return t}function xp(n){return Sc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ts(n){return Sc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(n){const e=xp(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ct(n,e){n=n||{},e=e||qe.font;let t=ce(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=ce(n.style,e.style);s&&!(""+s).match(OS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ce(n.family,e.family),lineHeight:PS(ce(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:ce(n.weight,e.weight),string:""};return i.string=yS(i),i}function Fi(n,e,t,s){let i,r,o;for(i=0,r=n.length;i<r;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function CS(n,e,t){const{min:s,max:i}=n,r=up(e,(i-s)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function ls(n,e){return Object.assign(Object.create(n),e)}function Ec(n,e=[""],t,s,i=()=>n[0]){const r=t||n;typeof s>"u"&&(s=Op("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Ec([a,...n],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Sp(a,l,()=>$S(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return Th(a).includes(l)},ownKeys(a){return Th(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function gi(n,e,t,s){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:kp(n,s),setContext:r=>gi(n,r,t,s),override:r=>gi(n.override(r),e,t,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Sp(r,o,()=>MS(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function kp(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:s,isScriptable:is(t)?t:()=>t,isIndexable:is(s)?s:()=>s}}const AS=(n,e)=>n?n+_c(e):e,Oc=(n,e)=>xe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Sp(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function MS(n,e,t){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=n;let a=s[e];return is(a)&&o.isScriptable(e)&&(a=DS(e,a,n,t)),ze(a)&&a.length&&(a=RS(e,a,n,o.isIndexable)),Oc(e,a)&&(a=gi(a,i,r&&r[e],o)),a}function DS(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(r,o||s);return a.delete(n),Oc(n,l)&&(l=Pc(i._scopes,i,n,l)),l}function RS(n,e,t,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&s(n))return e[r.index%e.length];if(xe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Pc(c,i,n,u);e.push(gi(h,r,o&&o[n],a))}}return e}function Ep(n,e,t){return is(n)?n(e,t):n}const IS=(n,e)=>n===!0?e:typeof n=="string"?ss(e,n):void 0;function LS(n,e,t,s,i){for(const r of e){const o=IS(t,r);if(o){n.add(o);const a=Ep(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==s)return a}else if(o===!1&&typeof s<"u"&&t!==s)return null}return!1}function Pc(n,e,t,s){const i=e._rootScopes,r=Ep(e._fallback,t,s),o=[...n,...i],a=new Set;a.add(s);let l=Ph(a,o,t,r||t,s);return l===null||typeof r<"u"&&r!==t&&(l=Ph(a,o,r,l,s),l===null)?!1:Ec(Array.from(a),[""],i,r,()=>NS(e,t,s))}function Ph(n,e,t,s,i){for(;t;)t=LS(n,e,t,s,i);return t}function NS(n,e,t){const s=n._getTarget();e in s||(s[e]={});const i=s[e];return ze(i)&&xe(t)?t:i||{}}function $S(n,e,t,s){let i;for(const r of e)if(i=Op(AS(r,n),t),typeof i<"u")return Oc(n,i)?Pc(t,s,n,i):i}function Op(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function Th(n){let e=n._keys;return e||(e=n._keys=FS(n._scopes)),e}function FS(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Pp(n,e,t,s){const{iScale:i}=n,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+t,u=e[c],o[a]={r:i.parse(ss(u,r),c)};return o}const jS=Number.EPSILON||1e-14,pi=(n,e)=>e<n.length&&!n[e].skip&&n[e],Tp=n=>n==="x"?"y":"x";function BS(n,e,t,s){const i=n.skip?e:n,r=e,o=t.skip?e:t,a=Ol(r,i),l=Ol(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function WS(n,e,t){const s=n.length;let i,r,o,a,l,c=pi(n,0);for(let u=0;u<s-1;++u)if(l=c,c=pi(n,u+1),!(!l||!c)){if(Zi(e[u],0,jS)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],r=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=i*o*e[u],t[u+1]=r*o*e[u])}}function VS(n,e,t="x"){const s=Tp(t),i=n.length;let r,o,a,l=pi(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=pi(n,c+1),!a)continue;const u=a[t],h=a[s];o&&(r=(u-o[t])/3,a[`cp1${t}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[t]-u)/3,a[`cp2${t}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function HS(n,e="x"){const t=Tp(e),s=n.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=pi(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=pi(n,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[t]-l[t])/u:0}r[o]=a?c?mn(i[o-1])!==mn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}WS(n,i,r),VS(n,r,e)}function Gr(n,e,t){return Math.max(Math.min(n,t),e)}function US(n,e){let t,s,i,r,o,a=Mn(n[0],e);for(t=0,s=n.length;t<s;++t)o=r,r=a,a=t<s-1&&Mn(n[t+1],e),r&&(i=n[t],o&&(i.cp1x=Gr(i.cp1x,e.left,e.right),i.cp1y=Gr(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Gr(i.cp2x,e.left,e.right),i.cp2y=Gr(i.cp2y,e.top,e.bottom)))}function zS(n,e,t,s,i){let r,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")HS(n,i);else{let c=s?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=BS(c,a,n[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&US(n,t)}function Tc(){return typeof window<"u"&&typeof document<"u"}function Cc(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Co(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const na=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function qS(n,e){return na(n).getPropertyValue(e)}const YS=["top","right","bottom","left"];function Cs(n,e,t){const s={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=YS[i];s[r]=parseFloat(n[e+"-"+r+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const GS=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function KS(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(GS(i,r,n.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ws(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,i=na(t),r=i.boxSizing==="border-box",o=Cs(i,"padding"),a=Cs(i,"border","width"),{x:l,y:c,box:u}=KS(n,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=e;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*t.width/s),y:Math.round((c-d)/g*t.height/s)}}function XS(n,e,t){let s,i;if(e===void 0||t===void 0){const r=n&&Cc(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=na(r),l=Cs(a,"border","width"),c=Cs(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,s=Co(a.maxWidth,r,"clientWidth"),i=Co(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:s||Po,maxHeight:i||Po}}const Qn=n=>Math.round(n*10)/10;function JS(n,e,t,s){const i=na(n),r=Cs(i,"margin"),o=Co(i.maxWidth,n,"clientWidth")||Po,a=Co(i.maxHeight,n,"clientHeight")||Po,l=XS(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Cs(i,"border","width"),f=Cs(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Qn(Math.min(c,o,l.maxWidth)),u=Qn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Qn(c/2)),(e!==void 0||t!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Qn(Math.floor(u*s))),{width:c,height:u}}function Ch(n,e,t){const s=e||1,i=Qn(n.height*s),r=Qn(n.width*s);n.height=Qn(n.height),n.width=Qn(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(n.currentDevicePixelRatio=s,o.height=i,o.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const QS=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Tc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Ah(n,e){const t=qS(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function vs(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function ZS(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function eE(n,e,t,s){const i={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=vs(n,i,t),a=vs(i,r,t),l=vs(r,e,t),c=vs(o,a,t),u=vs(a,l,t);return vs(c,u,t)}const tE=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},nE=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function oi(n,e,t){return n?tE(e,t):nE()}function Cp(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function Ap(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Mp(n){return n==="angle"?{between:mr,compare:sS,normalize:yt}:{between:Cn,compare:(e,t)=>e-t,normalize:e=>e}}function Mh({start:n,end:e,count:t,loop:s,style:i}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:i}}function sE(n,e,t){const{property:s,start:i,end:r}=t,{between:o,normalize:a}=Mp(s),l=e.length;let{start:c,end:u,loop:h}=n,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Dp(n,e,t){if(!t)return[n];const{property:s,start:i,end:r}=t,o=e.length,{compare:a,between:l,normalize:c}=Mp(s),{start:u,end:h,loop:d,style:f}=sE(n,e,t),g=[];let p=!1,m=null,b,y,v;const x=()=>l(i,v,b)&&a(i,v)!==0,E=()=>a(r,b)===0||l(r,v,b),O=()=>p||x(),P=()=>!p||E();for(let R=u,H=u;R<=h;++R)y=e[R%o],!y.skip&&(b=c(y[s]),b!==v&&(p=l(b,i,r),m===null&&O()&&(m=a(b,i)===0?R:H),m!==null&&P()&&(g.push(Mh({start:m,end:R,loop:d,count:o,style:f})),m=null),H=R,v=b));return m!==null&&g.push(Mh({start:m,end:h,loop:d,count:o,style:f})),g}function Rp(n,e){const t=[],s=n.segments;for(let i=0;i<s.length;i++){const r=Dp(s[i],n.points,e);r.length&&t.push(...r)}return t}function iE(n,e,t,s){let i=0,r=e-1;if(t&&!s)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&n[r%e].skip;)r--;return r%=e,{start:i,end:r}}function rE(n,e,t,s){const i=n.length,r=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function oE(n,e){const t=n.points,s=n.options.spanGaps,i=t.length;if(!i)return[];const r=!!n._loop,{start:o,end:a}=iE(t,i,r,s);if(s===!0)return Dh(n,[{start:o,end:a,loop:r}],t,e);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Dh(n,rE(t,o,l,c),t,e)}function Dh(n,e,t,s){return!s||!s.setContext||!t?e:aE(n,e,t,s)}function aE(n,e,t,s){const i=n._chart.getContext(),r=Rh(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=r,h=e[0].start,d=h;function f(g,p,m,b){const y=a?-1:1;if(g!==p){for(g+=l;t[g%l].skip;)g-=y;for(;t[p%l].skip;)p+=y;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),u=b,h=p%l)}}for(const g of e){h=a?h:g.start;let p=t[h%l],m;for(d=h+1;d<=g.end;d++){const b=t[d%l];m=Rh(s.setContext(ls(i,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),lE(m,u)&&f(h,d-1,g.loop,u),p=b,u=m}h<d-1&&f(h,d-1,g.loop,u)}return c}function Rh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function lE(n,e){if(!e)return!1;const t=[],s=function(i,r){return kc(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function Kr(n,e,t){return n.options.clip?n[t]:e[t]}function cE(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:Kr(t,e,"left"),right:Kr(t,e,"right"),top:Kr(s,e,"top"),bottom:Kr(s,e,"bottom")}:e}function Ip(n,e){const t=e._clip;if(t.disabled)return!1;const s=cE(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const r=t.listeners[i],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(s-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xn=new uE;const Ih="transparent",hE={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=Sh(n||Ih),i=s.valid&&Sh(e||Ih);return i&&i.valid?i.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class dE{constructor(e,t,s,i){const r=t[s];i=Fi([e.to,i,r,e.from]);const o=Fi([e.from,r,i]);this._active=!0,this._fn=e.fn||hE[e.type||typeof o],this._easing=er[e.easing]||er.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Fi([e.to,t,i,e.from]),this._from=Fi([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||t<s),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=r;return}l=t/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class Lp{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!xe(e))return;const t=Object.keys(qe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!xe(r))return;const o={};for(const a of t)o[a]=r[a];(ze(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,t){const s=t.options,i=gE(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&fE(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new dE(d,e,c,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return xn.add(this._chart,s),!0}}function fE(n,e){const t=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function gE(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Lh(n,e){const t=n&&n.options||{},s=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function pE(n,e,t){if(t===!1)return!1;const s=Lh(n,t),i=Lh(e,t);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function mE(n){let e,t,s,i;return xe(n)?(e=n.top,t=n.right,s=n.bottom,i=n.left):e=t=s=i=n,{top:e,right:t,bottom:s,left:i,disabled:n===!1}}function Np(n,e){const t=[],s=n._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)t.push(s[i].index);return t}function Nh(n,e,t,s={}){const i=n.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===t){if(u=!0,s.all)continue;break}c=n.values[l],Qe(c)&&(r||e===0||mn(e)===mn(c))&&(e+=c)}return!u&&!s.all?0:e}function bE(n,e){const{iScale:t,vScale:s}=e,i=t.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:n[u]};return a}function $a(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function yE(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function _E(n){const{min:e,max:t,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function wE(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function $h(n,e,t,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function Fh(n,e){const{chart:t,_cachedMeta:s}=n,i=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=yE(r,o,s),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});d=b[c]=wE(i,u,p),d[a]=m,d._top=$h(d,o,!0,s.type),d._bottom=$h(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Fa(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function vE(n,e){return ls(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function xE(n,e,t){return ls(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Si(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][t]===void 0)return;delete r[s][t],r[s]._visualValues!==void 0&&r[s]._visualValues[t]!==void 0&&delete r[s]._visualValues[t]}}}const ja=n=>n==="reset"||n==="none",jh=(n,e)=>e?n:Object.assign({},n),kE=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Np(t,!0),values:null};class cs{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$a(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Si(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=t.xAxisID=ce(s.xAxisID,Fa(e,"x")),o=t.yAxisID=ce(s.yAxisID,Fa(e,"y")),a=t.rAxisID=ce(s.rAxisID,Fa(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,r,o,a),u=t.vAxisID=i(l,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vh(this._data,this),e._stacked&&Si(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(xe(t)){const i=this._cachedMeta;this._data=bE(t,i)}else if(s!==t){if(s){vh(s,this);const i=this._cachedMeta;Si(i),i._parsed=[]}t&&Object.isExtensible(t)&&aS(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=$a(t.vScale,t),t.stack!==s.stack&&(i=!0,Si(t),t.stack=s.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Fh(this,t._parsed),t._stacked=$a(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&t===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{ze(i[e])?d=this.parseArrayData(s,i,e,t):xe(i[e])?d=this.parseObjectData(s,i,e,t):d=this.parsePrimitiveData(s,i,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)s._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&Fh(this,d)}parsePrimitiveData(e,t,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+s,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(t[g],g)};return h}parseArrayData(e,t,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=t[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=t[d],c[u]={x:r.parse(ss(f,a),d),y:o.parse(ss(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:Np(i,!0),values:t._stacks[e.axis]._visualValues};return Nh(a,o,r.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const r=s[t.axis];let o=r===null?NaN:r;const a=i&&s._stacks[t.axis];i&&a&&(i.values=a,o=Nh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=kE(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=_E(a);let d,f;function g(){f=i[d];const p=f[a.axis];return!Qe(f[e.axis])||u>p||h<p}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],Qe(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=mE(ce(this.options.clip,pE(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],r=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=xE(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=vE(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],l=this.enableOptionSharing&&pr(s);if(a)return jh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(qe.elements[e]),g=()=>this.getContext(s,i,t),p=c.resolveNamedOptions(d,f,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(jh(p,l))),p}_resolveAnimations(e,t,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,s,t))}const c=new Lp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ja(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:o}}updateElement(e,t,s,i){ja(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!ja(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,s=!0){const i=this._cachedMeta,r=i.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&Si(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function SE(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=t.length;i<r;i++)s=s.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=pp(s.sort((i,r)=>i-r))}return n._cache.$bar}function EE(n){const e=n.iScale,t=SE(e,n.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(pr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=t.length;i<r;++i)o=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function OE(n,e,t,s){const i=t.barThickness;let r,o;return _e(i)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[n]-r/2}}function PE(n,e,t,s){const i=e.pixels,r=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:t.barPercentage,start:c}}function TE(n,e,t,s){const i=t.parse(n[0],s),r=t.parse(n[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function $p(n,e,t,s){return ze(n)?TE(n,e,t,s):e[t.axis]=t.parse(n,s),e}function Bh(n,e,t,s){const i=n.iScale,r=n.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=t,u=t+s;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push($p(d,h,r,c));return l}function Ba(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function CE(n,e,t){return n!==0?mn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function AE(n){let e,t,s,i,r;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:s,reverse:e,top:i,bottom:r}}function ME(n,e,t,s){let i=e.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=AE(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?i=c:(t._bottom||0)===s?i=u:(r[Wh(u,o,a,l)]=!0,i=c)),r[Wh(i,o,a,l)]=!0,n.borderSkipped=r}function Wh(n,e,t,s){return s?(n=DE(n,e,t),n=Vh(n,t,e)):n=Vh(n,e,t),n}function DE(n,e,t){return n===e?t:n===t?e:n}function Vh(n,e,t){return n==="start"?e:n==="end"?t:n}function RE(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class IE extends cs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,i){return Bh(e,t,s,i)}parseArrayData(e,t,s,i){return Bh(e,t,s,i)}parseObjectData(e,t,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,p;for(d=s,f=s+i;d<f;++d)p=t[d],g={},g[r.axis]=r.parse(ss(p,c),d),h.push($p(ss(p,u),g,o,d));return h}updateRangeFromParsed(e,t,s,i){super.updateRangeFromParsed(e,t,s,i);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:i}=t,r=this.getParsed(e),o=r._custom,a=Ba(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+s;f++){const g=this.getParsed(f),p=r||_e(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(g._stacks||{})[a.axis],y={horizontal:c,base:p.base,enableBorderRadius:!b||Ba(g._custom)||o===b._top||o===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const v=y.options||e[f].options;ME(y,v,b,o),RE(y,v,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(_e(d)||isNaN(d))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ce(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const i=this._getStacks(e,s),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||EE(t),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Ba(c);let h=l[t.axis],d=0,f=s?this.applyStack(t,l,s):h,g,p;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&mn(h)!==mn(c.barEnd)&&(d=0),d+=h);const m=!_e(r)&&!u?r:d;let b=t.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(d+f):g=b,p=g-b,Math.abs(p)<o){p=CE(p,t,a)*o,h===a&&(b-=p/2);const y=t.getPixelForDecimal(0),v=t.getPixelForDecimal(1),x=Math.min(y,v),E=Math.max(y,v);b=Math.max(Math.min(b,E),x),g=b+p,s&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(g)-t.getValueForPixel(b))}if(b===t.getPixelForValue(a)){const y=mn(p)*t.getLineWidthForValue(a)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(e,t){const s=t.scale,i=this.options,r=i.skipNull,o=ce(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,h=i.barThickness==="flex"?PE(e,t,i,u*c):OE(e,t,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ce(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class LE extends cs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,i){const r=super.parsePrimitiveData(e,t,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,t,s,i){const r=super.parseArrayData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=ce(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,t,s,i){const r=super.parseObjectData(e,t,s,i);for(let o=0;o<r.length;o++){const a=t[s+o];r[o]._custom=ce(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,i),u=o.axis,h=a.axis;for(let d=t;d<t+s;d++){const f=e[d],g=!r&&this.getParsed(d),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),b=p[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(p.options.radius=0)),this.updateElement(f,d,p,i)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return t!=="active"&&(i.radius=0),i.radius+=ce(s&&s._custom,r),i}}function NE(n,e,t){let s=1,i=1,r=0,o=0;if(e<Ve){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,x,E)=>mr(v,a,l,!0)?1:Math.max(x,x*t,E,E*t),g=(v,x,E)=>mr(v,a,l,!0)?-1:Math.min(x,x*t,E,E*t),p=f(0,c,h),m=f(tt,u,d),b=g(Pe,c,h),y=g(Pe+tt,u,d);s=(p-b)/2,i=(m-y)/2,r=-(p+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Ac extends cs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(xe(s[e])){const{key:l="value"}=this._parsing;r=c=>+ss(s[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return en(this.options.rotation-90)}_getCircumference(){return en(this.options.circumference)}_getRotationExtents(){let e=Ve,t=-Ve;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(qk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=NE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),v=up(this.options.radius,y),x=Math.max(v*l,0),E=(v-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=p*v,i.total=this.calculateTotal(),this.outerRadius=v-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ve)}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,i);let b=this._getRotation(),y;for(y=0;y<t;++y)b+=this._circumference(y,r);for(y=t;y<t+s;++y){const v=this._circumference(y,r),x=e[y],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:g,innerRadius:f};m&&(E.options=p||this.resolveDataElementOptions(y,x.active?"active":i)),b+=v,this.updateElement(x,y,E,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ve*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Pr(t._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class $E extends cs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=yp(t,i,o);this._drawStart=a,this._drawCount=l,_p(t)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),d=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=fi(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=t+s,v=e.length;let x=t>0&&this.getParsed(t-1);for(let E=0;E<v;++E){const O=e[E],P=b?O:{};if(E<t||E>=y){P.skip=!0;continue}const R=this.getParsed(E),H=_e(R[f]),J=P[d]=o.getPixelForValue(R[d],E),te=P[f]=r||H?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[f],E);P.skip=isNaN(J)||isNaN(te)||H,P.stop=E>0&&Math.abs(R[d]-x[d])>m,p&&(P.parsed=R,P.raw=c.data[E]),h&&(P.options=u||this.resolveDataElementOptions(E,O.active?"active":i)),b||this.updateElement(O,E,P,i),x=R}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Fp extends cs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return t.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Pr(t._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,s,i){return Pp.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Pe;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<t;++g)f+=this._computeAngle(g,i,p);for(g=t;g<t+s;g++){const m=e[g];let b=f,y=f+this._computeAngle(g,i,p),v=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,r&&(l.animateScale&&(v=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(g,m.active?"active":i)};this.updateElement(m,g,x,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?en(this.resolveDataElementOptions(e,t).angle||s):0}}class FE extends Ac{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class jE extends cs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,i){return Pp.bind(this)(e,t,s,i)}update(e){const t=this._cachedMeta,s=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=t;a<t+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class BE extends cs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:o}=yp(t,s,i);if(this._drawStart=r,this._drawCount=o,_p(t)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=fi(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let v=t>0&&this.getParsed(t-1);for(let x=t;x<t+s;++x){const E=e[x],O=this.getParsed(x),P=y?E:{},R=_e(O[g]),H=P[f]=o.getPixelForValue(O[f],x),J=P[g]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[g],x);P.skip=isNaN(H)||isNaN(J)||R,P.stop=x>0&&Math.abs(O[f]-v[f])>b,m&&(P.parsed=O,P.raw=c.data[x]),d&&(P.options=h||this.resolveDataElementOptions(x,E.active?"active":i)),y||this.updateElement(E,x,P,i),v=O}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,o)/2}}var WE=Object.freeze({__proto__:null,BarController:IE,BubbleController:LE,DoughnutController:Ac,LineController:$E,PieController:FE,PolarAreaController:Fp,RadarController:jE,ScatterController:BE});function ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mc{static override(e){Object.assign(Mc.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ms()}parse(){return ms()}format(){return ms()}add(){return ms()}diff(){return ms()}startOf(){return ms()}endOf(){return ms()}}var jp={_date:Mc};function VE(n,e,t,s){const{controller:i,data:r,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?rS:An;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(r,e,t-h),f=c(r,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,e,t);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=n,f=d.slice(0,u.lo+1).reverse().findIndex(p=>!_e(p[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(p=>!_e(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function sa(n,e,t,s,i){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=VE(r[a],e,o,i);for(let f=h;f<=d;++f){const g=u[f];g.skip||s(g,c,f)}}}function HE(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=t?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Wa(n,e,t,s,i){const r=[];return!i&&!n.isPointInArea(e)||sa(n,t,e,function(a,l,c){!i&&!Mn(a,n.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function UE(n,e,t,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=fp(o,{x:e.x,y:e.y});mr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return sa(n,t,e,r),i}function zE(n,e,t,s,i,r){let o=[];const a=HE(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const g=u.getCenterPoint(i);if(!(!!r||n.isPointInArea(g))&&!f)return;const m=a(e,g);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return sa(n,t,e,c),o}function Va(n,e,t,s,i,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!s?UE(n,e,t,i):zE(n,e,t,s,i,r)}function Hh(n,e,t,s,i){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return sa(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var qE={modes:{index(n,e,t,s){const i=ws(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?Wa(n,i,r,s,o):Va(n,i,r,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,s){const i=ws(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?Wa(n,i,r,s,o):Va(n,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,s){const i=ws(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Wa(n,i,r,s,o)},nearest(n,e,t,s){const i=ws(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Va(n,i,r,t.intersect,s,o)},x(n,e,t,s){const i=ws(e,n);return Hh(n,i,"x",t.intersect,s)},y(n,e,t,s){const i=ws(e,n);return Hh(n,i,"y",t.intersect,s)}}};const Bp=["left","top","right","bottom"];function Ei(n,e){return n.filter(t=>t.pos===e)}function Uh(n,e){return n.filter(t=>Bp.indexOf(t.pos)===-1&&t.box.axis===e)}function Oi(n,e){return n.sort((t,s)=>{const i=e?s:t,r=e?t:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function YE(n){const e=[];let t,s,i,r,o,a;for(t=0,s=(n||[]).length;t<s;++t)i=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function GE(n){const e={};for(const t of n){const{stack:s,pos:i,stackWeight:r}=t;if(!s||!Bp.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function KE(n,e){const t=GE(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return t}function XE(n){const e=YE(n),t=Oi(e.filter(c=>c.box.fullSize),!0),s=Oi(Ei(e,"left"),!0),i=Oi(Ei(e,"right")),r=Oi(Ei(e,"top"),!0),o=Oi(Ei(e,"bottom")),a=Uh(e,"x"),l=Uh(e,"y");return{fullSize:t,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ei(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function zh(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function Wp(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function JE(n,e,t,s){const{pos:i,box:r}=t,o=n.maxPadding;if(!xe(i)){t.size&&(n[i]-=t.size);const h=s[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,n[i]+=t.size}r.getPadding&&Wp(o,r.getPadding());const a=Math.max(0,e.outerWidth-zh(o,n,"left","right")),l=Math.max(0,e.outerHeight-zh(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function QE(n){const e=n.maxPadding;function t(s){const i=Math.max(e[s]-n[s],0);return n[s]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function ZE(n,e){const t=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return s(n?["left","right"]:["top","bottom"])}function ji(n,e,t,s){const i=[];let r,o,a,l,c,u;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||e.w,a.height||e.h,ZE(a.horizontal,e));const{same:h,other:d}=JE(e,t,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&ji(i,e,t,s)||u}function Xr(n,e,t,s,i){n.top=t,n.left=e,n.right=e+s,n.bottom=t+i,n.width=s,n.height=i}function qh(n,e,t,s){const i=t.padding;let{x:r,y:o}=e;for(const a of n){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;pr(c.start)&&(o=c.start),l.fullSize?Xr(l,i.left,o,t.outerWidth-i.right-i.left,d):Xr(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;pr(c.start)&&(r=c.start),l.fullSize?Xr(l,r,i.top,d,t.outerHeight-i.bottom-i.top):Xr(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var kt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const i=Ot(n.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=XE(n.boxes),l=a.vertical,c=a.horizontal;Le(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);Wp(d,Ot(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),g=KE(l.concat(c),h);ji(a.fullSize,f,h,g),ji(l,f,h,g),ji(c,f,h,g)&&ji(l,f,h,g),QE(f),qh(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,qh(a.rightAndBottom,f,h,g),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Le(a.chartArea,p=>{const m=p.box;Object.assign(m,n.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Vp{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class e1 extends Vp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const co="$chartjs",t1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yh=n=>n===null||n==="";function n1(n,e){const t=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[co]={initial:{height:s,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Yh(i)){const r=Ah(n,"width");r!==void 0&&(n.width=r)}if(Yh(s))if(n.style.height==="")n.height=n.width/(e||2);else{const r=Ah(n,"height");r!==void 0&&(n.height=r)}return n}const Hp=QS?{passive:!0}:!1;function s1(n,e,t){n&&n.addEventListener(e,t,Hp)}function i1(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Hp)}function r1(n,e){const t=t1[n.type]||n.type,{x:s,y:i}=ws(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Ao(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function o1(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ao(a.addedNodes,s),o=o&&!Ao(a.removedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function a1(n,e,t){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ao(a.removedNodes,s),o=o&&!Ao(a.addedNodes,s);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const yr=new Map;let Gh=0;function Up(){const n=window.devicePixelRatio;n!==Gh&&(Gh=n,yr.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function l1(n,e){yr.size||window.addEventListener("resize",Up),yr.set(n,e)}function c1(n){yr.delete(n),yr.size||window.removeEventListener("resize",Up)}function u1(n,e,t){const s=n.canvas,i=s&&Cc(s);if(!i)return;const r=bp((a,l)=>{const c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),l1(n,r),o}function Ha(n,e,t){t&&t.disconnect(),e==="resize"&&c1(n)}function h1(n,e,t){const s=n.canvas,i=bp(r=>{n.ctx!==null&&t(r1(r,n))},n);return s1(s,e,i),i}class d1 extends Vp{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(n1(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[co])return!1;const s=t[co].initial;["height","width"].forEach(r=>{const o=s[r];_e(o)?t.removeAttribute(r):t.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[co],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:o1,detach:a1,resize:u1}[t]||h1;i[t]=o(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:Ha,detach:Ha,resize:Ha}[t]||i1)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return JS(e,t,s,i)}isAttached(e){const t=e&&Cc(e);return!!(t&&t.isConnected)}}function f1(n){return!Tc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?e1:d1}let Bn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return fi(this.x)&&fi(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function g1(n,e){const t=n.options.ticks,s=p1(n),i=Math.min(t.maxTicksLimit||s,s),r=t.major.enabled?b1(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return y1(e,c,r,o/i),c;const u=m1(r,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Jr(e,c,u,_e(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Jr(e,c,u,r[h],r[h+1]);return Jr(e,c,u,l,_e(f)?e.length:l+f),c}return Jr(e,c,u),c}function p1(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(s,i))}function m1(n,e,t){const s=_1(n),i=e.length/t;if(!s)return Math.max(i,1);const r=eS(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function b1(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function y1(n,e,t,s){let i=0,r=t[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===r&&(e.push(n[o]),i++,r=t[i*s])}function Jr(n,e,t,s,i){const r=ce(s,0),o=Math.min(ce(i,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-s,t=l/Math.floor(l/t)),u=r;u<0;)a++,u=Math.round(r+a*t);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(r+a*t))}function _1(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const w1=n=>n==="left"?"right":n==="right"?"left":n,Kh=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Xh=(n,e)=>Math.min(e||n,n);function Jh(n,e){const t=[],s=n.length/e,i=n.length;let r=0;for(;r<i;r+=s)t.push(n[Math.floor(r)]);return t}function v1(n,e,t){const s=n.ticks.length,i=Math.min(e,s-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(s===1?c=Math.max(l-r,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function x1(n,e){Le(n,t=>{const s=t.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[s[r]];s.splice(0,i)}})}function Pi(n){return n.drawTicks?n.tickLength:0}function Qh(n,e){if(!n.display)return 0;const t=ct(n.font,e),s=Ot(n.padding);return(ze(n.text)?n.text.length:1)*t.lineHeight+s.height}function k1(n,e){return ls(n,{scale:e,type:"scale"})}function S1(n,e,t){return ls(n,{tick:t,index:e,type:"tick"})}function E1(n,e,t){let s=xc(n);return(t&&e!=="right"||!t&&e==="right")&&(s=w1(s)),s}function O1(n,e,t,s){const{top:i,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,d,f,g;const p=o-i,m=a-r;if(n.isHorizontal()){if(f=bt(s,r,a),xe(t)){const b=Object.keys(t)[0],y=t[b];g=u[b].getPixelForValue(y)+p-e}else t==="center"?g=(c.bottom+c.top)/2+p-e:g=Kh(n,t,e);d=a-r}else{if(xe(t)){const b=Object.keys(t)[0],y=t[b];f=u[b].getPixelForValue(y)-m+e}else t==="center"?f=(c.left+c.right)/2-m+e:f=Kh(n,t,e);g=bt(s,o,i),h=t==="left"?-tt:tt}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class Rs extends Bn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=Wt(e,Number.POSITIVE_INFINITY),t=Wt(t,Number.NEGATIVE_INFINITY),s=Wt(s,Number.POSITIVE_INFINITY),i=Wt(i,Number.NEGATIVE_INFINITY),{min:Wt(e,s),max:Wt(t,i),minDefined:Qe(e),maxDefined:Qe(t)}}getMinMax(e){let{min:t,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:t,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),r||(s=Math.max(s,o.max));return t=r&&t>s?s:t,s=i&&t>s?t:s,{min:Wt(t,Wt(s,t)),max:Wt(s,Wt(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){We(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=CS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Jh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=g1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){We(this.options.afterUpdate,[this])}beforeSetDimensions(){We(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){We(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),We(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){We(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=We(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){We(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){We(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Xh(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!t.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=ut(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-Pi(e.grid)-t.padding-Qh(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=wc(Math.min(Math.asin(ut((u.highest.height+6)/a,-1,1)),Math.asin(ut(l/c,-1,1))-Math.asin(ut(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){We(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){We(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Qh(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Pi(r)+l):(e.height=this.maxHeight,e.width=Pi(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,g=en(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=s.mirror?0:m*h.width+p*d.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=s.mirror?0:p*h.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=s*t.height):(d=s*e.height,f=i*t.width):r==="start"?f=t.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){We(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)_e(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Jh(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(t/Xh(t,s));let c=0,u=0,h,d,f,g,p,m,b,y,v,x,E;for(h=0;h<t;h+=l){if(g=e[h].label,p=this._resolveTickFontOptions(h),i.font=m=p.string,b=r[m]=r[m]||{data:{},gc:[]},y=p.lineHeight,v=x=0,!_e(g)&&!ze(g))v=To(i,b.data,b.gc,v,g),x=y;else if(ze(g))for(d=0,f=g.length;d<f;++d)E=g[d],!_e(E)&&!ze(E)&&(v=To(i,b.data,b.gc,v,E),x+=y);o.push(v),a.push(x),c=Math.max(v,c),u=Math.max(x,u)}x1(r,t);const O=o.indexOf(c),P=a.indexOf(u),R=H=>({width:o[H]||0,height:a[H]||0});return{first:R(0),last:R(t-1),widest:R(O),highest:R(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return iS(this._alignToPixels?ps(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=S1(this.getContext(),e,s))}return this.$context||(this.$context=k1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=en(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Pi(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(X){return ps(s,X,p)};let y,v,x,E,O,P,R,H,J,te,q,we;if(o==="top")y=b(this.bottom),P=this.bottom-d,H=y-m,te=b(e.top)+m,we=e.bottom;else if(o==="bottom")y=b(this.top),te=e.top,we=b(e.bottom)-m,P=y+m,H=this.top+d;else if(o==="left")y=b(this.right),O=this.right-d,R=y-m,J=b(e.left)+m,q=e.right;else if(o==="right")y=b(this.left),J=e.left,q=b(e.right)-m,O=y+m,R=this.left+d;else if(t==="x"){if(o==="center")y=b((e.top+e.bottom)/2+.5);else if(xe(o)){const X=Object.keys(o)[0],Y=o[X];y=b(this.chart.scales[X].getPixelForValue(Y))}te=e.top,we=e.bottom,P=y+m,H=P+d}else if(t==="y"){if(o==="center")y=b((e.left+e.right)/2);else if(xe(o)){const X=Object.keys(o)[0],Y=o[X];y=b(this.chart.scales[X].getPixelForValue(Y))}O=y-m,R=O-d,J=e.left,q=e.right}const Ye=ce(i.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/Ye));for(v=0;v<h;v+=re){const X=this.getContext(v),Y=r.setContext(X),Q=a.setContext(X),pe=Y.lineWidth,Xe=Y.color,se=Q.dash||[],me=Q.dashOffset,Te=Y.tickWidth,Ne=Y.tickColor,it=Y.tickBorderDash||[],Ue=Y.tickBorderDashOffset;x=v1(this,v,l),x!==void 0&&(E=ps(s,x,pe),c?O=R=J=q=E:P=H=te=we=E,f.push({tx1:O,ty1:P,tx2:R,ty2:H,x1:J,y1:te,x2:q,y2:we,width:pe,color:Xe,borderDash:se,borderDashOffset:me,tickWidth:Te,tickColor:Ne,tickBorderDash:it,tickBorderDashOffset:Ue}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=Pi(s.grid),f=d+u,g=h?-u:f,p=-en(this.labelRotation),m=[];let b,y,v,x,E,O,P,R,H,J,te,q,we="middle";if(i==="top")O=this.bottom-g,P=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+g,P=this._getXAxisLabelAlignment();else if(i==="left"){const re=this._getYAxisLabelAlignment(d);P=re.textAlign,E=re.x}else if(i==="right"){const re=this._getYAxisLabelAlignment(d);P=re.textAlign,E=re.x}else if(t==="x"){if(i==="center")O=(e.top+e.bottom)/2+f;else if(xe(i)){const re=Object.keys(i)[0],X=i[re];O=this.chart.scales[re].getPixelForValue(X)+f}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")E=(e.left+e.right)/2-f;else if(xe(i)){const re=Object.keys(i)[0],X=i[re];E=this.chart.scales[re].getPixelForValue(X)}P=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?we="top":l==="end"&&(we="bottom"));const Ye=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){v=a[b],x=v.label;const re=r.setContext(this.getContext(b));R=this.getPixelForTick(b)+r.labelOffset,H=this._resolveTickFontOptions(b),J=H.lineHeight,te=ze(x)?x.length:1;const X=te/2,Y=re.color,Q=re.textStrokeColor,pe=re.textStrokeWidth;let Xe=P;o?(E=R,P==="inner"&&(b===y-1?Xe=this.options.reverse?"left":"right":b===0?Xe=this.options.reverse?"right":"left":Xe="center"),i==="top"?c==="near"||p!==0?q=-te*J+J/2:c==="center"?q=-Ye.highest.height/2-X*J+J:q=-Ye.highest.height+J/2:c==="near"||p!==0?q=J/2:c==="center"?q=Ye.highest.height/2-X*J:q=Ye.highest.height-te*J,h&&(q*=-1),p!==0&&!re.showLabelBackdrop&&(E+=J/2*Math.sin(p))):(O=R,q=(1-te)*J/2);let se;if(re.showLabelBackdrop){const me=Ot(re.backdropPadding),Te=Ye.heights[b],Ne=Ye.widths[b];let it=q-me.top,Ue=0-me.left;switch(we){case"middle":it-=Te/2;break;case"bottom":it-=Te;break}switch(P){case"center":Ue-=Ne/2;break;case"right":Ue-=Ne;break;case"inner":b===y-1?Ue-=Ne:b>0&&(Ue-=Ne/2);break}se={left:Ue,top:it,width:Ne+me.width,height:Te+me.height,color:re.backdropColor}}m.push({label:x,font:H,textOffset:q,options:{rotation:p,color:Y,strokeColor:Q,strokeWidth:pe,textAlign:Xe,textBaseline:we,translation:[E,O],backdrop:se}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-en(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return t==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const l=i[r];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ps(e,this.left,o)-o/2,u=ps(e,this.right,a)+a/2,h=d=l):(h=ps(e,this.top,o)-o/2,d=ps(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&ea(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ms(s,c,0,u,l,a)}i&&ta(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const r=ct(s.font),o=Ot(s.padding),a=s.align;let l=r.lineHeight/2;t==="bottom"||t==="center"||xe(t)?(l+=o.bottom,ze(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=O1(this,l,t,a);Ms(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:E1(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=ce(e.grid&&e.grid.z,-1),i=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rs.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ct(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qr{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;C1(t)&&(s=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,P1(e,o,s),this.override&&qe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in qe[i]&&(delete qe[i][s],this.override&&delete As[s])}}function P1(n,e,t){const s=gr(Object.create(null),[t?qe.get(t):{},qe.get(e),n.defaults]);qe.set(e,s),n.defaultRoutes&&T1(e,n.defaultRoutes),n.descriptors&&qe.describe(e,n.descriptors)}function T1(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),i=s.pop(),r=[n].concat(s).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");qe.route(r,i,l,a)})}function C1(n){return"id"in n&&"defaults"in n}class A1{constructor(){this.controllers=new Qr(cs,"datasets",!0),this.elements=new Qr(Bn,"elements"),this.plugins=new Qr(Object,"plugins"),this.scales=new Qr(Rs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Le(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,s){const i=_c(e);We(s["before"+i],[],s),t[e](s),We(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var hn=new A1;class M1{constructor(){this._init=void 0}notify(e,t,s,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,s);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[t,i,r.options];if(We(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=ce(s.options&&s.options.plugins,{}),r=D1(s);return i===!1&&!t?[]:I1(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function D1(n){const e={},t=[],s=Object.keys(hn.plugins.items);for(let r=0;r<s.length;r++)t.push(hn.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function R1(n,e){return!e&&n===!1?null:n===!0?{}:n}function I1(n,{plugins:e,localIds:t},s,i){const r=[],o=n.getContext();for(const a of e){const l=a.id,c=R1(s[l],i);c!==null&&r.push({plugin:a,options:L1(n.config,{plugin:a,local:t[l]},c,o)})}return r}function L1(n,{plugin:e,local:t},s,i){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(s,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cl(n,e){const t=qe.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function N1(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function $1(n,e){return n===e?"_index_":"_value_"}function Zh(n){if(n==="x"||n==="y"||n==="r")return n}function F1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Al(n,...e){if(Zh(n))return n;for(const t of e){const s=t.axis||F1(t.position)||n.length>1&&Zh(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ed(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function j1(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return ed(n,"x",t[0])||ed(n,"y",t[0])}return{}}function B1(n,e){const t=As[n.type]||{scales:{}},s=e.scales||{},i=Cl(n.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!xe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Al(o,a,j1(o,n),qe.scales[a.type]),c=$1(l,i),u=t.scales||{};r[o]=Qi(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Cl(a,e),u=(As[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=N1(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Qi(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Qi(a,[qe.scales[a.type],qe.scale])}),r}function zp(n){const e=n.options||(n.options={});e.plugins=ce(e.plugins,{}),e.scales=B1(n,e)}function qp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function W1(n){return n=n||{},n.data=qp(n.data),zp(n),n}const td=new Map,Yp=new Set;function Zr(n,e){let t=td.get(n);return t||(t=e(),td.set(n,t),Yp.add(t)),t}const Ti=(n,e,t)=>{const s=ss(e,t);s!==void 0&&n.add(s)};class V1{constructor(e){this._config=W1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zp(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Zr(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Zr(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Zr(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return(!i||t)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Ti(l,e,h))),u.forEach(h=>Ti(l,i,h)),u.forEach(h=>Ti(l,As[r]||{},h)),u.forEach(h=>Ti(l,qe,h)),u.forEach(h=>Ti(l,Pl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Yp.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,As[t]||{},qe.datasets[t]||{},{type:t},qe,Pl]}resolveNamedOptions(e,t,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=nd(this._resolverCache,e,i);let l=o;if(U1(o,t)){r.$shared=!1,s=is(s)?s():s;const c=this.createResolver(e,s,a);l=gi(o,s,c)}for(const c of t)r[c]=l[c];return r}createResolver(e,t,s=[""],i){const{resolver:r}=nd(this._resolverCache,e,s);return xe(t)?gi(r,t,void 0,i):r}}function nd(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const i=t.join();let r=s.get(i);return r||(r={resolver:Ec(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const H1=n=>xe(n)&&Object.getOwnPropertyNames(n).some(e=>is(n[e]));function U1(n,e){const{isScriptable:t,isIndexable:s}=kp(n);for(const i of e){const r=t(i),o=s(i),a=(o||r)&&n[i];if(r&&(is(a)||H1(a))||o&&ze(a))return!0}return!1}var z1="4.5.1";const q1=["top","bottom","left","right","chartArea"];function sd(n,e){return n==="top"||n==="bottom"||q1.indexOf(n)===-1&&e==="x"}function id(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function rd(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),We(t&&t.onComplete,[n],e)}function Y1(n){const e=n.chart,t=e.options.animation;We(t&&t.onProgress,[n],e)}function Gp(n){return Tc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const uo={},od=n=>{const e=Gp(n);return Object.values(uo).filter(t=>t.canvas===e).pop()};function G1(n,e,t){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=e){const o=n[i];delete n[i],(t>0||r>e)&&(n[r+t]=o)}}}function K1(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}class _r{static defaults=qe;static instances=uo;static overrides=As;static registry=hn;static version=z1;static getChart=od;static register(...e){hn.add(...e),ad()}static unregister(...e){hn.remove(...e),ad()}constructor(e,t){const s=this.config=new V1(t),i=Gp(e),r=od(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||f1(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=zk(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new M1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lS(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],uo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xn.listen(this,"complete",rd),xn.listen(this,"progress",Y1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:r}=this;return _e(e)?t&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ch(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Oh(this.canvas,this.ctx),this}stop(){return xn.stop(this),this}resize(e,t){xn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ch(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),We(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Le(t,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],l=Al(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Le(r,o=>{const a=o.options,l=a.id,c=Al(l,a),u=ce(a.type,o.dtype);(a.position===void 0||sd(a.position,c)!==sd(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=hn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),Le(i,(o,a)=>{o||delete s[a]}),Le(s,o=>{kt.configure(this,o,o.options),kt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(id("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,i)=>{t.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const r=t[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Cl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=hn.getController(a),{datasetElementType:c,dataElementType:u}=qe.datasets[a];Object.assign(l,{dataElementType:hn.getElement(u),datasetElementType:c&&hn.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Le(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(id("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Le(this.scales,e=>{kt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!bh(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of t){const o=s==="_removeElements"?-r:r;G1(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<t;r++)if(!bh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kt.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Le(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,is(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xn.has(this)?this.attached&&!xn.running(this)&&xn.start(this):(this.draw(),rd({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,r;for(i=0,r=t.length;i<r;++i){const o=t[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Ip(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&ea(t,i),e.controller.draw(),i&&ta(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Mn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const r=qE.modes[t];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ls(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);pr(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Oh(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete uo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Le(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let r,o,a,l;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Eo(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(t,e),a=s?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:r}=this,o=t,a=this._getActiveElements(e,i,s,o),l=Jk(e),c=K1(e,this._lastEvent,s,l);s&&(this._lastEvent=null,We(r.onHover,[e,a,this],this),l&&We(r.onClick,[e,a,this],this));const u=!Eo(a,i);return(u||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,s,i){if(e.type==="mouseout")return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function ad(){return Le(_r.instances,n=>n._plugins.invalidate())}function X1(n,e,t){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,yt(s-t));if(n.beginPath(),n.arc(i,r,o-c/2,s+h/2,t-h/2),a>0){const d=Math.min(c/a,yt(s-t));n.arc(i,r,a+c/2,t-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*yt(s-t));if(u==="round")n.arc(i,r,d,t-Pe/2,s+Pe/2,!0);else if(u==="bevel"){const f=2*d*d,g=-f*Math.cos(t+Pe/2)+i,p=-f*Math.sin(t+Pe/2)+r,m=f*Math.cos(s+Pe/2)+i,b=f*Math.sin(s+Pe/2)+r;n.lineTo(g,p),n.lineTo(m,b)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function J1(n,e,t){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;n.beginPath(),n.arc(r,o,a,s-c,t+c),l>i?(c=i/l,n.arc(r,o,l,t+c,s-c,!0)):n.arc(r,o,i,t+tt,s-tt),n.closePath(),n.clip()}function Q1(n){return Sc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Z1(n,e,t,s){const i=Q1(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(t-Math.min(r,l))*s/2;return ut(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ut(i.innerStart,0,o),innerEnd:ut(i.innerEnd,0,o)}}function zs(n,e,t,s){return{x:t+n*Math.cos(e),y:s+n*Math.sin(e)}}function Mo(n,e,t,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+s+t-c,0),d=u>0?u+s+t+c:0;let f=0;const g=i-l;if(s){const re=u>0?u-s:0,X=h>0?h-s:0,Y=(re+X)/2,Q=Y!==0?g*Y/(Y+s):g;f=(g-Q)/2}const p=Math.max(.001,g*h-t/Pe)/h,m=(g-p)/2,b=l+m+f,y=i-m-f,{outerStart:v,outerEnd:x,innerStart:E,innerEnd:O}=Z1(e,d,h,y-b),P=h-v,R=h-x,H=b+v/P,J=y-x/R,te=d+E,q=d+O,we=b+E/te,Ye=y-O/q;if(n.beginPath(),r){const re=(H+J)/2;if(n.arc(o,a,h,H,re),n.arc(o,a,h,re,J),x>0){const pe=zs(R,J,o,a);n.arc(pe.x,pe.y,x,J,y+tt)}const X=zs(q,y,o,a);if(n.lineTo(X.x,X.y),O>0){const pe=zs(q,Ye,o,a);n.arc(pe.x,pe.y,O,y+tt,Ye+Math.PI)}const Y=(y-O/d+(b+E/d))/2;if(n.arc(o,a,d,y-O/d,Y,!0),n.arc(o,a,d,Y,b+E/d,!0),E>0){const pe=zs(te,we,o,a);n.arc(pe.x,pe.y,E,we+Math.PI,b-tt)}const Q=zs(P,b,o,a);if(n.lineTo(Q.x,Q.y),v>0){const pe=zs(P,H,o,a);n.arc(pe.x,pe.y,v,b-tt,H)}}else{n.moveTo(o,a);const re=Math.cos(H)*h+o,X=Math.sin(H)*h+a;n.lineTo(re,X);const Y=Math.cos(J)*h+o,Q=Math.sin(J)*h+a;n.lineTo(Y,Q)}n.closePath()}function eO(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Mo(n,e,t,s,l,i);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%Ve||Ve))}return Mo(n,e,t,s,l,i),n.fill(),l}function tO(n,e,t,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=d,g?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let p=e.endAngle;if(r){Mo(n,e,t,s,p,i);for(let m=0;m<r;++m)n.stroke();isNaN(a)||(p=o+(a%Ve||Ve))}g&&J1(n,e,p),l.selfJoin&&p-o>=Pe&&f===0&&u!=="miter"&&X1(n,e,p),r||(Mo(n,e,t,s,p,i),n.stroke())}class nO extends Bn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=fp(i,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=ce(h,l-a),g=mr(r,a,l)&&a!==l,p=f>=Ve||g,m=Cn(o,c+d,u+d);return p&&m}getCenterPoint(e){const{x:t,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:t+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>Ve?Math.floor(s/Ve):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(Pe,s||0)),c=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,eO(e,this,c,r,o),tO(e,this,c,r,o),e.restore()}}function Kp(n,e,t=e){n.lineCap=ce(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ce(t.borderDash,e.borderDash)),n.lineDashOffset=ce(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ce(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ce(t.borderWidth,e.borderWidth),n.strokeStyle=ce(t.borderColor,e.borderColor)}function sO(n,e,t){n.lineTo(t.x,t.y)}function iO(n){return n.stepped?wS:n.tension||n.cubicInterpolationMode==="monotone"?vS:sO}function Xp(n,e,t={}){const s=n.length,{start:i=0,end:r=s-1}=t,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function rO(n,e,t,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Xp(i,t,s),u=iO(r);let{move:h=!0,reverse:d}=s||{},f,g,p;for(f=0;f<=c;++f)g=i[(a+(d?c-f:f))%o],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):u(n,p,g,d,r.stepped),p=g);return l&&(g=i[(a+(d?c:0))%o],u(n,p,g,d,r.stepped)),!!l}function oO(n,e,t,s){const i=e.points,{count:r,start:o,ilen:a}=Xp(i,t,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,g,p,m,b;const y=x=>(o+(c?a-x:x))%r,v=()=>{p!==m&&(n.lineTo(u,m),n.lineTo(u,p),n.lineTo(u,b))};for(l&&(f=i[y(0)],n.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,E=f.y,O=x|0;O===g?(E<p?p=E:E>m&&(m=E),u=(h*u+x)/++h):(v(),n.lineTo(x,E),g=O,h=0,p=m=E),b=E}v()}function Ml(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?oO:rO}function aO(n){return n.stepped?ZS:n.tension||n.cubicInterpolationMode==="monotone"?eE:vs}function lO(n,e,t,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,s)&&i.closePath()),Kp(n,e.options),n.stroke(i)}function cO(n,e,t,s){const{segments:i,options:r}=e,o=Ml(e);for(const a of i)Kp(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const uO=typeof Path2D=="function";function hO(n,e,t,s){uO&&!e.options.segment?lO(n,e,t,s):cO(n,e,t,s)}class ia extends Bn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;zS(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oE(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],r=this.points,o=Rp(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],l=aO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const p=Math.abs((i-f[t])/(g[t]-f[t])),m=l(f,g,p,s.stepped);m[t]=e[t],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,t,s){return Ml(this)(e,this,t,s)}path(e,t,s){const i=this.segments,r=Ml(this);let o=this._loop;t=t||0,s=s||this.points.length-t;for(const a of i)o&=r(e,this,a,{start:t,end:t+s-1});return!!o}draw(e,t,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),hO(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ld(n,e,t,s){const i=n.options,{[t]:r}=n.getProps([t],s);return Math.abs(e-r)<i.radius+i.hitRadius}class dO extends Bn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return ld(this,e,"x",t)}inYRange(e,t){return ld(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!Mn(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Tl(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Jp(n,e){const{x:t,y:s,base:i,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(t,i),l=Math.max(t,i),c=s-h,u=s+h):(h=r/2,a=t-h,l=t+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Zn(n,e,t,s){return n?0:ut(e,t,s)}function fO(n,e,t){const s=n.options.borderWidth,i=n.borderSkipped,r=xp(s);return{t:Zn(i.top,r.top,0,t),r:Zn(i.right,r.right,0,e),b:Zn(i.bottom,r.bottom,0,t),l:Zn(i.left,r.left,0,e)}}function gO(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=Ts(i),o=Math.min(e,t),a=n.borderSkipped,l=s||xe(i);return{topLeft:Zn(!l||a.top||a.left,r.topLeft,0,o),topRight:Zn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Zn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Zn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function pO(n){const e=Jp(n),t=e.right-e.left,s=e.bottom-e.top,i=fO(n,t/2,s/2),r=gO(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ua(n,e,t,s){const i=e===null,r=t===null,a=n&&!(i&&r)&&Jp(n,s);return a&&(i||Cn(e,a.left,a.right))&&(r||Cn(t,a.top,a.bottom))}function mO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function bO(n,e){n.rect(e.x,e.y,e.w,e.h)}function za(n,e,t={}){const s=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-s,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+o,radius:n.radius}}class yO extends Bn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=pO(this),a=mO(o.radius)?br:bO;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,za(o,t,r)),e.clip(),a(e,za(r,-t,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,za(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,s){return Ua(this,e,t,s)}inXRange(e,t){return Ua(this,e,null,t)}inYRange(e,t){return Ua(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var _O=Object.freeze({__proto__:null,ArcElement:nO,BarElement:yO,LineElement:ia,PointElement:dO});const Dl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cd=Dl.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qp(n){return Dl[n%Dl.length]}function Zp(n){return cd[n%cd.length]}function wO(n,e){return n.borderColor=Qp(e),n.backgroundColor=Zp(e),++e}function vO(n,e){return n.backgroundColor=n.data.map(()=>Qp(e++)),e}function xO(n,e){return n.backgroundColor=n.data.map(()=>Zp(e++)),e}function kO(n){let e=0;return(t,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof Ac?e=vO(t,e):i instanceof Fp?e=xO(t,e):i&&(e=wO(t,e))}}function ud(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function SO(n){return n&&(n.borderColor||n.backgroundColor)}function EO(){return qe.borderColor!=="rgba(0,0,0,0.1)"||qe.backgroundColor!=="rgba(0,0,0,0.1)"}var OO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,o=ud(s)||SO(i)||r&&ud(r)||EO();if(!t.forceOverride&&o)return;const a=kO(n);s.forEach(a)}};function PO(n,e,t,s,i){const r=i.samples||s;if(r>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(r-2);let l=0;const c=e+t-1;let u=e,h,d,f,g,p;for(o[l++]=n[u],h=0;h<r-2;h++){let m=0,b=0,y;const v=Math.floor((h+1)*a)+1+e,x=Math.min(Math.floor((h+2)*a)+1,t)+e,E=x-v;for(y=v;y<x;y++)m+=n[y].x,b+=n[y].y;m/=E,b/=E;const O=Math.floor(h*a)+1+e,P=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:R,y:H}=n[u];for(f=g=-1,y=O;y<P;y++)g=.5*Math.abs((R-m)*(n[y].y-H)-(R-n[y].x)*(b-H)),g>f&&(f=g,d=n[y],p=y);o[l++]=d,u=p}return o[l++]=n[c],o}function TO(n,e,t,s){let i=0,r=0,o,a,l,c,u,h,d,f,g,p;const m=[],b=e+t-1,y=n[e].x,x=n[b].x-y;for(o=e;o<e+t;++o){a=n[o],l=(a.x-y)/x*s,c=a.y;const E=l|0;if(E===u)c<g?(g=c,h=o):c>p&&(p=c,d=o),i=(r*i+a.x)/++r;else{const O=o-1;if(!_e(h)&&!_e(d)){const P=Math.min(h,d),R=Math.max(h,d);P!==f&&P!==O&&m.push({...n[P],x:i}),R!==f&&R!==O&&m.push({...n[R],x:i})}o>0&&O!==f&&m.push(n[O]),m.push(a),u=E,r=0,g=p=c,h=d=f=o}}return m}function em(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function hd(n){n.data.datasets.forEach(e=>{em(e)})}function CO(n,e){const t=e.length;let s=0,i;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ut(An(e,r.axis,o).lo,0,t-1)),c?i=ut(An(e,r.axis,a).hi+1,s,t)-s:i=t-s,{start:s,count:i}}var AO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){hd(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(r),c=o||i.data;if(Fi([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:d}=CO(l,c);const f=t.threshold||4*s;if(d<=f){em(i);return}_e(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(t.algorithm){case"lttb":g=PO(c,h,d,s,t);break;case"min-max":g=TO(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=g})},destroy(n){hd(n)}};function MO(n,e,t){const s=n.segments,i=n.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=ra(l,c,i);const u=Rl(t,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=Rp(e,u);for(const d of h){const f=Rl(t,r[d.start],r[d.end],d.loop),g=Dp(a,i,f);for(const p of g)o.push({source:p,target:d,start:{[t]:dd(u,f,"start",Math.max)},end:{[t]:dd(u,f,"end",Math.min)}})}}return o}function Rl(n,e,t,s){if(s)return;let i=e[n],r=t[n];return n==="angle"&&(i=yt(i),r=yt(r)),{property:n,start:i,end:r}}function DO(n,e){const{x:t=null,y:s=null}=n||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=ra(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:c.y}))}),r}function ra(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function dd(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function tm(n,e){let t=[],s=!1;return ze(n)?(s=!0,t=n):t=DO(n,e),t.length?new ia({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function fd(n){return n&&n.fill!==!1}function RO(n,e,t){let i=n[e].fill;const r=[e];let o;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Qe(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function IO(n,e,t){const s=FO(n);if(xe(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Qe(i)&&Math.floor(i)===i?LO(s[0],e,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function LO(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function NO(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:xe(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function $O(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:xe(n)?s=n.value:s=e.getBaseValue(),s}function FO(n){const e=n.options,t=e.fill;let s=ce(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function jO(n){const{scale:e,index:t,line:s}=n,i=[],r=s.segments,o=s.points,a=BO(e,t);a.push(tm({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)WO(i,o[u],a)}return new ia({points:i,options:{}})}function BO(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function WO(n,e,t){const s=[];for(let i=0;i<t.length;i++){const r=t[i],{first:o,last:a,point:l}=VO(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function VO(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const i=s[t],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][t],d=o[u.end][t];if(Cn(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class nm{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:r,radius:o}=this;return t=t||{start:0,end:Ve},e.arc(i,r,o,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function HO(n){const{chart:e,fill:t,line:s}=n;if(Qe(t))return UO(e,t);if(t==="stack")return jO(n);if(t==="shape")return!0;const i=zO(n);return i instanceof nm?i:tm(i,s)}function UO(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function zO(n){return(n.scale||{}).getPointPositionForValue?YO(n):qO(n)}function qO(n){const{scale:e={},fill:t}=n,s=NO(t,e);if(Qe(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function YO(n){const{scale:e,fill:t}=n,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=$O(t,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new nm({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function qa(n,e,t){const s=HO(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},g=i.getDatasetMeta(r),p=Ip(i,g);s&&o.points.length&&(ea(n,t),GO(n,{line:o,target:s,above:d,below:f,area:t,scale:a,axis:l,clip:p}),ta(n))}function GO(n,e){const{line:t,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let u=r;r!==i&&(c==="x"?(gd(n,s,o.top),Ya(n,{line:t,target:s,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),gd(n,s,o.bottom)):c==="y"&&(pd(n,s,o.left),Ya(n,{line:t,target:s,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),pd(n,s,o.right),u=i)),Ya(n,{line:t,target:s,color:u,scale:a,property:c,clip:l}),n.restore()}function gd(n,e,t){const{segments:s,points:i}=e;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[ra(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function pd(n,e,t){const{segments:s,points:i}=e;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[ra(l,c,i)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,h.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Ya(n,e){const{line:t,target:s,property:i,color:r,scale:o,clip:a}=e,l=MO(t,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,g=s!==!0;n.save(),n.fillStyle=f,KO(n,o,a,g&&Rl(i,h,d)),n.beginPath();const p=!!t.pathSegment(n,c);let m;if(g){p?n.closePath():md(n,s,d,i);const b=!!s.pathSegment(n,u,{move:p,reverse:!0});m=p&&b,m||md(n,s,h,i)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function KO(n,e,t,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),h=Math.min(h,t.bottom)),n.rect(l,c,u-l,h-c),n.clip()}}function md(n,e,t,s){const i=e.interpolate(t,s);i&&n.lineTo(i.x,i.y)}var XO={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ia&&(l={visible:n.isDatasetVisible(o),index:o,fill:IO(a,o,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=RO(i,o,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&qa(n.ctx,a,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;fd(r)&&qa(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!fd(s)||t.drawTime!=="beforeDatasetDraw"||qa(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bd=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},JO=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class yd extends Bn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=We(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=ct(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=bd(s,r);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,p)=>{const m=s+t/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,f+=u,d++),l[p]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(e,t,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:v}=QO(s,t,r,m,i);b>0&&f+v+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[b]={left:g,top:f,col:p,width:y,height:v},d=Math.max(d,y),f+=v+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:r}}=this,o=oi(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=bt(s,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=bt(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=bt(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=bt(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ea(e,this),this._draw(),ta(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=qe.color,l=oi(e.rtl,this.left,this.width),c=ct(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=bd(o,h),b=function(O,P,R){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const H=ce(R.lineWidth,1);if(i.fillStyle=ce(R.fillStyle,a),i.lineCap=ce(R.lineCap,"butt"),i.lineDashOffset=ce(R.lineDashOffset,0),i.lineJoin=ce(R.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=ce(R.strokeStyle,a),i.setLineDash(ce(R.lineDash,[])),o.usePointStyle){const J={radius:p*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:H},te=l.xPlus(O,g/2),q=P+d;vp(i,J,te,q,o.pointStyleWidth&&g)}else{const J=P+Math.max((h-p)/2,0),te=l.leftForLtr(O,g),q=Ts(R.borderRadius);i.beginPath(),Object.values(q).some(we=>we!==0)?br(i,{x:te,y:J,w:g,h:p,radius:q}):i.rect(te,J,g,p),i.fill(),H!==0&&i.stroke()}i.restore()},y=function(O,P,R){Ms(i,R.text,O,P+m/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},v=this.isHorizontal(),x=this._computeTitleHeight();v?f={x:bt(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:bt(r,this.top+x+u,this.bottom-t[0].height),line:0},Cp(this.ctx,e.textDirection);const E=m+u;this.legendItems.forEach((O,P)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const R=i.measureText(O.text).width,H=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),J=g+d+R;let te=f.x,q=f.y;l.setWidth(this.width),v?P>0&&te+J+u>this.right&&(q=f.y+=E,f.line++,te=f.x=bt(r,this.left+u,this.right-s[f.line])):P>0&&q+E>this.bottom&&(te=f.x=te+t[f.line].width+u,f.line++,q=f.y=bt(r,this.top+x+u,this.bottom-t[f.line].height));const we=l.x(te);if(b(we,q,O),te=cS(H,te+g+d,v?te+J:this.right,e.rtl),y(l.x(te),q,O),v)f.x+=J+u;else if(typeof O.text!="string"){const Ye=c.lineHeight;f.y+=sm(O,Ye)+u}else f.y+=E}),Ap(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=ct(t.font),i=Ot(t.padding);if(!t.display)return;const r=oi(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=bt(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+bt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=bt(a,h,h+d);o.textAlign=r.textAlign(xc(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=s.string,Ms(o,t.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,t=ct(e.font),s=Ot(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,r;if(Cn(e,this.left,this.right)&&Cn(t,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Cn(e,i.left,i.left+i.width)&&Cn(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!tP(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=JO(i,s);i&&!r&&We(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&We(t.onHover,[e,s,this],this)}else s&&We(t.onClick,[e,s,this],this)}}function QO(n,e,t,s,i){const r=ZO(s,n,e,t),o=eP(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function ZO(n,e,t,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+s.measureText(i).width}function eP(n,e,t){let s=n;return typeof e.text!="string"&&(s=sm(e,t)),s}function sm(n,e){const t=n.text?n.text.length:0;return e*t}function tP(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var nP={id:"legend",_element:yd,start(n,e,t){const s=n.legend=new yd({ctx:n.ctx,options:t,chart:n});kt.configure(n,s,t),kt.addBox(n,s)},stop(n){kt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;kt.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Ot(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Dc extends Bn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=ze(s.text)?s.text.length:1;this._padding=Ot(s.padding);const r=i*ct(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=bt(a,s,r),h=t+e,c=r-s):(o.position==="left"?(u=s+e,h=bt(a,i,t),l=Pe*-.5):(u=r-e,h=bt(a,t,i),l=Pe*.5),c=i-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=ct(t.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ms(e,t.text,0,0,s,{color:t.color,maxWidth:l,rotation:c,textAlign:xc(t.align),textBaseline:"middle",translation:[o,a]})}}function sP(n,e){const t=new Dc({ctx:n.ctx,options:e,chart:n});kt.configure(n,t,e),kt.addBox(n,t),n.titleBlock=t}var iP={id:"title",_element:Dc,start(n,e,t){sP(n,t)},stop(n){const e=n.titleBlock;kt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;kt.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eo=new WeakMap;var rP={id:"subtitle",start(n,e,t){const s=new Dc({ctx:n.ctx,options:t,chart:n});kt.configure(n,s,t),kt.addBox(n,s),eo.set(n,s)},stop(n){kt.removeBox(n,eo.get(n)),eo.delete(n)},beforeUpdate(n,e,t){const s=eo.get(n);kt.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bi={average(n){if(!n.length)return!1;let e,t,s=new Set,i=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ol(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,s=l.y}return{x:t,y:s}}};function cn(n,e){return e&&(ze(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function kn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function oP(n,e){const{element:t,datasetIndex:s,index:i}=e,r=n.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:n,label:o,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function _d(n,e){const t=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:o,boxHeight:a}=e,l=ct(e.bodyFont),c=ct(e.titleFont),u=ct(e.footerFont),h=r.length,d=i.length,f=s.length,g=Ot(e.padding);let p=g.height,m=0,b=s.reduce((x,E)=>x+E.before.length+E.lines.length+E.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(x){m=Math.max(m,t.measureText(x).width+y)};return t.save(),t.font=c.string,Le(n.title,v),t.font=l.string,Le(n.beforeBody.concat(n.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,Le(s,x=>{Le(x.before,v),Le(x.lines,v),Le(x.after,v)}),y=0,t.font=u.string,Le(n.footer,v),t.restore(),m+=g.width,{width:m,height:p}}function aP(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function lP(n,e,t,s){const{x:i,width:r}=s,o=t.caretSize+t.caretPadding;if(n==="left"&&i+r+o>e.width||n==="right"&&i-r-o<0)return!0}function cP(n,e,t,s){const{x:i,width:r}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),lP(c,n,e,t)&&(c="center"),c}function wd(n,e,t){const s=t.yAlign||e.yAlign||aP(n,t);return{xAlign:t.xAlign||e.xAlign||cP(n,e,t,s),yAlign:s}}function uP(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function hP(n,e,t){let{y:s,height:i}=n;return e==="top"?s+=t:e==="bottom"?s-=i+t:s-=i/2,s}function vd(n,e,t,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ts(o);let g=uP(e,a);const p=hP(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:ut(g,0,s.width-e.width),y:ut(p,0,s.height-e.height)}}function to(n,e,t){const s=Ot(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function xd(n){return cn([],kn(n))}function dP(n,e,t){return ls(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function kd(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const im={beforeTitle:vn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:vn,beforeBody:vn,beforeLabel:vn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return _e(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vn,afterBody:vn,beforeFooter:vn,footer:vn,afterFooter:vn};function Dt(n,e,t,s){const i=n[e].call(t,s);return typeof i>"u"?im[e].call(t,s):i}class Sd extends Bn{static positioners=Bi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,r=new Lp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=dP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,i=Dt(s,"beforeTitle",this,e),r=Dt(s,"title",this,e),o=Dt(s,"afterTitle",this,e);let a=[];return a=cn(a,kn(i)),a=cn(a,kn(r)),a=cn(a,kn(o)),a}getBeforeBody(e,t){return xd(Dt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return Le(e,r=>{const o={before:[],lines:[],after:[]},a=kd(s,r);cn(o.before,kn(Dt(a,"beforeLabel",this,r))),cn(o.lines,Dt(a,"label",this,r)),cn(o.after,kn(Dt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,t){return xd(Dt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=Dt(s,"beforeFooter",this,e),r=Dt(s,"footer",this,e),o=Dt(s,"afterFooter",this,e);let a=[];return a=cn(a,kn(i)),a=cn(a,kn(r)),a=cn(a,kn(o)),a}_createItems(e){const t=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(oP(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),Le(a,u=>{const h=kd(e.callbacks,u);i.push(Dt(h,"labelColor",this,u)),r.push(Dt(h,"labelPointStyle",this,u)),o.push(Dt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Bi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=_d(this,s),c=Object.assign({},a,l),u=wd(this.chart,s,c),h=vd(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const r=this.getCaretPosition(e,s,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ts(a),{x:d,y:f}=e,{width:g,height:p}=t;let m,b,y,v,x,E;return r==="center"?(x=f+p/2,i==="left"?(m=d,b=m-o,v=x+o,E=x-o):(m=d+g,b=m+o,v=x-o,E=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+g-Math.max(c,h)-o:b=this.caretX,r==="top"?(v=f,x=v-o,m=b-o,y=b+o):(v=f+p,x=v+o,m=b+o,y=b-o),E=v),{x1:m,x2:b,x3:y,y1:v,y2:x,y3:E}}drawTitle(e,t,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=oi(s.rtl,this.x,this.width);for(e.x=to(this,s.titleAlign,s),t.textAlign=c.textAlign(s.titleAlign),t.textBaseline="middle",o=ct(s.titleFont),a=s.titleSpacing,t.fillStyle=s.titleColor,t.font=o.string,l=0;l<r;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,t,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ct(r.bodyFont),h=to(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Tl(e,p,m,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Tl(e,p,m,b)}else{e.lineWidth=xe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=Ts(o.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,br(e,{x:p,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),br(e,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ct(s.bodyFont);let d=h.lineHeight,f=0;const g=oi(s.rtl,this.x,this.width),p=function(R){t.fillText(R,g.x(e.x+f),e.y+d/2),e.y+=d+r},m=g.textAlign(o);let b,y,v,x,E,O,P;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=to(this,m,s),t.fillStyle=s.bodyColor,Le(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,O=i.length;x<O;++x){for(b=i[x],y=this.labelTextColors[x],t.fillStyle=y,Le(b.before,p),v=b.lines,a&&v.length&&(this._drawColorBox(t,e,x,g,s),d=Math.max(h.lineHeight,l)),E=0,P=v.length;E<P;++E)p(v[E]),d=h.lineHeight;Le(b.after,p)}f=0,d=h.lineHeight,Le(this.afterBody,p),e.y-=r}drawFooter(e,t,s){const i=this.footer,r=i.length;let o,a;if(r){const l=oi(s.rtl,this.x,this.width);for(e.x=to(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",o=ct(s.footerFont),t.fillStyle=s.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Ts(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,s,i),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,t,s,i),t.lineTo(a+c,l+u-g),t.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,t,s,i),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,t,s,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Bi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=_d(this,e),l=Object.assign({},o,this._size),c=wd(t,e,l),u=vd(e,l,c,t);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ot(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,t),Cp(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Ap(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Eo(s,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,s),a=this._positionChanged(o,e),l=t||!Eo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:s,caretY:i,options:r}=this,o=Bi[r.position].call(this,e,t);return o!==!1&&(s!==o.x||i!==o.y)}}var fP={id:"tooltip",_element:Sd,positioners:Bi,afterInit(n,e,t){t&&(n.tooltip=new Sd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:im},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gP=Object.freeze({__proto__:null,Colors:OO,Decimation:AO,Filler:XO,Legend:nP,SubTitle:rP,Title:iP,Tooltip:fP});const pP=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function mP(n,e,t,s){const i=n.indexOf(e);if(i===-1)return pP(n,e,t,s);const r=n.lastIndexOf(e);return i!==r?t:i}const bP=(n,e)=>n===null?null:ut(Math.round(n),0,e);function Ed(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class yP extends Rs{static id="category";static defaults={ticks:{callback:Ed}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:i,label:r}of t)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(_e(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:mP(s,e,ce(t,e),this._addedLabels),bP(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return Ed.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function _P(n,e){const t=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=n,f=r||1,g=u-1,{min:p,max:m}=e,b=!_e(o),y=!_e(a),v=!_e(c),x=(m-p)/(h+1);let E=_h((m-p)/g/f)*f,O,P,R,H;if(E<1e-14&&!b&&!y)return[{value:p},{value:m}];H=Math.ceil(m/E)-Math.floor(p/E),H>g&&(E=_h(H*E/g/f)*f),_e(l)||(O=Math.pow(10,l),E=Math.ceil(E*O)/O),i==="ticks"?(P=Math.floor(p/E)*E,R=Math.ceil(m/E)*E):(P=p,R=m),b&&y&&r&&nS((a-o)/r,E/1e3)?(H=Math.round(Math.min((a-o)/E,u)),E=(a-o)/H,P=o,R=a):v?(P=b?o:P,R=y?a:R,H=c-1,E=(R-P)/H):(H=(R-P)/E,Zi(H,Math.round(H),E/1e3)?H=Math.round(H):H=Math.ceil(H));const J=Math.max(wh(E),wh(P));O=Math.pow(10,_e(l)?J:l),P=Math.round(P*O)/O,R=Math.round(R*O)/O;let te=0;for(b&&(d&&P!==o?(t.push({value:o}),P<o&&te++,Zi(Math.round((P+te*E)*O)/O,o,Od(o,x,n))&&te++):P<o&&te++);te<H;++te){const q=Math.round((P+te*E)*O)/O;if(y&&q>a)break;t.push({value:q})}return y&&d&&R!==a?t.length&&Zi(t[t.length-1].value,a,Od(a,x,n))?t[t.length-1].value=a:t.push({value:a}):(!y||R===a)&&t.push({value:R}),t}function Od(n,e,{horizontal:t,minRotation:s}){const i=en(s),r=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class Do extends Rs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return _e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=t?i:l,a=l=>r=s?r:l;if(e){const l=mn(i),c=mn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=_P(i,r);return e.bounds==="ticks"&&dp(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Pr(e,this.chart.options.locale,this.options.ticks.format)}}class wP extends Do{static id="linear";static defaults={ticks:{callback:Zo.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=en(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const wr=n=>Math.floor(Jn(n)),bs=(n,e)=>Math.pow(10,wr(n)+e);function Pd(n){return n/Math.pow(10,wr(n))===1}function Td(n,e,t){const s=Math.pow(10,t),i=Math.floor(n/s);return Math.ceil(e/s)-i}function vP(n,e){const t=e-n;let s=wr(t);for(;Td(n,e,s)>10;)s++;for(;Td(n,e,s)<10;)s--;return Math.min(s,wr(n))}function xP(n,{min:e,max:t}){e=Wt(n.min,e);const s=[],i=wr(e);let r=vP(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Wt(n.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<t;)s.push({value:d,major:Pd(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Wt(n.max,d);return s.push({value:f,major:Pd(f),significand:h}),s}class kP extends Rs{static id="logarithmic";static defaults={ticks:{callback:Zo.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Do.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return Qe(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qe(e)?Math.max(0,e):null,this.max=Qe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qe(this._userMin)&&(this.min=e===bs(this.min,0)?bs(this.min,-1):bs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=t?i:a;s===i&&(s<=0?(r(1),o(10)):(r(bs(s,-1)),o(bs(i,1)))),s<=0&&r(bs(i,-1)),i<=0&&o(bs(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=xP(t,this);return e.bounds==="ticks"&&dp(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Pr(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Jn(e),this._valueRange=Jn(this.max)-Jn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Jn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Il(n){const e=n.ticks;if(e.display&&n.display){const t=Ot(e.backdropPadding);return ce(e.font&&e.font.size,qe.font.size)+t.height}return 0}function SP(n,e,t){return t=ze(t)?t:[t],{w:_S(n,e.string,t),h:t.length*e.lineHeight}}function Cd(n,e,t,s,i){return n===s||n===i?{start:e-t/2,end:e+t/2}:n<s||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function EP(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),s=[],i=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Pe/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),h=ct(c.font),d=SP(n.ctx,h,n._pointLabels[l]);s[l]=d;const f=yt(n.getIndexAngle(l)+a),g=Math.round(wc(f)),p=Cd(g,u.x,d.w,0,180),m=Cd(g,u.y,d.h,90,270);OP(t,e,f,p,m)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=CP(n,s,i)}function OP(n,e,t,s,i){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,n.l=Math.min(n.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function PP(n,e,t){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=t,l=n.getPointPosition(e,s+i+o,r),c=Math.round(wc(yt(l.angle+tt))),u=DP(l.y,a.h,c),h=AP(c),d=MP(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function TP(n,e){if(!e)return!0;const{left:t,top:s,right:i,bottom:r}=n;return!(Mn({x:t,y:s},e)||Mn({x:t,y:r},e)||Mn({x:i,y:s},e)||Mn({x:i,y:r},e))}function CP(n,e,t){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Il(r)/2,additionalAngle:o?Pe/i:0};let c;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];const h=PP(n,u,l);s.push(h),a==="auto"&&(h.visible=TP(h,c),h.visible&&(c=h))}return s}function AP(n){return n===0||n===180?"center":n<180?"left":"right"}function MP(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function DP(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function RP(n,e,t){const{left:s,top:i,right:r,bottom:o}=t,{backdropColor:a}=e;if(!_e(a)){const l=Ts(e.borderRadius),c=Ot(e.backdropPadding);n.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(n.beginPath(),br(n,{x:u,y:h,w:d,h:f,radius:l}),n.fill()):n.fillRect(u,h,d,f)}}function IP(n,e){const{ctx:t,options:{pointLabels:s}}=n;for(let i=e-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(n.getPointLabelContext(i));RP(t,o,r);const a=ct(o.font),{x:l,y:c,textAlign:u}=r;Ms(t,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function rm(n,e,t,s){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Ve);else{let r=n.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=n.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function LP(n,e,t,s,i){const r=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),rm(n,t,o,s),r.closePath(),r.stroke(),r.restore())}function NP(n,e,t){return ls(n,{label:t,index:e,type:"pointLabel"})}class $P extends Do{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ot(Il(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Qe(e)&&!isNaN(e)?e:0,this.max=Qe(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Il(this.options))}generateTickLabels(e){Do.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,s)=>{const i=We(this.options.pointLabels.callback,[t,s],this);return i||i===0?i:""}).filter((t,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?EP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,i))}getIndexAngle(e){const t=Ve/(this._pointLabels.length||1),s=this.options.startAngle||0;return yt(e*t+en(s))}getDistanceFromCenterForValue(e){if(_e(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(_e(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return NP(this.getContext(),e,s)}}getPointPosition(e,t,s=0){const i=this.getIndexAngle(e)-tt+s;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),rm(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:i,border:r}=t,o=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&IP(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),g=r.setContext(d);LP(this,f,l,o,g)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=s.setContext(this.getContext(l)),u=ct(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Ot(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Ms(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const oa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(oa);function Ad(n,e){return n-e}function Md(n,e){if(_e(e))return null;const t=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Qe(o)||(o=typeof s=="string"?t.parse(o,s):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(fi(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,i)),+o)}function Dd(n,e,t,s){const i=Nt.length;for(let r=Nt.indexOf(n);r<i-1;++r){const o=oa[Nt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=s)return Nt[r]}return Nt[i-1]}function FP(n,e,t,s,i){for(let r=Nt.length-1;r>=Nt.indexOf(t);r--){const o=Nt[r];if(oa[o].common&&n._adapter.diff(i,s,o)>=e-1)return o}return Nt[t?Nt.indexOf(t):0]}function jP(n){for(let e=Nt.indexOf(n)+1,t=Nt.length;e<t;++e)if(oa[Nt[e]].common)return Nt[e]}function Rd(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:i}=vc(t,e),r=t[s]>=e?t[s]:t[i];n[r]=!0}}function BP(n,e,t,s){const i=n._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=t[a],l>=0&&(e[l].major=!0);return e}function Id(n,e,t){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!t?s:BP(n,s,i,t)}class Ll extends Rs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new jp._date(e.adapters.date);i.init(t),Qi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Md(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Qe(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),r=Qe(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=oS(i,r,o);return this._unit=t.unit||(s.autoSkip?Dd(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):FP(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:jP(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Id(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=ut(t,0,o),s=ut(s,0,o),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Dd(r.minUnit,t,s,this._getLabelCapacity(t)),a=ce(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=fi(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,t,o)>1e5*a)throw new Error(t+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+e.add(d,a,o),f++)Rd(u,d,g);return(d===s||i.bounds==="ticks"||f===1)&&Rd(u,d,g),Object.keys(u).sort(Ad).map(p=>+p)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,o=t||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,s,i){const r=this.options,o=r.ticks.callback;if(o)return We(o,[e,t,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[t],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=en(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Id(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,s=i.length;t<s;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(Md(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return pp(e.sort(Ad))}}function no(n,e,t){let s=0,i=n.length-1,r,o,a,l;t?(e>=n[s].pos&&e<=n[i].pos&&({lo:s,hi:i}=An(n,"pos",e)),{pos:r,time:a}=n[s],{pos:o,time:l}=n[i]):(e>=n[s].time&&e<=n[i].time&&({lo:s,hi:i}=An(n,"time",e)),{time:r,pos:a}=n[s],{time:o,pos:l}=n[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class WP extends Ll{static id="timeseries";static defaults=Ll.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=no(t,this.min),this._tableRange=no(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=s&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(no(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return no(this._table,s*this._tableRange+this._minPos,!0)}}var VP=Object.freeze({__proto__:null,CategoryScale:yP,LinearScale:wP,LogarithmicScale:kP,RadialLinearScale:$P,TimeScale:Ll,TimeSeriesScale:WP});const HP=[WE,_O,gP,VP];_r.register(...HP);const om=6048e5,UP=864e5,Tr=6e4,Cr=36e5,zP=1e3,Ld=Symbol.for("constructDateFrom");function Ze(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Ld in n?n[Ld](e):n instanceof Date?new n.constructor(e):new Date(e)}function ue(n,e){return Ze(e||n,n)}function aa(n,e,t){const s=ue(n,t?.in);return isNaN(e)?Ze(t?.in||n,NaN):(e&&s.setDate(s.getDate()+e),s)}function Rc(n,e,t){const s=ue(n,t?.in);if(isNaN(e))return Ze(n,NaN);if(!e)return s;const i=s.getDate(),r=Ze(n,s.getTime());r.setMonth(s.getMonth()+e+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function Ic(n,e,t){return Ze(n,+ue(n)+e)}function qP(n,e,t){return Ic(n,e*Cr)}let YP={};function Is(){return YP}function yn(n,e){const t=Is(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ue(n,e?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function mi(n,e){return yn(n,{...e,weekStartsOn:1})}function am(n,e){const t=ue(n,e?.in),s=t.getFullYear(),i=Ze(t,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=mi(i),o=Ze(t,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=mi(o);return t.getTime()>=r.getTime()?s+1:t.getTime()>=a.getTime()?s:s-1}function Ro(n){const e=ue(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ls(n,...e){const t=Ze.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function Nl(n,e){const t=ue(n,e?.in);return t.setHours(0,0,0,0),t}function lm(n,e,t){const[s,i]=Ls(t?.in,n,e),r=Nl(s),o=Nl(i),a=+r-Ro(r),l=+o-Ro(o);return Math.round((a-l)/UP)}function GP(n,e){const t=am(n,e),s=Ze(n,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),mi(s)}function KP(n,e,t){const s=ue(n,t?.in);return s.setTime(s.getTime()+e*Tr),s}function XP(n,e,t){return Rc(n,e*3,t)}function JP(n,e,t){return Ic(n,e*1e3)}function QP(n,e,t){return aa(n,e*7,t)}function ZP(n,e,t){return Rc(n,e*12,t)}function nr(n,e){const t=+ue(n)-+ue(e);return t<0?-1:t>0?1:t}function eT(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function cm(n){return!(!eT(n)&&typeof n!="number"||isNaN(+ue(n)))}function tT(n,e,t){const[s,i]=Ls(t?.in,n,e),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function nT(n,e,t){const[s,i]=Ls(t?.in,n,e);return s.getFullYear()-i.getFullYear()}function um(n,e,t){const[s,i]=Ls(t?.in,n,e),r=Nd(s,i),o=Math.abs(lm(s,i));s.setDate(s.getDate()-r*o);const a=+(Nd(s,i)===-r),l=r*(o-a);return l===0?0:l}function Nd(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Ar(n){return e=>{const s=(n?Math[n]:Math.trunc)(e);return s===0?0:s}}function sT(n,e,t){const[s,i]=Ls(t?.in,n,e),r=(+s-+i)/Cr;return Ar(t?.roundingMethod)(r)}function Lc(n,e){return+ue(n)-+ue(e)}function iT(n,e,t){const s=Lc(n,e)/Tr;return Ar(t?.roundingMethod)(s)}function hm(n,e){const t=ue(n,e?.in);return t.setHours(23,59,59,999),t}function dm(n,e){const t=ue(n,e?.in),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function rT(n,e){const t=ue(n,e?.in);return+hm(t,e)==+dm(t,e)}function fm(n,e,t){const[s,i,r]=Ls(t?.in,n,n,e),o=nr(i,r),a=Math.abs(tT(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=nr(i,r)===-o;rT(s)&&a===1&&nr(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function oT(n,e,t){const s=fm(n,e,t)/3;return Ar(t?.roundingMethod)(s)}function aT(n,e,t){const s=Lc(n,e)/1e3;return Ar(t?.roundingMethod)(s)}function lT(n,e,t){const s=um(n,e,t)/7;return Ar(t?.roundingMethod)(s)}function cT(n,e,t){const[s,i]=Ls(t?.in,n,e),r=nr(s,i),o=Math.abs(nT(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=nr(s,i)===-r,l=r*(o-+a);return l===0?0:l}function uT(n,e){const t=ue(n,e?.in),s=t.getMonth(),i=s-s%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function hT(n,e){const t=ue(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function dT(n,e){const t=ue(n,e?.in),s=t.getFullYear();return t.setFullYear(s+1,0,0),t.setHours(23,59,59,999),t}function gm(n,e){const t=ue(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function fT(n,e){const t=ue(n,e?.in);return t.setMinutes(59,59,999),t}function gT(n,e){const t=Is(),s=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ue(n,e?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function pT(n,e){const t=ue(n,e?.in);return t.setSeconds(59,999),t}function mT(n,e){const t=ue(n,e?.in),s=t.getMonth(),i=s-s%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function bT(n,e){const t=ue(n,e?.in);return t.setMilliseconds(999),t}const yT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_T=(n,e,t)=>{let s;const i=yT[n];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Ga(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const wT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kT={date:Ga({formats:wT,defaultWidth:"full"}),time:Ga({formats:vT,defaultWidth:"full"}),dateTime:Ga({formats:xT,defaultWidth:"full"})},ST={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ET=(n,e,t,s)=>ST[n];function Ci(n){return(e,t)=>{const s=t?.context?String(t.context):"standalone";let i;if(s==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t?.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t?.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const r=n.argumentCallback?n.argumentCallback(e):e;return i[r]}}const OT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DT=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},RT={ordinalNumber:DT,era:Ci({values:OT,defaultWidth:"wide"}),quarter:Ci({values:PT,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ci({values:TT,defaultWidth:"wide"}),day:Ci({values:CT,defaultWidth:"wide"}),dayPeriod:Ci({values:AT,defaultWidth:"wide",formattingValues:MT,defaultFormattingWidth:"wide"})};function Ai(n){return(e,t={})=>{const s=t.width,i=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],r=e.match(i);if(!r)return null;const o=r[0],a=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?LT(a,h=>h.test(o)):IT(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function IT(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function LT(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function NT(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const i=s[0],r=e.match(n.parsePattern);if(!r)return null;let o=n.valueCallback?n.valueCallback(r[0]):r[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const $T=/^(\d+)(th|st|nd|rd)?/i,FT=/\d+/i,jT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BT={any:[/^b/i,/^(a|c)/i]},WT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VT={any:[/1/i,/2/i,/3/i,/4/i]},HT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KT={ordinalNumber:NT({matchPattern:$T,parsePattern:FT,valueCallback:n=>parseInt(n,10)}),era:Ai({matchPatterns:jT,defaultMatchWidth:"wide",parsePatterns:BT,defaultParseWidth:"any"}),quarter:Ai({matchPatterns:WT,defaultMatchWidth:"wide",parsePatterns:VT,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ai({matchPatterns:HT,defaultMatchWidth:"wide",parsePatterns:UT,defaultParseWidth:"any"}),day:Ai({matchPatterns:zT,defaultMatchWidth:"wide",parsePatterns:qT,defaultParseWidth:"any"}),dayPeriod:Ai({matchPatterns:YT,defaultMatchWidth:"any",parsePatterns:GT,defaultParseWidth:"any"})},pm={code:"en-US",formatDistance:_T,formatLong:kT,formatRelative:ET,localize:RT,match:KT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XT(n,e){const t=ue(n,e?.in);return lm(t,gm(t))+1}function mm(n,e){const t=ue(n,e?.in),s=+mi(t)-+GP(t);return Math.round(s/om)+1}function Nc(n,e){const t=ue(n,e?.in),s=t.getFullYear(),i=Is(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ze(e?.in||n,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=yn(o,e),l=Ze(e?.in||n,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=yn(l,e);return+t>=+a?s+1:+t>=+c?s:s-1}function JT(n,e){const t=Is(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Nc(n,e),r=Ze(e?.in||n,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),yn(r,e)}function bm(n,e){const t=ue(n,e?.in),s=+yn(t,e)-+JT(t,e);return Math.round(s/om)+1}function Ie(n,e){const t=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return t+s}const Hn={y(n,e){const t=n.getFullYear(),s=t>0?t:1-t;return Ie(e==="yy"?s%100:s,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ie(t+1,2)},d(n,e){return Ie(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ie(n.getHours()%12||12,e.length)},H(n,e){return Ie(n.getHours(),e.length)},m(n,e){return Ie(n.getMinutes(),e.length)},s(n,e){return Ie(n.getSeconds(),e.length)},S(n,e){const t=e.length,s=n.getMilliseconds(),i=Math.trunc(s*Math.pow(10,t-3));return Ie(i,e.length)}},qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$d={G:function(n,e,t){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const s=n.getFullYear(),i=s>0?s:1-s;return t.ordinalNumber(i,{unit:"year"})}return Hn.y(n,e)},Y:function(n,e,t,s){const i=Nc(n,s),r=i>0?i:1-i;if(e==="YY"){const o=r%100;return Ie(o,2)}return e==="Yo"?t.ordinalNumber(r,{unit:"year"}):Ie(r,e.length)},R:function(n,e){const t=am(n);return Ie(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ie(t,e.length)},Q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,t){const s=n.getMonth();switch(e){case"M":case"MM":return Hn.M(n,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,t){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,t,s){const i=bm(n,s);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ie(i,e.length)},I:function(n,e,t){const s=mm(n);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Hn.d(n,e)},D:function(n,e,t){const s=XT(n);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(n,e,t){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,t,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Ie(r,2);case"eo":return t.ordinalNumber(r,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,s){const i=n.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Ie(r,e.length);case"co":return t.ordinalNumber(r,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const s=n.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Ie(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const s=n.getHours();let i;switch(s===12?i=qs.noon:s===0?i=qs.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const s=n.getHours();let i;switch(s>=17?i=qs.evening:s>=12?i=qs.afternoon:s>=4?i=qs.morning:i=qs.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Hn.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Hn.H(n,e)},K:function(n,e,t){const s=n.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(n,e,t){let s=n.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Hn.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Hn.s(n,e)},S:function(n,e){return Hn.S(n,e)},X:function(n,e,t){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return jd(s);case"XXXX":case"XX":return xs(s);case"XXXXX":case"XXX":default:return xs(s,":")}},x:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"x":return jd(s);case"xxxx":case"xx":return xs(s);case"xxxxx":case"xxx":default:return xs(s,":")}},O:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Fd(s,":");case"OOOO":default:return"GMT"+xs(s,":")}},z:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Fd(s,":");case"zzzz":default:return"GMT"+xs(s,":")}},t:function(n,e,t){const s=Math.trunc(+n/1e3);return Ie(s,e.length)},T:function(n,e,t){return Ie(+n,e.length)}};function Fd(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),i=Math.trunc(s/60),r=s%60;return r===0?t+String(i):t+String(i)+e+Ie(r,2)}function jd(n,e){return n%60===0?(n>0?"-":"+")+Ie(Math.abs(n)/60,2):xs(n,e)}function xs(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),i=Ie(Math.trunc(s/60),2),r=Ie(s%60,2);return t+i+e+r}const Bd=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ym=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QT=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],s=t[1],i=t[2];if(!i)return Bd(n,e);let r;switch(s){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",Bd(s,e)).replace("{{time}}",ym(i,e))},$l={p:ym,P:QT},ZT=/^D+$/,eC=/^Y+$/,tC=["D","DD","YY","YYYY"];function _m(n){return ZT.test(n)}function wm(n){return eC.test(n)}function Fl(n,e,t){const s=nC(n,e,t);if(console.warn(s),tC.includes(n))throw new RangeError(s)}function nC(n,e,t){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rC=/^'([^]*?)'?$/,oC=/''/g,aC=/[a-zA-Z]/;function lC(n,e,t){const s=Is(),i=t?.locale??s.locale??pm,r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=ue(n,t?.in);if(!cm(a))throw new RangeError("Invalid time value");let l=e.match(iC).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=$l[h];return d(u,i.formatLong)}return u}).join("").match(sC).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:cC(u)};if($d[h])return{isToken:!0,value:u};if(h.match(aC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!t?.useAdditionalWeekYearTokens&&wm(h)||!t?.useAdditionalDayOfYearTokens&&_m(h))&&Fl(h,e,String(n));const d=$d[h[0]];return d(a,h,i.localize,c)}).join("")}function cC(n){const e=n.match(rC);return e?e[1].replace(oC,"'"):n}function uC(){return Object.assign({},Is())}function hC(n,e){const t=ue(n,e?.in).getDay();return t===0?7:t}function dC(n,e){const t=fC(e)?new e(0):Ze(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function fC(n){return typeof n=="function"&&n.prototype?.constructor===n}const gC=10;class vm{subPriority=0;validate(e,t){return!0}}class pC extends vm{constructor(e,t,s,i,r){super(),this.value=e,this.validateValue=t,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,s){return this.setValue(e,t,this.value,s)}}class mC extends vm{priority=gC;subPriority=-1;constructor(e,t){super(),this.context=e||(s=>Ze(t,s))}set(e,t){return t.timestampIsSet?e:Ze(e,dC(e,this.context))}}class Ce{run(e,t,s,i){const r=this.parse(e,t,s,i);return r?{setter:new pC(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,t,s){return!0}}class bC extends Ce{priority=140;parse(e,t,s){switch(t){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,t,s){return t.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const nt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function st(n,e){return n&&{value:e(n.value),rest:n.rest}}function Ke(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function gn(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const s=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,r=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:s*(i*Cr+r*Tr+o*zP),rest:e.slice(t[0].length)}}function xm(n){return Ke(nt.anyDigitsSigned,n)}function et(n,e){switch(n){case 1:return Ke(nt.singleDigit,e);case 2:return Ke(nt.twoDigits,e);case 3:return Ke(nt.threeDigits,e);case 4:return Ke(nt.fourDigits,e);default:return Ke(new RegExp("^\\d{1,"+n+"}"),e)}}function Io(n,e){switch(n){case 1:return Ke(nt.singleDigitSigned,e);case 2:return Ke(nt.twoDigitsSigned,e);case 3:return Ke(nt.threeDigitsSigned,e);case 4:return Ke(nt.fourDigitsSigned,e);default:return Ke(new RegExp("^-?\\d{1,"+n+"}"),e)}}function $c(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function km(n,e){const t=e>0,s=t?e:1-e;let i;if(s<=50)i=n||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=n>=r%100;i=n+o-(a?100:0)}return t?i:1-i}function Sm(n){return n%400===0||n%4===0&&n%100!==0}class yC extends Ce{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,s){const i=r=>({year:r,isTwoDigitYear:t==="yy"});switch(t){case"y":return st(et(4,e),i);case"yo":return st(s.ordinalNumber(e,{unit:"year"}),i);default:return st(et(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s){const i=e.getFullYear();if(s.isTwoDigitYear){const o=km(s.year,i);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const r=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class _C extends Ce{priority=130;parse(e,t,s){const i=r=>({year:r,isTwoDigitYear:t==="YY"});switch(t){case"Y":return st(et(4,e),i);case"Yo":return st(s.ordinalNumber(e,{unit:"year"}),i);default:return st(et(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s,i){const r=Nc(e,i);if(s.isTwoDigitYear){const a=km(s.year,r);return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),yn(e,i)}const o=!("era"in t)||t.era===1?s.year:1-s.year;return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),yn(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class wC extends Ce{priority=130;parse(e,t){return Io(t==="R"?4:t.length,e)}set(e,t,s){const i=Ze(e,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),mi(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class vC extends Ce{priority=130;parse(e,t){return Io(t==="u"?4:t.length,e)}set(e,t,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class xC extends Ce{priority=120;parse(e,t,s){switch(t){case"Q":case"QQ":return et(t.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class kC extends Ce{priority=120;parse(e,t,s){switch(t){case"q":case"qq":return et(t.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class SC extends Ce{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,s){const i=r=>r-1;switch(t){case"M":return st(Ke(nt.month,e),i);case"MM":return st(et(2,e),i);case"Mo":return st(s.ordinalNumber(e,{unit:"month"}),i);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class EC extends Ce{priority=110;parse(e,t,s){const i=r=>r-1;switch(t){case"L":return st(Ke(nt.month,e),i);case"LL":return st(et(2,e),i);case"Lo":return st(s.ordinalNumber(e,{unit:"month"}),i);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function OC(n,e,t){const s=ue(n,t?.in),i=bm(s,t)-e;return s.setDate(s.getDate()-i*7),ue(s,t?.in)}class PC extends Ce{priority=100;parse(e,t,s){switch(t){case"w":return Ke(nt.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return et(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s,i){return yn(OC(e,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function TC(n,e,t){const s=ue(n,t?.in),i=mm(s,t)-e;return s.setDate(s.getDate()-i*7),s}class CC extends Ce{priority=100;parse(e,t,s){switch(t){case"I":return Ke(nt.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return et(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s){return mi(TC(e,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const AC=[31,28,31,30,31,30,31,31,30,31,30,31],MC=[31,29,31,30,31,30,31,31,30,31,30,31];class DC extends Ce{priority=90;subPriority=1;parse(e,t,s){switch(t){case"d":return Ke(nt.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return et(t.length,e)}}validate(e,t){const s=e.getFullYear(),i=Sm(s),r=e.getMonth();return i?t>=1&&t<=MC[r]:t>=1&&t<=AC[r]}set(e,t,s){return e.setDate(s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class RC extends Ce{priority=90;subpriority=1;parse(e,t,s){switch(t){case"D":case"DD":return Ke(nt.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return et(t.length,e)}}validate(e,t){const s=e.getFullYear();return Sm(s)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Fc(n,e,t){const s=Is(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=ue(n,t?.in),o=r.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return aa(r,u,t)}class IC extends Ce{priority=90;parse(e,t,s){switch(t){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Fc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class LC extends Ce{priority=90;parse(e,t,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(t){case"e":case"ee":return st(et(t.length,e),r);case"eo":return st(s.ordinalNumber(e,{unit:"day"}),r);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Fc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class NC extends Ce{priority=90;parse(e,t,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(t){case"c":case"cc":return st(et(t.length,e),r);case"co":return st(s.ordinalNumber(e,{unit:"day"}),r);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,i){return e=Fc(e,s,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function $C(n,e,t){const s=ue(n,t?.in),i=hC(s,t),r=e-i;return aa(s,r,t)}class FC extends Ce{priority=90;parse(e,t,s){const i=r=>r===0?7:r;switch(t){case"i":case"ii":return et(t.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return st(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return st(s.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return st(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return st(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,s){return e=$C(e,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class jC extends Ce{priority=80;parse(e,t,s){switch(t){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours($c(s),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class BC extends Ce{priority=80;parse(e,t,s){switch(t){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours($c(s),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class WC extends Ce{priority=80;parse(e,t,s){switch(t){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours($c(s),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class VC extends Ce{priority=70;parse(e,t,s){switch(t){case"h":return Ke(nt.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return et(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,s){const i=e.getHours()>=12;return i&&s<12?e.setHours(s+12,0,0,0):!i&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class HC extends Ce{priority=70;parse(e,t,s){switch(t){case"H":return Ke(nt.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return et(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,s){return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class UC extends Ce{priority=70;parse(e,t,s){switch(t){case"K":return Ke(nt.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return et(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class zC extends Ce{priority=70;parse(e,t,s){switch(t){case"k":return Ke(nt.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return et(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,s){const i=s<=24?s%24:s;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class qC extends Ce{priority=60;parse(e,t,s){switch(t){case"m":return Ke(nt.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return et(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setMinutes(s,0,0),e}incompatibleTokens=["t","T"]}class YC extends Ce{priority=50;parse(e,t,s){switch(t){case"s":return Ke(nt.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return et(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setSeconds(s,0),e}incompatibleTokens=["t","T"]}class GC extends Ce{priority=30;parse(e,t){const s=i=>Math.trunc(i*Math.pow(10,-t.length+3));return st(et(t.length,e),s)}set(e,t,s){return e.setMilliseconds(s),e}incompatibleTokens=["t","T"]}class KC extends Ce{priority=10;parse(e,t){switch(t){case"X":return gn(fn.basicOptionalMinutes,e);case"XX":return gn(fn.basic,e);case"XXXX":return gn(fn.basicOptionalSeconds,e);case"XXXXX":return gn(fn.extendedOptionalSeconds,e);case"XXX":default:return gn(fn.extended,e)}}set(e,t,s){return t.timestampIsSet?e:Ze(e,e.getTime()-Ro(e)-s)}incompatibleTokens=["t","T","x"]}class XC extends Ce{priority=10;parse(e,t){switch(t){case"x":return gn(fn.basicOptionalMinutes,e);case"xx":return gn(fn.basic,e);case"xxxx":return gn(fn.basicOptionalSeconds,e);case"xxxxx":return gn(fn.extendedOptionalSeconds,e);case"xxx":default:return gn(fn.extended,e)}}set(e,t,s){return t.timestampIsSet?e:Ze(e,e.getTime()-Ro(e)-s)}incompatibleTokens=["t","T","X"]}class JC extends Ce{priority=40;parse(e){return xm(e)}set(e,t,s){return[Ze(e,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class QC extends Ce{priority=20;parse(e){return xm(e)}set(e,t,s){return[Ze(e,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const ZC={G:new bC,y:new yC,Y:new _C,R:new wC,u:new vC,Q:new xC,q:new kC,M:new SC,L:new EC,w:new PC,I:new CC,d:new DC,D:new RC,E:new IC,e:new LC,c:new NC,i:new FC,a:new jC,b:new BC,B:new WC,h:new VC,H:new HC,K:new UC,k:new zC,m:new qC,s:new YC,S:new GC,X:new KC,x:new XC,t:new JC,T:new QC},eA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nA=/^'([^]*?)'?$/,sA=/''/g,iA=/\S/,rA=/[a-zA-Z]/;function oA(n,e,t,s){const i=()=>Ze(s?.in||t,NaN),r=uC(),o=s?.locale??r.locale??pm,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!e)return n?i():ue(t,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new mC(s?.in,t)],h=e.match(tA).map(m=>{const b=m[0];if(b in $l){const y=$l[b];return y(m,o.formatLong)}return m}).join("").match(eA),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&wm(m)&&Fl(m,e,n),!s?.useAdditionalDayOfYearTokens&&_m(m)&&Fl(m,e,n);const b=m[0],y=ZC[b];if(y){const{incompatibleTokens:v}=y;if(Array.isArray(v)){const E=d.find(O=>v.includes(O.token)||O.token===b);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(n,m,o.match,c);if(!x)return i();u.push(x.setter),n=x.rest}else{if(b.match(rA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=aA(m)),n.indexOf(m)===0)n=n.slice(m.length);else return i()}}if(n.length>0&&iA.test(n))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let g=ue(t,s?.in);if(isNaN(+g))return i();const p={};for(const m of f){if(!m.validate(g,c))return i();const b=m.set(g,p,c);Array.isArray(b)?(g=b[0],Object.assign(p,b[1])):g=b}return g}function aA(n){return n.match(nA)[1].replace(sA,"'")}function lA(n,e){const t=ue(n,e?.in);return t.setMinutes(0,0,0),t}function cA(n,e){const t=ue(n,e?.in);return t.setSeconds(0,0),t}function uA(n,e){const t=ue(n,e?.in);return t.setMilliseconds(0),t}function hA(n,e){const t=()=>Ze(e?.in,NaN),s=e?.additionalDigits??2,i=pA(n);let r;if(i.date){const c=mA(i.date,s);r=bA(c.restDateString,c.year)}if(!r||isNaN(+r))return t();const o=+r;let a=0,l;if(i.time&&(a=yA(i.time),isNaN(a)))return t();if(i.timezone){if(l=_A(i.timezone),isNaN(l))return t()}else{const c=new Date(o+a),u=ue(0,e?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return ue(o+a+l,e?.in)}const so={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pA(n){const e={},t=n.split(so.dateTimeDelimiter);let s;if(t.length>2)return e;if(/:/.test(t[0])?s=t[0]:(e.date=t[0],s=t[1],so.timeZoneDelimiter.test(e.date)&&(e.date=n.split(so.timeZoneDelimiter)[0],s=n.substr(e.date.length,n.length))),s){const i=so.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function mA(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=n.match(t);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:n.slice((s[1]||s[2]).length)}}function bA(n,e){if(e===null)return new Date(NaN);const t=n.match(dA);if(!t)return new Date(NaN);const s=!!t[4],i=Mi(t[1]),r=Mi(t[2])-1,o=Mi(t[3]),a=Mi(t[4]),l=Mi(t[5])-1;if(s)return SA(e,a,l)?wA(e,a,l):new Date(NaN);{const c=new Date(0);return!xA(e,r,o)||!kA(e,i)?new Date(NaN):(c.setUTCFullYear(e,r,Math.max(i,o)),c)}}function Mi(n){return n?parseInt(n):1}function yA(n){const e=n.match(fA);if(!e)return NaN;const t=Ka(e[1]),s=Ka(e[2]),i=Ka(e[3]);return EA(t,s,i)?t*Cr+s*Tr+i*1e3:NaN}function Ka(n){return n&&parseFloat(n.replace(",","."))||0}function _A(n){if(n==="Z")return 0;const e=n.match(gA);if(!e)return 0;const t=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return OA(s,i)?t*(s*Cr+i*Tr):NaN}function wA(n,e,t){const s=new Date(0);s.setUTCFullYear(n,0,4);const i=s.getUTCDay()||7,r=(e-1)*7+t+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const vA=[31,null,31,30,31,30,31,31,30,31,30,31];function Em(n){return n%400===0||n%4===0&&n%100!==0}function xA(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(vA[e]||(Em(n)?29:28))}function kA(n,e){return e>=1&&e<=(Em(n)?366:365)}function SA(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function EA(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function OA(n,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const PA={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};jp._date.override({_id:"date-fns",formats:function(){return PA},parse:function(n,e){if(n===null||typeof n>"u")return null;const t=typeof n;return t==="number"||n instanceof Date?n=ue(n):t==="string"&&(typeof e=="string"?n=oA(n,e,new Date,this.options):n=hA(n,this.options)),cm(n)?n.getTime():null},format:function(n,e){return lC(n,e,this.options)},add:function(n,e,t){switch(t){case"millisecond":return Ic(n,e);case"second":return JP(n,e);case"minute":return KP(n,e);case"hour":return qP(n,e);case"day":return aa(n,e);case"week":return QP(n,e);case"month":return Rc(n,e);case"quarter":return XP(n,e);case"year":return ZP(n,e);default:return n}},diff:function(n,e,t){switch(t){case"millisecond":return Lc(n,e);case"second":return aT(n,e);case"minute":return iT(n,e);case"hour":return sT(n,e);case"day":return um(n,e);case"week":return lT(n,e);case"month":return fm(n,e);case"quarter":return oT(n,e);case"year":return cT(n,e);default:return 0}},startOf:function(n,e,t){switch(e){case"second":return uA(n);case"minute":return cA(n);case"hour":return lA(n);case"day":return Nl(n);case"week":return yn(n);case"isoWeek":return yn(n,{weekStartsOn:+t});case"month":return hT(n);case"quarter":return uT(n);case"year":return gm(n);default:return n}},endOf:function(n,e){switch(e){case"second":return bT(n);case"minute":return pT(n);case"hour":return fT(n);case"day":return hm(n);case"week":return gT(n);case"month":return dm(n);case"quarter":return mT(n);case"year":return dT(n);default:return n}}});const TA={class:"softBubble"},CA=ie({__name:"WorkoutVolumeByWorkout",props:{workouts:{},graphSize:{},backTimes:{},binSize:{},whatGraphed:{}},setup(n){const e=n,t=F(null),s=F(null),i=F(!1),r=F(0);function o(){if(s.value){try{s.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}s.value=null}}async function a(){if(!t.value||!e.workouts||e.workouts.length===0||i.value)return;i.value=!0,r.value++;const l=r.value;if(o(),await It(),l!==r.value){i.value=!1;return}if(!t.value){i.value=!1;return}const c=e.workouts.map(p=>({x:p.getStartTime(),y:p.getItem(e.whatGraphed)})),u=getComputedStyle(document.documentElement);[...e.workouts];const h={labels:wk(c,e.binSize,e.graphSize,e.backTimes),datasets:[{label:"My First Dataset",data:_k(c,e.binSize||"day",e.graphSize,e.backTimes),...op}]},d={family:"Avenir",size:16},f={family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},g={type:"bar",data:h,options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{legend:{display:!1},title:{display:!0,text:Zt.fullNameForType(e.whatGraphed),font:f,color:u.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(p){return[Zt.stringifyItem(p.parsed.y,e.whatGraphed)]}},bodyFont:d}},scales:{y:{ticks:{maxTicksLimit:3,font:d},position:"right",startAtZero:!1}}}};try{if(l!==r.value||!t.value){i.value=!1;return}const p=new _r(t.value,g);l===r.value?s.value=p:p.destroy()}catch(p){console.error("Error creating chart:",p)}finally{i.value=!1}}return ft(async()=>{await It(),a()}),Dn(()=>e.workouts,async(l,c)=>{if(l!==c){if(await It(),!l||l.length===0){s.value&&(s.value.destroy(),s.value=null);return}await It(()=>a())}},{deep:!1,immediate:!1}),Dn(()=>e.whatGraphed,async(l,c)=>{await It(),a()}),zo(()=>{s.value&&(s.value.destroy(),s.value=null),i.value=!1}),(l,c)=>(T(),N("div",TA,[S("canvas",{ref_key:"canvasRef",ref:t,id:"workoutVolumeChart"},null,512)]))}}),AA={key:0},MA=ie({__name:"DashboardStatBubble",props:{label:{},value:{},prevValue:{},dispValue:{},icon:{},selected:{type:Boolean}},emits:["click"],setup(n,{emit:e}){const t=n;function s(){if(t.prevValue==0)return"N/A";let i=(t.value-t.prevValue)/t.prevValue*100;return i<0&&(i*=-1),i.toFixed(1)}return(i,r)=>(T(),N("div",{class:ht(["statBubble softBubble clickable",{selected:n.selected}]),onClick:r[0]||(r[0]=o=>i.$emit("click"))},[S("p",null,[Oe(fe(n.label)+" ",1),S("i",{class:ht(["right fa-solid",n.icon])},null,2)]),S("h2",null,fe(n.dispValue),1),n.prevValue!==0?(T(),N("p",AA,[n.value!==n.prevValue?(T(),N("i",{key:0,class:ht(["fa-solid",n.value-n.prevValue>=0?"fa-arrow-up":"fa-arrow-down"])},null,2)):K("",!0),Oe(" "+fe(s())+" % ",1)])):K("",!0)],2))}}),io=ge(MA,[["__scopeId","data-v-40435f7f"]]);class Xt{static getTotalDuration(e){return e.reduce((t,s)=>t+s.getDuration(),0)}static getTotalEnergy(e){return e.reduce((t,s)=>t+(s.getEnergy()||0),0)}static getTotalEnergyString(e){const t=this.getTotalEnergy(e);return`${Zt.commaNumber(t)} kj`}static getTotalVolume(e){return e.reduce((t,s)=>t+s.getVolume(),0)}static getTotalVolumeString(e){const t=Xt.getTotalVolume(e);return`${Zt.commaNumber(t)} kg`}}const DA={class:"viewArea"},RA={class:"margins"},IA={key:0,class:"periodSelect"},LA={class:"center"},NA={class:"flex"},$A={key:1},FA=ie({__name:"StatsView",setup(n){let e=[];const t=F([]),s=F([]),i=F(!0),r=F("week"),o=F("volume"),a=F(0),l=F(new Er);function c(h){switch(h){case"week":return"day";case"month":return"week";case"year":return"month";default:return"year"}}async function u(h){if(r.value=h,i.value=!0,h==="all"){t.value=[...e],await It(),i.value=!1;return}const d=be.getEnd(be.addPeriod(new Date,h,-a.value),h),f=be.getStart(d,h),g=be.getStartOfPrevious(f,h),p=[];s.value=[];for(const m of e)m.getStartTime()>=f&&m.getStartTime()<=d&&p.push(m),m.getStartTime()>=g&&m.getStartTime()<f&&s.value.push(m);t.value=p,await It(),i.value=!1}return ft(async()=>{try{e=await sp(),await u("week"),i.value=!1}catch(h){l.value.setError("Failed to load workouts. Please try again later."),console.error("Failed to load workouts:",h),e=[],t.value=[],i.value=!1}}),(h,d)=>(T(),N(ye,null,[$(Sr,{error:l.value},null,8,["error"]),S("div",DA,[S("div",RA,[d[8]||(d[8]=S("h1",null,"Workout Dashboard",-1)),d[9]||(d[9]=S("p",null,"Track your fitness journey and monitor your progress",-1)),$(pc,{options:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"},{label:"All Time",value:"all"}],onSelect:d[0]||(d[0]=f=>{a.value=0,u(f)})}),r.value!=="all"?(T(),N("div",IA,[S("i",{class:"fa-solid fa-chevron-left clickable floatleft",onClick:d[1]||(d[1]=f=>{a.value=a.value+1,u(r.value)})}),S("div",LA,fe(Se(be).getPeriodString(r.value,a.value)),1),a.value!==0?(T(),N("i",{key:0,class:"fa-solid fa-chevron-right clickable floatright",onClick:d[2]||(d[2]=f=>{a.value=a.value>0?a.value-1:0,u(r.value)})})):K("",!0)])):K("",!0),S("div",NA,[$(io,{label:"Total Workouts",value:t.value.length,prevValue:s.value.length,dispValue:t.value.length.toString(),icon:"fa-dumbbell",selected:o.value==="workouts",onClick:d[3]||(d[3]=f=>o.value="workouts")},null,8,["value","prevValue","dispValue","selected"]),$(io,{label:"Total Time",value:Se(Xt).getTotalDuration(t.value),prevValue:Se(Xt).getTotalDuration(s.value),dispValue:Se(be).getDurationString(Se(Xt).getTotalDuration(t.value))||"--",icon:"fa-clock",selected:o.value==="time",onClick:d[4]||(d[4]=f=>o.value="time")},null,8,["value","prevValue","dispValue","selected"]),$(io,{label:"Total Energy",value:Se(Xt).getTotalEnergy(t.value),prevValue:Se(Xt).getTotalEnergy(s.value),dispValue:Se(Xt).getTotalEnergyString(t.value),icon:"fa-fire",selected:o.value==="energy",onClick:d[5]||(d[5]=f=>o.value="energy")},null,8,["value","prevValue","dispValue","selected"]),$(io,{label:"Total Volume",value:Se(Xt).getTotalVolume(t.value),prevValue:Se(Xt).getTotalVolume(s.value),dispValue:Se(Xt).getTotalVolumeString(t.value),icon:"fa-weight-hanging",selected:o.value==="volume",onClick:d[6]||(d[6]=f=>o.value="volume")},null,8,["value","prevValue","dispValue","selected"])]),i.value?(T(),N("div",$A,[...d[7]||(d[7]=[S("p",null,"Loading workouts...",-1)])])):(T(),Ee(CA,{key:2,workouts:t.value,graphSize:r.value,binSize:c(r.value),whatGraphed:o.value,backTimes:a.value},null,8,["workouts","graphSize","binSize","whatGraphed","backTimes"]))])])],64))}}),jA=ge(FA,[["__scopeId","data-v-969f4336"]]),BA={key:0,class:"number"},WA={key:0,class:"fa-solid fa-medal"},VA={key:1,class:"number"},HA={key:0,class:"fa-solid fa-medal"},UA={key:2,class:"number"},zA={key:3,class:"number"},qA={key:4,class:"number"},YA=ie({__name:"ExerciseRow",props:{exercise:{},whichPR:{}},setup(n){const e=F(!0),t=zt(),s=n,i=F(null),r=F(null),o=F(null),a=F(null);return ft(async()=>{i.value=await s.exercise.getWeightPB(),r.value=await s.exercise.getVolumePB(),o.value=await ip(s.exercise.getId()).then(l=>l.length),a.value=await s.exercise.getSetCount(),e.value=!1}),(l,c)=>(T(),N(ye,null,[e.value?(T(),Ee(jn,{key:0})):K("",!0),S("tr",{class:"exerciseRow clickable",onClick:c[0]||(c[0]=u=>Se(t).push({name:"View Exercise",params:{exercise_id:n.exercise.getId()}}))},[S("td",null,fe(n.exercise.name),1),n.whichPR==="weight"?(T(),N("td",BA,[Oe(fe(i.value!==null?i.value+" kg":"")+" ",1),i.value?(T(),N("i",WA)):K("",!0)])):K("",!0),n.whichPR==="volume"?(T(),N("td",VA,[Oe(fe(r.value!==null?r.value+" kg":"")+" ",1),r.value?(T(),N("i",HA)):K("",!0)])):K("",!0),n.whichPR==="workouts"?(T(),N("td",UA,fe(o.value!==null?o.value:""),1)):K("",!0),n.whichPR==="sets"?(T(),N("td",zA,fe(a.value!==null?a.value:""),1)):K("",!0),n.whichPR==="setsPerWorkout"?(T(),N("td",qA,fe(o.value&&o.value>0&&a.value!==null?(a.value/o.value).toFixed(2):""),1)):K("",!0)])],64))}}),GA=ge(YA,[["__scopeId","data-v-edccfd45"]]);class la{name;id;description;static async create(e){const{data:t,error:s}=await ve.from("exercises").select().eq("id",e).single();return s?(console.error(`Error fetching exercise info for ID ${e}:`,s),null):new la(t)}constructor(e){this.name=e.name,this.id=e.id,this.description=e.description}getName(){return this.name}getId(){return this.id}getDescription(){return this.description}async getWeightPB(){const{data:e,error:t}=await ve.from("sets").select("weight").eq("exercise_id",this.id).order("weight",{ascending:!1}).limit(1);return t?(console.error(`Error fetching weight PB for exercise ID ${this.id}:`,t),Promise.resolve(null)):e&&e.length>0?Promise.resolve(e[0].weight):Promise.resolve(null)}async getVolumePB(){const{data:e,error:t}=await ve.rpc("get_volume_pb",{exercise_id:this.id});return t?(console.error(`Error fetching volume PB for exercise ID ${this.id}:`,t),Promise.resolve(null)):e&&e.length>0?Promise.resolve(e[0].volume):Promise.resolve(null)}async countSets(){const{data:e,error:t}=await ve.from("sets").select("id").eq("exercise_id",this.id);return t?(console.error(`Error counting sets for exercise ID ${this.id}:`,t),Promise.resolve(0)):Promise.resolve(e?e.length:0)}async getSetCount(){const{data:e,error:t}=await ve.from("sets").select("id").eq("exercise_id",this.id);return t?(console.error(`Error fetching set count for exercise ID ${this.id}:`,t),Promise.resolve(0)):Promise.resolve(e?e.length:0)}async delete(){const{error:e}=await ve.from("exercises").delete().eq("id",this.id);return ve.from("sets").delete().eq("exercise_id",this.id),e?(console.error(`Error deleting exercise ID ${this.id}:`,e),!1):!0}}const KA={class:"viewArea margins"},XA={id:"exerciseTable"},JA=ie({__name:"ExercisesView",setup(n){const e=F([]),t=F("weight"),s=F(!0);return ft(async()=>{const{data:i,error:r}=await ve.from("exercises").select("*");if(r&&console.error("Error fetching exercises:",r),!!i){for(const o of i)e.value.push(new la(o));e.value.sort((o,a)=>o.name.localeCompare(a.name)),s.value=!1}}),(i,r)=>(T(),N(ye,null,[s.value?(T(),Ee(jn,{key:0})):K("",!0),S("div",KA,[$(pc,{options:[{label:"best weight",value:"weight"},{label:"best volume",value:"volume"},{label:"count workouts",value:"workouts"},{label:"count sets",value:"sets"},{label:"sets/workout avg",value:"setsPerWorkout"}],onSelect:r[0]||(r[0]=o=>t.value=o)}),S("table",XA,[(T(!0),N(ye,null,Fn(e.value,o=>(T(),Ee(GA,{key:o.id,exercise:o,whichPR:t.value},null,8,["exercise","whichPR"]))),128))])])],64))}}),QA=ge(JA,[["__scopeId","data-v-9154e188"]]);class ZA{constructor(){this.count=0,this.sumx=0,this.sumy=0,this.sumx2=0,this.sumxy=0,this.minx=Number.MAX_VALUE,this.maxx=Number.MIN_VALUE,this._cachedSlope=null,this._cachedIntercept=null,this._cacheValid=!1}add(e,t){this.sumx+=e,this.sumy+=t,this.sumx2+=e*e,this.sumxy+=e*t,e<this.minx&&(this.minx=e),e>this.maxx&&(this.maxx=e),this.count++,this._cacheValid=!1}slope(){return this._cacheValid||this._computeCoefficients(),this._cachedSlope}intercept(){return this._cacheValid||this._computeCoefficients(),this._cachedIntercept}f(e){return this.slope()*e+this.intercept()}fo(){return-this.intercept()/this.slope()}scale(){return this.slope()}_computeCoefficients(){const e=this.count*this.sumx2-this.sumx*this.sumx;this._cachedSlope=(this.count*this.sumxy-this.sumx*this.sumy)/e,this._cachedIntercept=(this.sumy-this._cachedSlope*this.sumx)/this.count,this._cacheValid=!0}}class eM{constructor(){this.count=0,this.sumx=0,this.sumlny=0,this.sumx2=0,this.sumxlny=0,this.minx=Number.MAX_VALUE,this.maxx=Number.MIN_VALUE,this.hasValidData=!0,this.dataPoints=[],this._cachedGrowthRate=null,this._cachedCoefficient=null,this._cachedCorrelation=null,this._cacheValid=!1}add(e,t){if(t<=0){this.hasValidData=!1;return}const s=Math.log(t);if(!isFinite(s)){this.hasValidData=!1;return}this.sumx+=e,this.sumlny+=s,this.sumx2+=e*e,this.sumxlny+=e*s,e<this.minx&&(this.minx=e),e>this.maxx&&(this.maxx=e),this.dataPoints.push({x:e,y:t,lny:s}),this.count++,this._cacheValid=!1}growthRate(){return!this.hasValidData||this.count<2?0:(this._cacheValid||this._computeCoefficients(),this._cachedGrowthRate)}coefficient(){return!this.hasValidData||this.count<2?1:(this._cacheValid||this._computeCoefficients(),this._cachedCoefficient)}f(e){if(!this.hasValidData||this.count<2||(this._cacheValid||this._computeCoefficients(),Math.abs(this._cachedGrowthRate*e)>500))return 0;const t=this._cachedCoefficient*Math.exp(this._cachedGrowthRate*e);return isFinite(t)?t:0}correlation(){return!this.hasValidData||this.count<2?0:(this._cacheValid||this._computeCoefficients(),this._cachedCorrelation)}scale(){return this.growthRate()}_computeCoefficients(){if(!this.hasValidData||this.count<2){this._cachedGrowthRate=0,this._cachedCoefficient=1,this._cachedCorrelation=0,this._cacheValid=!0;return}const e=this.count*this.sumx2-this.sumx*this.sumx;if(Math.abs(e)<1e-10){this._cachedGrowthRate=0,this._cachedCoefficient=1,this._cachedCorrelation=0,this._cacheValid=!0;return}this._cachedGrowthRate=(this.count*this.sumxlny-this.sumx*this.sumlny)/e;const t=(this.sumlny-this._cachedGrowthRate*this.sumx)/this.count;this._cachedCoefficient=Math.exp(t);const s=this.sumlny/this.count;let i=0,r=0;for(const o of this.dataPoints){const a=t+this._cachedGrowthRate*o.x;i+=Math.pow(o.lny-s,2),r+=Math.pow(o.lny-a,2)}this._cachedCorrelation=i===0?1:Math.max(0,1-r/i),this._cacheValid=!0}}const tM=n=>{let e,t;for(const s of Object.values(n.scales))if(s.isHorizontal()?e=s:t=s,e&&t)break;return{xScale:e,yScale:t}},nM=(n,e)=>{switch(e){case"dotted":n.setLineDash([2,2]);break;case"dashed":n.setLineDash([8,3]);break;case"dashdot":n.setLineDash([8,3,2,3]);break;case"solid":default:n.setLineDash([]);break}},sM=({ctx:n,x1:e,y1:t,x2:s,y2:i,colorMin:r,colorMax:o})=>{if(!isFinite(e)||!isFinite(t)||!isFinite(s)||!isFinite(i)){console.warn("Cannot draw trendline: coordinates contain non-finite values",{x1:e,y1:t,x2:s,y2:i});return}n.beginPath(),n.moveTo(e,t),n.lineTo(s,i);try{const a=s-e,l=i-t,c=Math.sqrt(a*a+l*l);if(c<.01)console.warn("Gradient vector too small, using solid color:",{x1:e,y1:t,x2:s,y2:i,length:c}),n.strokeStyle=r;else{let u=n.createLinearGradient(e,t,s,i);u.addColorStop(0,r),u.addColorStop(1,o),n.strokeStyle=u}}catch(a){console.warn("Gradient creation failed, using solid color:",a),n.strokeStyle=r}n.stroke(),n.closePath()},iM=(n,e,t,s,i,r,o)=>{if(!isFinite(e)||!isFinite(t)||!isFinite(s)||!isFinite(i)||!isFinite(r)){console.warn("Cannot fill below trendline: coordinates contain non-finite values",{x1:e,y1:t,x2:s,y2:i,drawBottom:r});return}n.beginPath(),n.moveTo(e,t),n.lineTo(s,i),n.lineTo(s,r),n.lineTo(e,r),n.lineTo(e,t),n.closePath(),n.fillStyle=o,n.fill()},rM=(n,e,t,s,i,r,o,a,l,c,u)=>{n.font=`${c}px ${l}`,n.fillStyle=a;const h=n.measureText(e).width,d=(t+i)/2,f=(s+r)/2;n.save(),n.translate(d,f),n.rotate(o);const g=-h/2,p=u;n.fillText(e,g,p),n.restore()},oM=(n,e,t,s,i)=>{const r=t.yAxisID||"y",o=n.controller.chart.scales[r]||i,a=!!t.trendlineExponential,l=t.trendlineExponential||t.trendlineLinear||{},c=t.borderColor||"rgba(169,169,169, .6)",{colorMin:u=c,colorMax:h=c,width:d=t.borderWidth||3,lineStyle:f="solid",fillColor:g=!1}=l;let p=l.trendoffset||0;const{color:m=c,text:b=a?"Exponential Trendline":"Trendline",display:y=!0,displayValue:v=!0,offset:x=10,percentage:E=!1}=l&&l.label||{},{family:O="'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:P=12}=l&&l.label&&l.label.font||{},R=n.controller.chart.options,H=typeof R.parsing=="object"?R.parsing:void 0,J=l?.xAxisKey||H?.xAxisKey||"x",te=l?.yAxisKey||H?.yAxisKey||"y";let q=a?new eM:new ZA;Math.abs(p)>=t.data.length&&(p=0);let we=0;if(p>0){const se=t.data.slice(p).findIndex(me=>me!=null);se!==-1?we=p+se:we=t.data.length}else{const se=t.data.findIndex(me=>me!=null);se!==-1?we=se:we=t.data.length}let Ye=we<t.data.length&&typeof t.data[we]=="object";if(t.data.forEach((se,me)=>{if(se!=null&&!(p>0&&me<we)&&!(p<0&&me>=t.data.length+p))if(["time","timeseries"].includes(s.options.type)&&Ye){let Te=se[J]!=null?se[J]:se.t;const Ne=se[te];Te!=null&&Te!==void 0&&Ne!=null&&!isNaN(Ne)&&q.add(new Date(Te).getTime(),Ne)}else if(Ye){const Te=se[J],Ne=se[te],it=Te!=null&&!isNaN(Te),Ue=Ne!=null&&!isNaN(Ne);it&&Ue&&q.add(Te,Ne)}else if(["time","timeseries"].includes(s.options.type)&&!Ye){const Te=n.controller.chart.data.labels;if(Te&&Te[me]&&se!=null&&!isNaN(se)){const Ne=new Date(Te[me]).getTime();isNaN(Ne)||q.add(Ne,se)}}else se!=null&&!isNaN(se)&&q.add(me,se)}),q.count<2)return;let re,X,Y,Q;const pe=n.controller.chart.chartArea;if(l.projection){let se=[];if(a){const I=s.getValueForPixel(pe.left),z=q.f(I);se.push({x:I,y:z});const de=s.getValueForPixel(pe.right),_=q.f(de);se.push({x:de,y:_})}else{const I=q.slope(),z=q.intercept();if(Math.abs(I)>1e-6){const A=o.getValueForPixel(pe.top),D=(A-z)/I;se.push({x:D,y:A});const C=o.getValueForPixel(pe.bottom),V=(C-z)/I;se.push({x:V,y:C})}else se.push({x:s.getValueForPixel(pe.left),y:z}),se.push({x:s.getValueForPixel(pe.right),y:z});const de=s.getValueForPixel(pe.left),_=q.f(de);se.push({x:de,y:_});const w=s.getValueForPixel(pe.right),k=q.f(w);se.push({x:w,y:k})}const me=s.getValueForPixel(pe.left),Te=s.getValueForPixel(pe.right),it=[o.getValueForPixel(pe.top),o.getValueForPixel(pe.bottom)].filter(I=>isFinite(I)),Ue=it.length>0?Math.min(...it):-1/0,M=it.length>0?Math.max(...it):1/0;let W=se.filter(I=>isFinite(I.x)&&isFinite(I.y)&&I.x>=me&&I.x<=Te&&I.y>=Ue&&I.y<=M);W=W.filter((I,z,de)=>z===de.findIndex(_=>Math.abs(_.x-I.x)<1e-4&&Math.abs(_.y-I.y)<1e-4)),W.length>=2?(W.sort((I,z)=>I.x-z.x||I.y-z.y),re=s.getPixelForValue(W[0].x),X=o.getPixelForValue(W[0].y),Y=s.getPixelForValue(W[W.length-1].x),Q=o.getPixelForValue(W[W.length-1].y)):(re=NaN,X=NaN,Y=NaN,Q=NaN)}else{const se=q.f(q.minx),me=q.f(q.maxx);re=s.getPixelForValue(q.minx),X=o.getPixelForValue(se),Y=s.getPixelForValue(q.maxx),Q=o.getPixelForValue(me)}let Xe=null;if(isFinite(re)&&isFinite(X)&&isFinite(Y)&&isFinite(Q)&&(Xe=aM(re,X,Y,Q,pe)),Xe&&(re=Xe.x1,X=Xe.y1,Y=Xe.x2,Q=Xe.y2,!(Math.abs(re-Y)<.5&&Math.abs(X-Q)<.5))){e.lineWidth=d,nM(e,f),sM({ctx:e,x1:re,y1:X,x2:Y,y2:Q,colorMin:u,colorMax:h}),g&&iM(e,re,X,Y,Q,pe.bottom,g);const se=Math.atan2(Q-X,Y-re);if(l.label&&y!==!1){let me=b;if(v)if(a){const Te=q.coefficient(),Ne=q.growthRate();me=`${b} (a=${Te.toFixed(2)}, b=${Ne.toFixed(2)})`}else{const Te=q.slope();me=`${b} (Slope: ${E?(Te*100).toFixed(2)+"%":Te.toFixed(2)})`}rM(e,me,re,X,Y,Q,se,m,O,P,x)}}};function aM(n,e,t,s,i){let r=t-n,o=s-e,a=0,l=1;const c=[-r,r,-o,o],u=[n-i.left,i.right-n,e-i.top,i.bottom-e];for(let p=0;p<4;p++)if(c[p]===0){if(u[p]<0)return null}else{const m=u[p]/c[p];if(c[p]<0){if(m>l)return null;a=Math.max(a,m)}else{if(m<a)return null;l=Math.min(l,m)}}if(a>l)return null;const h=n+a*r,d=e+a*o,f=n+l*r,g=e+l*o;return{x1:h,y1:d,x2:f,y2:g}}const jl={id:"chartjs-plugin-trendline",afterDatasetsDraw:n=>{const e=n.ctx,{xScale:t,yScale:s}=tM(n);n.data.datasets.map((r,o)=>({dataset:r,index:o})).filter(r=>r.dataset.trendlineLinear||r.dataset.trendlineExponential).sort((r,o)=>{const a=r.dataset.order??0,l=o.dataset.order??0;return a===0&&l!==0?1:l===0&&a!==0?-1:a-l}).forEach(({dataset:r,index:o})=>{if((r.alwaysShowTrendline||n.isDatasetVisible(o))&&r.data.length>1){const l=n.getDatasetMeta(o);oM(l,e,r,t,s)}}),e.setLineDash([])},beforeInit:n=>{n.data.datasets.forEach(t=>{const s=t.trendlineLinear||t.trendlineExponential;if(s&&s.label){const i=s.label,r=n.legend.options.labels.generateLabels;n.legend.options.labels.generateLabels=function(o){const a=r(o),l=s.legend;return l&&l.display!==!1&&a.push({text:l.text||i+" (Trendline)",strokeStyle:l.color||t.borderColor||"rgba(169,169,169, .6)",fillStyle:l.fillStyle||"transparent",lineCap:l.lineCap||"butt",lineDash:l.lineDash||[],lineWidth:l.width||1}),a}}})}};typeof window<"u"&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(jl):window.Chart.plugins.register(jl));const lM=ie({__name:"GraphToolTip",props:{content:{},set:{}},setup(n){const e=zt(),t=n,s=F(!1),i=F(0),r=F(0),o=F(null);let a=0,l=0;function c(){if(o.value){const f=o.value.offsetWidth;if(i.value+15+f>window.innerWidth)return i.value-15-f}return i.value+15}function u(){if(o.value){const f=o.value.offsetHeight;if(r.value+15+f>window.innerHeight)return r.value-15-f}return r.value+15}Dn(()=>t.content,(f,g)=>{a=i.value,l=r.value,s.value=!0});function h(f){if(i.value=f.clientX,r.value=f.clientY,Math.abs(i.value-a)>10||Math.abs(r.value-l)>10){s.value=!1;return}(Math.abs(i.value-a)<2.5||Math.abs(r.value-l)>2.5)&&(s.value=!0)}function d(f){if(s.value){e.push({name:"View Workout",params:{workout_id:t.set?t.set.getWorkoutId():null}});return}h(f)}return ft(()=>{window.addEventListener("mousemove",h),window.addEventListener("click",d)}),zo(()=>{window.removeEventListener("mousemove",h),window.removeEventListener("click",d)}),(f,g)=>n.content&&s.value?(T(),N("div",{key:0,ref_key:"tooltipRef",ref:o,class:"graph-tooltip",style:Bo({left:c()+"px",top:u()+"px"})},[(T(!0),N(ye,null,Fn(n.content,(p,m)=>(T(),N("p",{key:m,style:{margin:"0"}},fe(p),1))),128))],4)):K("",!0)}}),cM=ge(lM,[["__scopeId","data-v-b71a9463"]]),uM={class:"softBubble"},hM=ie({__name:"WeightByDate",props:{sets:{}},setup(n){const e=F("weight");_r.register(jl);const t=F(null),s=F(null),i=F(!1),r=F(0),o=F(null),a=F(null),l=n;ft(async()=>{await It(),await u()});function c(){if(s.value){try{s.value.tooltip.setActiveElements([],{x:0,y:0}),s.value.destroy()}catch(h){console.warn("Error destroying chart:",h)}s.value=null}}async function u(){if(!t.value||!l.sets||l.sets.length===0||i.value)return;i.value=!0,r.value++;const h=r.value;if(c(),await new Promise(b=>setTimeout(b,50)),await It(),h!==r.value){i.value=!1;return}if(!t.value){i.value=!1;return}const d=l.sets.map(b=>({y:e.value==="volume"?b.set.getVolume():b.set.getWeight(),x:b.date,set:b.set,graphed:e.value}));d.sort((b,y)=>b.x.getTime()-y.x.getTime());const f=getComputedStyle(document.documentElement),g={datasets:[{label:"",data:d,...op,trendlineExponential:{colorMin:f.getPropertyValue("--accentTransparent"),colorMax:f.getPropertyValue("--accentTransparent"),lineStyle:"solid",width:2}}]},p={family:"Avenir",size:16};f.getPropertyValue("--text");const m={type:"scatter",data:g,options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{tooltip:{enabled:!0,intersect:!1,bodyFont:p,backgroundColor:"rgba(0,0,0,0)",titleColor:"rgba(0,0,0,0)",bodyColor:"rgba(0,0,0,0)",footerColor:"rgba(0,0,0,0)",displayColors:!1,callbacks:{label:function(b){if(!b.parsed)return"";const y=b.raw.set;if(a.value=y,b.raw.graphed==="volume"){const E=new Date(b.parsed.x),O=b.parsed.y;o.value=[`${O} kgs`,`${y.getReps()} x ${y.getWeight()} kgs`,`${E.toLocaleDateString()}`,"click to view the workout"];return}const v=new Date(b.parsed.x),x=b.parsed.y;o.value=[`${v.toLocaleDateString()}: ${x} kgs`,"click to view the workout"]}}},legend:{display:!1}},scales:{x:{type:"time",time:{tooltipFormat:"d MMM yyyy",unit:"day",displayFormats:{month:"MMM yyyy",day:"MMM d",hour:"MMM d"}},ticks:{font:p,maxTicksLimit:5}},y:{beginAtZero:!1,ticks:{font:p,maxTicksLimit:5}}}}};try{if(h!==r.value||!t.value){i.value=!1;return}const b=new _r(t.value,m);h===r.value?s.value=b:b.destroy()}catch(b){console.error("Error creating chart:",b)}finally{i.value=!1}}return Dn(()=>l.sets,async(h,d)=>{if(h!==d){if(await It(),!h||h.length===0){s.value&&(s.value.destroy(),s.value=null);return}await It(()=>u())}},{deep:!1,immediate:!1}),Dn(()=>e.value,async(h,d)=>{await It(),u()}),(h,d)=>(T(),N(ye,null,[$(cM,{content:o.value,set:a.value},null,8,["content","set"]),S("div",uM,[$(pc,{options:[{label:"Weight",value:"weight"},{label:"Volume",value:"volume"}],colorSwap:"",onSelect:d[0]||(d[0]=f=>e.value=f)}),S("canvas",{ref_key:"canvasRef",ref:t,id:"weightByDateChart"},null,512)])],64))}}),dM={class:"viewArea margins"},fM={key:1},gM=ie({__name:"ExerciseView",props:["exercise_id"],setup(n){const e=zt(),t=n,s=F([]),i=F(null),r=F(!0),o=F([]),a=F(new Er),l=F(!1);function c(){return i.value?i.value.getName():"..."}async function u(){if(!i.value)return;const{data:f,error:g}=await ve.from("sets").select("*").eq("exercise_id",i.value.getId());if(g){console.error("Error fetching sets:",g);return}if(!f)return;const p=[];for(const m of f)p.push(await Li.create(m,i.value));for(const m of p){const{data:b,error:y}=await ve.from("workouts").select("start_time").eq("workout_id",m.getWorkoutId()).single();if(y){console.error("Error fetching workout for set:",y);continue}o.value.push({set:m,date:new Date(b.start_time)})}}ft(async()=>{i.value=await la.create(t.exercise_id),s.value=await ip(t.exercise_id),await u(),r.value=!1});function h(){if(r.value=!0,!!i.value){if(s.value.length>0){a.value.setError("Cannot delete exercise","This exercise is used in existing workouts and cannot be deleted."),r.value=!1;return}l.value=!0}}async function d(){if(l.value=!1,r.value=!0,await i.value.delete()){e.push({name:"Exercises"}),r.value=!1;return}a.value.setError("Failed to delete exercise","An error occurred while trying to delete the exercise. Please try again later."),r.value=!1}return(f,g)=>(T(),N(ye,null,[r.value?(T(),Ee(jn,{key:0})):K("",!0),$(Sr,{error:a.value},null,8,["error"]),l.value?(T(),Ee(os,{key:1,title:"Delete Exercise",message:"Are you sure you want to delete this exercise? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:g[0]||(g[0]=p=>d()),onCancel:g[1]||(g[1]=p=>l.value=!1)})):K("",!0),S("div",dM,[S("h1",null,fe(c()),1),!r.value&&o.value.length>0?(T(),Ee(hM,{key:0,sets:o.value},null,8,["sets"])):K("",!0),s.value.length>0?(T(),N("h2",fM,"Workouts with "+fe(c()),1)):K("",!0),(T(!0),N(ye,null,Fn(s.value,p=>(T(),Ee(tp,{key:p.getId(),workout:p},null,8,["workout"]))),128)),$($t,{onClick:g[2]||(g[2]=p=>h()),red:""},{default:dt(()=>[...g[3]||(g[3]=[Oe("Delete Exercise",-1)])]),_:1})])],64))}}),pM=ge(gM,[["__scopeId","data-v-14169f5a"]]),mM={class:"navBar margins"},bM=ie({__name:"NavBar",setup(n){return(e,t)=>(T(),N("nav",mM,[$(Se(ui),{class:"navItem",to:{name:"landing"}},{default:dt(()=>[...t[0]||(t[0]=[S("b",null,"Paper",-1),S("em",null,"Weight",-1)])]),_:1}),$(Se(ui),{class:"navItem right",to:{name:"Home"}},{default:dt(()=>[$($t,null,{default:dt(()=>[...t[1]||(t[1]=[Oe("Sign In",-1)])]),_:1})]),_:1})]))}}),yM=ge(bM,[["__scopeId","data-v-8583048c"]]),_M={class:"container"},wM=ie({__name:"SignUpComponent",setup(n){const e=zt(),t=F("");return(s,i)=>(T(),N("div",_M,[wt(S("input",{type:"text",placeholder:"Enter your email",class:"input-field","onUpdate:modelValue":i[0]||(i[0]=r=>t.value=r)},null,512),[[xt,t.value]]),$($t,{class:"sign-up-button",onClick:i[1]||(i[1]=r=>Se(e).push({name:"Sign Up",params:{email:t.value}})),flexgrow:""},{default:dt(()=>[...i[2]||(i[2]=[Oe(" Sign up for ",-1),S("b",null,"Paper",-1),S("em",null,"Weight",-1)])]),_:1})]))}}),Om=ge(wM,[["__scopeId","data-v-dd9ce313"]]),vM={class:"splash"},xM={class:"margins"},kM=ie({__name:"SplashScreen",setup(n){return(e,t)=>(T(),N(ye,null,[S("div",vM,[S("div",xM,[t[0]||(t[0]=S("h1",null,[Oe("Your Workout Logs,"),S("br"),S("span",{style:{color:"var(--accent)"}},"Digitized Instantly")],-1)),t[1]||(t[1]=S("p",null,"Snap a photo of your workout notebook and let AI transform it into detailed digital logs. Track your progress, analyze your stats, and crush your personal bests.",-1)),t[2]||(t[2]=S("i",{class:"fa-solid fa-arrow-down fa-2xl"},null,-1)),$(Om)])]),t[3]||(t[3]=S("div",{class:"gradient"},null,-1)),t[4]||(t[4]=S("div",{class:"splash-spacer"},null,-1))],64))}}),SM=ge(kM,[["__scopeId","data-v-2078dc61"]]),EM={},OM={class:"container"};function PM(n,e){return T(),N("div",OM,[...e[0]||(e[0]=[S("span",{class:"underline"},null,-1)])])}const TM=ge(EM,[["render",PM],["__scopeId","data-v-e9af7038"]]),CM={class:"featureBubble softBubble"},AM=ie({__name:"FeatureBubble",props:{title:{},message:{},iconClass:{}},setup(n){return(e,t)=>(T(),N("div",CM,[S("h2",null,[n.iconClass?(T(),N("i",{key:0,class:ht(n.iconClass),style:{"margin-right":"10px"}},null,2)):K("",!0),Oe(" "+fe(n.title),1)]),$(TM),S("p",null,[Oe(fe(n.message)+" ",1),ec(e.$slots,"default",{},void 0)])]))}}),Di=ge(AM,[["__scopeId","data-v-157f0aa8"]]),MM={class:"container"},DM={class:"marginsWidth featureSection",id:"featuresSection"},RM={class:"flexbox"},IM=ie({__name:"FeatureSection",setup(n){return(e,t)=>(T(),N("div",MM,[S("div",DM,[t[0]||(t[0]=S("h2",null,"Everything You Need to Track your Progress",-1)),t[1]||(t[1]=S("p",null,"From paper to insights in seconds. PaperWeight transforms your analog logs into powerful digital analytics.",-1)),S("div",RM,[$(Di,{title:"Snap & Upload",message:"Simply take a photo of your handwritten workout log. Our AI handles the rest.",iconClass:"fa-solid fa-camera"}),$(Di,{title:"AI-Powered Recognition",message:"Our advanced AI accurately interprets your handwriting and workout details.",iconClass:"fa-solid fa-robot"}),$(Di,{title:"Overall Stats",message:"Clearly visualize your progress with comprehensive statistics and trends.",iconClass:"fa-solid fa-chart-line"}),$(Di,{title:"Per-Exercise Stats",message:"Dive deep into your performance with detailed stats for each exercise.",iconClass:"fa-solid fa-dumbbell"}),$(Di,{title:"Personal Bests",message:"Easily track and celebrate your personal records over time.",iconClass:"fa-solid fa-medal"})])])]))}}),LM=ge(IM,[["__scopeId","data-v-418a9317"]]),NM={class:"margins"},$M={class:"stepContainer"},FM={class:"rows box"},jM={class:"stepNumber"},BM={class:"stepContent"},WM={key:0},VM={key:0,class:"box2 box"},HM=["src"],UM=ie({__name:"Step",props:{stepNumber:{},title:{},message:{},imgSrc:{}},setup(n){return(e,t)=>(T(),N("div",NM,[S("div",$M,[S("div",FM,[S("div",jM,fe(n.stepNumber),1),S("div",BM,[S("h2",null,fe(n.title),1),n.message?(T(),N("p",WM,fe(n.message),1)):K("",!0)])]),n.imgSrc?(T(),N("div",VM,[S("img",{src:n.imgSrc,class:"stepImage"},null,8,HM)])):K("",!0)])]))}}),zM=ge(UM,[["__scopeId","data-v-41c5a0de"]]),qM="/assets/workout_log-oVDHdRak.jpeg",YM="/assets/workout_logs-CLLSUjwo.png",GM="/assets/stats_screen-Cjv-gl8S.png",KM={class:"fullWidth"},XM=ie({__name:"StepsSection",setup(n){const e=[{title:"Do your workout",message:"You can log your workout in any format on paper. Take a photo through the upload page.",imgSrc:qM},{title:"View your logs",message:"View all of your workouts in the home screen.",imgSrc:YM},{title:"Track your progress",message:"Track your progress through stats such as volume, energy, and workout counts in the stats page.",imgSrc:GM}];return(t,s)=>(T(),N("div",KM,[s[0]||(s[0]=S("div",{class:"margins"},[S("h1",null,"How It Works"),S("p",null,"Three simple steps from paper to progress tracking")],-1)),(T(),N(ye,null,Fn(e,(i,r)=>$(zM,{key:r,stepNumber:r+1,title:i.title,message:i.message,imgSrc:i.imgSrc},null,8,["stepNumber","title","message","imgSrc"])),64))]))}}),JM=ge(XM,[["__scopeId","data-v-138518c5"]]),QM={class:"footer"},ZM={class:"margins"},eD=ie({__name:"Footer",setup(n){return zt(),(e,t)=>(T(),N("footer",QM,[S("div",ZM,[t[0]||(t[0]=S("h1",null,"Sign Up for free today",-1)),$(Om),t[1]||(t[1]=S("div",{class:"links"},null,-1))]),t[2]||(t[2]=S("div",{class:"gradient"},null,-1))]))}}),tD=ge(eD,[["__scopeId","data-v-1906e05a"]]),nD="/assets/slide_1-C77S-ZWc.PNG",sD="/assets/slide_2-Yb7zY4_q.PNG",iD="/assets/slide_3-Dh7ZrF35.PNG",rD="/assets/slide_4-BX62_VTc.PNG",oD="/assets/slide_5-C51ifKII.PNG",aD="/assets/slide_6-CUorsp8Z.PNG",lD="/assets/slide_7-D4NZ3EGt.PNG",cD={class:"container"},uD={class:"phone"},hD=["src","alt"],dD=ie({__name:"SlideshowSection",setup(n){const e=[nD,sD,iD,rD,oD,aD,lD],t=["Screenshot of the Home page, which displays logged workouts along with some key stats.","Screenshot of the workout view page, showing mainly the overview of the workout, which displays some key stats.","Screenshot of the workout view page, showing how exercises are displayed on the page, as well as personal records.","Screenshot of the Stats page, showing graph size options, and some key stats.","Screenshot of the Stats page, showing the graph.","Screenshot of the Exercises page, showing a list of exercises, along with their personal records.","Screenshot of the Exercise view page, displaying a graph of set volume by the date that it was completed. And a list of workouts where the exercise was done."];function s(){const r=document.querySelector(".phone");if(r){const o=document.querySelector(".slideContainer"),a=o?o.clientWidth:r.clientWidth;r.scrollBy({left:a,behavior:"smooth"})}}function i(){const r=document.querySelector(".phone");if(r){const o=document.querySelector(".slideContainer"),a=o?o.clientWidth:r.clientWidth;r.scrollBy({left:-a,behavior:"smooth"})}}return ft(()=>{const r=document.querySelectorAll(".phoneSlide")[0];r&&(r.scrollIntoView({behavior:"instant",block:"start"}),window.scrollTo(0,0))}),(r,o)=>(T(),N("div",cD,[S("div",uD,[(T(),N(ye,null,Fn(e,(a,l)=>S("div",{key:l,class:"slideContainer"},[l<e.length-1?(T(),N("button",{key:0,class:"iconButton rightBtn slideSwitcher",onClick:o[0]||(o[0]=c=>s())},[...o[2]||(o[2]=[S("i",{class:"fas fa-chevron-right"},null,-1)])])):K("",!0),l>0?(T(),N("button",{key:1,class:"iconButton leftBtn slideSwitcher",onClick:o[1]||(o[1]=c=>i())},[...o[3]||(o[3]=[S("i",{class:"fas fa-chevron-left"},null,-1)])])):K("",!0),S("img",{src:a,class:"phoneSlide",alt:t[l]},null,8,hD)])),64))])]))}}),fD=ge(dD,[["__scopeId","data-v-ea6cd818"]]),gD={class:"bg"},pD=ie({__name:"LandingPage",setup(n){return(e,t)=>(T(),N(ye,null,[$(yM),$(SM),$(LM),$(fD),S("div",gD,[$(JM),$(tD)])],64))}}),mD=ge(pD,[["__scopeId","data-v-8efad7e0"]]),bD=[{path:"/",name:"landing",component:mD},{path:"/signin/:message?",name:"Sign In",component:ch,props:!0},{path:"/signup/:email?",name:"Sign Up",component:Zv,props:!0},{path:"/app/emailconf",name:"Email Confirmation",component:sx},{path:"/app",name:"Home",component:wx},{path:"/app/upload",name:"Upload",component:Ox},{path:"/app/view-workout/:workout_id",name:"View Workout",component:pk,props:!0},{path:"/app/exercise/:exercise_id",name:"View Exercise",component:pM,props:!0},{path:"/app/stats",name:"Stats",component:jA},{path:"/app/exercises",name:"Exercises",component:QA},{path:"/email-confirmed",name:"Email Confirmed",component:ch,props:{message:"emailconfirmed"}}],Pm=J_({history:M_(),routes:bD});Pm.beforeEach(async(n,e,t)=>{const s=(await ve.auth.getSession()).data.session,i=n.path.startsWith("/app"),r=n.name==="Sign In"||n.name==="Sign Up"||n.name==="Email Confirmation"||n.name==="Email Confirmed";i&&!s?t({name:"Sign In"}):r&&s?t({name:"Home"}):t()});const Tm=zy(Vv);Tm.use(Pm);Tm.mount("#app");
