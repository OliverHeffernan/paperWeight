(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ci(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const ne={},gr=[],ht=()=>{},ca=()=>!1,Ms=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ui=t=>t.startsWith("onUpdate:"),Ae=Object.assign,hi=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Oc=Object.prototype.hasOwnProperty,te=(t,e)=>Oc.call(t,e),W=Array.isArray,mr=t=>Fs(t)==="[object Map]",ua=t=>Fs(t)==="[object Set]",G=t=>typeof t=="function",pe=t=>typeof t=="string",Lt=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",ha=t=>(le(t)||G(t))&&G(t.then)&&G(t.catch),da=Object.prototype.toString,Fs=t=>da.call(t),Tc=t=>Fs(t).slice(8,-1),fa=t=>Fs(t)==="[object Object]",di=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lr=ci(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vs=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},kc=/-\w/g,Ge=Vs(t=>t.replace(kc,e=>e.slice(1).toUpperCase())),Ac=/\B([A-Z])/g,Zt=Vs(t=>t.replace(Ac,"-$1").toLowerCase()),qs=Vs(t=>t.charAt(0).toUpperCase()+t.slice(1)),ln=Vs(t=>t?`on${qs(t)}`:""),Nt=(t,e)=>!Object.is(t,e),bs=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},pa=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},jn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fi;const Ws=()=>Fi||(Fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fi(t){if(W(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=pe(s)?Cc(s):fi(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||le(t))return t}const Rc=/;(?![^(]*\))/g,Pc=/:([^]+)/,xc=/\/\*[^]*?\*\//g;function Cc(t){const e={};return t.replace(xc,"").split(Rc).forEach(r=>{if(r){const s=r.split(Pc);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function br(t){let e="";if(pe(t))e=t;else if(W(t))for(let r=0;r<t.length;r++){const s=br(t[r]);s&&(e+=s+" ")}else if(le(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ic="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jc=ci(Ic);function ga(t){return!!t||t===""}const ma=t=>!!(t&&t.__v_isRef===!0),de=t=>pe(t)?t:t==null?"":W(t)||le(t)&&(t.toString===da||!G(t.toString))?ma(t)?de(t.value):JSON.stringify(t,_a,2):String(t),_a=(t,e)=>ma(e)?_a(t,e.value):mr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[cn(s,i)+" =>"]=n,r),{})}:ua(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>cn(r))}:Lt(e)?cn(e):le(e)&&!W(e)&&!fa(e)?String(e):e,cn=(t,e="")=>{var r;return Lt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let De;class $c{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=De,!e&&De&&(this.index=(De.scopes||(De.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=De;try{return De=this,e()}finally{De=r}}}on(){++this._on===1&&(this.prevScope=De,De=this)}off(){this._on>0&&--this._on===0&&(De=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Nc(){return De}let ae;const un=new WeakSet;class va{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,De&&De.active&&De.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,un.has(this)&&(un.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vi(this),ba(this);const e=ae,r=Ze;ae=this,Ze=!0;try{return this.fn()}finally{Ea(this),ae=e,Ze=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)mi(e);this.deps=this.depsTail=void 0,Vi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?un.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$n(this)&&this.run()}get dirty(){return $n(this)}}let ya=0,Br,Mr;function wa(t,e=!1){if(t.flags|=8,e){t.next=Mr,Mr=t;return}t.next=Br,Br=t}function pi(){ya++}function gi(){if(--ya>0)return;if(Mr){let e=Mr;for(Mr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Br;){let e=Br;for(Br=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function ba(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ea(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),mi(s),Dc(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function $n(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Sa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Sa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qr)||(t.globalVersion=Qr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!$n(t))))return;t.flags|=2;const e=t.dep,r=ae,s=Ze;ae=t,Ze=!0;try{ba(t);const n=t.fn(t._value);(e.version===0||Nt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ae=r,Ze=s,Ea(t),t.flags&=-3}}function mi(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)mi(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Dc(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ze=!0;const Oa=[];function St(){Oa.push(Ze),Ze=!1}function Ot(){const t=Oa.pop();Ze=t===void 0?!0:t}function Vi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=ae;ae=void 0;try{e()}finally{ae=r}}}let Qr=0;class Uc{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _i{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!Ze||ae===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ae)r=this.activeLink=new Uc(ae,this),ae.deps?(r.prevDep=ae.depsTail,ae.depsTail.nextDep=r,ae.depsTail=r):ae.deps=ae.depsTail=r,Ta(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ae.depsTail,r.nextDep=void 0,ae.depsTail.nextDep=r,ae.depsTail=r,ae.deps===r&&(ae.deps=s)}return r}trigger(e){this.version++,Qr++,this.notify(e)}notify(e){pi();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{gi()}}}function Ta(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ta(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Nn=new WeakMap,Xt=Symbol(""),Dn=Symbol(""),Xr=Symbol("");function Oe(t,e,r){if(Ze&&ae){let s=Nn.get(t);s||Nn.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new _i),n.map=s,n.key=r),n.track()}}function wt(t,e,r,s,n,i){const o=Nn.get(t);if(!o){Qr++;return}const a=l=>{l&&l.trigger()};if(pi(),e==="clear")o.forEach(a);else{const l=W(t),c=l&&di(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===Xr||!Lt(f)&&f>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Xr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Xt)),mr(t)&&a(o.get(Dn)));break;case"delete":l||(a(o.get(Xt)),mr(t)&&a(o.get(Dn)));break;case"set":mr(t)&&a(o.get(Xt));break}}gi()}function nr(t){const e=ee(t);return e===t?e:(Oe(e,"iterate",Xr),He(t)?e:e.map(Ee))}function Hs(t){return Oe(t=ee(t),"iterate",Xr),t}const Lc={__proto__:null,[Symbol.iterator](){return hn(this,Symbol.iterator,Ee)},concat(...t){return nr(this).concat(...t.map(e=>W(e)?nr(e):e))},entries(){return hn(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return mt(this,"every",t,e,void 0,arguments)},filter(t,e){return mt(this,"filter",t,e,r=>r.map(Ee),arguments)},find(t,e){return mt(this,"find",t,e,Ee,arguments)},findIndex(t,e){return mt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mt(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return mt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mt(this,"forEach",t,e,void 0,arguments)},includes(...t){return dn(this,"includes",t)},indexOf(...t){return dn(this,"indexOf",t)},join(t){return nr(this).join(t)},lastIndexOf(...t){return dn(this,"lastIndexOf",t)},map(t,e){return mt(this,"map",t,e,void 0,arguments)},pop(){return Ir(this,"pop")},push(...t){return Ir(this,"push",t)},reduce(t,...e){return qi(this,"reduce",t,e)},reduceRight(t,...e){return qi(this,"reduceRight",t,e)},shift(){return Ir(this,"shift")},some(t,e){return mt(this,"some",t,e,void 0,arguments)},splice(...t){return Ir(this,"splice",t)},toReversed(){return nr(this).toReversed()},toSorted(t){return nr(this).toSorted(t)},toSpliced(...t){return nr(this).toSpliced(...t)},unshift(...t){return Ir(this,"unshift",t)},values(){return hn(this,"values",Ee)}};function hn(t,e,r){const s=Hs(t),n=s[e]();return s!==t&&!He(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const Bc=Array.prototype;function mt(t,e,r,s,n,i){const o=Hs(t),a=o!==t&&!He(t),l=o[e];if(l!==Bc[e]){const h=l.apply(t,i);return a?Ee(h):h}let c=r;o!==t&&(a?c=function(h,f){return r.call(this,Ee(h),f,t)}:r.length>2&&(c=function(h,f){return r.call(this,h,f,t)}));const u=l.call(o,c,s);return a&&n?n(u):u}function qi(t,e,r,s){const n=Hs(t);let i=r;return n!==t&&(He(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Ee(a),l,t)}),n[e](i,...s)}function dn(t,e,r){const s=ee(t);Oe(s,"iterate",Xr);const n=s[e](...r);return(n===-1||n===!1)&&wi(r[0])?(r[0]=ee(r[0]),s[e](...r)):n}function Ir(t,e,r=[]){St(),pi();const s=ee(t)[e].apply(t,r);return gi(),Ot(),s}const Mc=ci("__proto__,__v_isRef,__isVue"),ka=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lt));function Fc(t){Lt(t)||(t=String(t));const e=ee(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class Aa{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Qc:Ca:i?xa:Pa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=W(e);if(!n){let l;if(o&&(l=Lc[r]))return l;if(r==="hasOwnProperty")return Fc}const a=Reflect.get(e,r,ke(e)?e:s);if((Lt(r)?ka.has(r):Mc(r))||(n||Oe(e,"get",r),i))return a;if(ke(a)){const l=o&&di(r)?a:a.value;return n&&le(l)?Ln(l):l}return le(a)?n?Ln(a):Ks(a):a}}class Ra extends Aa{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const l=Dt(i);if(!He(s)&&!Dt(s)&&(i=ee(i),s=ee(s)),!W(e)&&ke(i)&&!ke(s))return l||(i.value=s),!0}const o=W(e)&&di(r)?Number(r)<e.length:te(e,r),a=Reflect.set(e,r,s,ke(e)?e:n);return e===ee(n)&&(o?Nt(s,i)&&wt(e,"set",r,s):wt(e,"add",r,s)),a}deleteProperty(e,r){const s=te(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&wt(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!Lt(r)||!ka.has(r))&&Oe(e,"has",r),s}ownKeys(e){return Oe(e,"iterate",W(e)?"length":Xt),Reflect.ownKeys(e)}}class Vc extends Aa{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const qc=new Ra,Wc=new Vc,Hc=new Ra(!0);const Un=t=>t,cs=t=>Reflect.getPrototypeOf(t);function Kc(t,e,r){return function(...s){const n=this.__v_raw,i=ee(n),o=mr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...s),u=r?Un:e?ks:Ee;return!e&&Oe(i,"iterate",l?Dn:Xt),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function us(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Gc(t,e){const r={get(n){const i=this.__v_raw,o=ee(i),a=ee(n);t||(Nt(n,a)&&Oe(o,"get",n),Oe(o,"get",a));const{has:l}=cs(o),c=e?Un:t?ks:Ee;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Oe(ee(n),"iterate",Xt),n.size},has(n){const i=this.__v_raw,o=ee(i),a=ee(n);return t||(Nt(n,a)&&Oe(o,"has",n),Oe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ee(a),c=e?Un:t?ks:Ee;return!t&&Oe(l,"iterate",Xt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return Ae(r,t?{add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear")}:{add(n){!e&&!He(n)&&!Dt(n)&&(n=ee(n));const i=ee(this);return cs(i).has.call(i,n)||(i.add(n),wt(i,"add",n,n)),this},set(n,i){!e&&!He(i)&&!Dt(i)&&(i=ee(i));const o=ee(this),{has:a,get:l}=cs(o);let c=a.call(o,n);c||(n=ee(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Nt(i,u)&&wt(o,"set",n,i):wt(o,"add",n,i),this},delete(n){const i=ee(this),{has:o,get:a}=cs(i);let l=o.call(i,n);l||(n=ee(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&wt(i,"delete",n,void 0),c},clear(){const n=ee(this),i=n.size!==0,o=n.clear();return i&&wt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Kc(n,t,e)}),r}function vi(t,e){const r=Gc(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(te(r,n)&&n in s?r:s,n,i)}const Jc={get:vi(!1,!1)},zc={get:vi(!1,!0)},Yc={get:vi(!0,!1)};const Pa=new WeakMap,xa=new WeakMap,Ca=new WeakMap,Qc=new WeakMap;function Xc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zc(t){return t.__v_skip||!Object.isExtensible(t)?0:Xc(Tc(t))}function Ks(t){return Dt(t)?t:yi(t,!1,qc,Jc,Pa)}function Ia(t){return yi(t,!1,Hc,zc,xa)}function Ln(t){return yi(t,!0,Wc,Yc,Ca)}function yi(t,e,r,s,n){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Zc(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function _r(t){return Dt(t)?_r(t.__v_raw):!!(t&&t.__v_isReactive)}function Dt(t){return!!(t&&t.__v_isReadonly)}function He(t){return!!(t&&t.__v_isShallow)}function wi(t){return t?!!t.__v_raw:!1}function ee(t){const e=t&&t.__v_raw;return e?ee(e):t}function eu(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&pa(t,"__v_skip",!0),t}const Ee=t=>le(t)?Ks(t):t,ks=t=>le(t)?Ln(t):t;function ke(t){return t?t.__v_isRef===!0:!1}function be(t){return ja(t,!1)}function tu(t){return ja(t,!0)}function ja(t,e){return ke(t)?t:new ru(t,e)}class ru{constructor(e,r){this.dep=new _i,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ee(e),this._value=r?e:Ee(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||He(e)||Dt(e);e=s?e:ee(e),Nt(e,r)&&(this._rawValue=e,this._value=s?e:Ee(e),this.dep.trigger())}}function Et(t){return ke(t)?t.value:t}const su={get:(t,e,r)=>e==="__v_raw"?t:Et(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return ke(n)&&!ke(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function $a(t){return _r(t)?t:new Proxy(t,su)}class nu{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new _i(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return wa(this,!0),!0}get value(){const e=this.dep.track();return Sa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function iu(t,e,r=!1){let s,n;return G(t)?s=t:(s=t.get,n=t.set),new nu(s,n,r)}const hs={},As=new WeakMap;let Kt;function ou(t,e=!1,r=Kt){if(r){let s=As.get(r);s||As.set(r,s=[]),s.push(t)}}function au(t,e,r=ne){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=A=>n?A:He(A)||n===!1||n===0?bt(A,1):bt(A);let u,h,f,d,_=!1,m=!1;if(ke(t)?(h=()=>t.value,_=He(t)):_r(t)?(h=()=>c(t),_=!0):W(t)?(m=!0,_=t.some(A=>_r(A)||He(A)),h=()=>t.map(A=>{if(ke(A))return A.value;if(_r(A))return c(A);if(G(A))return l?l(A,2):A()})):G(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){St();try{f()}finally{Ot()}}const A=Kt;Kt=u;try{return l?l(t,3,[d]):t(d)}finally{Kt=A}}:h=ht,e&&n){const A=h,V=n===!0?1/0:n;h=()=>bt(A(),V)}const y=Nc(),T=()=>{u.stop(),y&&y.active&&hi(y.effects,u)};if(i&&e){const A=e;e=(...V)=>{A(...V),T()}}let w=m?new Array(t.length).fill(hs):hs;const b=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(e){const V=u.run();if(n||_||(m?V.some((F,K)=>Nt(F,w[K])):Nt(V,w))){f&&f();const F=Kt;Kt=u;try{const K=[V,w===hs?void 0:m&&w[0]===hs?[]:w,d];w=V,l?l(e,3,K):e(...K)}finally{Kt=F}}}else u.run()};return a&&a(b),u=new va(h),u.scheduler=o?()=>o(b,!1):b,d=A=>ou(A,!1,u),f=u.onStop=()=>{const A=As.get(u);if(A){if(l)l(A,4);else for(const V of A)V();As.delete(u)}},e?s?b(!0):w=u.run():o?o(b.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function bt(t,e=1/0,r){if(e<=0||!le(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,ke(t))bt(t.value,e,r);else if(W(t))for(let s=0;s<t.length;s++)bt(t[s],e,r);else if(ua(t)||mr(t))t.forEach(s=>{bt(s,e,r)});else if(fa(t)){for(const s in t)bt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&bt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function os(t,e,r,s){try{return s?t(...s):t()}catch(n){Gs(n,e,r)}}function ft(t,e,r,s){if(G(t)){const n=os(t,e,r,s);return n&&ha(n)&&n.catch(i=>{Gs(i,e,r)}),n}if(W(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ft(t[i],e,r,s));return n}}function Gs(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ne;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){St(),os(i,null,10,[t,l,c]),Ot();return}}lu(t,r,n,s,o)}function lu(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Ce=[];let lt=-1;const vr=[];let Ct=null,ur=0;const Na=Promise.resolve();let Rs=null;function Da(t){const e=Rs||Na;return t?e.then(this?t.bind(this):t):e}function cu(t){let e=lt+1,r=Ce.length;for(;e<r;){const s=e+r>>>1,n=Ce[s],i=Zr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function bi(t){if(!(t.flags&1)){const e=Zr(t),r=Ce[Ce.length-1];!r||!(t.flags&2)&&e>=Zr(r)?Ce.push(t):Ce.splice(cu(e),0,t),t.flags|=1,Ua()}}function Ua(){Rs||(Rs=Na.then(Ba))}function uu(t){W(t)?vr.push(...t):Ct&&t.id===-1?Ct.splice(ur+1,0,t):t.flags&1||(vr.push(t),t.flags|=1),Ua()}function Wi(t,e,r=lt+1){for(;r<Ce.length;r++){const s=Ce[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ce.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function La(t){if(vr.length){const e=[...new Set(vr)].sort((r,s)=>Zr(r)-Zr(s));if(vr.length=0,Ct){Ct.push(...e);return}for(Ct=e,ur=0;ur<Ct.length;ur++){const r=Ct[ur];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ct=null,ur=0}}const Zr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ba(t){try{for(lt=0;lt<Ce.length;lt++){const e=Ce[lt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),os(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lt<Ce.length;lt++){const e=Ce[lt];e&&(e.flags&=-2)}lt=-1,Ce.length=0,La(),Rs=null,(Ce.length||vr.length)&&Ba()}}let Ve=null,Ma=null;function Ps(t){const e=Ve;return Ve=t,Ma=t&&t.type.__scopeId||null,e}function Js(t,e=Ve,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&Is(-1);const i=Ps(e);let o;try{o=t(...n)}finally{Ps(i),s._d&&Is(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Fr(t,e){if(Ve===null)return t;const r=Zs(Ve),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ne]=e[n];i&&(G(i)&&(i={mounted:i,updated:i}),i.deep&&bt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Vt(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(St(),ft(l,r,8,[t.el,a,t,e]),Ot())}}const hu=Symbol("_vte"),du=t=>t.__isTeleport,fu=Symbol("_leaveCb");function Ei(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ei(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Re(t,e){return G(t)?Ae({name:t.name},e,{setup:t}):t}function Fa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const xs=new WeakMap;function Vr(t,e,r,s,n=!1){if(W(t)){t.forEach((_,m)=>Vr(_,e&&(W(e)?e[m]:e),r,s,n));return}if(qr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Vr(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?Zs(s.component):s.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ne?a.refs={}:a.refs,h=a.setupState,f=ee(h),d=h===ne?ca:_=>te(f,_);if(c!=null&&c!==l){if(Hi(e),pe(c))u[c]=null,d(c)&&(h[c]=null);else if(ke(c)){c.value=null;const _=e;_.k&&(u[_.k]=null)}}if(G(l))os(l,a,12,[o,u]);else{const _=pe(l),m=ke(l);if(_||m){const y=()=>{if(t.f){const T=_?d(l)?h[l]:u[l]:l.value;if(n)W(T)&&hi(T,i);else if(W(T))T.includes(i)||T.push(i);else if(_)u[l]=[i],d(l)&&(h[l]=u[l]);else{const w=[i];l.value=w,t.k&&(u[t.k]=w)}}else _?(u[l]=o,d(l)&&(h[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const T=()=>{y(),xs.delete(t)};T.id=-1,xs.set(t,T),Le(T,r)}else Hi(t),y()}}}function Hi(t){const e=xs.get(t);e&&(e.flags|=8,xs.delete(t))}Ws().requestIdleCallback;Ws().cancelIdleCallback;const qr=t=>!!t.type.__asyncLoader,Va=t=>t.type.__isKeepAlive;function pu(t,e){qa(t,"a",e)}function gu(t,e){qa(t,"da",e)}function qa(t,e,r=Te){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(zs(e,s,r),r){let n=r.parent;for(;n&&n.parent;)Va(n.parent.vnode)&&mu(s,e,r,n),n=n.parent}}function mu(t,e,r,s){const n=zs(e,t,s,!0);Wa(()=>{hi(s[e],n)},r)}function zs(t,e,r=Te,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{St();const a=as(r),l=ft(e,r,t,o);return a(),Ot(),l});return s?n.unshift(i):n.push(i),i}}const Tt=t=>(e,r=Te)=>{(!ts||t==="sp")&&zs(t,(...s)=>e(...s),r)},_u=Tt("bm"),Ys=Tt("m"),vu=Tt("bu"),yu=Tt("u"),wu=Tt("bum"),Wa=Tt("um"),bu=Tt("sp"),Eu=Tt("rtg"),Su=Tt("rtc");function Ou(t,e=Te){zs("ec",t,e)}const Tu="components";function ku(t,e){return Ru(Tu,t,!0,e)||t}const Au=Symbol.for("v-ndc");function Ru(t,e,r=!0,s=!1){const n=Ve||Te;if(n){const i=n.type;{const a=mh(i,!1);if(a&&(a===e||a===Ge(e)||a===qs(Ge(e))))return i}const o=Ki(n[t]||i[t],e)||Ki(n.appContext[t],e);return!o&&s?i:o}}function Ki(t,e){return t&&(t[e]||t[Ge(e)]||t[qs(Ge(e))])}function Si(t,e,r,s){let n;const i=r,o=W(t);if(o||pe(t)){const a=o&&_r(t);let l=!1,c=!1;a&&(l=!He(t),c=Dt(t),t=Hs(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?ks(Ee(t[u])):Ee(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const Bn=t=>t?ul(t)?Zs(t):Bn(t.parent):null,Wr=Ae(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bn(t.parent),$root:t=>Bn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ka(t),$forceUpdate:t=>t.f||(t.f=()=>{bi(t.update)}),$nextTick:t=>t.n||(t.n=Da.bind(t.proxy)),$watch:t=>zu.bind(t)}),fn=(t,e)=>t!==ne&&!t.__isScriptSetup&&te(t,e),Pu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(fn(s,e))return o[e]=1,s[e];if(n!==ne&&te(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,i[e];if(r!==ne&&te(r,e))return o[e]=4,r[e];Mn&&(o[e]=0)}}const u=Wr[e];let h,f;if(u)return e==="$attrs"&&Oe(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==ne&&te(r,e))return o[e]=4,r[e];if(f=l.config.globalProperties,te(f,e))return f[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return fn(n,e)?(n[e]=r,!0):s!==ne&&te(s,e)?(s[e]=r,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==ne&&a[0]!=="$"&&te(t,a)||fn(e,a)||(l=i[0])&&te(l,a)||te(s,a)||te(Wr,a)||te(n.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:te(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Gi(t){return W(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Mn=!0;function xu(t){const e=Ka(t),r=t.proxy,s=t.ctx;Mn=!1,e.beforeCreate&&Ji(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:_,activated:m,deactivated:y,beforeDestroy:T,beforeUnmount:w,destroyed:b,unmounted:A,render:V,renderTracked:F,renderTriggered:K,errorCaptured:ge,serverPrefetch:ve,expose:tt,inheritAttrs:kt,components:Mt,directives:rt,filters:xr}=e;if(c&&Cu(c,s,null),o)for(const se in o){const X=o[se];G(X)&&(s[se]=X.bind(r))}if(n){const se=n.call(r,r);le(se)&&(t.data=Ks(se))}if(Mn=!0,i)for(const se in i){const X=i[se],gt=G(X)?X.bind(r,r):G(X.get)?X.get.bind(r,r):ht,At=!G(X)&&G(X.set)?X.set.bind(r):ht,st=Qe({get:gt,set:At});Object.defineProperty(s,se,{enumerable:!0,configurable:!0,get:()=>st.value,set:je=>st.value=je})}if(a)for(const se in a)Ha(a[se],s,r,se);if(l){const se=G(l)?l.call(r):l;Reflect.ownKeys(se).forEach(X=>{Es(X,se[X])})}u&&Ji(u,t,"c");function ye(se,X){W(X)?X.forEach(gt=>se(gt.bind(r))):X&&se(X.bind(r))}if(ye(_u,h),ye(Ys,f),ye(vu,d),ye(yu,_),ye(pu,m),ye(gu,y),ye(Ou,ge),ye(Su,F),ye(Eu,K),ye(wu,w),ye(Wa,A),ye(bu,ve),W(tt))if(tt.length){const se=t.exposed||(t.exposed={});tt.forEach(X=>{Object.defineProperty(se,X,{get:()=>r[X],set:gt=>r[X]=gt,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===ht&&(t.render=V),kt!=null&&(t.inheritAttrs=kt),Mt&&(t.components=Mt),rt&&(t.directives=rt),ve&&Fa(t)}function Cu(t,e,r=ht){W(t)&&(t=Fn(t));for(const s in t){const n=t[s];let i;le(n)?"default"in n?i=dt(n.from||s,n.default,!0):i=dt(n.from||s):i=dt(n),ke(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ji(t,e,r){ft(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function Ha(t,e,r,s){let n=s.includes(".")?il(r,s):()=>r[s];if(pe(t)){const i=e[t];G(i)&&Ss(n,i)}else if(G(t))Ss(n,t.bind(r));else if(le(t))if(W(t))t.forEach(i=>Ha(i,e,r,s));else{const i=G(t.handler)?t.handler.bind(r):e[t.handler];G(i)&&Ss(n,i,t)}}function Ka(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>Cs(l,c,o,!0)),Cs(l,e,o)),le(e)&&i.set(e,l),l}function Cs(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&Cs(t,i,r,!0),n&&n.forEach(o=>Cs(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=Iu[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Iu={data:zi,props:Yi,emits:Yi,methods:Dr,computed:Dr,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:Dr,directives:Dr,watch:$u,provide:zi,inject:ju};function zi(t,e){return e?t?function(){return Ae(G(t)?t.call(this,this):t,G(e)?e.call(this,this):e)}:e:t}function ju(t,e){return Dr(Fn(t),Fn(e))}function Fn(t){if(W(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Pe(t,e){return t?[...new Set([].concat(t,e))]:e}function Dr(t,e){return t?Ae(Object.create(null),t,e):e}function Yi(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:Ae(Object.create(null),Gi(t),Gi(e??{})):e}function $u(t,e){if(!t)return e;if(!e)return t;const r=Ae(Object.create(null),t);for(const s in e)r[s]=Pe(t[s],e[s]);return r}function Ga(){return{app:null,config:{isNativeTag:ca,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nu=0;function Du(t,e){return function(s,n=null){G(s)||(s=Ae({},s)),n!=null&&!le(n)&&(n=null);const i=Ga(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Nu++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:vh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&G(u.install)?(o.add(u),u.install(c,...h)):G(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,f){if(!l){const d=c._ceVNode||Q(s,n);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(d,u,f),l=!0,c._container=u,u.__vue_app__=c,Zs(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ft(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=yr;yr=c;try{return u()}finally{yr=h}}};return c}}let yr=null;function Es(t,e){if(Te){let r=Te.provides;const s=Te.parent&&Te.parent.provides;s===r&&(r=Te.provides=Object.create(s)),r[t]=e}}function dt(t,e,r=!1){const s=hh();if(s||yr){let n=yr?yr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&G(e)?e.call(s&&s.proxy):e}}const Ja={},za=()=>Object.create(Ja),Ya=t=>Object.getPrototypeOf(t)===Ja;function Uu(t,e,r,s=!1){const n={},i=za();t.propsDefaults=Object.create(null),Qa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:Ia(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Lu(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ee(n),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Qs(t.emitsOptions,f))continue;const d=e[f];if(l)if(te(i,f))d!==i[f]&&(i[f]=d,c=!0);else{const _=Ge(f);n[_]=Vn(l,a,_,d,t,!1)}else d!==i[f]&&(i[f]=d,c=!0)}}}else{Qa(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!te(e,h)&&((u=Zt(h))===h||!te(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=Vn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!te(e,h))&&(delete i[h],c=!0)}c&&wt(t.attrs,"set","")}function Qa(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lr(l))continue;const c=e[l];let u;n&&te(n,u=Ge(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Qs(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ee(r),c=a||ne;for(let u=0;u<i.length;u++){const h=i[u];r[h]=Vn(n,l,h,c[h],t,!te(c,h))}}return o}function Vn(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&G(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=as(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Zt(r))&&(s=!0))}return s}const Bu=new WeakMap;function Xa(t,e,r=!1){const s=r?Bu:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!G(t)){const u=h=>{l=!0;const[f,d]=Xa(h,e,!0);Ae(o,f),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return le(t)&&s.set(t,gr),gr;if(W(i))for(let u=0;u<i.length;u++){const h=Ge(i[u]);Qi(h)&&(o[h]=ne)}else if(i)for(const u in i){const h=Ge(u);if(Qi(h)){const f=i[u],d=o[h]=W(f)||G(f)?{type:f}:Ae({},f),_=d.type;let m=!1,y=!0;if(W(_))for(let T=0;T<_.length;++T){const w=_[T],b=G(w)&&w.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(y=!1)}else m=G(_)&&_.name==="Boolean";d[0]=m,d[1]=y,(m||te(d,"default"))&&a.push(h)}}const c=[o,a];return le(t)&&s.set(t,c),c}function Qi(t){return t[0]!=="$"&&!Lr(t)}const Oi=t=>t==="_"||t==="_ctx"||t==="$stable",Ti=t=>W(t)?t.map(ct):[ct(t)],Mu=(t,e,r)=>{if(e._n)return e;const s=Js((...n)=>Ti(e(...n)),r);return s._c=!1,s},Za=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Oi(n))continue;const i=t[n];if(G(i))e[n]=Mu(n,i,s);else if(i!=null){const o=Ti(i);e[n]=()=>o}}},el=(t,e)=>{const r=Ti(e);t.slots.default=()=>r},tl=(t,e,r)=>{for(const s in e)(r||!Oi(s))&&(t[s]=e[s])},Fu=(t,e,r)=>{const s=t.slots=za();if(t.vnode.shapeFlag&32){const n=e._;n?(tl(s,e,r),r&&pa(s,"_",n,!0)):Za(e,s)}else e&&el(t,e)},Vu=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=ne;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:tl(n,e,r):(i=!e.$stable,Za(e,n)),o=e}else e&&(el(t,e),o={default:1});if(i)for(const a in n)!Oi(a)&&o[a]==null&&delete n[a]},Le=sh;function qu(t){return Wu(t)}function Wu(t,e){const r=Ws();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=ht,insertStaticContent:_}=t,m=(p,g,v,S=null,k=null,E=null,C=void 0,x=null,P=!!g.dynamicChildren)=>{if(p===g)return;p&&!jr(p,g)&&(S=O(p),je(p,k,E,!0),p=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:R,ref:M,shapeFlag:j}=g;switch(R){case Xs:y(p,g,v,S);break;case Ut:T(p,g,v,S);break;case gn:p==null&&w(g,v,S,C);break;case we:Mt(p,g,v,S,k,E,C,x,P);break;default:j&1?V(p,g,v,S,k,E,C,x,P):j&6?rt(p,g,v,S,k,E,C,x,P):(j&64||j&128)&&R.process(p,g,v,S,k,E,C,x,P,U)}M!=null&&k?Vr(M,p&&p.ref,E,g||p,!g):M==null&&p&&p.ref!=null&&Vr(p.ref,null,E,p,!0)},y=(p,g,v,S)=>{if(p==null)s(g.el=a(g.children),v,S);else{const k=g.el=p.el;g.children!==p.children&&c(k,g.children)}},T=(p,g,v,S)=>{p==null?s(g.el=l(g.children||""),v,S):g.el=p.el},w=(p,g,v,S)=>{[p.el,p.anchor]=_(p.children,g,v,S,p.el,p.anchor)},b=({el:p,anchor:g},v,S)=>{let k;for(;p&&p!==g;)k=f(p),s(p,v,S),p=k;s(g,v,S)},A=({el:p,anchor:g})=>{let v;for(;p&&p!==g;)v=f(p),n(p),p=v;n(g)},V=(p,g,v,S,k,E,C,x,P)=>{g.type==="svg"?C="svg":g.type==="math"&&(C="mathml"),p==null?F(g,v,S,k,E,C,x,P):ve(p,g,k,E,C,x,P)},F=(p,g,v,S,k,E,C,x)=>{let P,R;const{props:M,shapeFlag:j,transition:L,dirs:q}=p;if(P=p.el=o(p.type,E,M&&M.is,M),j&8?u(P,p.children):j&16&&ge(p.children,P,null,S,k,pn(p,E),C,x),q&&Vt(p,null,S,"created"),K(P,p,p.scopeId,C,S),M){for(const ie in M)ie!=="value"&&!Lr(ie)&&i(P,ie,null,M[ie],E,S);"value"in M&&i(P,"value",null,M.value,E),(R=M.onVnodeBeforeMount)&&at(R,S,p)}q&&Vt(p,null,S,"beforeMount");const z=Hu(k,L);z&&L.beforeEnter(P),s(P,g,v),((R=M&&M.onVnodeMounted)||z||q)&&Le(()=>{R&&at(R,S,p),z&&L.enter(P),q&&Vt(p,null,S,"mounted")},k)},K=(p,g,v,S,k)=>{if(v&&d(p,v),S)for(let E=0;E<S.length;E++)d(p,S[E]);if(k){let E=k.subTree;if(g===E||al(E.type)&&(E.ssContent===g||E.ssFallback===g)){const C=k.vnode;K(p,C,C.scopeId,C.slotScopeIds,k.parent)}}},ge=(p,g,v,S,k,E,C,x,P=0)=>{for(let R=P;R<p.length;R++){const M=p[R]=x?It(p[R]):ct(p[R]);m(null,M,g,v,S,k,E,C,x)}},ve=(p,g,v,S,k,E,C)=>{const x=g.el=p.el;let{patchFlag:P,dynamicChildren:R,dirs:M}=g;P|=p.patchFlag&16;const j=p.props||ne,L=g.props||ne;let q;if(v&&qt(v,!1),(q=L.onVnodeBeforeUpdate)&&at(q,v,g,p),M&&Vt(g,p,v,"beforeUpdate"),v&&qt(v,!0),(j.innerHTML&&L.innerHTML==null||j.textContent&&L.textContent==null)&&u(x,""),R?tt(p.dynamicChildren,R,x,v,S,pn(g,k),E):C||X(p,g,x,null,v,S,pn(g,k),E,!1),P>0){if(P&16)kt(x,j,L,v,k);else if(P&2&&j.class!==L.class&&i(x,"class",null,L.class,k),P&4&&i(x,"style",j.style,L.style,k),P&8){const z=g.dynamicProps;for(let ie=0;ie<z.length;ie++){const re=z[ie],$e=j[re],Ne=L[re];(Ne!==$e||re==="value")&&i(x,re,$e,Ne,k,v)}}P&1&&p.children!==g.children&&u(x,g.children)}else!C&&R==null&&kt(x,j,L,v,k);((q=L.onVnodeUpdated)||M)&&Le(()=>{q&&at(q,v,g,p),M&&Vt(g,p,v,"updated")},S)},tt=(p,g,v,S,k,E,C)=>{for(let x=0;x<g.length;x++){const P=p[x],R=g[x],M=P.el&&(P.type===we||!jr(P,R)||P.shapeFlag&198)?h(P.el):v;m(P,R,M,null,S,k,E,C,!0)}},kt=(p,g,v,S,k)=>{if(g!==v){if(g!==ne)for(const E in g)!Lr(E)&&!(E in v)&&i(p,E,g[E],null,k,S);for(const E in v){if(Lr(E))continue;const C=v[E],x=g[E];C!==x&&E!=="value"&&i(p,E,x,C,k,S)}"value"in v&&i(p,"value",g.value,v.value,k)}},Mt=(p,g,v,S,k,E,C,x,P)=>{const R=g.el=p?p.el:a(""),M=g.anchor=p?p.anchor:a("");let{patchFlag:j,dynamicChildren:L,slotScopeIds:q}=g;q&&(x=x?x.concat(q):q),p==null?(s(R,v,S),s(M,v,S),ge(g.children||[],v,M,k,E,C,x,P)):j>0&&j&64&&L&&p.dynamicChildren?(tt(p.dynamicChildren,L,v,k,E,C,x),(g.key!=null||k&&g===k.subTree)&&rl(p,g,!0)):X(p,g,v,M,k,E,C,x,P)},rt=(p,g,v,S,k,E,C,x,P)=>{g.slotScopeIds=x,p==null?g.shapeFlag&512?k.ctx.activate(g,v,S,C,P):xr(g,v,S,k,E,C,P):tr(p,g,P)},xr=(p,g,v,S,k,E,C)=>{const x=p.component=uh(p,S,k);if(Va(p)&&(x.ctx.renderer=U),dh(x,!1,C),x.asyncDep){if(k&&k.registerDep(x,ye,C),!p.el){const P=x.subTree=Q(Ut);T(null,P,g,v),p.placeholder=P.el}}else ye(x,p,g,v,k,E,C)},tr=(p,g,v)=>{const S=g.component=p.component;if(th(p,g,v))if(S.asyncDep&&!S.asyncResolved){se(S,g,v);return}else S.next=g,S.update();else g.el=p.el,S.vnode=g},ye=(p,g,v,S,k,E,C)=>{const x=()=>{if(p.isMounted){let{next:j,bu:L,u:q,parent:z,vnode:ie}=p;{const it=sl(p);if(it){j&&(j.el=ie.el,se(p,j,C)),it.asyncDep.then(()=>{p.isUnmounted||x()});return}}let re=j,$e;qt(p,!1),j?(j.el=ie.el,se(p,j,C)):j=ie,L&&bs(L),($e=j.props&&j.props.onVnodeBeforeUpdate)&&at($e,z,j,ie),qt(p,!0);const Ne=Zi(p),nt=p.subTree;p.subTree=Ne,m(nt,Ne,h(nt.el),O(nt),p,k,E),j.el=Ne.el,re===null&&rh(p,Ne.el),q&&Le(q,k),($e=j.props&&j.props.onVnodeUpdated)&&Le(()=>at($e,z,j,ie),k)}else{let j;const{el:L,props:q}=g,{bm:z,m:ie,parent:re,root:$e,type:Ne}=p,nt=qr(g);qt(p,!1),z&&bs(z),!nt&&(j=q&&q.onVnodeBeforeMount)&&at(j,re,g),qt(p,!0);{$e.ce&&$e.ce._def.shadowRoot!==!1&&$e.ce._injectChildStyle(Ne);const it=p.subTree=Zi(p);m(null,it,v,S,p,k,E),g.el=it.el}if(ie&&Le(ie,k),!nt&&(j=q&&q.onVnodeMounted)){const it=g;Le(()=>at(j,re,it),k)}(g.shapeFlag&256||re&&qr(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&Le(p.a,k),p.isMounted=!0,g=v=S=null}};p.scope.on();const P=p.effect=new va(x);p.scope.off();const R=p.update=P.run.bind(P),M=p.job=P.runIfDirty.bind(P);M.i=p,M.id=p.uid,P.scheduler=()=>bi(M),qt(p,!0),R()},se=(p,g,v)=>{g.component=p;const S=p.vnode.props;p.vnode=g,p.next=null,Lu(p,g.props,S,v),Vu(p,g.children,v),St(),Wi(p),Ot()},X=(p,g,v,S,k,E,C,x,P=!1)=>{const R=p&&p.children,M=p?p.shapeFlag:0,j=g.children,{patchFlag:L,shapeFlag:q}=g;if(L>0){if(L&128){At(R,j,v,S,k,E,C,x,P);return}else if(L&256){gt(R,j,v,S,k,E,C,x,P);return}}q&8?(M&16&&We(R,k,E),j!==R&&u(v,j)):M&16?q&16?At(R,j,v,S,k,E,C,x,P):We(R,k,E,!0):(M&8&&u(v,""),q&16&&ge(j,v,S,k,E,C,x,P))},gt=(p,g,v,S,k,E,C,x,P)=>{p=p||gr,g=g||gr;const R=p.length,M=g.length,j=Math.min(R,M);let L;for(L=0;L<j;L++){const q=g[L]=P?It(g[L]):ct(g[L]);m(p[L],q,v,null,k,E,C,x,P)}R>M?We(p,k,E,!0,!1,j):ge(g,v,S,k,E,C,x,P,j)},At=(p,g,v,S,k,E,C,x,P)=>{let R=0;const M=g.length;let j=p.length-1,L=M-1;for(;R<=j&&R<=L;){const q=p[R],z=g[R]=P?It(g[R]):ct(g[R]);if(jr(q,z))m(q,z,v,null,k,E,C,x,P);else break;R++}for(;R<=j&&R<=L;){const q=p[j],z=g[L]=P?It(g[L]):ct(g[L]);if(jr(q,z))m(q,z,v,null,k,E,C,x,P);else break;j--,L--}if(R>j){if(R<=L){const q=L+1,z=q<M?g[q].el:S;for(;R<=L;)m(null,g[R]=P?It(g[R]):ct(g[R]),v,z,k,E,C,x,P),R++}}else if(R>L)for(;R<=j;)je(p[R],k,E,!0),R++;else{const q=R,z=R,ie=new Map;for(R=z;R<=L;R++){const Ue=g[R]=P?It(g[R]):ct(g[R]);Ue.key!=null&&ie.set(Ue.key,R)}let re,$e=0;const Ne=L-z+1;let nt=!1,it=0;const Cr=new Array(Ne);for(R=0;R<Ne;R++)Cr[R]=0;for(R=q;R<=j;R++){const Ue=p[R];if($e>=Ne){je(Ue,k,E,!0);continue}let ot;if(Ue.key!=null)ot=ie.get(Ue.key);else for(re=z;re<=L;re++)if(Cr[re-z]===0&&jr(Ue,g[re])){ot=re;break}ot===void 0?je(Ue,k,E,!0):(Cr[ot-z]=R+1,ot>=it?it=ot:nt=!0,m(Ue,g[ot],v,null,k,E,C,x,P),$e++)}const Li=nt?Ku(Cr):gr;for(re=Li.length-1,R=Ne-1;R>=0;R--){const Ue=z+R,ot=g[Ue],Bi=g[Ue+1],Mi=Ue+1<M?Bi.el||Bi.placeholder:S;Cr[R]===0?m(null,ot,v,Mi,k,E,C,x,P):nt&&(re<0||R!==Li[re]?st(ot,v,Mi,2):re--)}}},st=(p,g,v,S,k=null)=>{const{el:E,type:C,transition:x,children:P,shapeFlag:R}=p;if(R&6){st(p.component.subTree,g,v,S);return}if(R&128){p.suspense.move(g,v,S);return}if(R&64){C.move(p,g,v,U);return}if(C===we){s(E,g,v);for(let j=0;j<P.length;j++)st(P[j],g,v,S);s(p.anchor,g,v);return}if(C===gn){b(p,g,v);return}if(S!==2&&R&1&&x)if(S===0)x.beforeEnter(E),s(E,g,v),Le(()=>x.enter(E),k);else{const{leave:j,delayLeave:L,afterLeave:q}=x,z=()=>{p.ctx.isUnmounted?n(E):s(E,g,v)},ie=()=>{E._isLeaving&&E[fu](!0),j(E,()=>{z(),q&&q()})};L?L(E,z,ie):ie()}else s(E,g,v)},je=(p,g,v,S=!1,k=!1)=>{const{type:E,props:C,ref:x,children:P,dynamicChildren:R,shapeFlag:M,patchFlag:j,dirs:L,cacheIndex:q}=p;if(j===-2&&(k=!1),x!=null&&(St(),Vr(x,null,v,p,!0),Ot()),q!=null&&(g.renderCache[q]=void 0),M&256){g.ctx.deactivate(p);return}const z=M&1&&L,ie=!qr(p);let re;if(ie&&(re=C&&C.onVnodeBeforeUnmount)&&at(re,g,p),M&6)Ft(p.component,v,S);else{if(M&128){p.suspense.unmount(v,S);return}z&&Vt(p,null,g,"beforeUnmount"),M&64?p.type.remove(p,g,v,U,S):R&&!R.hasOnce&&(E!==we||j>0&&j&64)?We(R,g,v,!1,!0):(E===we&&j&384||!k&&M&16)&&We(P,g,v),S&&rr(p)}(ie&&(re=C&&C.onVnodeUnmounted)||z)&&Le(()=>{re&&at(re,g,p),z&&Vt(p,null,g,"unmounted")},v)},rr=p=>{const{type:g,el:v,anchor:S,transition:k}=p;if(g===we){sr(v,S);return}if(g===gn){A(p);return}const E=()=>{n(v),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(p.shapeFlag&1&&k&&!k.persisted){const{leave:C,delayLeave:x}=k,P=()=>C(v,E);x?x(p.el,E,P):P()}else E()},sr=(p,g)=>{let v;for(;p!==g;)v=f(p),n(p),p=v;n(g)},Ft=(p,g,v)=>{const{bum:S,scope:k,job:E,subTree:C,um:x,m:P,a:R}=p;Xi(P),Xi(R),S&&bs(S),k.stop(),E&&(E.flags|=8,je(C,p,g,v)),x&&Le(x,g),Le(()=>{p.isUnmounted=!0},g)},We=(p,g,v,S=!1,k=!1,E=0)=>{for(let C=E;C<p.length;C++)je(p[C],g,v,S,k)},O=p=>{if(p.shapeFlag&6)return O(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),v=g&&g[hu];return v?f(v):g};let $=!1;const I=(p,g,v)=>{p==null?g._vnode&&je(g._vnode,null,null,!0):m(g._vnode||null,p,g,null,null,null,v),g._vnode=p,$||($=!0,Wi(),La(),$=!1)},U={p:m,um:je,m:st,r:rr,mt:xr,mc:ge,pc:X,pbc:tt,n:O,o:t};return{render:I,hydrate:void 0,createApp:Du(I)}}function pn({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function qt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Hu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rl(t,e,r=!1){const s=t.children,n=e.children;if(W(s)&&W(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=It(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&rl(o,a)),a.type===Xs&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ut&&!a.el&&(a.el=o.el)}}function Ku(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function sl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sl(e)}function Xi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Gu=Symbol.for("v-scx"),Ju=()=>dt(Gu);function Ss(t,e,r){return nl(t,e,r)}function nl(t,e,r=ne){const{immediate:s,deep:n,flush:i,once:o}=r,a=Ae({},r),l=e&&s||!e&&i!=="post";let c;if(ts){if(i==="sync"){const d=Ju();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=ht,d.resume=ht,d.pause=ht,d}}const u=Te;a.call=(d,_,m)=>ft(d,u,_,m);let h=!1;i==="post"?a.scheduler=d=>{Le(d,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(d,_)=>{_?d():bi(d)}),a.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const f=au(t,e,a);return ts&&(c?c.push(f):l&&f()),f}function zu(t,e,r){const s=this.proxy,n=pe(t)?t.includes(".")?il(s,t):()=>s[t]:t.bind(s,s);let i;G(e)?i=e:(i=e.handler,r=e);const o=as(this),a=nl(n,i.bind(s),r);return o(),a}function il(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const Yu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ge(e)}Modifiers`]||t[`${Zt(e)}Modifiers`];function Qu(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||ne;let n=r;const i=e.startsWith("update:"),o=i&&Yu(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>pe(u)?u.trim():u)),o.number&&(n=r.map(jn)));let a,l=s[a=ln(e)]||s[a=ln(Ge(e))];!l&&i&&(l=s[a=ln(Zt(e))]),l&&ft(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ft(c,t,6,n)}}const Xu=new WeakMap;function ol(t,e,r=!1){const s=r?Xu:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!G(t)){const l=c=>{const u=ol(c,e,!0);u&&(a=!0,Ae(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(le(t)&&s.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):Ae(o,i),le(t)&&s.set(t,o),o)}function Qs(t,e){return!t||!Ms(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Zt(e))||te(t,e))}function Zi(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:d,ctx:_,inheritAttrs:m}=t,y=Ps(t);let T,w;try{if(r.shapeFlag&4){const A=n||s,V=A;T=ct(c.call(V,A,u,h,d,f,_)),w=a}else{const A=e;T=ct(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),w=e.props?a:Zu(a)}}catch(A){Hr.length=0,Gs(A,t,1),T=Q(Ut)}let b=T;if(w&&m!==!1){const A=Object.keys(w),{shapeFlag:V}=b;A.length&&V&7&&(i&&A.some(ui)&&(w=eh(w,i)),b=Er(b,w,!1,!0))}return r.dirs&&(b=Er(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Ei(b,r.transition),T=b,Ps(y),T}const Zu=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ms(r))&&((e||(e={}))[r]=t[r]);return e},eh=(t,e)=>{const r={};for(const s in t)(!ui(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function th(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?eo(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Qs(c,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?eo(s,o,c):!0:!!o;return!1}function eo(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!Qs(r,i))return!0}return!1}function rh({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const al=t=>t.__isSuspense;function sh(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):uu(t)}const we=Symbol.for("v-fgt"),Xs=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),gn=Symbol.for("v-stc"),Hr=[];let qe=null;function Y(t=!1){Hr.push(qe=t?null:[])}function nh(){Hr.pop(),qe=Hr[Hr.length-1]||null}let es=1;function Is(t,e=!1){es+=t,t<0&&qe&&e&&(qe.hasOnce=!0)}function ll(t){return t.dynamicChildren=es>0?qe||gr:null,nh(),es>0&&qe&&qe.push(t),t}function ce(t,e,r,s,n,i){return ll(N(t,e,r,s,n,i,!0))}function pt(t,e,r,s,n){return ll(Q(t,e,r,s,n,!0))}function js(t){return t?t.__v_isVNode===!0:!1}function jr(t,e){return t.type===e.type&&t.key===e.key}const cl=({key:t})=>t??null,Os=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||ke(t)||G(t)?{i:Ve,r:t,k:e,f:!!r}:t:null);function N(t,e=null,r=null,s=0,n=null,i=t===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cl(e),ref:e&&Os(e),scopeId:Ma,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ve};return a?(ki(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=pe(r)?8:16),es>0&&!o&&qe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&qe.push(l),l}const Q=ih;function ih(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Au)&&(t=Ut),js(t)){const a=Er(t,e,!0);return r&&ki(a,r),es>0&&!i&&qe&&(a.shapeFlag&6?qe[qe.indexOf(t)]=a:qe.push(a)),a.patchFlag=-2,a}if(_h(t)&&(t=t.__vccOpts),e){e=oh(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=br(a)),le(l)&&(wi(l)&&!W(l)&&(l=Ae({},l)),e.style=fi(l))}const o=pe(t)?1:al(t)?128:du(t)?64:le(t)?4:G(t)?2:0;return N(t,e,r,s,n,o,i,!0)}function oh(t){return t?wi(t)||Ya(t)?Ae({},t):t:null}function Er(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?ah(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&cl(c),ref:e&&e.ref?r&&i?W(i)?i.concat(Os(e)):[i,Os(e)]:Os(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Er(t.ssContent),ssFallback:t.ssFallback&&Er(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ei(u,l.clone(u)),u}function Xe(t=" ",e=0){return Q(Xs,null,t,e)}function Ke(t="",e=!1){return e?(Y(),pt(Ut,null,t)):Q(Ut,null,t)}function ct(t){return t==null||typeof t=="boolean"?Q(Ut):W(t)?Q(we,null,t.slice()):js(t)?It(t):Q(Xs,null,String(t))}function It(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Er(t)}function ki(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),ki(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Ya(e)?e._ctx=Ve:n===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else G(e)?(e={default:e,_ctx:Ve},r=32):(e=String(e),s&64?(r=16,e=[Xe(e)]):r=8);t.children=e,t.shapeFlag|=r}function ah(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=br([e.class,s.class]));else if(n==="style")e.style=fi([e.style,s.style]);else if(Ms(n)){const i=e[n],o=s[n];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function at(t,e,r,s=null){ft(t,e,7,[r,s])}const lh=Ga();let ch=0;function uh(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||lh,i={uid:ch++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xa(s,n),emitsOptions:ol(s,n),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:s.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qu.bind(null,i),t.ce&&t.ce(i),i}let Te=null;const hh=()=>Te||Ve;let $s,qn;{const t=Ws(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};$s=e("__VUE_INSTANCE_SETTERS__",r=>Te=r),qn=e("__VUE_SSR_SETTERS__",r=>ts=r)}const as=t=>{const e=Te;return $s(t),t.scope.on(),()=>{t.scope.off(),$s(e)}},to=()=>{Te&&Te.scope.off(),$s(null)};function ul(t){return t.vnode.shapeFlag&4}let ts=!1;function dh(t,e=!1,r=!1){e&&qn(e);const{props:s,children:n}=t.vnode,i=ul(t);Uu(t,s,i,e),Fu(t,n,r||e);const o=i?fh(t,e):void 0;return e&&qn(!1),o}function fh(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Pu);const{setup:s}=r;if(s){St();const n=t.setupContext=s.length>1?gh(t):null,i=as(t),o=os(s,t,0,[t.props,n]),a=ha(o);if(Ot(),i(),(a||t.sp)&&!qr(t)&&Fa(t),a){if(o.then(to,to),e)return o.then(l=>{ro(t,l)}).catch(l=>{Gs(l,t,0)});t.asyncDep=o}else ro(t,o)}else hl(t)}function ro(t,e,r){G(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=$a(e)),hl(t)}function hl(t,e,r){const s=t.type;t.render||(t.render=s.render||ht);{const n=as(t);St();try{xu(t)}finally{Ot(),n()}}}const ph={get(t,e){return Oe(t,"get",""),t[e]}};function gh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,ph),slots:t.slots,emit:t.emit,expose:e}}function Zs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy($a(eu(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Wr)return Wr[r](t)},has(e,r){return r in e||r in Wr}})):t.proxy}function mh(t,e=!0){return G(t)?t.displayName||t.name:t.name||e&&t.__name}function _h(t){return G(t)&&"__vccOpts"in t}const Qe=(t,e)=>iu(t,e,ts);function dl(t,e,r){try{Is(-1);const s=arguments.length;return s===2?le(e)&&!W(e)?js(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&js(r)&&(r=[r]),Q(t,e,r))}finally{Is(1)}}const vh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wn;const so=typeof window<"u"&&window.trustedTypes;if(so)try{Wn=so.createPolicy("vue",{createHTML:t=>t})}catch{}const fl=Wn?t=>Wn.createHTML(t):t=>t,yh="http://www.w3.org/2000/svg",wh="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,no=vt&&vt.createElement("template"),bh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?vt.createElementNS(yh,t):e==="mathml"?vt.createElementNS(wh,t):r?vt.createElement(t,{is:r}):vt.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>vt.createTextNode(t),createComment:t=>vt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{no.innerHTML=fl(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=no.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Eh=Symbol("_vtc");function Sh(t,e,r){const s=t[Eh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const io=Symbol("_vod"),Oh=Symbol("_vsh"),Th=Symbol(""),kh=/(?:^|;)\s*display\s*:/;function Ah(t,e,r){const s=t.style,n=pe(r);let i=!1;if(r&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ts(s,a,"")}else for(const o in e)r[o]==null&&Ts(s,o,"");for(const o in r)o==="display"&&(i=!0),Ts(s,o,r[o])}else if(n){if(e!==r){const o=s[Th];o&&(r+=";"+o),s.cssText=r,i=kh.test(r)}}else e&&t.removeAttribute("style");io in t&&(t[io]=i?s.display:"",t[Oh]&&(s.display="none"))}const oo=/\s*!important$/;function Ts(t,e,r){if(W(r))r.forEach(s=>Ts(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Rh(t,e);oo.test(r)?t.setProperty(Zt(s),r.replace(oo,""),"important"):t[s]=r}}const ao=["Webkit","Moz","ms"],mn={};function Rh(t,e){const r=mn[e];if(r)return r;let s=Ge(e);if(s!=="filter"&&s in t)return mn[e]=s;s=qs(s);for(let n=0;n<ao.length;n++){const i=ao[n]+s;if(i in t)return mn[e]=i}return e}const lo="http://www.w3.org/1999/xlink";function co(t,e,r,s,n,i=jc(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(lo,e.slice(6,e.length)):t.setAttributeNS(lo,e,r):r==null||i&&!ga(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Lt(r)?String(r):r)}function uo(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?fl(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ga(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function hr(t,e,r,s){t.addEventListener(e,r,s)}function Ph(t,e,r,s){t.removeEventListener(e,r,s)}const ho=Symbol("_vei");function xh(t,e,r,s,n=null){const i=t[ho]||(t[ho]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Ch(e);if(s){const c=i[e]=$h(s,n);hr(t,a,c,l)}else o&&(Ph(t,a,o,l),i[e]=void 0)}}const fo=/(?:Once|Passive|Capture)$/;function Ch(t){let e;if(fo.test(t)){e={};let s;for(;s=t.match(fo);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zt(t.slice(2)),e]}let _n=0;const Ih=Promise.resolve(),jh=()=>_n||(Ih.then(()=>_n=0),_n=Date.now());function $h(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;ft(Nh(s,r.value),e,5,[s])};return r.value=t,r.attached=jh(),r}function Nh(t,e){if(W(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const po=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Dh=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?Sh(t,s,o):e==="style"?Ah(t,r,s):Ms(e)?ui(e)||xh(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Uh(t,e,s,o))?(uo(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&co(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(s))?uo(t,Ge(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),co(t,e,s,o))};function Uh(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&po(e)&&G(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return po(e)&&pe(r)?!1:e in t}const go=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?r=>bs(e,r):e};function Lh(t){t.target.composing=!0}function mo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vn=Symbol("_assign"),Kr={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[vn]=go(n);const i=s||n.props&&n.props.type==="number";hr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=jn(a)),t[vn](a)}),r&&hr(t,"change",()=>{t.value=t.value.trim()}),e||(hr(t,"compositionstart",Lh),hr(t,"compositionend",mo),hr(t,"change",mo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[vn]=go(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?jn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},Bh=Ae({patchProp:Dh},bh);let _o;function Mh(){return _o||(_o=qu(Bh))}const Fh=((...t)=>{const e=Mh().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=qh(s);if(!n)return;const i=e._component;!G(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Vh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Vh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qh(t){return pe(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const dr=typeof document<"u";function pl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&pl(t.default)}const Z=Object.assign;function yn(t,e){const r={};for(const s in e){const n=e[s];r[s]=et(n)?n.map(t):t(n)}return r}const Gr=()=>{},et=Array.isArray;function vo(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}const gl=/#/g,Hh=/&/g,Kh=/\//g,Gh=/=/g,Jh=/\?/g,ml=/\+/g,zh=/%5B/g,Yh=/%5D/g,_l=/%5E/g,Qh=/%60/g,vl=/%7B/g,Xh=/%7C/g,yl=/%7D/g,Zh=/%20/g;function Ai(t){return t==null?"":encodeURI(""+t).replace(Xh,"|").replace(zh,"[").replace(Yh,"]")}function ed(t){return Ai(t).replace(vl,"{").replace(yl,"}").replace(_l,"^")}function Hn(t){return Ai(t).replace(ml,"%2B").replace(Zh,"+").replace(gl,"%23").replace(Hh,"%26").replace(Qh,"`").replace(vl,"{").replace(yl,"}").replace(_l,"^")}function td(t){return Hn(t).replace(Gh,"%3D")}function rd(t){return Ai(t).replace(gl,"%23").replace(Jh,"%3F")}function sd(t){return rd(t).replace(Kh,"%2F")}function rs(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const nd=/\/$/,id=t=>t.replace(nd,"");function wn(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=cd(s??e,r),{fullPath:s+i+o,path:s,query:n,hash:rs(o)}}function od(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function yo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ad(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Sr(e.matched[s],r.matched[n])&&wl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Sr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function wl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!ld(t[r],e[r]))return!1;return!0}function ld(t,e){return et(t)?wo(t,e):et(e)?wo(e,t):t===e}function wo(t,e){return et(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function cd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Rt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Kn=(function(t){return t.pop="pop",t.push="push",t})({}),bn=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function ud(t){if(!t)if(dr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),id(t)}const hd=/^[^#]+#/;function dd(t,e){return t.replace(hd,"#")+e}function fd(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const en=()=>({left:window.scrollX,top:window.scrollY});function pd(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=fd(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bo(t,e){return(history.state?history.state.position-e:-1)+t}const Gn=new Map;function gd(t,e){Gn.set(t,e)}function md(t){const e=Gn.get(t);return Gn.delete(t),e}function _d(t){return typeof t=="string"||t&&typeof t=="object"}function bl(t){return typeof t=="string"||typeof t=="symbol"}let he=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const El=Symbol("");he.MATCHER_NOT_FOUND+"",he.NAVIGATION_GUARD_REDIRECT+"",he.NAVIGATION_ABORTED+"",he.NAVIGATION_CANCELLED+"",he.NAVIGATION_DUPLICATED+"";function Or(t,e){return Z(new Error,{type:t,[El]:!0},e)}function _t(t,e){return t instanceof Error&&El in t&&(e==null||!!(t.type&e))}const vd=["params","query","hash"];function yd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of vd)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function wd(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(ml," "),i=n.indexOf("="),o=rs(i<0?n:n.slice(0,i)),a=i<0?null:rs(n.slice(i+1));if(o in e){let l=e[o];et(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Eo(t){let e="";for(let r in t){const s=t[r];if(r=td(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(et(s)?s.map(n=>n&&Hn(n)):[s&&Hn(s)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+r,n!=null&&(e+="="+n))})}return e}function bd(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=et(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const Ed=Symbol(""),So=Symbol(""),tn=Symbol(""),Sl=Symbol(""),Jn=Symbol("");function $r(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function jt(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Or(he.NAVIGATION_ABORTED,{from:r,to:e})):f instanceof Error?l(f):_d(f)?l(Or(he.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&s.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(s&&s.instances[n],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function En(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(pl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(jt(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Wh(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&jt(f,r,s,o,a,n)()}))}}return i}function Sd(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Sr(c,a))?s.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Sr(c,l))||n.push(l))}return[r,s,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Od=()=>location.protocol+"//"+location.host;function Ol(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),yo(a,"")}return yo(r,t)+s+n}function Td(t,e,r,s){let n=[],i=[],o=null;const a=({state:f})=>{const d=Ol(t,location),_=r.value,m=e.value;let y=0;if(f){if(r.value=d,e.value=f,o&&o===_){o=null;return}y=m?f.position-m.position:0}else s(d);n.forEach(T=>{T(r.value,_,{delta:y,type:Kn.pop,direction:y?y>0?bn.forward:bn.back:bn.unknown})})};function l(){o=r.value}function c(f){n.push(f);const d=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(d),d}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Z({},f.state,{scroll:en()}),"")}}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Oo(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?en():null}}function kd(t){const{history:e,location:r}=window,s={value:Ol(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:Od()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),n.value=c}catch(d){console.error(d),r[u?"replace":"assign"](f)}}function o(l,c){i(l,Z({},e.state,Oo(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=Z({},n.value,e.state,{forward:l,scroll:en()});i(u.current,u,!0),i(l,Z({},Oo(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function Ad(t){t=ud(t);const e=kd(t),r=Td(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=Z({location:"",base:t,go:s,createHref:dd.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Rd(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ad(t)}let Yt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var me=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(me||{});const Pd={type:Yt.Static,value:""},xd=/[a-zA-Z0-9_]/;function Cd(t){if(!t)return[[]];if(t==="/")return[[Pd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=me.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===me.Static?i.push({type:Yt.Static,value:c}):r===me.Param||r===me.ParamRegExp||r===me.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Yt.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==me.ParamRegExp){s=r,r=me.EscapeNext;continue}switch(r){case me.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=me.Param):f();break;case me.EscapeNext:f(),r=s;break;case me.Param:l==="("?r=me.ParamRegExp:xd.test(l)?f():(h(),r=me.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case me.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=me.ParamRegExpEnd:u+=l;break;case me.ParamRegExpEnd:h(),r=me.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===me.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const To="[^/]+?",Id={sensitive:!1,strict:!1,start:!0,end:!0};var xe=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(xe||{});const jd=/[.+*?^${}()[\]/\\]/g;function $d(t,e){const r=Z({},Id,e),s=[];let n=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[xe.Root];r.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=xe.Segment+(r.sensitive?xe.BonusCaseSensitive:0);if(f.type===Yt.Static)h||(n+="/"),n+=f.value.replace(jd,"\\$&"),d+=xe.Static;else if(f.type===Yt.Param){const{value:_,repeatable:m,optional:y,regexp:T}=f;i.push({name:_,repeatable:m,optional:y});const w=T||To;if(w!==To){d+=xe.BonusCustomRegExp;try{`${w}`}catch(A){throw new Error(`Invalid custom RegExp for param "${_}" (${w}): `+A.message)}}let b=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(b=y&&c.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),n+=b,d+=xe.Dynamic,y&&(d+=xe.BonusOptional),m&&(d+=xe.BonusRepeatable),w===".*"&&(d+=xe.BonusWildcard)}u.push(d)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=xe.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",_=i[f-1];h[_.name]=d&&_.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===Yt.Static)u+=d.value;else if(d.type===Yt.Param){const{value:_,repeatable:m,optional:y}=d,T=_ in c?c[_]:"";if(et(T)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const w=et(T)?T.join("/"):T;if(!w)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=w}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Nd(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===xe.Static+xe.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===xe.Static+xe.Segment?1:-1:0}function Tl(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=Nd(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(ko(s))return 1;if(ko(n))return-1}return n.length-s.length}function ko(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dd={strict:!1,end:!0,sensitive:!1};function Ud(t,e,r){const s=$d(Cd(t.path),r),n=Z(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Ld(t,e){const r=[],s=new Map;e=vo(Dd,e);function n(h){return s.get(h)}function i(h,f,d){const _=!d,m=Ro(h);m.aliasOf=d&&d.record;const y=vo(e,h),T=[m];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const V of A)T.push(Ro(Z({},m,{components:d?d.record.components:m.components,path:V,aliasOf:d?d.record:m})))}let w,b;for(const A of T){const{path:V}=A;if(f&&V[0]!=="/"){const F=f.record.path,K=F[F.length-1]==="/"?"":"/";A.path=f.record.path+(V&&K+V)}if(w=Ud(A,f,y),d?d.alias.push(w):(b=b||w,b!==w&&b.alias.push(w),_&&h.name&&!Po(w)&&o(h.name)),kl(w)&&l(w),m.children){const F=m.children;for(let K=0;K<F.length;K++)i(F[K],w,d&&d.children[K])}d=d||w}return b?()=>{o(b)}:Gr}function o(h){if(bl(h)){const f=s.get(h);f&&(s.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const f=Fd(h,r);r.splice(f,0,h),h.record.name&&!Po(h)&&s.set(h.record.name,h)}function c(h,f){let d,_={},m,y;if("name"in h&&h.name){if(d=s.get(h.name),!d)throw Or(he.MATCHER_NOT_FOUND,{location:h});y=d.record.name,_=Z(Ao(f.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),h.params&&Ao(h.params,d.keys.map(b=>b.name))),m=d.stringify(_)}else if(h.path!=null)m=h.path,d=r.find(b=>b.re.test(m)),d&&(_=d.parse(m),y=d.record.name);else{if(d=f.name?s.get(f.name):r.find(b=>b.re.test(f.path)),!d)throw Or(he.MATCHER_NOT_FOUND,{location:h,currentLocation:f});y=d.record.name,_=Z({},f.params,h.params),m=d.stringify(_)}const T=[];let w=d;for(;w;)T.unshift(w.record),w=w.parent;return{name:y,path:m,params:_,matched:T,meta:Md(T)}}t.forEach(h=>i(h));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Ao(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Ro(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Bd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Bd(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Po(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Md(t){return t.reduce((e,r)=>Z(e,r.meta),{})}function Fd(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;Tl(t,e[i])<0?s=i:r=i+1}const n=Vd(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function Vd(t){let e=t;for(;e=e.parent;)if(kl(e)&&Tl(t,e)===0)return e}function kl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function xo(t){const e=dt(tn),r=dt(Sl),s=Qe(()=>{const l=Et(t.to);return e.resolve(l)}),n=Qe(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const f=h.findIndex(Sr.bind(null,u));if(f>-1)return f;const d=Co(l[c-2]);return c>1&&Co(u)===d&&h[h.length-1].path!==d?h.findIndex(Sr.bind(null,l[c-2])):f}),i=Qe(()=>n.value>-1&&Kd(r.params,s.value.params)),o=Qe(()=>n.value>-1&&n.value===r.matched.length-1&&wl(r.params,s.value.params));function a(l={}){if(Hd(l)){const c=e[Et(t.replace)?"replace":"push"](Et(t.to)).catch(Gr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Qe(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function qd(t){return t.length===1?t[0]:t}const Wd=Re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:xo,setup(t,{slots:e}){const r=Ks(xo(t)),{options:s}=dt(tn),n=Qe(()=>({[Io(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[Io(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&qd(e.default(r));return t.custom?i:dl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Ri=Wd;function Hd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Kd(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!et(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function Co(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Io=(t,e,r)=>t??e??r,Gd=Re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=dt(Jn),n=Qe(()=>t.route||s.value),i=dt(So,0),o=Qe(()=>{let c=Et(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Qe(()=>n.value.matched[o.value]);Es(So,Qe(()=>o.value+1)),Es(Ed,a),Es(Jn,n);const l=be();return Ss(()=>[l.value,a.value,t.name],([c,u,h],[f,d,_])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Sr(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return jo(r.default,{Component:f,route:c});const d=h.props[u],_=d?d===!0?c.params:typeof d=="function"?d(c):d:null,y=dl(f,Z({},_,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return jo(r.default,{Component:y,route:c})||y}}});function jo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Al=Gd;function Jd(t){const e=Ld(t.routes,t),r=t.parseQuery||wd,s=t.stringifyQuery||Eo,n=t.history,i=$r(),o=$r(),a=$r(),l=tu(Rt);let c=Rt;dr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=yn.bind(null,O=>""+O),h=yn.bind(null,sd),f=yn.bind(null,rs);function d(O,$){let I,U;return bl(O)?(I=e.getRecordMatcher(O),U=$):U=O,e.addRoute(U,I)}function _(O){const $=e.getRecordMatcher(O);$&&e.removeRoute($)}function m(){return e.getRoutes().map(O=>O.record)}function y(O){return!!e.getRecordMatcher(O)}function T(O,$){if($=Z({},$||l.value),typeof O=="string"){const v=wn(r,O,$.path),S=e.resolve({path:v.path},$),k=n.createHref(v.fullPath);return Z(v,S,{params:f(S.params),hash:rs(v.hash),redirectedFrom:void 0,href:k})}let I;if(O.path!=null)I=Z({},O,{path:wn(r,O.path,$.path).path});else{const v=Z({},O.params);for(const S in v)v[S]==null&&delete v[S];I=Z({},O,{params:h(v)}),$.params=h($.params)}const U=e.resolve(I,$),J=O.hash||"";U.params=u(f(U.params));const p=od(s,Z({},O,{hash:ed(J),path:U.path})),g=n.createHref(p);return Z({fullPath:p,hash:J,query:s===Eo?bd(O.query):O.query||{}},U,{redirectedFrom:void 0,href:g})}function w(O){return typeof O=="string"?wn(r,O,l.value.path):Z({},O)}function b(O,$){if(c!==O)return Or(he.NAVIGATION_CANCELLED,{from:$,to:O})}function A(O){return K(O)}function V(O){return A(Z(w(O),{replace:!0}))}function F(O,$){const I=O.matched[O.matched.length-1];if(I&&I.redirect){const{redirect:U}=I;let J=typeof U=="function"?U(O,$):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=w(J):{path:J},J.params={}),Z({query:O.query,hash:O.hash,params:J.path!=null?{}:O.params},J)}}function K(O,$){const I=c=T(O),U=l.value,J=O.state,p=O.force,g=O.replace===!0,v=F(I,U);if(v)return K(Z(w(v),{state:typeof v=="object"?Z({},J,v.state):J,force:p,replace:g}),$||I);const S=I;S.redirectedFrom=$;let k;return!p&&ad(s,U,I)&&(k=Or(he.NAVIGATION_DUPLICATED,{to:S,from:U}),st(U,U,!0,!1)),(k?Promise.resolve(k):tt(S,U)).catch(E=>_t(E)?_t(E,he.NAVIGATION_GUARD_REDIRECT)?E:At(E):X(E,S,U)).then(E=>{if(E){if(_t(E,he.NAVIGATION_GUARD_REDIRECT))return K(Z({replace:g},w(E.to),{state:typeof E.to=="object"?Z({},J,E.to.state):J,force:p}),$||S)}else E=Mt(S,U,!0,g,J);return kt(S,U,E),E})}function ge(O,$){const I=b(O,$);return I?Promise.reject(I):Promise.resolve()}function ve(O){const $=sr.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(O):O()}function tt(O,$){let I;const[U,J,p]=Sd(O,$);I=En(U.reverse(),"beforeRouteLeave",O,$);for(const v of U)v.leaveGuards.forEach(S=>{I.push(jt(S,O,$))});const g=ge.bind(null,O,$);return I.push(g),We(I).then(()=>{I=[];for(const v of i.list())I.push(jt(v,O,$));return I.push(g),We(I)}).then(()=>{I=En(J,"beforeRouteUpdate",O,$);for(const v of J)v.updateGuards.forEach(S=>{I.push(jt(S,O,$))});return I.push(g),We(I)}).then(()=>{I=[];for(const v of p)if(v.beforeEnter)if(et(v.beforeEnter))for(const S of v.beforeEnter)I.push(jt(S,O,$));else I.push(jt(v.beforeEnter,O,$));return I.push(g),We(I)}).then(()=>(O.matched.forEach(v=>v.enterCallbacks={}),I=En(p,"beforeRouteEnter",O,$,ve),I.push(g),We(I))).then(()=>{I=[];for(const v of o.list())I.push(jt(v,O,$));return I.push(g),We(I)}).catch(v=>_t(v,he.NAVIGATION_CANCELLED)?v:Promise.reject(v))}function kt(O,$,I){a.list().forEach(U=>ve(()=>U(O,$,I)))}function Mt(O,$,I,U,J){const p=b(O,$);if(p)return p;const g=$===Rt,v=dr?history.state:{};I&&(U||g?n.replace(O.fullPath,Z({scroll:g&&v&&v.scroll},J)):n.push(O.fullPath,J)),l.value=O,st(O,$,I,g),At()}let rt;function xr(){rt||(rt=n.listen((O,$,I)=>{if(!Ft.listening)return;const U=T(O),J=F(U,Ft.currentRoute.value);if(J){K(Z(J,{replace:!0,force:!0}),U).catch(Gr);return}c=U;const p=l.value;dr&&gd(bo(p.fullPath,I.delta),en()),tt(U,p).catch(g=>_t(g,he.NAVIGATION_ABORTED|he.NAVIGATION_CANCELLED)?g:_t(g,he.NAVIGATION_GUARD_REDIRECT)?(K(Z(w(g.to),{force:!0}),U).then(v=>{_t(v,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&!I.delta&&I.type===Kn.pop&&n.go(-1,!1)}).catch(Gr),Promise.reject()):(I.delta&&n.go(-I.delta,!1),X(g,U,p))).then(g=>{g=g||Mt(U,p,!1),g&&(I.delta&&!_t(g,he.NAVIGATION_CANCELLED)?n.go(-I.delta,!1):I.type===Kn.pop&&_t(g,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),kt(U,p,g)}).catch(Gr)}))}let tr=$r(),ye=$r(),se;function X(O,$,I){At(O);const U=ye.list();return U.length?U.forEach(J=>J(O,$,I)):console.error(O),Promise.reject(O)}function gt(){return se&&l.value!==Rt?Promise.resolve():new Promise((O,$)=>{tr.add([O,$])})}function At(O){return se||(se=!O,xr(),tr.list().forEach(([$,I])=>O?I(O):$()),tr.reset()),O}function st(O,$,I,U){const{scrollBehavior:J}=t;if(!dr||!J)return Promise.resolve();const p=!I&&md(bo(O.fullPath,0))||(U||!I)&&history.state&&history.state.scroll||null;return Da().then(()=>J(O,$,p)).then(g=>g&&pd(g)).catch(g=>X(g,O,$))}const je=O=>n.go(O);let rr;const sr=new Set,Ft={currentRoute:l,listening:!0,addRoute:d,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:T,options:t,push:A,replace:V,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ye.add,isReady:gt,install(O){O.component("RouterLink",Ri),O.component("RouterView",Al),O.config.globalProperties.$router=Ft,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Et(l)}),dr&&!rr&&l.value===Rt&&(rr=!0,A(n.location).catch(U=>{}));const $={};for(const U in Rt)Object.defineProperty($,U,{get:()=>l.value[U],enumerable:!0});O.provide(tn,Ft),O.provide(Sl,Ia($)),O.provide(Jn,l);const I=O.unmount;sr.add(O),O.unmount=function(){sr.delete(O),sr.size<1&&(c=Rt,rt&&rt(),rt=null,l.value=Rt,rr=!1,se=!1),I()}}};function We(O){return O.reduce(($,I)=>$.then(()=>ve(I)),Promise.resolve())}return Ft}function rn(){return dt(tn)}const zd=Re({__name:"App",setup(t){return(e,r)=>(Y(),pt(Et(Al)))}}),Yd={key:0,class:"bubbleError"},Qd=Re({__name:"ErrorBubble",props:["errorMsg"],setup(t){return(e,r)=>t.errorMsg?(Y(),ce("div",Yd,[r[0]||(r[0]=N("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),N("p",null,de(t.errorMsg),1)])):Ke("",!0)}}),Ie=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},Rl=Ie(Qd,[["__scopeId","data-v-df6ebdaa"]]),Xd={},Zd={class:"loading"};function ef(t,e){return Y(),ce("div",Zd,[...e[0]||(e[0]=[N("i",{class:"fa-solid fa-spinner"},null,-1)])])}const sn=Ie(Xd,[["render",ef],["__scopeId","data-v-f26710ba"]]),tf=["disabled"],zn=Re({__name:"BubbleButton",props:{label:{},loading:{type:Boolean}},emits:["click"],setup(t,{emit:e}){const r=e;return(s,n)=>(Y(),ce("button",{class:"bubbleButton",disabled:t.loading,onClick:n[0]||(n[0]=i=>r("click"))},de(t.label),9,tf))}});var Yn=function(t,e){return Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Yn(t,e)};function Pl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ns=function(){return Ns=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ns.apply(this,arguments)};function Ar(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function xl(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function Cl(t,e){return function(r,s){e(r,s,t)}}function Il(t,e,r,s,n,i){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,f=!1,d=r.length-1;d>=0;d--){var _={};for(var m in s)_[m]=m==="access"?{}:s[m];for(var m in s.access)_.access[m]=s.access[m];_.addInitializer=function(T){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(T||null))};var y=(0,r[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],_);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(u.get=h),(h=o(y.set))&&(u.set=h),(h=o(y.init))&&n.unshift(h)}else(h=o(y))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),f=!0}function jl(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function $l(t){return typeof t=="symbol"?t:"".concat(t)}function Nl(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Dl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function D(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function Ul(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var nn=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function Ll(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nn(e,t,r)}function Ds(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function Bl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pi(arguments[e]));return t}function Ml(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)s[n]=i[o];return s}function Fl(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function Tr(t){return this instanceof Tr?(this.v=t,this):new Tr(t)}function Vl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(d){return function(_){return Promise.resolve(_).then(d,h)}}function a(d,_){s[d]&&(n[d]=function(m){return new Promise(function(y,T){i.push([d,m,y,T])>1||l(d,m)})},_&&(n[d]=_(n[d])))}function l(d,_){try{c(s[d](_))}catch(m){f(i[0][3],m)}}function c(d){d.value instanceof Tr?Promise.resolve(d.value.v).then(u,h):f(i[0][2],d)}function u(d){l("next",d)}function h(d){l("throw",d)}function f(d,_){d(_),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ql(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:Tr(t[n](o)),done:!1}:i?i(o):o}:i}}function Wl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ds=="function"?Ds(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Hl(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var rf=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Qn=function(t){return Qn=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Qn(t)};function Kl(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Qn(t),s=0;s<r.length;s++)r[s]!=="default"&&nn(e,t,r[s]);return rf(e,t),e}function Gl(t){return t&&t.__esModule?t:{default:t}}function Jl(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function zl(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function Yl(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ql(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var sf=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Xl(t){function e(i){t.error=t.hasError?new sf(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function Zl(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}const nf={__extends:Pl,__assign:Ns,__rest:Ar,__decorate:xl,__param:Cl,__esDecorate:Il,__runInitializers:jl,__propKey:$l,__setFunctionName:Nl,__metadata:Dl,__awaiter:D,__generator:Ul,__createBinding:nn,__exportStar:Ll,__values:Ds,__read:Pi,__spread:Bl,__spreadArrays:Ml,__spreadArray:Fl,__await:Tr,__asyncGenerator:Vl,__asyncDelegator:ql,__asyncValues:Wl,__makeTemplateObject:Hl,__importStar:Kl,__importDefault:Gl,__classPrivateFieldGet:Jl,__classPrivateFieldSet:zl,__classPrivateFieldIn:Yl,__addDisposableResource:Ql,__disposeResources:Xl,__rewriteRelativeImportExtension:Zl},of=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ql,get __assign(){return Ns},__asyncDelegator:ql,__asyncGenerator:Vl,__asyncValues:Wl,__await:Tr,__awaiter:D,__classPrivateFieldGet:Jl,__classPrivateFieldIn:Yl,__classPrivateFieldSet:zl,__createBinding:nn,__decorate:xl,__disposeResources:Xl,__esDecorate:Il,__exportStar:Ll,__extends:Pl,__generator:Ul,__importDefault:Gl,__importStar:Kl,__makeTemplateObject:Hl,__metadata:Dl,__param:Cl,__propKey:$l,__read:Pi,__rest:Ar,__rewriteRelativeImportExtension:Zl,__runInitializers:jl,__setFunctionName:Nl,__spread:Bl,__spreadArray:Fl,__spreadArrays:Ml,__values:Ds,default:nf},Symbol.toStringTag,{value:"Module"})),af="modulepreload",lf=function(t){return"/paperWeight/dist/"+t},$o={},Rr=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=c(r.map(u=>{if(u=lf(u),u in $o)return;$o[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":af,h||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((_,m)=>{d.addEventListener("load",_),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},cf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>er);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class xi extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class No extends xi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Do extends xi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uo extends xi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xn||(Xn={}));class uf{constructor(e,{headers:r={},customFetch:s,region:n=Xn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=cf(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return D(this,arguments,void 0,function*(r,s={}){var n;try{const{headers:i,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const d=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(T=>{throw T.name==="AbortError"?T:new No(T)}),_=d.headers.get("x-relay-error");if(_&&_==="true")throw new Do(d);if(!d.ok)throw new Uo(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"||m==="application/pdf"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new No(i)}:{data:null,error:i,response:i instanceof Uo||i instanceof Do?i.context:void 0}}})}}function hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ec(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var n=!1;try{n=this instanceof s}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Se={};const Pr=ec(of);var ds={},fs={},ps={},gs={},ms={},df=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kr=df();const ff=kr.fetch,tc=kr.fetch.bind(kr),rc=kr.Headers,pf=kr.Request,gf=kr.Response,er=Object.freeze(Object.defineProperty({__proto__:null,Headers:rc,Request:pf,Response:gf,default:tc,fetch:ff},Symbol.toStringTag,{value:"Module"})),mf=ec(er);var _s={},Lo;function sc(){if(Lo)return _s;Lo=1,Object.defineProperty(_s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _s.default=t,_s}var Bo;function nc(){if(Bo)return ms;Bo=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=Pr,e=t.__importDefault(mf),r=t.__importDefault(sc());class s{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f,d;let _=null,m=null,y=null,T=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const F=await c.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=F:m=JSON.parse(F))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),V=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&V&&V.length>1&&(y=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(_={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,T=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const A=await c.text();try{_=JSON.parse(A),Array.isArray(_)&&c.status===404&&(m=[],_=null,T=200,w="OK")}catch{c.status===404&&A===""?(T=204,w="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((d=_?.details)===null||d===void 0)&&d.includes("0 rows"))&&(_=null,T=200,w="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:m,count:y,status:T,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ms.default=s,ms}var Mo;function ic(){if(Mo)return gs;Mo=1,Object.defineProperty(gs,"__esModule",{value:!0});const e=Pr.__importDefault(nc());class r extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return gs.default=r,gs}var Fo;function Ci(){if(Fo)return ps;Fo=1,Object.defineProperty(ps,"__esModule",{value:!0});const e=Pr.__importDefault(ic());class r extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ps.default=r,ps}var Vo;function oc(){if(Vo)return fs;Vo=1,Object.defineProperty(fs,"__esModule",{value:!0});const e=Pr.__importDefault(Ci());class r{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(h.length>0){const f=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return fs.default=r,fs}var qo;function _f(){if(qo)return ds;qo=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Pr,e=t.__importDefault(oc()),r=t.__importDefault(Ci());class s{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let d;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{f.searchParams.append(m,y)})):(h="POST",d=o);const _=new Headers(this.headers);return c&&_.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:_,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ds.default=s,ds}var Wo;function vf(){if(Wo)return Se;Wo=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const t=Pr,e=t.__importDefault(_f());Se.PostgrestClient=e.default;const r=t.__importDefault(oc());Se.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Ci());Se.PostgrestFilterBuilder=s.default;const n=t.__importDefault(ic());Se.PostgrestTransformBuilder=n.default;const i=t.__importDefault(nc());Se.PostgrestBuilder=i.default;const o=t.__importDefault(sc());return Se.PostgrestError=o.default,Se.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Se}var yf=vf();const wf=hf(yf),{PostgrestClient:bf,PostgrestQueryBuilder:Nm,PostgrestFilterBuilder:Dm,PostgrestTransformBuilder:Um,PostgrestBuilder:Lm,PostgrestError:Bm}=wf;class Ef{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Sf="2.76.1",Of=`realtime-js/${Sf}`,Tf="1.0.0",Zn=1e4,kf=1e3,Af=100;var Jr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jr||(Jr={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var ei;(function(t){t.websocket="websocket"})(ei||(ei={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class Rf{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ac{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Ho=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Pf(o,t,e,n),i),{}):{}},Pf=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n?.type,o=r[t];return i&&!s.includes(i)?lc(i,o):ti(o)},lc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return jf(e,r)}switch(t){case oe.bool:return xf(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Cf(e);case oe.json:case oe.jsonb:return If(e);case oe.timestamp:return $f(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return ti(e);default:return ti(e)}},ti=t=>t,xf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},If=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jf=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>lc(e,a))}return t},$f=t=>typeof t=="string"?t.replace(" ","T"):t,cc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Sn{constructor(e,r,s={},n=Zn){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ko;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ko||(Ko={}));class zr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=zr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=zr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(y=>y.presence_ref),d=h.map(y=>y.presence_ref),_=u.filter(y=>d.indexOf(y.presence_ref)<0),m=h.filter(y=>f.indexOf(y.presence_ref)<0);_.length>0&&(a[c]=_),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Go;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Go||(Go={}));var Yr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yr||(Yr={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Ii{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sn(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new ac(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new zr(this),this.broadcastEndpointURL=cc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Yr.PRESENCE]&&this.bindings[Yr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(yt.CHANNEL_ERROR,d)),this._onClose(()=>e?.(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var _;if(this.socket.setAuth(),d===void 0){e?.(yt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(_=m?.length)!==null&&_!==void 0?_:0,T=[];for(let w=0;w<y;w++){const b=m[w],{filter:{event:A,schema:V,table:F,filter:K}}=b,ge=d&&d[w];if(ge&&ge.event===A&&ge.schema===V&&ge.table===F&&ge.filter===K)T.push(Object.assign(Object.assign({},b),{id:ge.id}));else{this.unsubscribe(),this.state=_e.errored,e?.(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(yt.SUBSCRIBED);return}}).receive("error",d=>{this.state=_e.errored,e?.(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===_e.joined&&e===Yr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Sn(this,Ye.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Sn(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Af){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ye;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(d=>{var _,m,y;return((_=d.filter)===null||_===void 0?void 0:_.event)==="*"||((y=(m=d.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(d=>d.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var _,m,y,T,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const A=d.id,V=(_=d.filter)===null||_===void 0?void 0:_.event;return A&&((m=r.ids)===null||m===void 0?void 0:m.includes(A))&&(V==="*"||V?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const A=(w=(T=d?.filter)===null||T===void 0?void 0:T.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((b=r?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:m,table:y,commit_timestamp:T,type:w,errors:b}=_;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:T,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(_))}d.callback(f,s)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ii.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ho(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ho(e.columns,e.old_record)),r}}const On=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nf=[1e3,2e3,5e3,1e4],Df=1e4,Uf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lf{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zn,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=On,this.ref=0,this.reconnectTimer=null,this.logger=On,this.conn=null,this.sendBuffer=[],this.serializer=new Rf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Rr(async()=>{const{default:a}=await Promise.resolve().then(()=>er);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ei.websocket}`,this.httpEndpoint=cc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ef.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Tf}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return Jt.Connecting;case Jr.open:return Jt.Open;case Jr.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Ii(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kf,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Uf],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:Of};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Ye.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new ac(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,u;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Zn,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:vs.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:On,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>Nf[h-1]||Df),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ji extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bf extends ji{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ri extends ji{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const $i=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>er);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Mf=()=>D(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rr(()=>Promise.resolve().then(()=>er),void 0)).Response:Response}),si=t=>{if(Array.isArray(t))return t.map(r=>si(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=si(s)}),e},Ff=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vf=(t,e,r)=>D(void 0,void 0,void 0,function*(){const s=yield Mf();t instanceof s&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new Bf(Tn(n),i,o))}).catch(n=>{e(new ri(Tn(n),n))}):e(new ri(Tn(t),t))}),qf=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!s?n:(Ff(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(s)):n.body=s,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function ls(t,e,r,s,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,qf(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Vf(l,a,s))})})}function ss(t,e,r,s){return D(this,void 0,void 0,function*(){return ls(t,"GET",e,r,s)})}function ze(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"POST",e,s,n,r)})}function ni(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"PUT",e,s,n,r)})}function Wf(t,e,r,s){return D(this,void 0,void 0,function*(){return ls(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Ni(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"DELETE",e,s,n,r)})}class Hf{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return D(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}var uc;class Kf{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[uc]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hf(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}uc=Symbol.toStringTag;const Gf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jf{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=$i(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return D(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Jo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?ni:ze)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}upload(e,r,s){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return D(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Jo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield ni(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return D(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r?.upsert&&(n["x-upsert"]="true");const i=yield ze(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ji("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}update(e,r,s){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return D(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}copy(e,r,s){return D(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return D(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ze(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return D(this,void 0,void 0,function*(){try{const n=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ss(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Kf(l,this.shouldThrowOnError)}info(e){return D(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield ss(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:si(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}exists(e){return D(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Wf(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s)&&s instanceof ri){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return D(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}list(e,r,s){return D(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Gf),r),{prefix:e||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}listV2(e,r){return D(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const hc="2.76.1",dc={"X-Client-Info":`storage-js/${hc}`};class zf{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dc),r),this.fetch=$i(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return D(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}createBucket(e){return D(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return D(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}emptyBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}class Yf{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dc),r),this.fetch=$i(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBuckets(e){return D(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,i=yield ss(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}const Di={"X-Client-Info":`storage-js/${hc}`,"Content-Type":"application/json"};class fc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Me(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class kn extends fc{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qf extends fc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var zo;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zo||(zo={}));const Ui=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>er);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Xf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zf=(t,e,r)=>D(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||n+"";e(new kn(Yo(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new kn(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new kn(a,n,o))}}else e(new Qf(Yo(t),t))}),ep=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return s?(Xf(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function tp(t,e,r,s,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ep(e,s,n,i)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Zf(l,a,s))})})}function Fe(t,e,r,s,n){return D(this,void 0,void 0,function*(){return tp(t,"POST",e,s,n,r)})}class rp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),r),this.fetch=Ui(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getIndex(e,r){return D(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}})}listIndexes(e){return D(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return D(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}})}}class sp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),r),this.fetch=Ui(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return D(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listVectors(e){return D(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}queryVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteVectors(e){return D(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class np{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Di),r),this.fetch=Ui(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBuckets(){return D(this,arguments,void 0,function*(e={}){try{return{data:yield Fe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class ip extends np{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new op(this.url,this.headers,e,this.fetch)}}class op extends rp{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return D(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return D(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return D(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return D(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ap(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ap extends sp{constructor(e,r,s,n,i){super(e,r,i),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return D(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return D(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return D(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return D(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return D(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lp extends zf{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new Jf(this.url,this.headers,e,this.fetch)}get vectors(){return new ip(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yf(this.url+"/iceberg",this.headers,this.fetch)}}const cp="2.76.1";let Ur="";typeof Deno<"u"?Ur="deno":typeof document<"u"?Ur="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ur="react-native":Ur="node";const up={"X-Client-Info":`supabase-js-${Ur}/${cp}`},hp={headers:up},dp={schema:"public"},fp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pp={},gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=tc:e=fetch,(...r)=>e(...r)},mp=()=>typeof Headers>"u"?rc:Headers,_p=(t,e,r)=>{const s=gp(r),n=mp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))}};function vp(t){return t.endsWith("/")?t:t+"/"}function yp(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function wp(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pc="2.76.1",fr=30*1e3,ii=3,An=ii*fr,bp="http://localhost:9999",Ep="supabase.auth.token",Sp={"X-Client-Info":`gotrue-js/${pc}`},oi="X-Supabase-Api-Version",gc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Op=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tp=600*1e3;class ns extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kp extends ns{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Ap(t){return B(t)&&t.name==="AuthApiError"}class zt extends ns{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bt extends ns{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class xt extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rp(t){return B(t)&&t.name==="AuthSessionMissingError"}class ir extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ws extends Bt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pp(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qo extends Bt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ai extends Bt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rn(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Xo extends Bt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class li extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zo=` 	
\r=`.split(""),xp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zo.length;e+=1)t[Zo[e].charCodeAt(0)]=-2;for(let e=0;e<Us.length;e+=1)t[Us[e].charCodeAt(0)]=e;return t})();function ea(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Us[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Us[s]),e.queuedBits-=6}}function mc(t,e,r){const s=xp[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ta(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{jp(o,s,r)};for(let o=0;o<t.length;o+=1)mc(t.charCodeAt(o),n,i);return e.join("")}function Cp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ip(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Cp(s,e)}}function jp(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function wr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)mc(t.charCodeAt(n),r,s);return new Uint8Array(e)}function $p(t){const e=[];return Ip(t,r=>e.push(r)),new Uint8Array(e)}function Qt(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>ea(n,r,s)),ea(null,r,s),e.join("")}function Np(t){return Math.round(Date.now()/1e3)+t}function Dp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Be=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},_c=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function Up(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const vc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>er);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Lp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ht=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pt=async(t,e)=>{await t.removeItem(e)};class on{constructor(){this.promise=new on.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}on.promiseConstructor=Promise;function Pn(t){const e=t.split(".");if(e.length!==3)throw new li("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Op.test(e[s]))throw new li("JWT not in base64url format");return{header:JSON.parse(ta(e[0])),payload:JSON.parse(ta(e[1])),signature:wr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mp(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Fp(t){return("0"+t.toString(16)).substr(-2)}function Vp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Fp).join("")}async function qp(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Wp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qp(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function or(t,e,r=!1){const s=Vp();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await pr(t,`${e}-code-verifier`,n);const i=await Wp(s);return[i,s===i?"plain":"s256"]}const Hp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kp(t){const e=t.headers.get(oi);if(!e||!e.match(Hp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Jp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(t){if(!zp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xn(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ra(t){return JSON.parse(JSON.stringify(t))}const Gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yp=[502,503,504];async function sa(t){var e;if(!Lp(t))throw new ai(Gt(t),0);if(Yp.includes(t.status))throw new ai(Gt(t),t.status);let r;try{r=await t.json()}catch(i){throw new zt(Gt(i),i)}let s;const n=Kp(t);if(n&&n.getTime()>=gc["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Xo(Gt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xo(Gt(r),t.status,r.weak_password.reasons);throw new kp(Gt(r),t.status||500,s)}const Qp=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function H(t,e,r,s){var n;const i=Object.assign({},s?.headers);i[oi]||(i[oi]=gc["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Xp(t,e,r+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Xp(t,e,r,s,n,i){const o=Qp(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ai(Gt(l),0)}if(a.ok||await sa(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await sa(l)}}function Je(t){var e;let r=null;tg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Np(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function na(t){const e=Je(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zp(t){return{data:t,error:null}}function eg(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Ar(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ia(t){return t}function tg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cn=["global","local","others"];class rg{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=vc(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cn[0]){if(Cn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cn.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Ar(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:eg,redirectTo:r?.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ia});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(_=>{const m=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ar(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$t})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ar(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$t})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){ar(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ar(e.userId);try{const{data:r,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ar(e.userId),ar(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ia});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(_=>{const m=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(B(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}}function oa(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const lr={debug:!!(globalThis&&_c()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sg extends yc{}async function ng(t,e,r){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ig(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function og(t){return parseInt(t,16)}function ag(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function lg(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=wc(t.address),_=u?`${u}://${s}`:s,m=t.statement?`${t.statement}
`:"",y=`${_} wants you to sign in with your Ethereum account:
${d}

${m}`;let T=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(T+=`
Expiration Time: ${n.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),l&&(T+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}T+=w}return`${y}
${T}`}class fe extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ls extends fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function cg({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(bc(o)){if(i.rp.id!==o)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ug({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(bc(s)){if(r.rpId!==s)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class hg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dg=new hg;function fg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=Ar(t,["challenge","user","excludeCredentials"]),i=wr(e).buffer,o=Object.assign(Object.assign({},r),{id:wr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:wr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function pg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Ar(t,["challenge","allowCredentials"]),n=wr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:wr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function gg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qt(new Uint8Array(n.authenticatorData)),clientDataJSON:Qt(new Uint8Array(n.clientDataJSON)),signature:Qt(new Uint8Array(n.signature)),userHandle:n.userHandle?Qt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function aa(){var t,e;return!!(Be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _g(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ls("Browser returned unexpected credential type",e)}:{data:null,error:new Ls("Empty credential response",e)}}catch(e){return{data:null,error:cg({error:e,options:t})}}}async function vg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ls("Browser returned unexpected credential type",e)}:{data:null,error:new Ls("Empty credential response",e)}}catch(e){return{data:null,error:ug({error:e,options:t})}}}const yg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},wg={userVerification:"preferred",hints:["security-key"]};function Bs(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=Bs(a,o):s[i]=Bs(o)}else s[i]=o}return s}function bg(t,e){return Bs(yg,t,e||{})}function Eg(t,e){return Bs(wg,t,e||{})}class Sg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=n??dg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=bg(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await _g({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Eg(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await vg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new zt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!aa())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new zt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!aa())return{data:null,error:new zt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new zt("Unexpected error in register",o)}}}}ig();const Og={url:bp,storageKey:Ep,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function la(t,e,r){return await r()}const cr={};class is{get jwks(){var e,r;return(r=(e=cr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Og),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new rg({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=vc(n.fetch),this.lock=n.lock||la,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Be()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ng:this.lock=la,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Sg(this)},this.persistSession?(n.storage?this.storage=n.storage:_c()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oa(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=oa(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Up(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Be()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new zt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Je}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let d=null,_=null;this.flowType==="pkce"&&([d,_]=await or(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:_},xform:Je})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f?.data)!==null&&s!==void 0?s:{},channel:(n=f?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Je})}else throw new ys("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:na})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:na})}else throw new ys("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ir}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,u,h,f;let d,_;if("message"in e)d=e.message,_=e.signature;else{const{chain:m,wallet:y,statement:T,options:w}=e;let b;if(Be())if(typeof y=="object")b=y;else{const ve=window;if("ethereum"in ve&&typeof ve.ethereum=="object"&&"request"in ve.ethereum&&typeof ve.ethereum.request=="function")b=ve.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const A=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),V=await b.request({method:"eth_requestAccounts"}).then(ve=>ve).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=wc(V[0]);let K=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!K){const ve=await b.request({method:"eth_chainId"});K=og(ve)}const ge={domain:A.host,address:F,statement:T,uri:A.href,version:"1",chainId:K,nonce:(n=w?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.resources};d=lg(ge),_=await b.request({method:"personal_sign",params:[ag(d),F]})}try{const{data:m,error:y}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:_},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Je});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new ir}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(B(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,u,h,f,d;let _,m;if("message"in e)_=e.message,m=e.signature;else{const{chain:y,wallet:T,statement:w,options:b}=e;let A;if(Be())if(typeof T=="object")A=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))A=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const V=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const F=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),w?{statement:w}:null));let K;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")K=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)K=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),m=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${V.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(n=(s=b?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const F=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=F}}try{const{data:y,error:T}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Qt(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Je});if(T)throw T;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ir}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:T})}catch(y){if(B(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await Ht(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Je});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Je}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ir}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await or(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new ys("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await or(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zp})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new xt;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new ys("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<An:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=xn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(B(r))return Rp(r)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new xt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await or(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$t});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Pn(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new xt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Be())throw new ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qo("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ws("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const _=f-h;u-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,u):u-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const T={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(s){if(B(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ap(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Dp(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await or(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Be()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(B(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Je}),{data:f,error:d}=h;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ir}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:d})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Mp(async n=>(n>0&&await Bp(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Je})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Rn(i)&&Date.now()+o-s<fr})}catch(s){if(this._debug(r,"error",s),B(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Be()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Ht(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await pr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:xn()}else if(n&&!n.user&&!n.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await Pt(this.storage,this.storageKey+"-user"),await pr(this.storage,this.storageKey,n)):n.user=xn()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<An;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${An}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Rn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new on;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),B(i)){const o={data:null,error:i};return Rn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await pr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=ra(n);await pr(this.storage,this.storageKey,i)}else{const n=ra(r);await pr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${fr}ms, refresh threshold is ${ii} ticks`),n<=ii&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await or(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gg(e.webauthn.credential_response):mg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:fg(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:pg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Pn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Tp>n)return s;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:d,error:_}=await this.getSession();if(_||!d.session)return{data:null,error:_};s=d.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Pn(s);r?.allowExpired||Gp(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:d}=await this.getUser(s);if(d)throw d;return{data:{claims:i,header:n,signature:o},error:null}}const u=Jp(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,$p(`${a}.${l}`)))throw new li("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}}is.nextInstanceID=0;const Tg=is;class kg extends Tg{constructor(e){super(e)}}class Ag{constructor(e,r,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=wp(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:dp,realtime:pp,auth:Object.assign(Object.assign({},fp),{storageKey:l}),global:hp},u=yp(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=_p(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new bf(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new lp(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new uf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kg({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Lf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rg=(t,e,r)=>new Ag(t,e,r);function Pg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xg="https://gkyqqlkxpfskmtryfmyp.supabase.co",Cg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",ut=Rg(xg,Cg),Ig={class:"margins"},jg={key:0},$g=Re({__name:"SignInView",setup(t){const e=rn(),r=be(""),s=be(""),n=be(null),i=be(!0),o=be(!1);async function a(){try{i.value=!0,n.value=null,o.value=!1;const{data:c,error:u}=await ut.auth.signInWithPassword({email:r.value,password:s.value});if(console.log(c),u)throw u;o.value=!0,e.push({name:"Home"})}catch(c){n.value=c.message||"Failed to sign in. Please check your credentials."}finally{i.value=!1}}async function l(){if(!(await ut.auth.getUser()).data.user){i.value=!1;return}e.push({name:"Home"})}return l(),(c,u)=>(Y(),ce(we,null,[i.value?(Y(),pt(sn,{key:0})):Ke("",!0),N("div",Ig,[u[4]||(u[4]=N("h2",null,"Sign In",-1)),u[5]||(u[5]=N("h3",null,"Email",-1)),Fr(N("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),type:"email",placeholder:"example@example.com"},null,512),[[Kr,r.value]]),u[6]||(u[6]=N("h3",null,"Password",-1)),Fr(N("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[Kr,s.value]]),Q(zn,{loading:i.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),N("p",null,[Q(Et(Ri),{to:{name:"SignUp"}},{default:Js(()=>[...u[3]||(u[3]=[Xe("Don't have an account? Sign Up",-1)])]),_:1})]),Q(Rl,{errorMsg:n.value},null,8,["errorMsg"]),o.value?(Y(),ce("div",jg,"You are now signed in.")):Ke("",!0)])],64))}}),Ng=Ie($g,[["__scopeId","data-v-02834874"]]),Dg={class:"margins"},Ug=["disabled"],Lg={__name:"SignUpView",setup(t){const e=rn(),r=be(""),s=be(""),n=be(""),i=be(!1),o=be("");async function a(){try{i.value=!0;const{error:l}=await ut.auth.signUp({email:s.value,password:n.value,options:{data:{display_name:r.value}}});if(l)throw l;e.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{i.value=!1}}return(l,c)=>(Y(),ce(we,null,[i.value?(Y(),pt(sn,{key:0})):Ke("",!0),N("div",Dg,[c[3]||(c[3]=N("h2",null,"Sign Up",-1)),c[4]||(c[4]=N("h3",null,"Display name",-1)),Fr(N("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[Kr,r.value]]),c[5]||(c[5]=N("h3",null,"Email",-1)),Fr(N("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[Kr,s.value]]),c[6]||(c[6]=N("h3",null,"Password",-1)),Fr(N("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>n.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[Kr,n.value]]),N("button",{class:"bubbleButton",disabled:i.value,onClick:a},"Sign Up",8,Ug),Q(Rl,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},Bg=Ie(Lg,[["__scopeId","data-v-0ab384a7"]]),Mg={},Fg={class:"cont"};function Vg(t,e){return Y(),ce("div",Fg,[...e[0]||(e[0]=[N("i",{class:"fa-solid fa-envelope"},null,-1),N("h1",null,"Please check your email to finalise your account.",-1),N("h3",null,"Follow the link, then login using your email and password.",-1)])])}const qg=Ie(Mg,[["render",Vg],["__scopeId","data-v-22fb5633"]]),Wg={class:"navLabel"},Hg=Re({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(t){return rn(),(e,r)=>(Y(),pt(Et(Ri),{to:t.route,class:br("navLink"+(t.active===t.route?" active":""))},{default:Js(()=>[N("i",{class:br(t.icon)},null,2),N("span",Wg,de(t.label),1)]),_:1},8,["to","class"]))}}),In=Ie(Hg,[["__scopeId","data-v-f872e9a0"]]),Kg={class:"nav-bar"},Gg=Re({__name:"NavBar",props:{active:{}},setup(t){return(e,r)=>(Y(),ce("nav",Kg,[Q(In,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:t.active},null,8,["active"]),Q(In,{label:"Home",icon:"fas fa-home",route:"/home",active:t.active},null,8,["active"]),Q(In,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:t.active},null,8,["active"])]))}}),an=Ie(Gg,[["__scopeId","data-v-cdb85ac9"]]);class Jg{name;sets;notes;constructor(e){this.name=e.exercise,this.sets=e.sets,this.notes=e.notes,console.log(this.sets)}getVolume(){let e=0;for(const r of this.sets){let s=r.reps*r.weight;r.unit==="lbs"&&(s=s*.453592),e+=s}return e}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}deserialize(){return{exercise:this.name,sets:this.sets,notes:this.notes}}}class Ec{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;constructor(e){this.exercises=[],this.title=e.title,this.workout_id=e.workout_id,this.start_time=new Date(e.start_time),this.end_time=new Date(e.end_time),this.created_at=new Date(e.created_at),this.notes=e.notes,this.energy=e.energy,this.heart_rate=e.heart_rate;for(const r of e.exercises_full)this.exercises.push(new Jg(r))}deserialize(){const e=[],r=[];for(const s of this.exercises)e.push(s.deserialize()),r.push(s.getName());return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:e,exercises:r,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate}}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const e=this.getEnergy();return e===null?null:`${e} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let e=0;for(const r of this.exercises)e+=r.getVolume();return e}countSets(){let e=0;for(const r of this.exercises)e+=r.countSets();return e}getId(){return console.log(this.workout_id),this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const e=this.getDuration(),r=Math.floor(e/3600),s=Math.floor(e%3600/60),n=Math.floor(e%60),i=[];return r>0&&i.push(`${r}h`),s>0&&i.push(`${s}m`),(n>0||i.length===0)&&i.push(`${n}s`),i.join(" ")}getRelativeDate(){const e=new Date;return e.getMilliseconds()-this.start_time.getMilliseconds()<864e5?"Today":e.getMilliseconds()-this.start_time.getMilliseconds()<1728e5?"Yesterday":this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}}const zg={class:"greyed"},Yg={key:0},Qg={__name:"WorkoutThumbnail",props:["workout"],setup(t){return(e,r)=>{const s=ku("RouterLink");return Y(),pt(s,{class:"thumbnail",to:`/viewWorkout/${t.workout.getId()}`},{default:Js(()=>[N("h3",null,[Xe(de(t.workout.getTitle())+" ",1),N("span",zg,de(t.workout.getDateString()),1)]),N("table",null,[N("tr",null,[N("td",null,[r[0]||(r[0]=N("i",{class:"fa-solid fa-dumbbell"},null,-1)),Xe(" "+de(t.workout.getVolume())+" kg ",1)]),t.workout.getDuration()!==0?(Y(),ce("td",Yg,[r[1]||(r[1]=N("i",{class:"fa-solid fa-clock"},null,-1)),Xe(" "+de(t.workout.getDurationString()),1)])):Ke("",!0)]),N("tr",null,[N("td",null,de(t.workout.countSets())+" sets",1)])])]),_:1},8,["to"])}}},Xg=Ie(Qg,[["__scopeId","data-v-63f3bbe3"]]),Zg={class:"viewArea"},em={class:"thumbnailContainer"},tm=Re({__name:"HomeView",setup(t){const e=be([]);return Ys(async()=>{const r=await ut.from("workouts").select();for(const s of r.data||[])e.value.push(new Ec(s));e.value.sort((s,n)=>n.getStartTime()-s.getStartTime())}),(r,s)=>(Y(),ce(we,null,[Q(an,{active:"/home"}),N("div",Zg,[N("div",em,[(Y(!0),ce(we,null,Si(e.value,n=>(Y(),pt(Xg,{key:n.getId(),workout:n},null,8,["workout"]))),128))])])],64))}}),rm=Ie(tm,[["__scopeId","data-v-590b1193"]]),sm={key:0,id:"urlsCount"},nm=Re({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(t){return(e,r)=>t.pageCount>0?(Y(),ce("div",sm,[Xe(" pages "+de(t.pageCount)+" ",1),Q(zn,{label:"Upload",loading:!1,onClick:r[0]||(r[0]=s=>e.$emit("uploadWorkoutData"))}),Q(zn,{label:"Retake",loading:!1,onClick:r[1]||(r[1]=s=>e.$emit("retakePhoto"))})])):Ke("",!0)}}),im=Ie(nm,[["__scopeId","data-v-e9f56b22"]]),om={class:"viewArea"},am=Re({__name:"UploadView",setup(t){const e=be(0),r=rn(),s=be(null),n=be(null),i=be([]),o=be(0);Ys(async()=>{const d={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(d).then(_=>{s?s.value.srcObject=_:console.error("Video element not found")}).catch(_=>{console.error("Error accessing camera: ",_)})});const a=async()=>{if(console.log("capturing"),!s.value||!n.value){console.log("Video or canvas element not found");return}const{data:{user:d},error:_}=await ut.auth.getUser();if(_||!d){console.error("User not authenticated");return}n.value.width=s.value.videoWidth,n.value.height=s.value.videoHeight;const m=n.value.getContext("2d");if(!m){console.error("Failed to get canvas context");return}m.drawImage(s.value,0,0),n.value.toBlob(async y=>{if(!y){console.error("Failed to capture image");return}const T=new File([y],`photo-${Date.now()}-${d.id}.jpg`,{type:"image/jpeg"}),{data:w,error:b}=await ut.storage.from("workoutImage").upload(`photos/${d.id}/${T.name}`,T,{contentType:"image/jpeg",upsert:!1});if(b){console.error("Error uploading image: ",b);return}console.log("Image uploaded successfully: ",w),console.log(w),i.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${w.path}`),o.value++},"image/jpeg",.8)};function l(d,_){let m=_?d.startTime:d.endTime;if(!m)return null;const y=new Date;return m.year||(m.year=y.getFullYear()),m.month||(m.month=y.getMonth()+1),m.day||(m.day=y.getDate()),m.hour||(m.hour=y.getHours()),m.minute||(m.minute=y.getMinutes()),new Date(m.year,m.month-1,m.day,m.hour,m.minute,0)}async function c(d){e.value++,console.log("Creating workout object from data: ");const _=l(d,!0),m=l(d,!1);let y=[];for(const b of d.exercises||[])y.push(b.exercise);let T=d.energy&&d.energy.amount||null;T!=null&&d.energy.unit==="kJ"&&(T=T/4.184),console.log(d.exercises);const w=(await ut.auth.getUser()).data.user?.id;return e.value--,{user_id:w,start_time:_?_.toISOString():null,end_time:m?m.toISOString():null,title:d.title||"unnamed workout",exercises_full:d.exercises||[],exercises:y,notes:d.notes||"",energy:Math.round(T)}}async function u(){const d=await f(i.value);if(!d){console.error("No workout data generated");return}const{data:_,error:m}=await h(d);if(m){console.error("Error uploading workout data: ",m);return}r.push({name:"Home"})}async function h(d){e.value++;const{data:_,error:m}=await ut.from("workouts").insert([await c(d)]);return m?(console.error("Error uploading workout data: ",m),e.value--,{data:_,error:m}):(console.log("Workout data uploaded successfully: ",_),e.value--,{data:_,error:m})}async function f(d){e.value++;const{data:_,error:m}=await ut.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:d}});return m?(console.error("Error invoking function: ",m),console.log(_),e.value--,""):(e.value--,_)}return(d,_)=>(Y(),ce(we,null,[e.value>0?(Y(),pt(sn,{key:0})):Ke("",!0),N("div",om,[N("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),N("button",{class:"captureButton",onClick:_[0]||(_[0]=m=>a())}),Q(im,{pageCount:o.value,onUploadWorkoutData:_[1]||(_[1]=m=>u()),onRetakePhoto:_[2]||(_[2]=m=>{i.value.pop(),o.value--})},null,8,["pageCount"]),N("canvas",{ref_key:"canvas",ref:n,class:"hidden"},null,512)]),Q(an,{active:"/upload"})],64))}}),lm=Ie(am,[["__scopeId","data-v-048d7641"]]),cm={key:0,class:"overview-item"},um={class:"overview-title"},hm={class:"overview-value"},dm=Re({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(t){return(e,r)=>t.value?(Y(),ce("div",cm,[N("p",um,de(t.label),1),N("h1",hm,[N("i",{class:br(t.icon+" overview-icon")},null,2),Xe(de(t.value),1)])])):Ke("",!0)}}),Nr=Ie(dm,[["__scopeId","data-v-23041af4"]]),fm={class:"softBubble overview"},pm=Re({__name:"WorkoutOverview",props:{workout:{}},setup(t){return(e,r)=>(Y(),ce("div",fm,[Q(Nr,{icon:"fa-solid fa-clock",label:"duration",value:t.workout.getDurationString()},null,8,["value"]),Q(Nr,{icon:"fa-solid fa-dumbbell",label:"volume",value:t.workout.getVolume()+" kg"},null,8,["value"]),Q(Nr,{icon:"fa-solid fa-layer-group",label:"sets",value:t.workout.countSets()},null,8,["value"]),Q(Nr,{icon:"fa-solid fa-fire",label:"energy",value:t.workout.getEnergyString()},null,8,["value"]),Q(Nr,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:t.workout.getHeartRateString()},null,8,["value"])]))}}),gm=Ie(pm,[["__scopeId","data-v-54367279"]]),mm={class:"exerciseContainer softBubble"},_m={class:"exerciseTitle"},vm={class:"setsContainer"},ym={class:"setLabel"},wm={class:"setDetails"},bm={key:0},Em={class:"setLabel"},Sm={class:"setDetails"},Om=Re({__name:"ExerciseContainer",props:{exercise:{}},setup(t){return(e,r)=>(Y(),ce("div",mm,[N("h2",_m,de(t.exercise.getName()),1),N("table",vm,[r[3]||(r[3]=N("thead",null,[N("tr",null,[N("th",{class:"greyed",colspan:"1"},"set"),N("th",{class:"greyed",colspan:"1"},"weight & reps")])],-1)),N("tbody",null,[(Y(!0),ce(we,null,Si(t.exercise.getSets(),(s,n)=>(Y(),ce("tr",{key:n,class:"setItem"},[N("td",ym,de(n+1),1),N("td",wm,[s.weight!==null?(Y(),ce("span",bm,[Xe(de(s.weight)+" kg ",1),r[0]||(r[0]=N("i",{class:"fa-solid fa-xmark"},null,-1))])):Ke("",!0),Xe(" "+de(s.reps)+" reps ",1)])]))),128))]),N("tfoot",null,[N("tr",null,[N("td",Em,[r[1]||(r[1]=N("b",null,"sets:",-1)),Xe(" "+de(t.exercise.countSets()),1)]),N("td",Sm,[r[2]||(r[2]=N("b",null,"volume:",-1)),Xe(" "+de(t.exercise.getVolume())+" kg",1)])])])])]))}}),Tm=Ie(Om,[["__scopeId","data-v-8fba6162"]]),km={key:0,class:"viewArea"},Am={class:"margins"},Rm={class:"greyed"},Pm={key:0,class:"softBubble"},xm=Re({__name:"ViewWorkout",props:["workout_id"],setup(t){const e=t,r=be(null);return Ys(async()=>{const{data:s,error:n}=await ut.from("workouts").select().eq("workout_id",e.workout_id).single();if(n){console.error("Error fetching workout:",n);return}r.value=new Ec(s)}),(s,n)=>(Y(),ce(we,null,[r.value?(Y(),ce("div",km,[N("div",Am,[N("h2",null,de(r.value.getTitle()),1),N("p",Rm,de(r.value.getDateString()),1),r.value.getNotes()!==""?(Y(),ce("p",Pm,de(r.value.getNotes()),1)):Ke("",!0),Q(gm,{workout:r.value},null,8,["workout"]),(Y(!0),ce(we,null,Si(r.value.getExercises(),i=>(Y(),pt(Tm,{key:i.getName(),exercise:i},null,8,["exercise"]))),128))])])):Ke("",!0),r.value?Ke("",!0):(Y(),pt(sn,{key:1})),Q(an,{active:"/home"})],64))}}),Cm=Ie(xm,[["__scopeId","data-v-a3a841b2"]]),Im=Re({__name:"StatsView",setup(t){return(e,r)=>(Y(),ce(we,null,[r[0]||(r[0]=N("div",{class:"viewArea"},null,-1)),Q(an,{active:"/stats"})],64))}}),jm=[{path:"/",name:"SignIn",component:Ng},{path:"/signup",name:"SignUp",component:Bg},{path:"/emailconf",name:"Email Confirmation",component:qg},{path:"/home",name:"Home",component:rm},{path:"/upload",name:"Upload",component:lm},{path:"/viewWorkout/:workout_id",name:"View Workout",component:Cm,props:!0},{path:"/stats",name:"Stats",component:Im}],$m=Jd({history:Rd(),routes:jm}),Sc=Fh(zd);Sc.use($m);Sc.mount("#app");
