(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const kt={},Bs=[],an=()=>{},wd=()=>!1,yo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wl=e=>e.startsWith("onUpdate:"),de=Object.assign,xl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},rm=Object.prototype.hasOwnProperty,bt=(e,t)=>rm.call(e,t),Q=Array.isArray,Ws=e=>_o(e)==="[object Map]",xd=e=>_o(e)==="[object Set]",st=e=>typeof e=="function",Xt=e=>typeof e=="string",Cn=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",kd=e=>(Rt(e)||st(e))&&st(e.then)&&st(e.catch),Sd=Object.prototype.toString,_o=e=>Sd.call(e),om=e=>_o(e).slice(8,-1),Ed=e=>_o(e)==="[object Object]",kl=e=>Xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pi=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},am=/-\w/g,Be=vo(e=>e.replace(am,t=>t.slice(1).toUpperCase())),lm=/\B([A-Z])/g,vs=vo(e=>e.replace(lm,"-$1").toLowerCase()),wo=vo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ho=vo(e=>e?`on${wo(e)}`:""),Hn=(e,t)=>!Object.is(e,t),Wr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Od=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ma=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sc;const xo=()=>Sc||(Sc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Sl(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Xt(s)?dm(s):Sl(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Xt(e)||Rt(e))return e}const cm=/;(?![^(]*\))/g,um=/:([^]+)/,hm=/\/\*[^]*?\*\//g;function dm(e){const t={};return e.replace(hm,"").split(cm).forEach(n=>{if(n){const s=n.split(um);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ye(e){let t="";if(Xt(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=Ye(e[n]);s&&(t+=s+" ")}else if(Rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const fm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gm=vl(fm);function Td(e){return!!e||e===""}const Pd=e=>!!(e&&e.__v_isRef===!0),Ft=e=>Xt(e)?e:e==null?"":Q(e)||Rt(e)&&(e.toString===Sd||!st(e.toString))?Pd(e)?Ft(e.value):JSON.stringify(e,Cd,2):String(e),Cd=(e,t)=>Pd(t)?Cd(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[zo(s,r)+" =>"]=i,n),{})}:xd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>zo(n))}:Cn(t)?zo(t):Rt(t)&&!Q(t)&&!Ed(t)?String(t):t,zo=(e,t="")=>{var n;return Cn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ee;class pm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ee,!t&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ee;try{return Ee=this,t()}finally{Ee=n}}}on(){++this._on===1&&(this.prevScope=Ee,Ee=this)}off(){this._on>0&&--this._on===0&&(Ee=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function mm(){return Ee}let Tt;const qo=new WeakSet;class Ad{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ee&&Ee.active&&Ee.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qo.has(this)&&(qo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ec(this),Dd(this);const t=Tt,n=ze;Tt=this,ze=!0;try{return this.fn()}finally{Id(this),Tt=t,ze=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Tl(t);this.deps=this.depsTail=void 0,Ec(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ra(this)&&this.run()}get dirty(){return Ra(this)}}let Md=0,Ci,Ai;function Rd(e,t=!1){if(e.flags|=8,t){e.next=Ai,Ai=e;return}e.next=Ci,Ci=e}function El(){Md++}function Ol(){if(--Md>0)return;if(Ai){let t=Ai;for(Ai=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ci;){let t=Ci;for(Ci=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Dd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Id(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Tl(s),bm(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Ra(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ld(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ld(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ui)||(e.globalVersion=Ui,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ra(e))))return;e.flags|=2;const t=e.dep,n=Tt,s=ze;Tt=e,ze=!0;try{Dd(e);const i=e.fn(e._value);(t.version===0||Hn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Tt=n,ze=s,Id(e),e.flags&=-3}}function Tl(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Tl(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ze=!0;const jd=[];function En(){jd.push(ze),ze=!1}function On(){const e=jd.pop();ze=e===void 0?!0:e}function Ec(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Tt;Tt=void 0;try{t()}finally{Tt=n}}}let Ui=0;class ym{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Tt||!ze||Tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tt)n=this.activeLink=new ym(Tt,this),Tt.deps?(n.prevDep=Tt.depsTail,Tt.depsTail.nextDep=n,Tt.depsTail=n):Tt.deps=Tt.depsTail=n,Nd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Tt.depsTail,n.nextDep=void 0,Tt.depsTail.nextDep=n,Tt.depsTail=n,Tt.deps===n&&(Tt.deps=s)}return n}trigger(t){this.version++,Ui++,this.notify(t)}notify(t){El();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ol()}}}function Nd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Nd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Da=new WeakMap,ps=Symbol(""),Ia=Symbol(""),Hi=Symbol("");function le(e,t,n){if(ze&&Tt){let s=Da.get(e);s||Da.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Pl),i.map=s,i.key=n),i.track()}}function _n(e,t,n,s,i,r){const o=Da.get(e);if(!o){Ui++;return}const a=l=>{l&&l.trigger()};if(El(),t==="clear")o.forEach(a);else{const l=Q(e),c=l&&kl(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Hi||!Cn(d)&&d>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Hi)),t){case"add":l?c&&a(o.get("length")):(a(o.get(ps)),Ws(e)&&a(o.get(Ia)));break;case"delete":l||(a(o.get(ps)),Ws(e)&&a(o.get(Ia)));break;case"set":Ws(e)&&a(o.get(ps));break}}Ol()}function Os(e){const t=mt(e);return t===e?t:(le(t,"iterate",Hi),Fe(e)?t:t.map(se))}function ko(e){return le(e=mt(e),"iterate",Hi),e}const _m={__proto__:null,[Symbol.iterator](){return Yo(this,Symbol.iterator,se)},concat(...e){return Os(this).concat(...e.map(t=>Q(t)?Os(t):t))},entries(){return Yo(this,"entries",e=>(e[1]=se(e[1]),e))},every(e,t){return hn(this,"every",e,t,void 0,arguments)},filter(e,t){return hn(this,"filter",e,t,n=>n.map(se),arguments)},find(e,t){return hn(this,"find",e,t,se,arguments)},findIndex(e,t){return hn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hn(this,"findLast",e,t,se,arguments)},findLastIndex(e,t){return hn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ko(this,"includes",e)},indexOf(...e){return Ko(this,"indexOf",e)},join(e){return Os(this).join(e)},lastIndexOf(...e){return Ko(this,"lastIndexOf",e)},map(e,t){return hn(this,"map",e,t,void 0,arguments)},pop(){return ci(this,"pop")},push(...e){return ci(this,"push",e)},reduce(e,...t){return Oc(this,"reduce",e,t)},reduceRight(e,...t){return Oc(this,"reduceRight",e,t)},shift(){return ci(this,"shift")},some(e,t){return hn(this,"some",e,t,void 0,arguments)},splice(...e){return ci(this,"splice",e)},toReversed(){return Os(this).toReversed()},toSorted(e){return Os(this).toSorted(e)},toSpliced(...e){return Os(this).toSpliced(...e)},unshift(...e){return ci(this,"unshift",e)},values(){return Yo(this,"values",se)}};function Yo(e,t,n){const s=ko(e),i=s[t]();return s!==e&&!Fe(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const vm=Array.prototype;function hn(e,t,n,s,i,r){const o=ko(e),a=o!==e&&!Fe(e),l=o[t];if(l!==vm[t]){const h=l.apply(e,r);return a?se(h):h}let c=n;o!==e&&(a?c=function(h,d){return n.call(this,se(h),d,e)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,e)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Oc(e,t,n,s){const i=ko(e);let r=n;return i!==e&&(Fe(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,se(a),l,e)}),i[t](r,...s)}function Ko(e,t,n){const s=mt(e);le(s,"iterate",Hi);const i=s[t](...n);return(i===-1||i===!1)&&Ml(n[0])?(n[0]=mt(n[0]),s[t](...n)):i}function ci(e,t,n=[]){En(),El();const s=mt(e)[t].apply(e,n);return Ol(),On(),s}const wm=vl("__proto__,__v_isRef,__isVue"),$d=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Cn));function xm(e){Cn(e)||(e=String(e));const t=mt(this);return le(t,"has",e),t.hasOwnProperty(e)}class Fd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Rm:Ud:r?Vd:Wd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Q(t);if(!i){let l;if(o&&(l=_m[n]))return l;if(n==="hasOwnProperty")return xm}const a=Reflect.get(t,n,he(t)?t:s);if((Cn(n)?$d.has(n):wm(n))||(i||le(t,"get",n),r))return a;if(he(a)){const l=o&&kl(n)?a:a.value;return i&&Rt(l)?ja(l):l}return Rt(a)?i?ja(a):So(a):a}}class Bd extends Fd{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const l=qn(r);if(!Fe(s)&&!qn(s)&&(r=mt(r),s=mt(s)),!Q(t)&&he(r)&&!he(s))return l||(r.value=s),!0}const o=Q(t)&&kl(n)?Number(n)<t.length:bt(t,n),a=Reflect.set(t,n,s,he(t)?t:i);return t===mt(i)&&(o?Hn(s,r)&&_n(t,"set",n,s):_n(t,"add",n,s)),a}deleteProperty(t,n){const s=bt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&_n(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Cn(n)||!$d.has(n))&&le(t,"has",n),s}ownKeys(t){return le(t,"iterate",Q(t)?"length":ps),Reflect.ownKeys(t)}}class km extends Fd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Sm=new Bd,Em=new km,Om=new Bd(!0);const La=e=>e,pr=e=>Reflect.getPrototypeOf(e);function Tm(e,t,n){return function(...s){const i=this.__v_raw,r=mt(i),o=Ws(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),u=n?La:t?Kr:se;return!t&&le(r,"iterate",l?Ia:ps),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function mr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Pm(e,t){const n={get(i){const r=this.__v_raw,o=mt(r),a=mt(i);e||(Hn(i,a)&&le(o,"get",i),le(o,"get",a));const{has:l}=pr(o),c=t?La:e?Kr:se;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&le(mt(i),"iterate",ps),i.size},has(i){const r=this.__v_raw,o=mt(r),a=mt(i);return e||(Hn(i,a)&&le(o,"has",i),le(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=mt(a),c=t?La:e?Kr:se;return!e&&le(l,"iterate",ps),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return de(n,e?{add:mr("add"),set:mr("set"),delete:mr("delete"),clear:mr("clear")}:{add(i){!t&&!Fe(i)&&!qn(i)&&(i=mt(i));const r=mt(this);return pr(r).has.call(r,i)||(r.add(i),_n(r,"add",i,i)),this},set(i,r){!t&&!Fe(r)&&!qn(r)&&(r=mt(r));const o=mt(this),{has:a,get:l}=pr(o);let c=a.call(o,i);c||(i=mt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Hn(r,u)&&_n(o,"set",i,r):_n(o,"add",i,r),this},delete(i){const r=mt(this),{has:o,get:a}=pr(r);let l=o.call(r,i);l||(i=mt(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&_n(r,"delete",i,void 0),c},clear(){const i=mt(this),r=i.size!==0,o=i.clear();return r&&_n(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Tm(i,e,t)}),n}function Cl(e,t){const n=Pm(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(bt(n,i)&&i in s?n:s,i,r)}const Cm={get:Cl(!1,!1)},Am={get:Cl(!1,!0)},Mm={get:Cl(!0,!1)};const Wd=new WeakMap,Vd=new WeakMap,Ud=new WeakMap,Rm=new WeakMap;function Dm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Im(e){return e.__v_skip||!Object.isExtensible(e)?0:Dm(om(e))}function So(e){return qn(e)?e:Al(e,!1,Sm,Cm,Wd)}function Hd(e){return Al(e,!1,Om,Am,Vd)}function ja(e){return Al(e,!0,Em,Mm,Ud)}function Al(e,t,n,s,i){if(!Rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Im(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function Vs(e){return qn(e)?Vs(e.__v_raw):!!(e&&e.__v_isReactive)}function qn(e){return!!(e&&e.__v_isReadonly)}function Fe(e){return!!(e&&e.__v_isShallow)}function Ml(e){return e?!!e.__v_raw:!1}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function Lm(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&Od(e,"__v_skip",!0),e}const se=e=>Rt(e)?So(e):e,Kr=e=>Rt(e)?ja(e):e;function he(e){return e?e.__v_isRef===!0:!1}function ot(e){return zd(e,!1)}function jm(e){return zd(e,!0)}function zd(e,t){return he(e)?e:new Nm(e,t)}class Nm{constructor(t,n){this.dep=new Pl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:mt(t),this._value=n?t:se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Fe(t)||qn(t);t=s?t:mt(t),Hn(t,n)&&(this._rawValue=t,this._value=s?t:se(t),this.dep.trigger())}}function Sn(e){return he(e)?e.value:e}const $m={get:(e,t,n)=>t==="__v_raw"?e:Sn(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return he(i)&&!he(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function qd(e){return Vs(e)?e:new Proxy(e,$m)}class Fm{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Pl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ui-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Tt!==this)return Rd(this,!0),!0}get value(){const t=this.dep.track();return Ld(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Bm(e,t,n=!1){let s,i;return st(e)?s=e:(s=e.get,i=e.set),new Fm(s,i,n)}const br={},Gr=new WeakMap;let os;function Wm(e,t=!1,n=os){if(n){let s=Gr.get(n);s||Gr.set(n,s=[]),s.push(e)}}function Vm(e,t,n=kt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=x=>i?x:Fe(x)||i===!1||i===0?vn(x,1):vn(x);let u,h,d,f,g=!1,p=!1;if(he(e)?(h=()=>e.value,g=Fe(e)):Vs(e)?(h=()=>c(e),g=!0):Q(e)?(p=!0,g=e.some(x=>Vs(x)||Fe(x)),h=()=>e.map(x=>{if(he(x))return x.value;if(Vs(x))return c(x);if(st(x))return l?l(x,2):x()})):st(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){En();try{d()}finally{On()}}const x=os;os=u;try{return l?l(e,3,[f]):e(f)}finally{os=x}}:h=an,t&&i){const x=h,S=i===!0?1/0:i;h=()=>vn(x(),S)}const m=mm(),b=()=>{u.stop(),m&&m.active&&xl(m.effects,u)};if(r&&t){const x=t;t=(...S)=>{x(...S),b()}}let y=p?new Array(e.length).fill(br):br;const w=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const S=u.run();if(i||g||(p?S.some((E,O)=>Hn(E,y[O])):Hn(S,y))){d&&d();const E=os;os=u;try{const O=[S,y===br?void 0:p&&y[0]===br?[]:y,f];y=S,l?l(t,3,O):t(...O)}finally{os=E}}}else u.run()};return a&&a(w),u=new Ad(h),u.scheduler=o?()=>o(w,!1):w,f=x=>Wm(x,!1,u),d=u.onStop=()=>{const x=Gr.get(u);if(x){if(l)l(x,4);else for(const S of x)S();Gr.delete(u)}},t?s?w(!0):y=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function vn(e,t=1/0,n){if(t<=0||!Rt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,he(e))vn(e.value,t,n);else if(Q(e))for(let s=0;s<e.length;s++)vn(e[s],t,n);else if(xd(e)||Ws(e))e.forEach(s=>{vn(s,t,n)});else if(Ed(e)){for(const s in e)vn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&vn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function or(e,t,n,s){try{return s?e(...s):e()}catch(i){Eo(i,t,n)}}function cn(e,t,n,s){if(st(e)){const i=or(e,t,n,s);return i&&kd(i)&&i.catch(r=>{Eo(r,t,n)}),i}if(Q(e)){const i=[];for(let r=0;r<e.length;r++)i.push(cn(e[r],t,n,s));return i}}function Eo(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||kt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(r){En(),or(r,null,10,[e,l,c]),On();return}}Um(e,n,i,s,o)}function Um(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const ye=[];let en=-1;const Us=[];let jn=null,Ls=0;const Yd=Promise.resolve();let Jr=null;function Kd(e){const t=Jr||Yd;return e?t.then(this?e.bind(this):e):t}function Hm(e){let t=en+1,n=ye.length;for(;t<n;){const s=t+n>>>1,i=ye[s],r=zi(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function Rl(e){if(!(e.flags&1)){const t=zi(e),n=ye[ye.length-1];!n||!(e.flags&2)&&t>=zi(n)?ye.push(e):ye.splice(Hm(t),0,e),e.flags|=1,Gd()}}function Gd(){Jr||(Jr=Yd.then(Xd))}function zm(e){Q(e)?Us.push(...e):jn&&e.id===-1?jn.splice(Ls+1,0,e):e.flags&1||(Us.push(e),e.flags|=1),Gd()}function Tc(e,t,n=en+1){for(;n<ye.length;n++){const s=ye[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ye.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Jd(e){if(Us.length){const t=[...new Set(Us)].sort((n,s)=>zi(n)-zi(s));if(Us.length=0,jn){jn.push(...t);return}for(jn=t,Ls=0;Ls<jn.length;Ls++){const n=jn[Ls];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}jn=null,Ls=0}}const zi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xd(e){try{for(en=0;en<ye.length;en++){const t=ye[en];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),or(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;en<ye.length;en++){const t=ye[en];t&&(t.flags&=-2)}en=-1,ye.length=0,Jd(),Jr=null,(ye.length||Us.length)&&Xd()}}let ie=null,Qd=null;function Xr(e){const t=ie;return ie=e,Qd=e&&e.type.__scopeId||null,t}function Ke(e,t=ie,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&to(-1);const r=Xr(t);let o;try{o=e(...i)}finally{Xr(r),s._d&&to(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function _e(e,t){if(ie===null)return e;const n=Co(ie),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=kt]=t[i];r&&(st(r)&&(r={mounted:r,updated:r}),r.deep&&vn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Qn(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(En(),cn(l,n,8,[e.el,a,e,t]),On())}}const qm=Symbol("_vte"),Ym=e=>e.__isTeleport,Km=Symbol("_leaveCb");function Dl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Dl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xt(e,t){return st(e)?de({name:e.name},t,{setup:e}):e}function Zd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Qr=new WeakMap;function Mi(e,t,n,s,i=!1){if(Q(e)){e.forEach((g,p)=>Mi(g,t&&(Q(t)?t[p]:t),n,s,i));return}if(Hs(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Mi(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Co(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===kt?a.refs={}:a.refs,h=a.setupState,d=mt(h),f=h===kt?wd:g=>bt(d,g);if(c!=null&&c!==l){if(Pc(t),Xt(c))u[c]=null,f(c)&&(h[c]=null);else if(he(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(st(l))or(l,a,12,[o,u]);else{const g=Xt(l),p=he(l);if(g||p){const m=()=>{if(e.f){const b=g?f(l)?h[l]:u[l]:l.value;if(i)Q(b)&&xl(b,r);else if(Q(b))b.includes(r)||b.push(r);else if(g)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,e.k&&(u[e.k]=y)}}else g?(u[l]=o,f(l)&&(h[l]=o)):p&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{m(),Qr.delete(e)};b.id=-1,Qr.set(e,b),Ce(b,n)}else Pc(e),m()}}}function Pc(e){const t=Qr.get(e);t&&(t.flags|=8,Qr.delete(e))}xo().requestIdleCallback;xo().cancelIdleCallback;const Hs=e=>!!e.type.__asyncLoader,tf=e=>e.type.__isKeepAlive;function Gm(e,t){ef(e,"a",t)}function Jm(e,t){ef(e,"da",t)}function ef(e,t,n=ce){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Oo(t,s,n),n){let i=n.parent;for(;i&&i.parent;)tf(i.parent.vnode)&&Xm(s,t,n,i),i=i.parent}}function Xm(e,t,n,s){const i=Oo(t,e,s,!0);sf(()=>{xl(s[t],i)},n)}function Oo(e,t,n=ce,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{En();const a=ar(n),l=cn(t,n,e,o);return a(),On(),l});return s?i.unshift(r):i.push(r),r}}const An=e=>(t,n=ce)=>{(!Ki||e==="sp")&&Oo(e,(...s)=>t(...s),n)},Qm=An("bm"),ws=An("m"),Zm=An("bu"),Il=An("u"),nf=An("bum"),sf=An("um"),tb=An("sp"),eb=An("rtg"),nb=An("rtc");function sb(e,t=ce){Oo("ec",e,t)}const ib="components";function rb(e,t){return ab(ib,e,!0,t)||e}const ob=Symbol.for("v-ndc");function ab(e,t,n=!0,s=!1){const i=ie||ce;if(i){const r=i.type;{const a=Gb(r,!1);if(a&&(a===t||a===Be(t)||a===wo(Be(t))))return r}const o=Cc(i[e]||r[e],t)||Cc(i.appContext[e],t);return!o&&s?r:o}}function Cc(e,t){return e&&(e[t]||e[Be(t)]||e[wo(Be(t))])}function Ll(e,t,n,s){let i;const r=n,o=Q(e);if(o||Xt(e)){const a=o&&Vs(e);let l=!1,c=!1;a&&(l=!Fe(e),c=qn(e),e=ko(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(l?c?Kr(se(e[u])):se(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(Rt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}function rf(e,t,n={},s,i){if(ie.ce||ie.parent&&Hs(ie.parent)&&ie.parent.ce){const c=Object.keys(n).length>0;return V(),Wt(At,null,[q("slot",n,s)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),V();const o=r&&of(r(n)),a=n.key||o&&o.key,l=Wt(At,{key:(a&&!Cn(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function of(e){return e.some(t=>Yi(t)?!(t.type===Tn||t.type===At&&!of(t.children)):!0)?e:null}const Na=e=>e?Of(e)?Co(e):Na(e.parent):null,Ri=de(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Na(e.parent),$root:e=>Na(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lf(e),$forceUpdate:e=>e.f||(e.f=()=>{Rl(e.update)}),$nextTick:e=>e.n||(e.n=Kd.bind(e.proxy)),$watch:e=>Pb.bind(e)}),Go=(e,t)=>e!==kt&&!e.__isScriptSetup&&bt(e,t),lb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(Go(s,t))return o[t]=1,s[t];if(i!==kt&&bt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&bt(c,t))return o[t]=3,r[t];if(n!==kt&&bt(n,t))return o[t]=4,n[t];$a&&(o[t]=0)}}const u=Ri[t];let h,d;if(u)return t==="$attrs"&&le(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==kt&&bt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,bt(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return Go(i,t)?(i[t]=n,!0):s!==kt&&bt(s,t)?(s[t]=n,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(n[a]||e!==kt&&a[0]!=="$"&&bt(e,a)||Go(t,a)||(l=r[0])&&bt(l,a)||bt(s,a)||bt(Ri,a)||bt(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ac(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $a=!0;function cb(e){const t=lf(e),n=e.proxy,s=e.ctx;$a=!1,t.beforeCreate&&Mc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:w,unmounted:x,render:S,renderTracked:E,renderTriggered:O,errorCaptured:R,serverPrefetch:N,expose:Y,inheritAttrs:J,components:it,directives:wt,filters:Qt}=t;if(c&&ub(c,s,null),o)for(const K in o){const rt=o[K];st(rt)&&(s[K]=rt.bind(n))}if(i){const K=i.call(n,n);Rt(K)&&(e.data=So(K))}if($a=!0,r)for(const K in r){const rt=r[K],St=st(rt)?rt.bind(n,n):st(rt.get)?rt.get.bind(n,n):an,ge=!st(rt)&&st(rt.set)?rt.set.bind(n):an,pe=Re({get:St,set:ge});Object.defineProperty(s,K,{enumerable:!0,configurable:!0,get:()=>pe.value,set:Ht=>pe.value=Ht})}if(a)for(const K in a)af(a[K],s,n,K);if(l){const K=st(l)?l.call(n):l;Reflect.ownKeys(K).forEach(rt=>{Vr(rt,K[rt])})}u&&Mc(u,e,"c");function nt(K,rt){Q(rt)?rt.forEach(St=>K(St.bind(n))):rt&&K(rt.bind(n))}if(nt(Qm,h),nt(ws,d),nt(Zm,f),nt(Il,g),nt(Gm,p),nt(Jm,m),nt(sb,R),nt(nb,E),nt(eb,O),nt(nf,y),nt(sf,x),nt(tb,N),Q(Y))if(Y.length){const K=e.exposed||(e.exposed={});Y.forEach(rt=>{Object.defineProperty(K,rt,{get:()=>n[rt],set:St=>n[rt]=St,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===an&&(e.render=S),J!=null&&(e.inheritAttrs=J),it&&(e.components=it),wt&&(e.directives=wt),N&&Zd(e)}function ub(e,t,n=an){Q(e)&&(e=Fa(e));for(const s in e){const i=e[s];let r;Rt(i)?"default"in i?r=qe(i.from||s,i.default,!0):r=qe(i.from||s):r=qe(i),he(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Mc(e,t,n){cn(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function af(e,t,n,s){let i=s.includes(".")?wf(n,s):()=>n[s];if(Xt(e)){const r=t[e];st(r)&&Ur(i,r)}else if(st(e))Ur(i,e.bind(n));else if(Rt(e))if(Q(e))e.forEach(r=>af(r,t,n,s));else{const r=st(e.handler)?e.handler.bind(n):t[e.handler];st(r)&&Ur(i,r,e)}}function lf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>Zr(l,c,o,!0)),Zr(l,t,o)),Rt(t)&&r.set(t,l),l}function Zr(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&Zr(e,r,n,!0),i&&i.forEach(o=>Zr(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=hb[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const hb={data:Rc,props:Dc,emits:Dc,methods:xi,computed:xi,beforeCreate:me,created:me,beforeMount:me,mounted:me,beforeUpdate:me,updated:me,beforeDestroy:me,beforeUnmount:me,destroyed:me,unmounted:me,activated:me,deactivated:me,errorCaptured:me,serverPrefetch:me,components:xi,directives:xi,watch:fb,provide:Rc,inject:db};function Rc(e,t){return t?e?function(){return de(st(e)?e.call(this,this):e,st(t)?t.call(this,this):t)}:t:e}function db(e,t){return xi(Fa(e),Fa(t))}function Fa(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function me(e,t){return e?[...new Set([].concat(e,t))]:t}function xi(e,t){return e?de(Object.create(null),e,t):t}function Dc(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:de(Object.create(null),Ac(e),Ac(t??{})):t}function fb(e,t){if(!e)return t;if(!t)return e;const n=de(Object.create(null),e);for(const s in t)n[s]=me(e[s],t[s]);return n}function cf(){return{app:null,config:{isNativeTag:wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gb=0;function pb(e,t){return function(s,i=null){st(s)||(s=de({},s)),i!=null&&!Rt(i)&&(i=null);const r=cf(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:gb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Xb,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&st(u.install)?(o.add(u),u.install(c,...h)):st(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||q(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Co(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(cn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=zs;zs=c;try{return u()}finally{zs=h}}};return c}}let zs=null;function Vr(e,t){if(ce){let n=ce.provides;const s=ce.parent&&ce.parent.provides;s===n&&(n=ce.provides=Object.create(s)),n[e]=t}}function qe(e,t,n=!1){const s=Hb();if(s||zs){let i=zs?zs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&st(t)?t.call(s&&s.proxy):t}}const uf={},hf=()=>Object.create(uf),df=e=>Object.getPrototypeOf(e)===uf;function mb(e,t,n,s=!1){const i={},r=hf();e.propsDefaults=Object.create(null),ff(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:Hd(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function bb(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=mt(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(To(e.emitsOptions,d))continue;const f=t[d];if(l)if(bt(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=Be(d);i[g]=Ba(l,a,g,f,e,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{ff(e,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!bt(t,h)&&((u=vs(h))===h||!bt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Ba(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!bt(t,h))&&(delete r[h],c=!0)}c&&_n(e.attrs,"set","")}function ff(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Pi(l))continue;const c=t[l];let u;i&&bt(i,u=Be(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:To(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=mt(n),c=a||kt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Ba(i,l,h,c[h],e,!bt(c,h))}}return o}function Ba(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=bt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&st(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=ar(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===vs(n))&&(s=!0))}return s}const yb=new WeakMap;function gf(e,t,n=!1){const s=n?yb:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!st(e)){const u=h=>{l=!0;const[d,f]=gf(h,t,!0);de(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Rt(e)&&s.set(e,Bs),Bs;if(Q(r))for(let u=0;u<r.length;u++){const h=Be(r[u]);Ic(h)&&(o[h]=kt)}else if(r)for(const u in r){const h=Be(u);if(Ic(h)){const d=r[u],f=o[h]=Q(d)||st(d)?{type:d}:de({},d),g=f.type;let p=!1,m=!0;if(Q(g))for(let b=0;b<g.length;++b){const y=g[b],w=st(y)&&y.name;if(w==="Boolean"){p=!0;break}else w==="String"&&(m=!1)}else p=st(g)&&g.name==="Boolean";f[0]=p,f[1]=m,(p||bt(f,"default"))&&a.push(h)}}const c=[o,a];return Rt(e)&&s.set(e,c),c}function Ic(e){return e[0]!=="$"&&!Pi(e)}const jl=e=>e==="_"||e==="_ctx"||e==="$stable",Nl=e=>Q(e)?e.map(sn):[sn(e)],_b=(e,t,n)=>{if(t._n)return t;const s=Ke((...i)=>Nl(t(...i)),n);return s._c=!1,s},pf=(e,t,n)=>{const s=e._ctx;for(const i in e){if(jl(i))continue;const r=e[i];if(st(r))t[i]=_b(i,r,s);else if(r!=null){const o=Nl(r);t[i]=()=>o}}},mf=(e,t)=>{const n=Nl(t);e.slots.default=()=>n},bf=(e,t,n)=>{for(const s in t)(n||!jl(s))&&(e[s]=t[s])},vb=(e,t,n)=>{const s=e.slots=hf();if(e.vnode.shapeFlag&32){const i=t._;i?(bf(s,t,n),n&&Od(s,"_",i,!0)):pf(t,s)}else t&&mf(e,t)},wb=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=kt;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:bf(i,t,n):(r=!t.$stable,pf(t,i)),o=t}else t&&(mf(e,t),o={default:1});if(r)for(const a in i)!jl(a)&&o[a]==null&&delete i[a]},Ce=jb;function xb(e){return kb(e)}function kb(e,t){const n=xo();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=an,insertStaticContent:g}=e,p=(_,v,k,P=null,A=null,T=null,j=void 0,L=null,I=!!v.dynamicChildren)=>{if(_===v)return;_&&!ui(_,v)&&(P=C(_),Ht(_,A,T,!0),_=null),v.patchFlag===-2&&(I=!1,v.dynamicChildren=null);const{type:D,ref:G,shapeFlag:F}=v;switch(D){case Po:m(_,v,k,P);break;case Tn:b(_,v,k,P);break;case Xo:_==null&&y(v,k,P,j);break;case At:it(_,v,k,P,A,T,j,L,I);break;default:F&1?S(_,v,k,P,A,T,j,L,I):F&6?wt(_,v,k,P,A,T,j,L,I):(F&64||F&128)&&D.process(_,v,k,P,A,T,j,L,I,U)}G!=null&&A?Mi(G,_&&_.ref,T,v||_,!v):G==null&&_&&_.ref!=null&&Mi(_.ref,null,T,_,!0)},m=(_,v,k,P)=>{if(_==null)s(v.el=a(v.children),k,P);else{const A=v.el=_.el;v.children!==_.children&&c(A,v.children)}},b=(_,v,k,P)=>{_==null?s(v.el=l(v.children||""),k,P):v.el=_.el},y=(_,v,k,P)=>{[_.el,_.anchor]=g(_.children,v,k,P,_.el,_.anchor)},w=({el:_,anchor:v},k,P)=>{let A;for(;_&&_!==v;)A=d(_),s(_,k,P),_=A;s(v,k,P)},x=({el:_,anchor:v})=>{let k;for(;_&&_!==v;)k=d(_),i(_),_=k;i(v)},S=(_,v,k,P,A,T,j,L,I)=>{v.type==="svg"?j="svg":v.type==="math"&&(j="mathml"),_==null?E(v,k,P,A,T,j,L,I):N(_,v,A,T,j,L,I)},E=(_,v,k,P,A,T,j,L)=>{let I,D;const{props:G,shapeFlag:F,transition:H,dirs:X}=_;if(I=_.el=o(_.type,T,G&&G.is,G),F&8?u(I,_.children):F&16&&R(_.children,I,null,P,A,Jo(_,T),j,L),X&&Qn(_,null,P,"created"),O(I,_,_.scopeId,j,P),G){for(const Et in G)Et!=="value"&&!Pi(Et)&&r(I,Et,null,G[Et],T,P);"value"in G&&r(I,"value",null,G.value,T),(D=G.onVnodeBeforeMount)&&Ze(D,P,_)}X&&Qn(_,null,P,"beforeMount");const dt=Sb(A,H);dt&&H.beforeEnter(I),s(I,v,k),((D=G&&G.onVnodeMounted)||dt||X)&&Ce(()=>{D&&Ze(D,P,_),dt&&H.enter(I),X&&Qn(_,null,P,"mounted")},A)},O=(_,v,k,P,A)=>{if(k&&f(_,k),P)for(let T=0;T<P.length;T++)f(_,P[T]);if(A){let T=A.subTree;if(v===T||kf(T.type)&&(T.ssContent===v||T.ssFallback===v)){const j=A.vnode;O(_,j,j.scopeId,j.slotScopeIds,A.parent)}}},R=(_,v,k,P,A,T,j,L,I=0)=>{for(let D=I;D<_.length;D++){const G=_[D]=L?Nn(_[D]):sn(_[D]);p(null,G,v,k,P,A,T,j,L)}},N=(_,v,k,P,A,T,j)=>{const L=v.el=_.el;let{patchFlag:I,dynamicChildren:D,dirs:G}=v;I|=_.patchFlag&16;const F=_.props||kt,H=v.props||kt;let X;if(k&&Zn(k,!1),(X=H.onVnodeBeforeUpdate)&&Ze(X,k,v,_),G&&Qn(v,_,k,"beforeUpdate"),k&&Zn(k,!0),(F.innerHTML&&H.innerHTML==null||F.textContent&&H.textContent==null)&&u(L,""),D?Y(_.dynamicChildren,D,L,k,P,Jo(v,A),T):j||rt(_,v,L,null,k,P,Jo(v,A),T,!1),I>0){if(I&16)J(L,F,H,k,A);else if(I&2&&F.class!==H.class&&r(L,"class",null,H.class,A),I&4&&r(L,"style",F.style,H.style,A),I&8){const dt=v.dynamicProps;for(let Et=0;Et<dt.length;Et++){const yt=dt[Et],xe=F[yt],ke=H[yt];(ke!==xe||yt==="value")&&r(L,yt,xe,ke,A,k)}}I&1&&_.children!==v.children&&u(L,v.children)}else!j&&D==null&&J(L,F,H,k,A);((X=H.onVnodeUpdated)||G)&&Ce(()=>{X&&Ze(X,k,v,_),G&&Qn(v,_,k,"updated")},P)},Y=(_,v,k,P,A,T,j)=>{for(let L=0;L<v.length;L++){const I=_[L],D=v[L],G=I.el&&(I.type===At||!ui(I,D)||I.shapeFlag&198)?h(I.el):k;p(I,D,G,null,P,A,T,j,!0)}},J=(_,v,k,P,A)=>{if(v!==k){if(v!==kt)for(const T in v)!Pi(T)&&!(T in k)&&r(_,T,v[T],null,A,P);for(const T in k){if(Pi(T))continue;const j=k[T],L=v[T];j!==L&&T!=="value"&&r(_,T,L,j,A,P)}"value"in k&&r(_,"value",v.value,k.value,A)}},it=(_,v,k,P,A,T,j,L,I)=>{const D=v.el=_?_.el:a(""),G=v.anchor=_?_.anchor:a("");let{patchFlag:F,dynamicChildren:H,slotScopeIds:X}=v;X&&(L=L?L.concat(X):X),_==null?(s(D,k,P),s(G,k,P),R(v.children||[],k,G,A,T,j,L,I)):F>0&&F&64&&H&&_.dynamicChildren?(Y(_.dynamicChildren,H,k,A,T,j,L),(v.key!=null||A&&v===A.subTree)&&yf(_,v,!0)):rt(_,v,k,G,A,T,j,L,I)},wt=(_,v,k,P,A,T,j,L,I)=>{v.slotScopeIds=L,_==null?v.shapeFlag&512?A.ctx.activate(v,k,P,j,I):Qt(v,k,P,A,T,j,I):ut(_,v,I)},Qt=(_,v,k,P,A,T,j)=>{const L=_.component=Ub(_,P,A);if(tf(_)&&(L.ctx.renderer=U),zb(L,!1,j),L.asyncDep){if(A&&A.registerDep(L,nt,j),!_.el){const I=L.subTree=q(Tn);b(null,I,v,k),_.placeholder=I.el}}else nt(L,_,v,k,A,T,j)},ut=(_,v,k)=>{const P=v.component=_.component;if(Ib(_,v,k))if(P.asyncDep&&!P.asyncResolved){K(P,v,k);return}else P.next=v,P.update();else v.el=_.el,P.vnode=v},nt=(_,v,k,P,A,T,j)=>{const L=()=>{if(_.isMounted){let{next:F,bu:H,u:X,parent:dt,vnode:Et}=_;{const Xe=_f(_);if(Xe){F&&(F.el=Et.el,K(_,F,j)),Xe.asyncDep.then(()=>{_.isUnmounted||L()});return}}let yt=F,xe;Zn(_,!1),F?(F.el=Et.el,K(_,F,j)):F=Et,H&&Wr(H),(xe=F.props&&F.props.onVnodeBeforeUpdate)&&Ze(xe,dt,F,Et),Zn(_,!0);const ke=jc(_),Je=_.subTree;_.subTree=ke,p(Je,ke,h(Je.el),C(Je),_,A,T),F.el=ke.el,yt===null&&Lb(_,ke.el),X&&Ce(X,A),(xe=F.props&&F.props.onVnodeUpdated)&&Ce(()=>Ze(xe,dt,F,Et),A)}else{let F;const{el:H,props:X}=v,{bm:dt,m:Et,parent:yt,root:xe,type:ke}=_,Je=Hs(v);Zn(_,!1),dt&&Wr(dt),!Je&&(F=X&&X.onVnodeBeforeMount)&&Ze(F,yt,v),Zn(_,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(ke);const Xe=_.subTree=jc(_);p(null,Xe,k,P,_,A,T),v.el=Xe.el}if(Et&&Ce(Et,A),!Je&&(F=X&&X.onVnodeMounted)){const Xe=v;Ce(()=>Ze(F,yt,Xe),A)}(v.shapeFlag&256||yt&&Hs(yt.vnode)&&yt.vnode.shapeFlag&256)&&_.a&&Ce(_.a,A),_.isMounted=!0,v=k=P=null}};_.scope.on();const I=_.effect=new Ad(L);_.scope.off();const D=_.update=I.run.bind(I),G=_.job=I.runIfDirty.bind(I);G.i=_,G.id=_.uid,I.scheduler=()=>Rl(G),Zn(_,!0),D()},K=(_,v,k)=>{v.component=_;const P=_.vnode.props;_.vnode=v,_.next=null,bb(_,v.props,P,k),wb(_,v.children,k),En(),Tc(_),On()},rt=(_,v,k,P,A,T,j,L,I=!1)=>{const D=_&&_.children,G=_?_.shapeFlag:0,F=v.children,{patchFlag:H,shapeFlag:X}=v;if(H>0){if(H&128){ge(D,F,k,P,A,T,j,L,I);return}else if(H&256){St(D,F,k,P,A,T,j,L,I);return}}X&8?(G&16&&Gt(D,A,T),F!==D&&u(k,F)):G&16?X&16?ge(D,F,k,P,A,T,j,L,I):Gt(D,A,T,!0):(G&8&&u(k,""),X&16&&R(F,k,P,A,T,j,L,I))},St=(_,v,k,P,A,T,j,L,I)=>{_=_||Bs,v=v||Bs;const D=_.length,G=v.length,F=Math.min(D,G);let H;for(H=0;H<F;H++){const X=v[H]=I?Nn(v[H]):sn(v[H]);p(_[H],X,k,null,A,T,j,L,I)}D>G?Gt(_,A,T,!0,!1,F):R(v,k,P,A,T,j,L,I,F)},ge=(_,v,k,P,A,T,j,L,I)=>{let D=0;const G=v.length;let F=_.length-1,H=G-1;for(;D<=F&&D<=H;){const X=_[D],dt=v[D]=I?Nn(v[D]):sn(v[D]);if(ui(X,dt))p(X,dt,k,null,A,T,j,L,I);else break;D++}for(;D<=F&&D<=H;){const X=_[F],dt=v[H]=I?Nn(v[H]):sn(v[H]);if(ui(X,dt))p(X,dt,k,null,A,T,j,L,I);else break;F--,H--}if(D>F){if(D<=H){const X=H+1,dt=X<G?v[X].el:P;for(;D<=H;)p(null,v[D]=I?Nn(v[D]):sn(v[D]),k,dt,A,T,j,L,I),D++}}else if(D>H)for(;D<=F;)Ht(_[D],A,T,!0),D++;else{const X=D,dt=D,Et=new Map;for(D=dt;D<=H;D++){const Pe=v[D]=I?Nn(v[D]):sn(v[D]);Pe.key!=null&&Et.set(Pe.key,D)}let yt,xe=0;const ke=H-dt+1;let Je=!1,Xe=0;const li=new Array(ke);for(D=0;D<ke;D++)li[D]=0;for(D=X;D<=F;D++){const Pe=_[D];if(xe>=ke){Ht(Pe,A,T,!0);continue}let Qe;if(Pe.key!=null)Qe=Et.get(Pe.key);else for(yt=dt;yt<=H;yt++)if(li[yt-dt]===0&&ui(Pe,v[yt])){Qe=yt;break}Qe===void 0?Ht(Pe,A,T,!0):(li[Qe-dt]=D+1,Qe>=Xe?Xe=Qe:Je=!0,p(Pe,v[Qe],k,null,A,T,j,L,I),xe++)}const wc=Je?Eb(li):Bs;for(yt=wc.length-1,D=ke-1;D>=0;D--){const Pe=dt+D,Qe=v[Pe],xc=v[Pe+1],kc=Pe+1<G?xc.el||xc.placeholder:P;li[D]===0?p(null,Qe,k,kc,A,T,j,L,I):Je&&(yt<0||D!==wc[yt]?pe(Qe,k,kc,2):yt--)}}},pe=(_,v,k,P,A=null)=>{const{el:T,type:j,transition:L,children:I,shapeFlag:D}=_;if(D&6){pe(_.component.subTree,v,k,P);return}if(D&128){_.suspense.move(v,k,P);return}if(D&64){j.move(_,v,k,U);return}if(j===At){s(T,v,k);for(let F=0;F<I.length;F++)pe(I[F],v,k,P);s(_.anchor,v,k);return}if(j===Xo){w(_,v,k);return}if(P!==2&&D&1&&L)if(P===0)L.beforeEnter(T),s(T,v,k),Ce(()=>L.enter(T),A);else{const{leave:F,delayLeave:H,afterLeave:X}=L,dt=()=>{_.ctx.isUnmounted?i(T):s(T,v,k)},Et=()=>{T._isLeaving&&T[Km](!0),F(T,()=>{dt(),X&&X()})};H?H(T,dt,Et):Et()}else s(T,v,k)},Ht=(_,v,k,P=!1,A=!1)=>{const{type:T,props:j,ref:L,children:I,dynamicChildren:D,shapeFlag:G,patchFlag:F,dirs:H,cacheIndex:X}=_;if(F===-2&&(A=!1),L!=null&&(En(),Mi(L,null,k,_,!0),On()),X!=null&&(v.renderCache[X]=void 0),G&256){v.ctx.deactivate(_);return}const dt=G&1&&H,Et=!Hs(_);let yt;if(Et&&(yt=j&&j.onVnodeBeforeUnmount)&&Ze(yt,v,_),G&6)Te(_.component,k,P);else{if(G&128){_.suspense.unmount(k,P);return}dt&&Qn(_,null,v,"beforeUnmount"),G&64?_.type.remove(_,v,k,U,P):D&&!D.hasOnce&&(T!==At||F>0&&F&64)?Gt(D,v,k,!1,!0):(T===At&&F&384||!A&&G&16)&&Gt(I,v,k),P&&Ne(_)}(Et&&(yt=j&&j.onVnodeUnmounted)||dt)&&Ce(()=>{yt&&Ze(yt,v,_),dt&&Qn(_,null,v,"unmounted")},k)},Ne=_=>{const{type:v,el:k,anchor:P,transition:A}=_;if(v===At){we(k,P);return}if(v===Xo){x(_);return}const T=()=>{i(k),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(_.shapeFlag&1&&A&&!A.persisted){const{leave:j,delayLeave:L}=A,I=()=>j(k,T);L?L(_.el,T,I):I()}else T()},we=(_,v)=>{let k;for(;_!==v;)k=d(_),i(_),_=k;i(v)},Te=(_,v,k)=>{const{bum:P,scope:A,job:T,subTree:j,um:L,m:I,a:D}=_;Lc(I),Lc(D),P&&Wr(P),A.stop(),T&&(T.flags|=8,Ht(j,_,v,k)),L&&Ce(L,v),Ce(()=>{_.isUnmounted=!0},v)},Gt=(_,v,k,P=!1,A=!1,T=0)=>{for(let j=T;j<_.length;j++)Ht(_[j],v,k,P,A)},C=_=>{if(_.shapeFlag&6)return C(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const v=d(_.anchor||_.el),k=v&&v[qm];return k?d(k):v};let B=!1;const $=(_,v,k)=>{_==null?v._vnode&&Ht(v._vnode,null,null,!0):p(v._vnode||null,_,v,null,null,null,k),v._vnode=_,B||(B=!0,Tc(),Jd(),B=!1)},U={p,um:Ht,m:pe,r:Ne,mt:Qt,mc:R,pc:rt,pbc:Y,n:C,o:e};return{render:$,hydrate:void 0,createApp:pb($)}}function Jo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Sb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yf(e,t,n=!1){const s=e.children,i=t.children;if(Q(s)&&Q(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Nn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&yf(o,a)),a.type===Po&&a.patchFlag!==-1&&(a.el=o.el),a.type===Tn&&!a.el&&(a.el=o.el)}}function Eb(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function _f(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_f(t)}function Lc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ob=Symbol.for("v-scx"),Tb=()=>qe(Ob);function Ur(e,t,n){return vf(e,t,n)}function vf(e,t,n=kt){const{immediate:s,deep:i,flush:r,once:o}=n,a=de({},n),l=t&&s||!t&&r!=="post";let c;if(Ki){if(r==="sync"){const f=Tb();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=an,f.resume=an,f.pause=an,f}}const u=ce;a.call=(f,g,p)=>cn(f,u,g,p);let h=!1;r==="post"?a.scheduler=f=>{Ce(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Rl(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Vm(e,t,a);return Ki&&(c?c.push(d):l&&d()),d}function Pb(e,t,n){const s=this.proxy,i=Xt(e)?e.includes(".")?wf(s,e):()=>s[e]:e.bind(s,s);let r;st(t)?r=t:(r=t.handler,n=t);const o=ar(this),a=vf(i,r.bind(s),n);return o(),a}function wf(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Cb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Be(t)}Modifiers`]||e[`${vs(t)}Modifiers`];function Ab(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||kt;let i=n;const r=t.startsWith("update:"),o=r&&Cb(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>Xt(u)?u.trim():u)),o.number&&(i=n.map(Ma)));let a,l=s[a=Ho(t)]||s[a=Ho(Be(t))];!l&&r&&(l=s[a=Ho(vs(t))]),l&&cn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,cn(c,e,6,i)}}const Mb=new WeakMap;function xf(e,t,n=!1){const s=n?Mb:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!st(e)){const l=c=>{const u=xf(c,t,!0);u&&(a=!0,de(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Rt(e)&&s.set(e,null),null):(Q(r)?r.forEach(l=>o[l]=null):de(o,r),Rt(e)&&s.set(e,o),o)}function To(e,t){return!e||!yo(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,vs(t))||bt(e,t))}function jc(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:p}=e,m=Xr(e);let b,y;try{if(n.shapeFlag&4){const x=i||s,S=x;b=sn(c.call(S,x,u,h,f,d,g)),y=a}else{const x=t;b=sn(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=t.props?a:Rb(a)}}catch(x){Di.length=0,Eo(x,e,1),b=q(Tn)}let w=b;if(y&&p!==!1){const x=Object.keys(y),{shapeFlag:S}=w;x.length&&S&7&&(r&&x.some(wl)&&(y=Db(y,r)),w=Ks(w,y,!1,!0))}return n.dirs&&(w=Ks(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Dl(w,n.transition),b=w,Xr(m),b}const Rb=e=>{let t;for(const n in e)(n==="class"||n==="style"||yo(n))&&((t||(t={}))[n]=e[n]);return t},Db=(e,t)=>{const n={};for(const s in e)(!wl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Ib(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Nc(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!To(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Nc(s,o,c):!0:!!o;return!1}function Nc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!To(n,r))return!0}return!1}function Lb({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const kf=e=>e.__isSuspense;function jb(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):zm(e)}const At=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),Tn=Symbol.for("v-cmt"),Xo=Symbol.for("v-stc"),Di=[];let je=null;function V(e=!1){Di.push(je=e?null:[])}function Nb(){Di.pop(),je=Di[Di.length-1]||null}let qi=1;function to(e,t=!1){qi+=e,e<0&&je&&t&&(je.hasOnce=!0)}function Sf(e){return e.dynamicChildren=qi>0?je||Bs:null,Nb(),qi>0&&je&&je.push(e),e}function at(e,t,n,s,i,r){return Sf(M(e,t,n,s,i,r,!0))}function Wt(e,t,n,s,i){return Sf(q(e,t,n,s,i,!0))}function Yi(e){return e?e.__v_isVNode===!0:!1}function ui(e,t){return e.type===t.type&&e.key===t.key}const Ef=({key:e})=>e??null,Hr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Xt(e)||he(e)||st(e)?{i:ie,r:e,k:t,f:!!n}:e:null);function M(e,t=null,n=null,s=0,i=null,r=e===At?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ef(t),ref:t&&Hr(t),scopeId:Qd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ie};return a?($l(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=Xt(n)?8:16),qi>0&&!o&&je&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&je.push(l),l}const q=$b;function $b(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===ob)&&(e=Tn),Yi(e)){const a=Ks(e,t,!0);return n&&$l(a,n),qi>0&&!r&&je&&(a.shapeFlag&6?je[je.indexOf(e)]=a:je.push(a)),a.patchFlag=-2,a}if(Jb(e)&&(e=e.__vccOpts),t){t=Fb(t);let{class:a,style:l}=t;a&&!Xt(a)&&(t.class=Ye(a)),Rt(l)&&(Ml(l)&&!Q(l)&&(l=de({},l)),t.style=Sl(l))}const o=Xt(e)?1:kf(e)?128:Ym(e)?64:Rt(e)?4:st(e)?2:0;return M(e,t,n,s,i,o,r,!0)}function Fb(e){return e?Ml(e)||df(e)?de({},e):e:null}function Ks(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?Bb(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ef(c),ref:t&&t.ref?n&&r?Q(r)?r.concat(Hr(t)):[r,Hr(t)]:Hr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==At?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ks(e.ssContent),ssFallback:e.ssFallback&&Ks(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Dl(u,l.clone(u)),u}function zt(e=" ",t=0){return q(Po,null,e,t)}function Ct(e="",t=!1){return t?(V(),Wt(Tn,null,e)):q(Tn,null,e)}function sn(e){return e==null||typeof e=="boolean"?q(Tn):Q(e)?q(At,null,e.slice()):Yi(e)?Nn(e):q(Po,null,String(e))}function Nn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ks(e)}function $l(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),$l(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!df(t)?t._ctx=ie:i===3&&ie&&(ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else st(t)?(t={default:t,_ctx:ie},n=32):(t=String(t),s&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bb(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Ye([t.class,s.class]));else if(i==="style")t.style=Sl([t.style,s.style]);else if(yo(i)){const r=t[i],o=s[i];o&&r!==o&&!(Q(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Ze(e,t,n,s=null){cn(e,t,7,[n,s])}const Wb=cf();let Vb=0;function Ub(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Wb,r={uid:Vb++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gf(s,i),emitsOptions:xf(s,i),emit:null,emitted:null,propsDefaults:kt,inheritAttrs:s.inheritAttrs,ctx:kt,data:kt,props:kt,attrs:kt,slots:kt,refs:kt,setupState:kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ab.bind(null,r),e.ce&&e.ce(r),r}let ce=null;const Hb=()=>ce||ie;let eo,Wa;{const e=xo(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};eo=t("__VUE_INSTANCE_SETTERS__",n=>ce=n),Wa=t("__VUE_SSR_SETTERS__",n=>Ki=n)}const ar=e=>{const t=ce;return eo(e),e.scope.on(),()=>{e.scope.off(),eo(t)}},$c=()=>{ce&&ce.scope.off(),eo(null)};function Of(e){return e.vnode.shapeFlag&4}let Ki=!1;function zb(e,t=!1,n=!1){t&&Wa(t);const{props:s,children:i}=e.vnode,r=Of(e);mb(e,s,r,t),vb(e,i,n||t);const o=r?qb(e,t):void 0;return t&&Wa(!1),o}function qb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,lb);const{setup:s}=n;if(s){En();const i=e.setupContext=s.length>1?Kb(e):null,r=ar(e),o=or(s,e,0,[e.props,i]),a=kd(o);if(On(),r(),(a||e.sp)&&!Hs(e)&&Zd(e),a){if(o.then($c,$c),t)return o.then(l=>{Fc(e,l)}).catch(l=>{Eo(l,e,0)});e.asyncDep=o}else Fc(e,o)}else Tf(e)}function Fc(e,t,n){st(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)&&(e.setupState=qd(t)),Tf(e)}function Tf(e,t,n){const s=e.type;e.render||(e.render=s.render||an);{const i=ar(e);En();try{cb(e)}finally{On(),i()}}}const Yb={get(e,t){return le(e,"get",""),e[t]}};function Kb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Yb),slots:e.slots,emit:e.emit,expose:t}}function Co(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(qd(Lm(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ri)return Ri[n](e)},has(t,n){return n in t||n in Ri}})):e.proxy}function Gb(e,t=!0){return st(e)?e.displayName||e.name:e.name||t&&e.__name}function Jb(e){return st(e)&&"__vccOpts"in e}const Re=(e,t)=>Bm(e,t,Ki);function Pf(e,t,n){try{to(-1);const s=arguments.length;return s===2?Rt(t)&&!Q(t)?Yi(t)?q(e,null,[t]):q(e,t):q(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Yi(n)&&(n=[n]),q(e,t,n))}finally{to(1)}}const Xb="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Va;const Bc=typeof window<"u"&&window.trustedTypes;if(Bc)try{Va=Bc.createPolicy("vue",{createHTML:e=>e})}catch{}const Cf=Va?e=>Va.createHTML(e):e=>e,Qb="http://www.w3.org/2000/svg",Zb="http://www.w3.org/1998/Math/MathML",mn=typeof document<"u"?document:null,Wc=mn&&mn.createElement("template"),ty={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?mn.createElementNS(Qb,e):t==="mathml"?mn.createElementNS(Zb,e):n?mn.createElement(e,{is:n}):mn.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>mn.createTextNode(e),createComment:e=>mn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Wc.innerHTML=Cf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Wc.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ey=Symbol("_vtc");function ny(e,t,n){const s=e[ey];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Vc=Symbol("_vod"),sy=Symbol("_vsh"),iy=Symbol(""),ry=/(?:^|;)\s*display\s*:/;function oy(e,t,n){const s=e.style,i=Xt(n);let r=!1;if(n&&!i){if(t)if(Xt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&zr(s,a,"")}else for(const o in t)n[o]==null&&zr(s,o,"");for(const o in n)o==="display"&&(r=!0),zr(s,o,n[o])}else if(i){if(t!==n){const o=s[iy];o&&(n+=";"+o),s.cssText=n,r=ry.test(n)}}else t&&e.removeAttribute("style");Vc in e&&(e[Vc]=r?s.display:"",e[sy]&&(s.display="none"))}const Uc=/\s*!important$/;function zr(e,t,n){if(Q(n))n.forEach(s=>zr(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=ay(e,t);Uc.test(n)?e.setProperty(vs(s),n.replace(Uc,""),"important"):e[s]=n}}const Hc=["Webkit","Moz","ms"],Qo={};function ay(e,t){const n=Qo[t];if(n)return n;let s=Be(t);if(s!=="filter"&&s in e)return Qo[t]=s;s=wo(s);for(let i=0;i<Hc.length;i++){const r=Hc[i]+s;if(r in e)return Qo[t]=r}return t}const zc="http://www.w3.org/1999/xlink";function qc(e,t,n,s,i,r=gm(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zc,t.slice(6,t.length)):e.setAttributeNS(zc,t,n):n==null||r&&!Td(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Cn(n)?String(n):n)}function Yc(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Cf(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Td(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function js(e,t,n,s){e.addEventListener(t,n,s)}function ly(e,t,n,s){e.removeEventListener(t,n,s)}const Kc=Symbol("_vei");function cy(e,t,n,s,i=null){const r=e[Kc]||(e[Kc]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=uy(t);if(s){const c=r[t]=fy(s,i);js(e,a,c,l)}else o&&(ly(e,a,o,l),r[t]=void 0)}}const Gc=/(?:Once|Passive|Capture)$/;function uy(e){let t;if(Gc.test(e)){t={};let s;for(;s=e.match(Gc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vs(e.slice(2)),t]}let Zo=0;const hy=Promise.resolve(),dy=()=>Zo||(hy.then(()=>Zo=0),Zo=Date.now());function fy(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;cn(gy(s,n.value),t,5,[s])};return n.value=e,n.attached=dy(),n}function gy(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Jc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,py=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?ny(e,s,o):t==="style"?oy(e,n,s):yo(t)?wl(t)||cy(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):my(e,t,s,o))?(Yc(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qc(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xt(s))?Yc(e,Be(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),qc(e,t,s,o))};function my(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jc(t)&&st(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jc(t)&&Xt(n)?!1:t in e}const Xc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?n=>Wr(t,n):t};function by(e){e.target.composing=!0}function Qc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ta=Symbol("_assign"),ve={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[ta]=Xc(i);const r=s||i.props&&i.props.type==="number";js(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Ma(a)),e[ta](a)}),n&&js(e,"change",()=>{e.value=e.value.trim()}),t||(js(e,"compositionstart",by),js(e,"compositionend",Qc),js(e,"change",Qc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[ta]=Xc(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ma(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},yy=de({patchProp:py},ty);let Zc;function _y(){return Zc||(Zc=xb(yy))}const vy=((...e)=>{const t=_y().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=xy(s);if(!i)return;const r=t._component;!st(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,wy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function wy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function xy(e){return Xt(e)?document.querySelector(e):e}var Ua=function(e,t){return Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Ua(e,t)};function Af(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ua(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var no=function(){return no=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)};function si(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Mf(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function Rf(e,t){return function(n,s){t(n,s,e)}}function Df(e,t,n,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?s.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=n.length-1;f>=0;f--){var g={};for(var p in s)g[p]=p==="access"?{}:s[p];for(var p in s.access)g.access[p]=s.access[p];g.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function If(e,t,n){for(var s=arguments.length>2,i=0;i<t.length;i++)n=s?t[i].call(e,n):t[i].call(e);return s?n:void 0}function Lf(e){return typeof e=="symbol"?e:"".concat(e)}function jf(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Nf(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function W(e,t,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})}function $f(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ao=Object.create?(function(e,t,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}):(function(e,t,n,s){s===void 0&&(s=n),e[s]=t[n]});function Ff(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ao(t,e,n)}function so(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),i,r=[],o;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}function Bf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fl(arguments[t]));return e}function Wf(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function Vf(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,r;s<i;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Gs(e){return this instanceof Gs?(this.v=e,this):new Gs(e)}function Uf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(g){return Promise.resolve(g).then(f,h)}}function a(f,g){s[f]&&(i[f]=function(p){return new Promise(function(m,b){r.push([f,p,m,b])>1||l(f,p)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(s[f](g))}catch(p){d(r[0][3],p)}}function c(f){f.value instanceof Gs?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,g){f(g),r.shift(),r.length&&l(r[0][0],r[0][1])}}function Hf(e){var t,n;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,r){t[i]=e[i]?function(o){return(n=!n)?{value:Gs(e[i](o)),done:!1}:r?r(o):o}:r}}function zf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof so=="function"?so(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(r){n[r]=e[r]&&function(o){return new Promise(function(a,l){o=e[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function qf(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ky=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ha=function(e){return Ha=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},Ha(e)};function Yf(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ha(e),s=0;s<n.length;s++)n[s]!=="default"&&Ao(t,e,n[s]);return ky(t,e),t}function Kf(e){return e&&e.__esModule?e:{default:e}}function Gf(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)}function Jf(e,t,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function Xf(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Qf(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:s,async:n})}else n&&e.stack.push({async:!0});return t}var Sy=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var s=new Error(n);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function Zf(e){function t(r){e.error=e.hasError?new Sy(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,s=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&s===1)return s=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(r).then(i,function(o){return t(o),i()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function tg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,r,o){return s?t?".jsx":".js":i&&(!r||!o)?n:i+r+"."+o.toLowerCase()+"js"}):e}const Ey={__extends:Af,__assign:no,__rest:si,__decorate:Mf,__param:Rf,__esDecorate:Df,__runInitializers:If,__propKey:Lf,__setFunctionName:jf,__metadata:Nf,__awaiter:W,__generator:$f,__createBinding:Ao,__exportStar:Ff,__values:so,__read:Fl,__spread:Bf,__spreadArrays:Wf,__spreadArray:Vf,__await:Gs,__asyncGenerator:Uf,__asyncDelegator:Hf,__asyncValues:zf,__makeTemplateObject:qf,__importStar:Yf,__importDefault:Kf,__classPrivateFieldGet:Gf,__classPrivateFieldSet:Jf,__classPrivateFieldIn:Xf,__addDisposableResource:Qf,__disposeResources:Zf,__rewriteRelativeImportExtension:tg},Oy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Qf,get __assign(){return no},__asyncDelegator:Hf,__asyncGenerator:Uf,__asyncValues:zf,__await:Gs,__awaiter:W,__classPrivateFieldGet:Gf,__classPrivateFieldIn:Xf,__classPrivateFieldSet:Jf,__createBinding:Ao,__decorate:Mf,__disposeResources:Zf,__esDecorate:Df,__exportStar:Ff,__extends:Af,__generator:$f,__importDefault:Kf,__importStar:Yf,__makeTemplateObject:qf,__metadata:Nf,__param:Rf,__propKey:Lf,__read:Fl,__rest:si,__rewriteRelativeImportExtension:tg,__runInitializers:If,__setFunctionName:jf,__spread:Bf,__spreadArray:Vf,__spreadArrays:Wf,__values:so,default:Ey},Symbol.toStringTag,{value:"Module"})),Ty="modulepreload",Py=function(e){return"/paperWeight/dist/"+e},tu={},ii=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=Py(u),u in tu)return;tu[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Ty,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Bl extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class eu extends Bl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nu extends Bl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class su extends Bl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var za;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(za||(za={}));class Ay{constructor(t,{headers:n={},customFetch:s,region:i=za.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Cy(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return W(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new eu(b)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new nu(f);if(!f.ok)throw new su(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"||p==="application/pdf"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new eu(r)}:{data:null,error:r,response:r instanceof su||r instanceof nu?r.context:void 0}}})}}function My(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eg(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var re={};const ri=eg(Oy);var yr={},_r={},vr={},wr={},xr={},Ry=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=Ry();const Dy=Js.fetch,ng=Js.fetch.bind(Js),sg=Js.Headers,Iy=Js.Request,Ly=Js.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:sg,Request:Iy,Response:Ly,default:ng,fetch:Dy},Symbol.toStringTag,{value:"Module"})),jy=eg(xs);var kr={},iu;function ig(){if(iu)return kr;iu=1,Object.defineProperty(kr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return kr.default=e,kr}var ru;function rg(){if(ru)return xr;ru=1,Object.defineProperty(xr,"__esModule",{value:!0});const e=ri,t=e.__importDefault(jy),n=e.__importDefault(ig());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let g=null,p=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=E:p=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{g=JSON.parse(x),Array.isArray(g)&&c.status===404&&(p=[],g=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):g={message:x}}if(g&&this.isMaybeSingle&&(!((f=g?.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,b=200,y="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:p,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return xr.default=s,xr}var ou;function og(){if(ou)return wr;ou=1,Object.defineProperty(wr,"__esModule",{value:!0});const t=ri.__importDefault(rg());class n extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return wr.default=n,wr}var au;function Wl(){if(au)return vr;au=1,Object.defineProperty(vr,"__esModule",{value:!0});const t=ri.__importDefault(og());class n extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return vr.default=n,vr}var lu;function ag(){if(lu)return _r;lu=1,Object.defineProperty(_r,"__esModule",{value:!0});const t=ri.__importDefault(Wl());class n{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return _r.default=n,_r}var cu;function Ny(){if(cu)return yr;cu=1,Object.defineProperty(yr,"__esModule",{value:!0});const e=ri,t=e.__importDefault(ag()),n=e.__importDefault(Wl());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{d.searchParams.append(p,m)})):(h="POST",f=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:h,url:d,headers:g,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return yr.default=s,yr}var uu;function $y(){if(uu)return re;uu=1,Object.defineProperty(re,"__esModule",{value:!0}),re.PostgrestError=re.PostgrestBuilder=re.PostgrestTransformBuilder=re.PostgrestFilterBuilder=re.PostgrestQueryBuilder=re.PostgrestClient=void 0;const e=ri,t=e.__importDefault(Ny());re.PostgrestClient=t.default;const n=e.__importDefault(ag());re.PostgrestQueryBuilder=n.default;const s=e.__importDefault(Wl());re.PostgrestFilterBuilder=s.default;const i=e.__importDefault(og());re.PostgrestTransformBuilder=i.default;const r=e.__importDefault(rg());re.PostgrestBuilder=r.default;const o=e.__importDefault(ig());return re.PostgrestError=o.default,re.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},re}var Fy=$y();const By=My(Fy),{PostgrestClient:Wy,PostgrestQueryBuilder:nA,PostgrestFilterBuilder:sA,PostgrestTransformBuilder:iA,PostgrestBuilder:rA,PostgrestError:oA}=By;class Vy{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Uy="2.76.1",Hy=`realtime-js/${Uy}`,zy="1.0.0",qa=1e4,qy=1e3,Yy=100;var Ii;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ii||(Ii={}));var te;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(te||(te={}));var Ue;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ue||(Ue={}));var Ya;(function(e){e.websocket="websocket"})(Ya||(Ya={}));var hs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hs||(hs={}));class Ky{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+i));o=o+i;const l=s.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class lg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ot||(Ot={}));const hu=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((r,o)=>(r[o]=Gy(o,e,t,i),r),{}):{}},Gy=(e,t,n,s)=>{const i=t.find(a=>a.name===e),r=i?.type,o=n[e];return r&&!s.includes(r)?cg(r,o):Ka(o)},cg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Zy(t,n)}switch(e){case Ot.bool:return Jy(t);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return Xy(t);case Ot.json:case Ot.jsonb:return Qy(t);case Ot.timestamp:return t_(t);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return Ka(t);default:return Ka(t)}},Ka=e=>e,Jy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zy=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>cg(t,a))}return e},t_=e=>typeof e=="string"?e.replace(" ","T"):e,ug=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ea{constructor(t,n,s={},i=qa){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var du;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(du||(du={}));class Li{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Li.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Li.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const r=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),p=h.filter(m=>d.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(t,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fu||(fu={}));var ji;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ji||(ji={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class Vl{constructor(t,n={config:{}},s){var i,r;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ea(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Li(this),this.broadcastEndpointURL=ug(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(bn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t?.(bn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p?.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<m;y++){const w=p[y],{filter:{event:x,schema:S,table:E,filter:O}}=w,R=f&&f[y];if(R&&R.event===x&&R.schema===S&&R.table===E&&R.filter===O)b.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=te.errored,t?.(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(bn.SUBSCRIBED);return}}).receive("error",f=>{this.state=te.errored,t?.(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===te.joined&&t===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new ea(this,Ue.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ea(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Yy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ue;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,p,m,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return x&&((p=n.ids)===null||p===void 0?void 0:p.includes(x))&&(S==="*"||S?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:p,table:m,commit_timestamp:b,type:y,errors:w}=g;d=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(d,s)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Vl.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ue.close,{},t)}_onError(t){this._on(Ue.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hu(t.columns,t.old_record)),n}}const na=()=>{},Sr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e_=[1e3,2e3,5e3,1e4],n_=1e4,s_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i_{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qa,this.transport=null,this.heartbeatIntervalMs=Sr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=na,this.ref=0,this.reconnectTimer=null,this.logger=na,this.conn=null,this.sendBuffer=[],this.serializer=new Ky,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>ii(async()=>{const{default:a}=await Promise.resolve().then(()=>xs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ya.websocket}`,this.httpEndpoint=ug(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zy}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ii.connecting:return hs.Connecting;case Ii.open:return hs.Open;case Ii.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new Vl(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:s,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ue.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([s_],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Hy};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ue.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,r,o,a,l,c,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:qa,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Sr.HEARTBEAT_INTERVAL,this.worker=(r=t?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:na,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>e_[h-1]||n_),this.encode=(c=t?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Ul extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class r_ extends Ul{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ga extends Ul{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Hl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},o_=()=>W(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ii(()=>Promise.resolve().then(()=>xs),void 0)).Response:Response}),Ja=e=>{if(Array.isArray(e))return e.map(n=>Ja(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=Ja(s)}),t},a_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l_=(e,t,n)=>W(void 0,void 0,void 0,function*(){const s=yield o_();e instanceof s&&!n?.noResolveJson?e.json().then(i=>{const r=e.status||500,o=i?.statusCode||r+"";t(new r_(sa(i),r,o))}).catch(i=>{t(new Ga(sa(i),i))}):t(new Ga(sa(e),e))}),c_=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:(a_(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function lr(e,t,n,s,i,r){return W(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,c_(t,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>l_(l,a,s))})})}function Gi(e,t,n,s){return W(this,void 0,void 0,function*(){return lr(e,"GET",t,n,s)})}function Ve(e,t,n,s,i){return W(this,void 0,void 0,function*(){return lr(e,"POST",t,s,i,n)})}function Xa(e,t,n,s,i){return W(this,void 0,void 0,function*(){return lr(e,"PUT",t,s,i,n)})}function u_(e,t,n,s){return W(this,void 0,void 0,function*(){return lr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function zl(e,t,n,s,i){return W(this,void 0,void 0,function*(){return lr(e,"DELETE",t,s,i,n)})}class h_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var hg;class d_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[hg]="BlobDownloadBuilder",this.promise=null}asStream(){return new h_(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}hg=Symbol.toStringTag;const f_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g_{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=Hl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return W(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},gu),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(t=="PUT"?Xa:Ve)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}upload(t,n,s){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return W(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:gu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Xa(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return W(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const r=yield Ve(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Ul("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}update(t,n,s){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return W(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield Ve(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return W(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield Ve(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return W(this,void 0,void 0,function*(){try{const i=yield Ve(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(t),l=()=>Gi(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new d_(l,this.shouldThrowOnError)}info(t){return W(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Gi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ja(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}exists(t){return W(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield u_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s)&&s instanceof Ga){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],r=n?.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(t){return W(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,s){return W(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},f_),n),{prefix:t||""});return{data:yield Ve(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return W(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Ve(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dg="2.76.1",fg={"X-Client-Info":`storage-js/${dg}`};class p_{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fg),n),this.fetch=Hl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return W(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t){return W(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Ve(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return W(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}}class m_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fg),n),this.fetch=Hl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}listBuckets(t){return W(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield Gi(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}}const ql={"X-Client-Info":`storage-js/${dg}`,"Content-Type":"application/json"};class gg extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function De(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ia extends gg{constructor(t,n,s){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class b_ extends gg{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var pu;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pu||(pu={}));const Yl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},y_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),__=(e,t,n)=>W(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new ia(mu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ia(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ia(a,i,o))}}else t(new b_(mu(e),e))}),v_=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return s?(y_(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function w_(e,t,n,s,i,r){return W(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,v_(t,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>__(l,a,s))})})}function Ie(e,t,n,s,i){return W(this,void 0,void 0,function*(){return w_(e,"POST",t,s,i,n)})}class x_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ql),n),this.fetch=Yl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return W(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}getIndex(t,n){return W(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}listIndexes(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return W(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}}class k_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ql),n),this.fetch=Yl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return W(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ie(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}getVectors(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}listVectors(t){return W(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ie(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}queryVectors(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}deleteVectors(t){return W(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ie(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}}class S_{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ql),n),this.fetch=Yl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return W(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}getBucket(t){return W(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}listBuckets(){return W(this,arguments,void 0,function*(t={}){try{return{data:yield Ie(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}deleteBucket(t){return W(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}}class E_ extends S_{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new O_(this.url,this.headers,t,this.fetch)}}class O_ extends x_{constructor(t,n,s,i){super(t,n,i),this.vectorBucketName=s}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new T_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class T_ extends k_{constructor(t,n,s,i,r){super(t,n,r),this.vectorBucketName=s,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P_ extends p_{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new g_(this.url,this.headers,t,this.fetch)}get vectors(){return new E_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m_(this.url+"/iceberg",this.headers,this.fetch)}}const C_="2.76.1";let ki="";typeof Deno<"u"?ki="deno":typeof document<"u"?ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ki="react-native":ki="node";const A_={"X-Client-Info":`supabase-js-${ki}/${C_}`},M_={headers:A_},R_={schema:"public"},D_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I_={},L_=e=>{let t;return e?t=e:typeof fetch>"u"?t=ng:t=fetch,(...n)=>t(...n)},j_=()=>typeof Headers>"u"?sg:Headers,N_=(e,t,n)=>{const s=L_(n),i=j_();return async(r,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function $_(e){return e.endsWith("/")?e:e+"/"}function F_(e,t){var n,s;const{db:i,auth:r,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function B_(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pg="2.76.1",Ns=30*1e3,Qa=3,ra=Qa*Ns,W_="http://localhost:9999",V_="supabase.auth.token",U_={"X-Client-Info":`gotrue-js/${pg}`},Za="X-Supabase-Api-Version",mg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z_=600*1e3;class Ji extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q_ extends Ji{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Y_(e){return z(e)&&e.name==="AuthApiError"}class ds extends Ji{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gn extends Ji{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Ln extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K_(e){return z(e)&&e.name==="AuthSessionMissingError"}class Ts extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Er extends Gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Or extends Gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G_(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class bu extends Gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tl extends Gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function oa(e){return z(e)&&e.name==="AuthRetryableFetchError"}class yu extends Gn{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class el extends Gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_u=` 	
\r=`.split(""),J_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_u.length;t+=1)e[_u[t].charCodeAt(0)]=-2;for(let t=0;t<io.length;t+=1)e[io[t].charCodeAt(0)]=t;return e})();function vu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(io[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(io[s]),t.queuedBits-=6}}function bg(e,t,n){const s=J_[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{Z_(o,s,n)};for(let o=0;o<e.length;o+=1)bg(e.charCodeAt(o),i,r);return t.join("")}function X_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Q_(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}X_(s,t)}}function Z_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qs(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bg(e.charCodeAt(i),n,s);return new Uint8Array(t)}function t0(e){const t=[];return Q_(e,n=>t.push(n)),new Uint8Array(t)}function fs(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>vu(i,n,s)),vu(null,n,s),t.join("")}function e0(e){return Math.round(Date.now()/1e3)+e}function n0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ae=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},yg=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function s0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const _g=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xs);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},i0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$s=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},es=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rn=async(e,t)=>{await e.removeItem(t)};class Mo{constructor(){this.promise=new Mo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mo.promiseConstructor=Promise;function aa(e){const t=e.split(".");if(t.length!==3)throw new el("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!H_.test(t[s]))throw new el("JWT not in base64url format");return{header:JSON.parse(wu(t[0])),payload:JSON.parse(wu(t[1])),signature:qs(t[2]),raw:{header:t[0],payload:t[1]}}}async function r0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o0(e,t){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await e(r);if(!t(r,null,o)){s(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function a0(e){return("0"+e.toString(16)).substr(-2)}function l0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,a0).join("")}async function c0(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function u0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await c0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ps(e,t,n=!1){const s=l0();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await $s(e,`${t}-code-verifier`,i);const r=await u0(s);return[r,s===r?"plain":"s256"]}const h0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d0(e){const t=e.headers.get(Za);if(!t||!t.match(h0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function f0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(e){if(!p0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function la(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xu(e){return JSON.parse(JSON.stringify(e))}const as=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m0=[502,503,504];async function ku(e){var t;if(!i0(e))throw new tl(as(e),0);if(m0.includes(e.status))throw new tl(as(e),e.status);let n;try{n=await e.json()}catch(r){throw new ds(as(r),r)}let s;const i=d0(e);if(i&&i.getTime()>=mg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new yu(as(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new yu(as(n),e.status,n.weak_password.reasons);throw new q_(as(n),e.status||500,s)}const b0=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Z(e,t,n,s){var i;const r=Object.assign({},s?.headers);r[Za]||(r[Za]=mg["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await y0(e,t,n+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function y0(e,t,n,s,i,r){const o=b0(t,s,i,r);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new tl(as(l),0)}if(a.ok||await ku(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await ku(l)}}function We(e){var t;let n=null;w0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=e0(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Su(e){const t=We(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _0(e){return{data:e,error:null}}function v0(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=e,o=si(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Eu(e){return e}function w0(e){return e.access_token&&e.refresh_token&&e.expires_in}const ca=["global","local","others"];class x0{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=_g(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ca[0]){if(ca.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ca.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fn})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=si(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v0,redirectTo:n?.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Eu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Cs(t);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cs(t);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fn})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Cs(t);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fn})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Cs(t.userId);try{const{data:n,error:s}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cs(t.userId),Cs(t.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Eu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(z(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}}function Ou(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const As={debug:!!(globalThis&&yg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class k0 extends vg{}async function S0(e,t,n){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new k0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(As.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function E0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function O0(e){return parseInt(e,16)}function T0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function P0(e){var t;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=wg(e.address),g=u?`${u}://${s}`:s,p=e.statement?`${e.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${m}
${b}`}class Jt extends Error{constructor({message:t,code:n,cause:s,name:i}){var r;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class ro extends Jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function C0({error:e,options:t}){var n,s,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(xg(o)){if(r.rp.id!==o)return new Jt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function A0({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(xg(s)){if(n.rpId!==s)return new Jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class M0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const R0=new M0;function D0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,i=si(e,["challenge","user","excludeCredentials"]),r=qs(t).buffer,o=Object.assign(Object.assign({},n),{id:qs(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:qs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function I0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=si(e,["challenge","allowCredentials"]),i=qs(t).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:qs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function L0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fs(new Uint8Array(i.authenticatorData)),clientDataJSON:fs(new Uint8Array(i.clientDataJSON)),signature:fs(new Uint8Array(i.signature)),userHandle:i.userHandle?fs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tu(){var e,t;return!!(Ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function N0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ro("Browser returned unexpected credential type",t)}:{data:null,error:new ro("Empty credential response",t)}}catch(t){return{data:null,error:C0({error:t,options:e})}}}async function $0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ro("Browser returned unexpected credential type",t)}:{data:null,error:new ro("Empty credential response",t)}}catch(t){return{data:null,error:A0({error:t,options:e})}}}const F0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},B0={userVerification:"preferred",hints:["security-key"]};function oo(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of e)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(n(o))s[r]=o;else if(t(o)){const a=s[r];t(a)?s[r]=oo(a,o):s[r]=oo(o)}else s[r]=o}return s}function W0(e,t){return oo(F0,e,t||{})}function V0(e,t){return oo(B0,e,t||{})}class U0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??R0.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=W0(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await N0({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=V0(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await $0(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new ds("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!n)return{data:null,error:new Ji("rpId is required for WebAuthn authentication")};try{if(!Tu())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new ds("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!n)return{data:null,error:new Ji("rpId is required for WebAuthn registration")};try{if(!Tu())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new ds("Unexpected error in register",o)}}}}E0();const H0={url:W_,storageKey:V_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pu(e,t,n){return await n()}const Ms={};class Xi{get jwks(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:t})}constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xi.nextInstanceID,Xi.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},H0),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new x0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_g(i.fetch),this.lock=i.lock||Pu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ae()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=S0:this.lock=Pu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U0(this)},this.persistSession?(i.storage?this.storage=i.storage:yg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ou(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ou(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=s0(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ae()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),G_(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new ds("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const r=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:We}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,s,i;try{let r;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ps(this.storage,this.storageKey)),r=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},xform:We})}else if("phone"in t){const{phone:u,password:h,options:d}=t;r=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:We})}else throw new Er("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:o,options:a}=t;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Su})}else if("phone"in t){const{phone:r,password:o,options:a}=t;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Su})}else throw new Er("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ts}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,i,r,o,a,l,c,u,h,d;let f,g;if("message"in t)f=t.message,g=t.signature;else{const{chain:p,wallet:m,statement:b,options:y}=t;let w;if(Ae())if(typeof m=="object")w=m;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const x=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=wg(S[0]);let O=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!O){const N=await w.request({method:"eth_chainId"});O=O0(N)}const R={domain:x.host,address:E,statement:b,uri:x.href,version:"1",chainId:O,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=P0(R),g=await w.request({method:"personal_sign",params:[T0(f),E]})}try{const{data:p,error:m}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:We});if(m)throw m;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ts}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:m})}catch(p){if(z(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var n,s,i,r,o,a,l,c,u,h,d,f;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:m,wallet:b,statement:y,options:w}=t;let x;if(Ae())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const S=new URL((n=w?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)g=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),p=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(s=w?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=w?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:m,error:b}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:fs(p)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:We});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ts}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(z(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const n=await es(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:We});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Ts}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(z(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=t,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:We}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ts}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ps(this.storage,this.storageKey));const{error:h}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Er("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:We});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ps(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:_0})}catch(r){if(z(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Ln;const{error:i}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:r}=t,{error:o}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:r}=t,{data:o,error:a}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Er("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ra:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await es(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=la()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ln}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Fn})})}catch(n){if(z(n))return K_(n)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Ln;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ps(this.storage,this.storageKey));const{data:c,error:u}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ln;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=aa(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Ln;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ae())throw new Or("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Or(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Or("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bu("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new Or("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,u);const{data:p,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(z(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Y_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=n0(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ps(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(z(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ae()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(z(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:We}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ts}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await o0(async i=>(i>0&&await r0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:We})),(i,r)=>{const o=200*Math.pow(2,i);return r&&oa(r)&&Date.now()+o-s<Ns})}catch(s){if(this._debug(n,"error",s),z(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ae()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await es(this.storage,this.storageKey);if(i&&this.userStorage){let o=await es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await $s(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:la()}else if(i&&!i.user&&!i.user){const o=await es(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Rn(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,i)):i.user=la()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ra;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${ra}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),oa(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mo;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Ln;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),z(r)){const o={data:null,error:r};return oa(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await $s(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=xu(i);await $s(this.storage,this.storageKey,r)}else{const i=xu(n);await $s(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ae()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ns}ms, refresh threshold is ${Qa} ticks`),i<=Qa&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ps(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?L0(t.webauthn.credential_response):j0(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:D0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:I0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=aa(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(a=>a.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+z_>i)return s;const{data:r,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=aa(s);n?.allowExpired||f0(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=g0(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,t0(`${a}.${l}`)))throw new el("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}}Xi.nextInstanceID=0;const z0=Xi;class q0 extends z0{constructor(t){super(t)}}class Y0{constructor(t,n,s){var i,r,o;this.supabaseUrl=t,this.supabaseKey=n;const a=B_(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:R_,realtime:I_,auth:Object.assign(Object.assign({},D_),{storageKey:l}),global:M_},u=F_(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=N_(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Wy(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new P_(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ay(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new i_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K0=(e,t,n)=>new Y0(e,t,n);function G0(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}G0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J0="https://gkyqqlkxpfskmtryfmyp.supabase.co",X0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",Le=K0(J0,X0);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Fs=typeof document<"u";function kg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Q0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&kg(e.default)}const pt=Object.assign;function ua(e,t){const n={};for(const s in t){const i=t[s];n[s]=Ge(i)?i.map(e):e(i)}return n}const Ni=()=>{},Ge=Array.isArray;function Cu(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Sg=/#/g,Z0=/&/g,tv=/\//g,ev=/=/g,nv=/\?/g,Eg=/\+/g,sv=/%5B/g,iv=/%5D/g,Og=/%5E/g,rv=/%60/g,Tg=/%7B/g,ov=/%7C/g,Pg=/%7D/g,av=/%20/g;function Kl(e){return e==null?"":encodeURI(""+e).replace(ov,"|").replace(sv,"[").replace(iv,"]")}function lv(e){return Kl(e).replace(Tg,"{").replace(Pg,"}").replace(Og,"^")}function nl(e){return Kl(e).replace(Eg,"%2B").replace(av,"+").replace(Sg,"%23").replace(Z0,"%26").replace(rv,"`").replace(Tg,"{").replace(Pg,"}").replace(Og,"^")}function cv(e){return nl(e).replace(ev,"%3D")}function uv(e){return Kl(e).replace(Sg,"%23").replace(nv,"%3F")}function hv(e){return uv(e).replace(tv,"%2F")}function Qi(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const dv=/\/$/,fv=e=>e.replace(dv,"");function ha(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),r=t.slice(l,a>0?a:t.length),i=e(r.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=bv(s??t,n),{fullPath:s+r+o,path:s,query:i,hash:Qi(o)}}function gv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Au(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pv(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Xs(t.matched[s],n.matched[i])&&Cg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Xs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Cg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!mv(e[n],t[n]))return!1;return!0}function mv(e,t){return Ge(e)?Mu(e,t):Ge(t)?Mu(t,e):e===t}function Mu(e,t){return Ge(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function bv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let sl=(function(e){return e.pop="pop",e.push="push",e})({}),da=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function yv(e){if(!e)if(Fs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fv(e)}const _v=/^[^#]+#/;function vv(e,t){return e.replace(_v,"#")+t}function wv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ro=()=>({left:window.scrollX,top:window.scrollY});function xv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=wv(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ru(e,t){return(history.state?history.state.position-t:-1)+e}const il=new Map;function kv(e,t){il.set(e,t)}function Sv(e){const t=il.get(e);return il.delete(e),t}function Ev(e){return typeof e=="string"||e&&typeof e=="object"}function Ag(e){return typeof e=="string"||typeof e=="symbol"}let $t=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Mg=Symbol("");$t.MATCHER_NOT_FOUND+"",$t.NAVIGATION_GUARD_REDIRECT+"",$t.NAVIGATION_ABORTED+"",$t.NAVIGATION_CANCELLED+"",$t.NAVIGATION_DUPLICATED+"";function Qs(e,t){return pt(new Error,{type:e,[Mg]:!0},t)}function dn(e,t){return e instanceof Error&&Mg in e&&(t==null||!!(e.type&t))}const Ov=["params","query","hash"];function Tv(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Ov)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Pv(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Eg," "),r=i.indexOf("="),o=Qi(r<0?i:i.slice(0,r)),a=r<0?null:Qi(i.slice(r+1));if(o in t){let l=t[o];Ge(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function Du(e){let t="";for(let n in e){const s=e[n];if(n=cv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ge(s)?s.map(i=>i&&nl(i)):[s&&nl(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Cv(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ge(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const Av=Symbol(""),Iu=Symbol(""),Do=Symbol(""),Gl=Symbol(""),rl=Symbol("");function hi(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function $n(e,t,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Qs($t.NAVIGATION_ABORTED,{from:n,to:t})):d instanceof Error?l(d):Ev(d)?l(Qs($t.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(s&&s.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function fa(e,t,n,s,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(kg(l)){const c=(l.__vccOpts||l)[t];c&&r.push($n(c,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Q0(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&$n(d,n,s,o,a,i)()}))}}return r}function Mv(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Xs(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Xs(c,l))||i.push(l))}return[n,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Rv=()=>location.protocol+"//"+location.host;function Rg(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let o=i.includes(e.slice(r))?e.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Au(a,"")}return Au(n,e)+s+i}function Dv(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=Rg(e,location),g=n.value,p=t.value;let m=0;if(d){if(n.value=f,t.value=d,o&&o===g){o=null;return}m=p?d.position-p.position:0}else s(f);i.forEach(b=>{b(n.value,g,{delta:m,type:sl.pop,direction:m?m>0?da.forward:da.back:da.unknown})})};function l(){o=n.value}function c(d){i.push(d);const f=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(pt({},d.state,{scroll:Ro()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Lu(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?Ro():null}}function Iv(e){const{history:t,location:n}=window,s={value:Rg(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Rv()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){r(l,pt({},t.state,Lu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=pt({},i.value,t.state,{forward:l,scroll:Ro()});r(u.current,u,!0),r(l,pt({},Lu(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function Lv(e){e=yv(e);const t=Iv(e),n=Dv(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=pt({location:"",base:e,go:s,createHref:vv.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function jv(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Lv(e)}let gs=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Zt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Zt||{});const Nv={type:gs.Static,value:""},$v=/[a-zA-Z0-9_]/;function Fv(e){if(!e)return[[]];if(e==="/")return[[Nv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=Zt.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===Zt.Static?r.push({type:gs.Static,value:c}):n===Zt.Param||n===Zt.ParamRegExp||n===Zt.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:gs.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==Zt.ParamRegExp){s=n,n=Zt.EscapeNext;continue}switch(n){case Zt.Static:l==="/"?(c&&h(),o()):l===":"?(h(),n=Zt.Param):d();break;case Zt.EscapeNext:d(),n=s;break;case Zt.Param:l==="("?n=Zt.ParamRegExp:$v.test(l)?d():(h(),n=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Zt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=Zt.ParamRegExpEnd:u+=l;break;case Zt.ParamRegExpEnd:h(),n=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===Zt.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const ju="[^/]+?",Bv={sensitive:!1,strict:!1,start:!0,end:!0};var be=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(be||{});const Wv=/[.+*?^${}()[\]/\\]/g;function Vv(e,t){const n=pt({},Bv,t),s=[];let i=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[be.Root];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=be.Segment+(n.sensitive?be.BonusCaseSensitive:0);if(d.type===gs.Static)h||(i+="/"),i+=d.value.replace(Wv,"\\$&"),f+=be.Static;else if(d.type===gs.Param){const{value:g,repeatable:p,optional:m,regexp:b}=d;r.push({name:g,repeatable:p,optional:m});const y=b||ju;if(y!==ju){f+=be.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+x.message)}}let w=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,f+=be.Dynamic,m&&(f+=be.BonusOptional),p&&(f+=be.BonusRepeatable),y===".*"&&(f+=be.BonusWildcard)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=be.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=r[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===gs.Static)u+=f.value;else if(f.type===gs.Param){const{value:g,repeatable:p,optional:m}=f,b=g in c?c[g]:"";if(Ge(b)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Ge(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function Uv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===be.Static+be.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===be.Static+be.Segment?1:-1:0}function Dg(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=Uv(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Nu(s))return 1;if(Nu(i))return-1}return i.length-s.length}function Nu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Hv={strict:!1,end:!0,sensitive:!1};function zv(e,t,n){const s=Vv(Fv(e.path),n),i=pt(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function qv(e,t){const n=[],s=new Map;t=Cu(Hv,t);function i(h){return s.get(h)}function r(h,d,f){const g=!f,p=Fu(h);p.aliasOf=f&&f.record;const m=Cu(t,h),b=[p];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of x)b.push(Fu(pt({},p,{components:f?f.record.components:p.components,path:S,aliasOf:f?f.record:p})))}let y,w;for(const x of b){const{path:S}=x;if(d&&S[0]!=="/"){const E=d.record.path,O=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(S&&O+S)}if(y=zv(x,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),g&&h.name&&!Bu(y)&&o(h.name)),Ig(y)&&l(y),p.children){const E=p.children;for(let O=0;O<E.length;O++)r(E[O],y,f&&f.children[O])}f=f||y}return w?()=>{o(w)}:Ni}function o(h){if(Ag(h)){const d=s.get(h);d&&(s.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=Gv(h,n);n.splice(d,0,h),h.record.name&&!Bu(h)&&s.set(h.record.name,h)}function c(h,d){let f,g={},p,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw Qs($t.MATCHER_NOT_FOUND,{location:h});m=f.record.name,g=pt($u(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&$u(h.params,f.keys.map(w=>w.name))),p=f.stringify(g)}else if(h.path!=null)p=h.path,f=n.find(w=>w.re.test(p)),f&&(g=f.parse(p),m=f.record.name);else{if(f=d.name?s.get(d.name):n.find(w=>w.re.test(d.path)),!f)throw Qs($t.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,g=pt({},d.params,h.params),p=f.stringify(g)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:p,params:g,matched:b,meta:Kv(b)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function $u(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Fu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Yv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Yv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Bu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Kv(e){return e.reduce((t,n)=>pt(t,n.meta),{})}function Gv(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;Dg(e,t[r])<0?s=r:n=r+1}const i=Jv(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function Jv(e){let t=e;for(;t=t.parent;)if(Ig(t)&&Dg(e,t)===0)return t}function Ig({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Wu(e){const t=qe(Do),n=qe(Gl),s=Re(()=>{const l=Sn(e.to);return t.resolve(l)}),i=Re(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Xs.bind(null,u));if(d>-1)return d;const f=Vu(l[c-2]);return c>1&&Vu(u)===f&&h[h.length-1].path!==f?h.findIndex(Xs.bind(null,l[c-2])):d}),r=Re(()=>i.value>-1&&tw(n.params,s.value.params)),o=Re(()=>i.value>-1&&i.value===n.matched.length-1&&Cg(n.params,s.value.params));function a(l={}){if(Zv(l)){const c=t[Sn(e.replace)?"replace":"push"](Sn(e.to)).catch(Ni);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Re(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function Xv(e){return e.length===1?e[0]:e}const Qv=xt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wu,setup(e,{slots:t}){const n=So(Wu(e)),{options:s}=qe(Do),i=Re(()=>({[Uu(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Uu(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&Xv(t.default(n));return e.custom?r:Pf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Jl=Qv;function Zv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tw(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ge(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Vu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Uu=(e,t,n)=>e??t??n,ew=xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=qe(rl),i=Re(()=>e.route||s.value),r=qe(Iu,0),o=Re(()=>{let c=Sn(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Re(()=>i.value.matched[o.value]);Vr(Iu,Re(()=>o.value+1)),Vr(Av,a),Vr(rl,i);const l=ot();return Ur(()=>[l.value,a.value,e.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Xs(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Hu(n.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Pf(d,pt({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Hu(n.default,{Component:m,route:c})||m}}});function Hu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lg=ew;function nw(e){const t=qv(e.routes,e),n=e.parseQuery||Pv,s=e.stringifyQuery||Du,i=e.history,r=hi(),o=hi(),a=hi(),l=jm(Dn);let c=Dn;Fs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ua.bind(null,C=>""+C),h=ua.bind(null,hv),d=ua.bind(null,Qi);function f(C,B){let $,U;return Ag(C)?($=t.getRecordMatcher(C),U=B):U=C,t.addRoute(U,$)}function g(C){const B=t.getRecordMatcher(C);B&&t.removeRoute(B)}function p(){return t.getRoutes().map(C=>C.record)}function m(C){return!!t.getRecordMatcher(C)}function b(C,B){if(B=pt({},B||l.value),typeof C=="string"){const k=ha(n,C,B.path),P=t.resolve({path:k.path},B),A=i.createHref(k.fullPath);return pt(k,P,{params:d(P.params),hash:Qi(k.hash),redirectedFrom:void 0,href:A})}let $;if(C.path!=null)$=pt({},C,{path:ha(n,C.path,B.path).path});else{const k=pt({},C.params);for(const P in k)k[P]==null&&delete k[P];$=pt({},C,{params:h(k)}),B.params=h(B.params)}const U=t.resolve($,B),ht=C.hash||"";U.params=u(d(U.params));const _=gv(s,pt({},C,{hash:lv(ht),path:U.path})),v=i.createHref(_);return pt({fullPath:_,hash:ht,query:s===Du?Cv(C.query):C.query||{}},U,{redirectedFrom:void 0,href:v})}function y(C){return typeof C=="string"?ha(n,C,l.value.path):pt({},C)}function w(C,B){if(c!==C)return Qs($t.NAVIGATION_CANCELLED,{from:B,to:C})}function x(C){return O(C)}function S(C){return x(pt(y(C),{replace:!0}))}function E(C,B){const $=C.matched[C.matched.length-1];if($&&$.redirect){const{redirect:U}=$;let ht=typeof U=="function"?U(C,B):U;return typeof ht=="string"&&(ht=ht.includes("?")||ht.includes("#")?ht=y(ht):{path:ht},ht.params={}),pt({query:C.query,hash:C.hash,params:ht.path!=null?{}:C.params},ht)}}function O(C,B){const $=c=b(C),U=l.value,ht=C.state,_=C.force,v=C.replace===!0,k=E($,U);if(k)return O(pt(y(k),{state:typeof k=="object"?pt({},ht,k.state):ht,force:_,replace:v}),B||$);const P=$;P.redirectedFrom=B;let A;return!_&&pv(s,U,$)&&(A=Qs($t.NAVIGATION_DUPLICATED,{to:P,from:U}),pe(U,U,!0,!1)),(A?Promise.resolve(A):Y(P,U)).catch(T=>dn(T)?dn(T,$t.NAVIGATION_GUARD_REDIRECT)?T:ge(T):rt(T,P,U)).then(T=>{if(T){if(dn(T,$t.NAVIGATION_GUARD_REDIRECT))return O(pt({replace:v},y(T.to),{state:typeof T.to=="object"?pt({},ht,T.to.state):ht,force:_}),B||P)}else T=it(P,U,!0,v,ht);return J(P,U,T),T})}function R(C,B){const $=w(C,B);return $?Promise.reject($):Promise.resolve()}function N(C){const B=we.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(C):C()}function Y(C,B){let $;const[U,ht,_]=Mv(C,B);$=fa(U.reverse(),"beforeRouteLeave",C,B);for(const k of U)k.leaveGuards.forEach(P=>{$.push($n(P,C,B))});const v=R.bind(null,C,B);return $.push(v),Gt($).then(()=>{$=[];for(const k of r.list())$.push($n(k,C,B));return $.push(v),Gt($)}).then(()=>{$=fa(ht,"beforeRouteUpdate",C,B);for(const k of ht)k.updateGuards.forEach(P=>{$.push($n(P,C,B))});return $.push(v),Gt($)}).then(()=>{$=[];for(const k of _)if(k.beforeEnter)if(Ge(k.beforeEnter))for(const P of k.beforeEnter)$.push($n(P,C,B));else $.push($n(k.beforeEnter,C,B));return $.push(v),Gt($)}).then(()=>(C.matched.forEach(k=>k.enterCallbacks={}),$=fa(_,"beforeRouteEnter",C,B,N),$.push(v),Gt($))).then(()=>{$=[];for(const k of o.list())$.push($n(k,C,B));return $.push(v),Gt($)}).catch(k=>dn(k,$t.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function J(C,B,$){a.list().forEach(U=>N(()=>U(C,B,$)))}function it(C,B,$,U,ht){const _=w(C,B);if(_)return _;const v=B===Dn,k=Fs?history.state:{};$&&(U||v?i.replace(C.fullPath,pt({scroll:v&&k&&k.scroll},ht)):i.push(C.fullPath,ht)),l.value=C,pe(C,B,$,v),ge()}let wt;function Qt(){wt||(wt=i.listen((C,B,$)=>{if(!Te.listening)return;const U=b(C),ht=E(U,Te.currentRoute.value);if(ht){O(pt(ht,{replace:!0,force:!0}),U).catch(Ni);return}c=U;const _=l.value;Fs&&kv(Ru(_.fullPath,$.delta),Ro()),Y(U,_).catch(v=>dn(v,$t.NAVIGATION_ABORTED|$t.NAVIGATION_CANCELLED)?v:dn(v,$t.NAVIGATION_GUARD_REDIRECT)?(O(pt(y(v.to),{force:!0}),U).then(k=>{dn(k,$t.NAVIGATION_ABORTED|$t.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===sl.pop&&i.go(-1,!1)}).catch(Ni),Promise.reject()):($.delta&&i.go(-$.delta,!1),rt(v,U,_))).then(v=>{v=v||it(U,_,!1),v&&($.delta&&!dn(v,$t.NAVIGATION_CANCELLED)?i.go(-$.delta,!1):$.type===sl.pop&&dn(v,$t.NAVIGATION_ABORTED|$t.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),J(U,_,v)}).catch(Ni)}))}let ut=hi(),nt=hi(),K;function rt(C,B,$){ge(C);const U=nt.list();return U.length?U.forEach(ht=>ht(C,B,$)):console.error(C),Promise.reject(C)}function St(){return K&&l.value!==Dn?Promise.resolve():new Promise((C,B)=>{ut.add([C,B])})}function ge(C){return K||(K=!C,Qt(),ut.list().forEach(([B,$])=>C?$(C):B()),ut.reset()),C}function pe(C,B,$,U){const{scrollBehavior:ht}=e;if(!Fs||!ht)return Promise.resolve();const _=!$&&Sv(Ru(C.fullPath,0))||(U||!$)&&history.state&&history.state.scroll||null;return Kd().then(()=>ht(C,B,_)).then(v=>v&&xv(v)).catch(v=>rt(v,C,B))}const Ht=C=>i.go(C);let Ne;const we=new Set,Te={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:p,resolve:b,options:e,push:x,replace:S,go:Ht,back:()=>Ht(-1),forward:()=>Ht(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:nt.add,isReady:St,install(C){C.component("RouterLink",Jl),C.component("RouterView",Lg),C.config.globalProperties.$router=Te,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>Sn(l)}),Fs&&!Ne&&l.value===Dn&&(Ne=!0,x(i.location).catch(U=>{}));const B={};for(const U in Dn)Object.defineProperty(B,U,{get:()=>l.value[U],enumerable:!0});C.provide(Do,Te),C.provide(Gl,Hd(B)),C.provide(rl,l);const $=C.unmount;we.add(C),C.unmount=function(){we.delete(C),we.size<1&&(c=Dn,wt&&wt(),wt=null,l.value=Dn,Ne=!1,K=!1),$()}}};function Gt(C){return C.reduce((B,$)=>B.then(()=>N($)),Promise.resolve())}return Te}function oi(){return qe(Do)}function sw(e){return qe(Gl)}const iw=xt({__name:"App",setup(e){const t=oi(),n=sw();async function s(){n.name==="SignIn"||n.name==="SignUp"||(await Le.auth.getUser()).data.user||t.push({name:"SignIn"})}return s(),(i,r)=>(V(),Wt(Sn(Lg)))}}),rw={key:0,class:"bubbleError"},ow=xt({__name:"ErrorBubble",props:["errorMsg"],setup(e){return(t,n)=>e.errorMsg?(V(),at("div",rw,[n[0]||(n[0]=M("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),M("p",null,Ft(e.errorMsg),1)])):Ct("",!0)}}),Nt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},jg=Nt(ow,[["__scopeId","data-v-26b1daef"]]),aw={},lw={class:"loading"};function cw(e,t){return V(),at("div",lw,[...t[0]||(t[0]=[M("i",{class:"fa-solid fa-spinner"},null,-1)])])}const ai=Nt(aw,[["render",cw],["__scopeId","data-v-72d81299"]]),uw=["disabled"],hw=xt({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e,s=t;return(i,r)=>(V(),at("button",{class:Ye(["bubbleButton",{red:n.red},{fullWidth:n.fullWidth}]),disabled:e.loading,onClick:r[0]||(r[0]=o=>s("click"))},[rf(i.$slots,"default",{},void 0),zt(" "+Ft(e.label||""),1)],10,uw))}}),Pn=Nt(hw,[["__scopeId","data-v-2fc2d1c3"]]),dw={class:"margins"},fw={key:0},gw=xt({__name:"SignInView",setup(e){const t=oi(),n=ot(""),s=ot(""),i=ot(null),r=ot(!0),o=ot(!1);async function a(){try{r.value=!0,i.value=null,o.value=!1;const{data:c,error:u}=await Le.auth.signInWithPassword({email:n.value,password:s.value});if(console.log(c),u)throw u;o.value=!0,t.push({name:"Home"})}catch(c){i.value=c.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function l(){if(!(await Le.auth.getUser()).data.user){r.value=!1;return}t.push({name:"Home"})}return l(),(c,u)=>(V(),at(At,null,[r.value?(V(),Wt(ai,{key:0})):Ct("",!0),M("div",dw,[u[4]||(u[4]=M("h2",null,"Sign In",-1)),u[5]||(u[5]=M("h3",null,"Email",-1)),_e(M("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),type:"email",placeholder:"example@example.com"},null,512),[[ve,n.value]]),u[6]||(u[6]=M("h3",null,"Password",-1)),_e(M("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[ve,s.value]]),q(Pn,{loading:r.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),M("p",null,[q(Sn(Jl),{to:{name:"SignUp"}},{default:Ke(()=>[...u[3]||(u[3]=[zt("Don't have an account? Sign Up",-1)])]),_:1})]),q(jg,{errorMsg:i.value},null,8,["errorMsg"]),o.value?(V(),at("div",fw,"You are now signed in.")):Ct("",!0)])],64))}}),pw=Nt(gw,[["__scopeId","data-v-56d8fa1c"]]),mw={class:"margins"},bw=["disabled"],yw={__name:"SignUpView",setup(e){const t=oi(),n=ot(""),s=ot(""),i=ot(""),r=ot(!1),o=ot("");async function a(){try{r.value=!0;const{error:l}=await Le.auth.signUp({email:s.value,password:i.value,options:{data:{display_name:n.value}}});if(l)throw l;t.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{r.value=!1}}return(l,c)=>(V(),at(At,null,[r.value?(V(),Wt(ai,{key:0})):Ct("",!0),M("div",mw,[c[3]||(c[3]=M("h2",null,"Sign Up",-1)),c[4]||(c[4]=M("h3",null,"Display name",-1)),_e(M("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[ve,n.value]]),c[5]||(c[5]=M("h3",null,"Email",-1)),_e(M("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[ve,s.value]]),c[6]||(c[6]=M("h3",null,"Password",-1)),_e(M("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[ve,i.value]]),M("button",{class:"bubbleButton",disabled:r.value,onClick:a},"Sign Up",8,bw),q(jg,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},_w=Nt(yw,[["__scopeId","data-v-f3ba868a"]]),vw={},ww={class:"cont"};function xw(e,t){return V(),at("div",ww,[...t[0]||(t[0]=[M("i",{class:"fa-solid fa-envelope"},null,-1),M("h1",null,"Please check your email to finalise your account.",-1),M("h3",null,"Follow the link, then login using your email and password.",-1)])])}const kw=Nt(vw,[["render",xw],["__scopeId","data-v-ab9688cb"]]),Sw={class:"navLabel"},Ew=xt({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(e){return oi(),(t,n)=>(V(),Wt(Sn(Jl),{to:e.route,class:Ye("navLink"+(e.active===e.route?" active":""))},{default:Ke(()=>[M("i",{class:Ye(e.icon)},null,2),M("span",Sw,Ft(e.label),1)]),_:1},8,["to","class"]))}}),ga=Nt(Ew,[["__scopeId","data-v-e368bd76"]]),Ow={class:"nav-bar"},Tw=xt({__name:"NavBar",props:{active:{}},setup(e){return(t,n)=>(V(),at("nav",Ow,[q(ga,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:e.active},null,8,["active"]),q(ga,{label:"Home",icon:"fas fa-home",route:"/home",active:e.active},null,8,["active"]),q(ga,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:e.active},null,8,["active"])]))}}),Io=Nt(Tw,[["__scopeId","data-v-bb3b9011"]]),Pw={key:0,class:"item"},di=xt({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(e){return(t,n)=>e.label?(V(),at("div",Pw,[e.icon?(V(),at("i",{key:0,class:Ye(e.icon)},null,2)):Ct("",!0),zt(" "+Ft(e.label),1)])):Ct("",!0)}}),Cw=xt({__name:"IconButton",props:{icon:{}},emits:["click"],setup(e,{emit:t}){return(n,s)=>(V(),at("button",{onClick:s[0]||(s[0]=i=>n.$emit("click")),class:"icon-button"},[M("i",{class:Ye(e.icon)},null,2)]))}}),Aw=Nt(Cw,[["__scopeId","data-v-667d6651"]]),Mw={class:"popupOverlay"},Rw={class:"popupContainer softBubble"},Dw={class:"buttonContainer"},Iw=xt({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:t}){return(n,s)=>(V(),at("div",Mw,[M("div",Rw,[M("h2",null,Ft(e.title),1),M("p",null,[zt(Ft(e.message)+" ",1),rf(n.$slots,"default",{},void 0)]),M("div",Dw,[q(Pn,{label:e.confirmText,red:e.confirmRed||!1,loading:!1,onClick:s[0]||(s[0]=i=>n.$emit("confirm"))},null,8,["label","red"]),q(Pn,{label:e.cancelText,red:e.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>n.$emit("cancel"))},null,8,["label","red"])])])]))}}),cr=Nt(Iw,[["__scopeId","data-v-3425d997"]]),Lw=xt({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(V(),Wt(cr,{key:0,title:`Delete Workout: ${e.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):Ct("",!0)}}),jw={class:"thumbnail"},Nw={class:"greyed"},$w={class:"items"},Fw={id:"deleteContainer"},Bw=xt({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(e,{emit:t}){oi();const n=e,s=t,i=ot(!1),r=ot(!1);async function o(){i.value=!0,await n.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=rb("RouterLink");return V(),at(At,null,[i.value?(V(),Wt(ai,{key:0})):Ct("",!0),q(Lw,{visible:r.value,workout:e.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),M("div",jw,[q(c,{class:"link",to:`/viewWorkout/${e.workout.getId()}`},{default:Ke(()=>[M("h3",null,[zt(Ft(e.workout.getTitle())+" ",1),M("span",Nw,Ft(e.workout.getDateString()),1)])]),_:1},8,["to"]),M("div",$w,[q(di,{icon:"fa-solid fa-dumbbell",label:e.workout.getVolumeString()},null,8,["label"]),q(di,{icon:"fa-solid fa-clock",label:e.workout.getDurationString()},null,8,["label"]),q(di,{icon:"fa-solid fa-list",label:e.workout.countSetsString()},null,8,["label"]),q(di,{icon:"fa-solid fa-fire",label:e.workout.getEnergyString()},null,8,["label"]),q(di,{icon:"fa-solid fa-heart",label:e.workout.getHeartRateString()},null,8,["label"])]),M("div",Fw,[q(Aw,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),Ww=Nt(Bw,[["__scopeId","data-v-7a888e2c"]]),Vw={},Uw={class:"container"};function Hw(e,t){return V(),at("div",Uw,[...t[0]||(t[0]=[M("i",{class:"fas fa-dumbbell fa-8x"},null,-1),M("h2",null,"No Workouts Found",-1),M("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const zw=Nt(Vw,[["render",Hw],["__scopeId","data-v-56405e8b"]]);class zu{name;sets;notes;workout;constructor(t,n){this.name=t.exercise,this.sets=t.sets,this.notes=t.notes,this.workout=n}deserialize(){return{exercise:this.name,sets:this.sets,notes:this.notes}}addNewSet(){if(this.sets.length===0){this.sets.push({reps:0,weight:0,unit:"kg",notes:""});return}const t=this.sets[this.sets.length-1],n={reps:t.reps,weight:t.weight,unit:t.unit,notes:t.notes};this.sets.push(n),this.workout.changeMade()}removeSet(t){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets.splice(t,1),this.workout.changeMade()}removeFromWorkout(){const t=this.workout.getExercises().indexOf(this);if(t===-1)throw new Error("Exercise not found in workout");this.workout.removeExercise(t)}updateSet(t,n){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets[t]=n,this.workout.changeMade()}setName(t){this.name=t,this.workout.changeMade()}setNotes(t){this.notes=t,this.workout.changeMade()}reorderUp(){const t=this.workout.getExercises(),n=t.indexOf(this);n<=0||([t[n-1],t[n]]=[t[n],t[n-1]],this.workout.setExercises(t))}reorderDown(){const t=this.workout.getExercises(),n=t.indexOf(this);n===-1||n>=t.length-1||([t[n+1],t[n]]=[t[n],t[n+1]],this.workout.setExercises(t))}getVolume(){let t=0;for(const n of this.sets){let s=n.reps*n.weight;n.unit==="lbs"&&(s=s*.453592),t+=s}return t}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}getWorkout(){return this.workout}}class Ng{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;constructor(t){this.exercises=[],this.title=t.title,this.workout_id=t.workout_id,this.start_time=new Date(t.start_time),this.end_time=new Date(t.end_time),this.created_at=new Date(t.created_at),this.notes=t.notes,this.energy=t.energy,this.heart_rate=t.heart_rate;for(const n of t.exercises_full)this.exercises.push(new zu(n,this))}async deleteWorkout(){const{data:t,error:n}=await Le.from("workouts").delete().eq("workout_id",this.workout_id);n&&console.error("Failed to delete workout:",n)}changeMade(){this.unsavedChanges++,!this.saving&&this.saveChanges()}async saveChanges(){this.saving=!0;const t=this.unsavedChanges,{data:n,error:s}=await Le.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(s&&console.error("Failed to save workout changes:",s),this.unsavedChanges-=t,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(t){if(t<0||t>=this.exercises.length)throw new Error("Index out of bounds");this.exercises.splice(t,1),this.changeMade()}addEmptyExercise(){const t={exercise:"New Exercise",sets:[],notes:""},n=new zu(t,this);this.exercises.push(n),this.changeMade()}setExercises(t){this.exercises=t,this.changeMade()}setHeartRate(t){this.heart_rate=t,this.changeMade()}setEnergy(t){this.energy=t,this.changeMade()}setTitle(t){this.title=t,this.changeMade()}setStartDate(t){this.start_time=t,this.changeMade()}setEndDate(t){this.end_time=t,this.changeMade()}deserialize(){const t=[],n=[];for(const s of this.exercises)t.push(s.deserialize()),n.push(s.getName());return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:t,exercises:n,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate}}savingInProgress(){return console.log("in progress"),this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const t=this.getEnergy();return t===null?null:`${t} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let t=0;for(const n of this.exercises)t+=n.getVolume();return t}getVolumeString(){const t=this.getVolume();return t===0?null:`${t} kg`}countSets(){let t=0;for(const n of this.exercises)t+=n.countSets();return t}countSetsString(){const t=this.countSets();return t===0?null:`${t} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const t=this.getDuration();if(t<=0)return null;const n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return n>0&&r.push(`${n}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return this.exercises.length}}async function $g(){const e=await Le.from("workouts").select(),t=[];for(const n of e.data||[])t.push(new Ng(n));return t.sort((n,s)=>s.getStartTime().getTime()-n.getStartTime().getTime()),t}const qw={class:"viewArea"},Yw={class:"thumbnailContainer"},Kw=xt({__name:"HomeView",setup(e){const t=ot([]),n=ot(!0);ws(async()=>{await s()});async function s(){t.value=await $g(),n.value=!1}return(i,r)=>(V(),at(At,null,[n.value?(V(),Wt(ai,{key:0})):Ct("",!0),q(Io,{active:"/home"}),M("div",qw,[M("div",Yw,[(V(!0),at(At,null,Ll(t.value,o=>(V(),Wt(Ww,{key:o.getId(),workout:o,onReload:r[0]||(r[0]=a=>s())},null,8,["workout"]))),128))]),!n.value&&t.value.length===0?(V(),Wt(zw,{key:0})):Ct("",!0)])],64))}}),Gw=Nt(Kw,[["__scopeId","data-v-109a1d61"]]),Jw={key:0,id:"urlsCount"},Xw=xt({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(e){return(t,n)=>e.pageCount>0?(V(),at("div",Jw,[zt(" pages "+Ft(e.pageCount)+" ",1),q(Pn,{label:"Upload",loading:!1,onClick:n[0]||(n[0]=s=>t.$emit("uploadWorkoutData"))}),q(Pn,{label:"Retake",loading:!1,onClick:n[1]||(n[1]=s=>t.$emit("retakePhoto"))})])):Ct("",!0)}}),Qw=Nt(Xw,[["__scopeId","data-v-0d77d51b"]]),Zw={class:"viewArea"},tx=xt({__name:"UploadView",setup(e){const t=ot(0),n=oi(),s=ot(null),i=ot(null),r=ot([]),o=ot(0),a=ot(null);ws(async()=>{const g={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(g).then(p=>{a.value=p,s?s.value.srcObject=p:console.error("Video element not found")}).catch(p=>{console.error("Error accessing camera: ",p)})}),nf(()=>{a.value&&a.value.getTracks().forEach(g=>g.stop())});const l=async()=>{if(console.log("capturing"),!s.value||!i.value){console.log("Video or canvas element not found");return}const{data:{user:g},error:p}=await Le.auth.getUser();if(p||!g){console.error("User not authenticated");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const m=i.value.getContext("2d");if(!m){console.error("Failed to get canvas context");return}m.drawImage(s.value,0,0),i.value.toBlob(async b=>{if(!b){console.error("Failed to capture image");return}const y=new File([b],`photo-${Date.now()}-${g.id}.jpg`,{type:"image/jpeg"}),{data:w,error:x}=await Le.storage.from("workoutImage").upload(`photos/${g.id}/${y.name}`,y,{contentType:"image/jpeg",upsert:!1});if(x){console.error("Error uploading image: ",x);return}console.log("Image uploaded successfully: ",w),console.log(w),r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${w.path}`),o.value++},"image/jpeg",.8)};function c(g,p){let m=p?g.startTime:g.endTime;if(!m)return null;const b=new Date;return m.year||(m.year=b.getFullYear()),m.month||(m.month=b.getMonth()+1),m.day||(m.day=b.getDate()),m.hour||(m.hour=b.getHours()),m.minute||(m.minute=b.getMinutes()),new Date(m.year,m.month-1,m.day,m.hour,m.minute,0)}async function u(g){t.value++;const p=c(g,!0),m=c(g,!1);let b=[];for(const S of g.exercises||[])b.push(S.exercise);let y=g.energy&&g.energy.amount||null;y!=null&&g.energy.unit==="kJ"&&(y=y/4.184),y!=null&&(y=Math.round(y));const w=g.heart_rate||null,x=(await Le.auth.getUser()).data.user?.id;return t.value--,{user_id:x,start_time:p?p.toISOString():null,end_time:m?m.toISOString():null,title:g.title||"unnamed workout",exercises_full:g.exercises||[],exercises:b,notes:g.notes||"",energy:y,heart_rate:w}}async function h(){const g=await f(r.value);if(!g){console.error("No workout data generated");return}const{data:p,error:m}=await d(g);if(m){console.error("Error uploading workout data: ",m);return}n.push({name:"Home"})}async function d(g){t.value++;const{data:p,error:m}=await Le.from("workouts").insert([await u(g)]);return m?(console.error("Error uploading workout data: ",m),t.value--,{data:p,error:m}):(console.log("Workout data uploaded successfully: ",p),t.value--,{data:p,error:m})}async function f(g){t.value++;const{data:p,error:m}=await Le.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:g}});return m?(console.error("Error invoking function: ",m),console.log(p),t.value--,""):(t.value--,p)}return(g,p)=>(V(),at(At,null,[t.value>0?(V(),Wt(ai,{key:0})):Ct("",!0),M("div",Zw,[M("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),M("button",{class:"captureButton",onClick:p[0]||(p[0]=m=>l())}),q(Qw,{pageCount:o.value,onUploadWorkoutData:p[1]||(p[1]=m=>h()),onRetakePhoto:p[2]||(p[2]=m=>{r.value.pop(),o.value--})},null,8,["pageCount"]),M("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)]),q(Io,{active:"/upload"})],64))}}),ex=Nt(tx,[["__scopeId","data-v-89920a89"]]),nx={key:0,class:"overview-item"},sx={class:"overview-title"},ix={class:"overview-value"},rx=xt({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(e){return(t,n)=>e.value?(V(),at("div",nx,[M("p",sx,Ft(e.label),1),M("h1",ix,[M("i",{class:Ye(e.icon+" overview-icon")},null,2),zt(Ft(e.value),1)])])):Ct("",!0)}}),fi=Nt(rx,[["__scopeId","data-v-5430079f"]]),ox={class:"softBubble overview"},ax=xt({__name:"WorkoutOverview",props:{workout:{}},setup(e){return(t,n)=>(V(),at("div",ox,[q(fi,{icon:"fa-solid fa-clock",label:"duration",value:e.workout.getDurationString()},null,8,["value"]),q(fi,{icon:"fa-solid fa-dumbbell",label:"volume",value:e.workout.getVolume()+" kg"},null,8,["value"]),q(fi,{icon:"fa-solid fa-list",label:"sets",value:e.workout.countSets()},null,8,["value"]),q(fi,{icon:"fa-solid fa-fire",label:"energy",value:e.workout.getEnergyString()},null,8,["value"]),q(fi,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:e.workout.getHeartRateString()},null,8,["value"])]))}}),lx=Nt(ax,[["__scopeId","data-v-0d1ed2c2"]]),cx={class:"inputs"},ux={class:"flexCol"},hx=xt({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(e,{emit:t}){const n=ot(0),s=ot(0),i=ot(""),r=e,o=t;function a(){const c={weight:Number(n.value),reps:Number(s.value),notes:i.value,unit:r.set.units||"kg"};r.exercise.updateSet(r.index,c),o("cancel")}function l(){n.value=r.set.weight||0,s.value=r.set.reps||0,i.value=r.set.notes||""}return ws(()=>{l()}),Il(()=>{l()}),(c,u)=>(V(),Wt(cr,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:Ke(()=>[M("div",cx,[_e(M("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),min:"0"},null,512),[[ve,n.value]]),u[6]||(u[6]=zt(" kg ",-1)),u[7]||(u[7]=M("i",{class:"fa-solid fa-xmark"},null,-1)),_e(M("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[ve,s.value]]),u[8]||(u[8]=zt(" reps ",-1))]),M("div",ux,[_e(M("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[ve,i.value]]),q(Pn,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:Ke(()=>[...u[9]||(u[9]=[M("i",{class:"fa-solid fa-trash"},null,-1),zt(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),dx=Nt(hx,[["__scopeId","data-v-890ce486"]]),fx={class:"setlabel"},gx={class:"setdetails"},px={key:0},mx={key:1,class:"fa-solid fa-note-sticky noteIcon"},bx=xt({__name:"SetContainer",props:{set:{},index:{},exercise:{}},setup(e){const t=ot(!1);return(n,s)=>(V(),at(At,null,[t.value?(V(),Wt(dx,{key:0,set:e.set,exercise:e.exercise,index:e.index,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["set","exercise","index"])):Ct("",!0),M("tr",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"setItem"},[M("td",fx,Ft(e.index+1),1),M("td",gx,[e.set.weight!==null?(V(),at("span",px,[zt(Ft(e.set.weight)+" kg ",1),s[2]||(s[2]=M("i",{class:"fa-solid fa-xmark"},null,-1))])):Ct("",!0),zt(" "+Ft(e.set.reps)+" reps ",1),e.set.notes!==""&&e.set.notes!==null?(V(),at("i",mx)):Ct("",!0)])])],64))}}),yx=Nt(bx,[["__scopeId","data-v-8bdd5088"]]),_x=xt({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(V(),Wt(cr,{key:0,title:`Remove Exercise: ${e.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):Ct("",!0)}}),vx={class:"inputs"},wx=xt({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(e,{emit:t}){const n=ot(""),s=ot(""),i=ot(!1),r=e,o=t;function a(){console.log("Saving changes to exercise"),r.exercise.setName(n.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return ws(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Il(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(V(),at(At,null,[q(cr,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:Ke(()=>[M("div",vx,[_e(M("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h)},null,512),[[ve,n.value]]),_e(M("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[ve,s.value]])]),q(Pn,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:Ke(()=>[...u[7]||(u[7]=[M("i",{class:"fa-solid fa-trash"},null,-1),zt(" Remove Exercise ",-1)])]),_:1})]),_:1}),q(_x,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),xx=Nt(wx,[["__scopeId","data-v-b0c27240"]]),kx={class:"exerciseContainer softBubble"},Sx={class:"exerciseTitle"},Ex={key:0,class:"reorderHandles clickable"},Ox={class:"setsContainer"},Tx={key:0},Px={key:1},Cx={colspan:"2"},Ax={class:"setLabel"},Mx={class:"setDetails"},Rx=xt({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{}},setup(e){const t=ot(!1);return(n,s)=>(V(),at(At,null,[t.value?(V(),Wt(xx,{key:0,exercise:e.exercise,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["exercise"])):Ct("",!0),M("div",kx,[M("h2",Sx,[M("span",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"clickable"},[zt(Ft(e.exercise.getName())+" ",1),s[5]||(s[5]=M("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),e.index!==0?(V(),at("div",Ex,[M("i",{onClick:s[2]||(s[2]=i=>e.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):Ct("",!0)]),M("table",Ox,[e.showSets?(V(),at("thead",Tx,[...s[6]||(s[6]=[M("tr",null,[M("th",{class:"greyed",colspan:"1"},"set"),M("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):Ct("",!0),e.showSets?(V(),at("tbody",Px,[(V(!0),at(At,null,Ll(e.exercise.getSets(),(i,r)=>(V(),Wt(yx,{key:r,index:r,set:i,exercise:e.exercise},null,8,["index","set","exercise"]))),128)),M("tr",null,[M("td",Cx,[M("button",{onClick:s[3]||(s[3]=i=>e.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[M("i",{class:"fa-solid fa-plus"},null,-1),zt("Add set",-1)])])])])])):Ct("",!0),M("tfoot",null,[M("tr",null,[M("td",Ax,[s[8]||(s[8]=M("b",null,"sets:",-1)),zt(" "+Ft(e.exercise.countSets()),1)]),M("td",Mx,[s[9]||(s[9]=M("b",null,"volume:",-1)),zt(" "+Ft(e.exercise.getVolume())+" kg ",1),e.index!==e.exercise.getWorkout().countExercises()-1?(V(),at("i",{key:0,onClick:s[4]||(s[4]=i=>e.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):Ct("",!0)])])])])])],64))}}),Dx=xt({__name:"SavingDisplay",props:{workout:{}},setup(e){return(t,n)=>(V(),at("div",{class:Ye(["savingDisplay",{display:e.workout.savingInProgress()}])},[...n[0]||(n[0]=[M("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),Ix=Nt(Dx,[["__scopeId","data-v-2e9e3957"]]),Lx={class:"inputs"},jx=xt({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(e,{emit:t}){const n=e,s=t,i=ot(n.workout.getTitle()),r=ot(n.workout.getHeartRate()||""),o=ot(n.workout.getEnergy()||""),a=ot(n.workout.getStartTime()),l=ot(n.workout.getEndTime());function c(){n.workout.setTitle(i.value),n.workout.setHeartRate(Number(r.value)||null),n.workout.setEnergy(Number(o.value)||null),n.workout.setStartDate(a.value),n.workout.setEndDate(l.value),s("cancel")}const u=Re({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=Re({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(V(),Wt(cr,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=g=>c()),onCancel:f[6]||(f[6]=g=>s("cancel"))},{default:Ke(()=>[M("div",Lx,[f[7]||(f[7]=M("label",{for:"titleInput"},"Title:",-1)),_e(M("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>i.value=g)},null,512),[[ve,i.value]]),f[8]||(f[8]=M("label",{for:"startDate"},"Start Date and Time:",-1)),_e(M("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=g=>u.value=g)},null,512),[[ve,u.value]]),f[9]||(f[9]=M("label",{for:"endDate"},"End Date and Time:",-1)),_e(M("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=g=>h.value=g)},null,512),[[ve,h.value]]),f[10]||(f[10]=M("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),_e(M("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=g=>r.value=g),min:"0"},null,512),[[ve,r.value,void 0,{number:!0}]]),f[11]||(f[11]=M("label",{for:"energyInput"},"Energy Burned (kj):",-1)),_e(M("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=g=>o.value=g),min:"0"},null,512),[[ve,o.value,void 0,{number:!0}]])])]),_:1}))}}),Nx=Nt(jx,[["__scopeId","data-v-d96ddd76"]]),$x={key:1,class:"viewArea"},Fx={class:"margins"},Bx={class:"greyed"},Wx={key:0,class:"softBubble"},Vx=xt({__name:"ViewWorkout",props:["workout_id"],setup(e){const t=e,n=ot(null),s=ot(!0),i=ot(!1);return ws(async()=>{const{data:r,error:o}=await Le.from("workouts").select().eq("workout_id",t.workout_id).single();if(o){console.error("Error fetching workout:",o);return}n.value=new Ng(r)}),(r,o)=>(V(),at(At,null,[i.value&&n.value?(V(),Wt(Nx,{key:0,workout:n.value,onCancel:o[0]||(o[0]=a=>i.value=!1)},null,8,["workout"])):Ct("",!0),n.value?(V(),at("div",$x,[M("div",Fx,[M("h2",null,[zt(Ft(n.value.getTitle())+" ",1),M("i",{class:"fa-solid fa-ellipsis clickable",onClick:o[1]||(o[1]=a=>i.value=!0)})]),M("p",Bx,Ft(n.value.getDateString()),1),n.value.getNotes()!==""?(V(),at("p",Wx,Ft(n.value.getNotes()),1)):Ct("",!0),q(lx,{workout:n.value},null,8,["workout"]),q(Pn,{onClick:o[2]||(o[2]=a=>s.value=!s.value),fullWidth:""},{default:Ke(()=>[M("i",{class:Ye(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),zt(" "+Ft(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(V(!0),at(At,null,Ll(n.value.getExercises(),(a,l)=>(V(),Wt(Rx,{key:a.getName(),exercise:a,showSets:s.value,index:l},null,8,["exercise","showSets","index"]))),128)),q(Ix,{workout:n.value},null,8,["workout"]),q(Pn,{onClick:o[3]||(o[3]=a=>n.value.addEmptyExercise()),fullWidth:""},{default:Ke(()=>[...o[4]||(o[4]=[M("i",{class:"fa-solid fa-plus"},null,-1),zt(" Add Exercise ",-1)])]),_:1})])])):Ct("",!0),n.value?Ct("",!0):(V(),Wt(ai,{key:2})),q(Io,{active:"/home"})],64))}}),Ux=Nt(Vx,[["__scopeId","data-v-5c64a28b"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ur(e){return e+.5|0}const Bn=(e,t,n)=>Math.max(Math.min(e,n),t);function Si(e){return Bn(ur(e*2.55),0,255)}function zn(e){return Bn(ur(e*255),0,255)}function yn(e){return Bn(ur(e/2.55)/100,0,1)}function qu(e){return Bn(ur(e*100),0,100)}const $e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ol=[..."0123456789ABCDEF"],Hx=e=>ol[e&15],zx=e=>ol[(e&240)>>4]+ol[e&15],Tr=e=>(e&240)>>4===(e&15),qx=e=>Tr(e.r)&&Tr(e.g)&&Tr(e.b)&&Tr(e.a);function Yx(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&$e[e[1]]*17,g:255&$e[e[2]]*17,b:255&$e[e[3]]*17,a:t===5?$e[e[4]]*17:255}:(t===7||t===9)&&(n={r:$e[e[1]]<<4|$e[e[2]],g:$e[e[3]]<<4|$e[e[4]],b:$e[e[5]]<<4|$e[e[6]],a:t===9?$e[e[7]]<<4|$e[e[8]]:255})),n}const Kx=(e,t)=>e<255?t(e):"";function Gx(e){var t=qx(e)?Hx:zx;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Kx(e.a,t):void 0}const Jx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fg(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Xx(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Qx(e,t,n){const s=Fg(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function Zx(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function Xl(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Zx(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Ql(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(zn)}function Zl(e,t,n){return Ql(Fg,e,t,n)}function tk(e,t,n){return Ql(Qx,e,t,n)}function ek(e,t,n){return Ql(Xx,e,t,n)}function Bg(e){return(e%360+360)%360}function nk(e){const t=Jx.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Si(+t[5]):zn(+t[5]));const i=Bg(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=tk(i,r,o):t[1]==="hsv"?s=ek(i,r,o):s=Zl(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function sk(e,t){var n=Xl(e);n[0]=Bg(n[0]+t),n=Zl(n),e.r=n[0],e.g=n[1],e.b=n[2]}function ik(e){if(!e)return;const t=Xl(e),n=t[0],s=qu(t[1]),i=qu(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${yn(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Yu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ku={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rk(){const e={},t=Object.keys(Ku),n=Object.keys(Yu);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Yu[r]);r=parseInt(Ku[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Pr;function ok(e){Pr||(Pr=rk(),Pr.transparent=[0,0,0,0]);const t=Pr[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ak=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lk(e){const t=ak.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Si(o):Bn(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Si(s):Bn(s,0,255)),i=255&(t[4]?Si(i):Bn(i,0,255)),r=255&(t[6]?Si(r):Bn(r,0,255)),{r:s,g:i,b:r,a:n}}}function ck(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${yn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const pa=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Rs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function uk(e,t,n){const s=Rs(yn(e.r)),i=Rs(yn(e.g)),r=Rs(yn(e.b));return{r:zn(pa(s+n*(Rs(yn(t.r))-s))),g:zn(pa(i+n*(Rs(yn(t.g))-i))),b:zn(pa(r+n*(Rs(yn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Cr(e,t,n){if(e){let s=Xl(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Zl(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Wg(e,t){return e&&Object.assign(t||{},e)}function Gu(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=zn(e[3]))):(t=Wg(e,{r:0,g:0,b:0,a:1}),t.a=zn(t.a)),t}function hk(e){return e.charAt(0)==="r"?lk(e):nk(e)}class Zi{constructor(t){if(t instanceof Zi)return t;const n=typeof t;let s;n==="object"?s=Gu(t):n==="string"&&(s=Yx(t)||ok(t)||hk(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Wg(this._rgb);return t&&(t.a=yn(t.a)),t}set rgb(t){this._rgb=Gu(t)}rgbString(){return this._valid?ck(this._rgb):void 0}hexString(){return this._valid?Gx(this._rgb):void 0}hslString(){return this._valid?ik(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=uk(this._rgb,t._rgb,n)),this}clone(){return new Zi(this.rgb)}alpha(t){return this._rgb.a=zn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ur(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cr(this._rgb,2,t),this}darken(t){return Cr(this._rgb,2,-t),this}saturate(t){return Cr(this._rgb,1,t),this}desaturate(t){return Cr(this._rgb,1,-t),this}rotate(t){return sk(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fn(){}const dk=(()=>{let e=0;return()=>e++})();function lt(e){return e==null}function Dt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ct(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Bt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Me(e,t){return Bt(e)?e:t}function tt(e,t){return typeof e>"u"?t:e}const fk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Vg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Pt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function vt(e,t,n,s){let i,r,o;if(Dt(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(ct(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function ao(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function lo(e){if(Dt(e))return e.map(lo);if(ct(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=lo(e[n[i]]);return t}return e}function Ug(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function gk(e,t,n,s){if(!Ug(e))return;const i=t[e],r=n[e];ct(i)&&ct(r)?tr(i,r,s):t[e]=lo(r)}function tr(e,t,n){const s=Dt(t)?t:[t],i=s.length;if(!ct(e))return e;n=n||{};const r=n.merger||gk;let o;for(let a=0;a<i;++a){if(o=s[a],!ct(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function $i(e,t){return tr(e,t,{merger:pk})}function pk(e,t,n){if(!Ug(e))return;const s=t[e],i=n[e];ct(s)&&ct(i)?$i(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=lo(i))}const Ju={"":e=>e,x:e=>e.x,y:e=>e.y};function mk(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function bk(e){const t=mk(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Yn(e,t){return(Ju[t]||(Ju[t]=bk(t)))(e)}function tc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const er=e=>typeof e<"u",Kn=e=>typeof e=="function",Xu=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function yk(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ft=Math.PI,Mt=2*ft,_k=Mt+ft,co=Number.POSITIVE_INFINITY,vk=ft/180,qt=ft/2,ns=ft/4,Qu=ft*2/3,Wn=Math.log10,ln=Math.sign;function Fi(e,t,n){return Math.abs(e-t)<n}function Zu(e){const t=Math.round(e);e=Fi(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Wn(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function wk(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function xk(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Zs(e){return!xk(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function kk(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Hg(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function He(e){return e*(ft/180)}function ec(e){return e*(180/ft)}function th(e){if(!Bt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zg(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ft&&(r+=Mt),{angle:r,distance:i}}function al(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Sk(e,t){return(e-t+_k)%Mt-ft}function ae(e){return(e%Mt+Mt)%Mt}function nr(e,t,n,s){const i=ae(e),r=ae(t),o=ae(n),a=ae(r-i),l=ae(o-i),c=ae(i-r),u=ae(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ne(e,t,n){return Math.max(t,Math.min(n,e))}function Ek(e){return ne(e,-32768,32767)}function wn(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function nc(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const xn=(e,t,n,s)=>nc(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),Ok=(e,t,n)=>nc(e,n,s=>e[s][t]>=n);function Tk(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const qg=["push","pop","shift","splice","unshift"];function Pk(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),qg.forEach(n=>{const s="_onData"+tc(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function eh(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(qg.forEach(r=>{delete e[r]}),delete e._chartjs)}function Yg(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Kg=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Gg(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Kg.call(window,()=>{s=!1,e.apply(t,n)}))}}function Ck(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const sc=e=>e==="start"?"left":e==="end"?"right":"center",oe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Ak=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function Jg(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(xn(l,u,h).lo,n?s:xn(t,u,o.getPixelForValue(h)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(m=>!lt(m[a.axis]));i-=Math.max(0,p)}i=ne(i,0,s-1)}if(g){let p=Math.max(xn(l,o.axis,d,!0).hi+1,n?0:xn(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(b=>!lt(b[a.axis]));p+=Math.max(0,m)}r=ne(p,i,s)-i}else r=s-i}return{start:i,count:r}}function Xg(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Ar=e=>e===0||e===1,nh=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Mt/n)),sh=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Mt/n)+1,Bi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*qt)+1,easeOutSine:e=>Math.sin(e*qt),easeInOutSine:e=>-.5*(Math.cos(ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ar(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ar(e)?e:nh(e,.075,.3),easeOutElastic:e=>Ar(e)?e:sh(e,.075,.3),easeInOutElastic(e){return Ar(e)?e:e<.5?.5*nh(e*2,.1125,.45):.5+.5*sh(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Bi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Bi.easeInBounce(e*2)*.5:Bi.easeOutBounce(e*2-1)*.5+.5};function ic(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ih(e){return ic(e)?e:new Zi(e)}function ma(e){return ic(e)?e:new Zi(e).saturate(.5).darken(.1).hexString()}const Mk=["x","y","borderWidth","radius","tension"],Rk=["color","borderColor","backgroundColor"];function Dk(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Rk},numbers:{type:"number",properties:Mk}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Ik(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rh=new Map;function Lk(e,t){t=t||{};const n=e+JSON.stringify(t);let s=rh.get(n);return s||(s=new Intl.NumberFormat(e,t),rh.set(n,s)),s}function hr(e,t,n){return Lk(t,n).format(e)}const Qg={values(e){return Dt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=jk(e,n)}const o=Wn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hr(e,s,l)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(Wn(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?Qg.numeric.call(this,e,t,n):""}};function jk(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Lo={formatters:Qg};function Nk(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ys=Object.create(null),ll=Object.create(null);function Wi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function ba(e,t,n){return typeof t=="string"?tr(Wi(e,t),n):tr(Wi(e,""),t)}class $k{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ma(i.backgroundColor),this.hoverBorderColor=(s,i)=>ma(i.borderColor),this.hoverColor=(s,i)=>ma(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ba(this,t,n)}get(t){return Wi(this,t)}describe(t,n){return ba(ll,t,n)}override(t,n){return ba(ys,t,n)}route(t,n,s,i){const r=Wi(this,t),o=Wi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ct(l)?Object.assign({},c,l):tt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var It=new $k({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dk,Ik,Nk]);function Fk(e){return!e||lt(e.size)||lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function uo(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Bk(e,t,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Dt(h))o=uo(e,i,r,o,h);else if(Dt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Dt(d)&&(o=uo(e,i,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function ss(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function oh(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function cl(e,t,n,s){Zg(e,t,n,s,null)}function Zg(e,t,n,s,i){let r,o,a,l,c,u,h,d;const f=t.pointStyle,g=t.rotation,p=t.radius;let m=(g||0)*vk;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,s,i/2,p,0,0,Mt):e.arc(n,s,p,0,Mt),e.closePath();break;case"triangle":u=i?i/2:p,e.moveTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=Qu,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=Qu,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),e.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+ns)*l,h=Math.cos(m+ns)*(i?i/2-c:l),a=Math.sin(m+ns)*l,d=Math.sin(m+ns)*(i?i/2-c:l),e.arc(n-h,s-a,c,m-ft,m-qt),e.arc(n+d,s-o,c,m-qt,m),e.arc(n+h,s+a,c,m,m+qt),e.arc(n-d,s+o,c,m+qt,m+ft),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,e.rect(n-u,s-l,2*u,2*l);break}m+=ns;case"rectRot":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+d,s-o),e.lineTo(n+h,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":m+=ns;case"cross":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),m+=ns,h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(m)*(i?i/2:p),s+Math.sin(m)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function kn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function jo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function No(e){e.restore()}function Wk(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Vk(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Uk(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Hk(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function zk(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function _s(e,t,n,s,i,r={}){const o=Dt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,Uk(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&zk(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),lt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),Hk(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function sr(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ft,ft,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ft,qt,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,qt,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-qt,!0),e.lineTo(n+o.topLeft,s)}const qk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kk(e,t){const n=(""+e).match(qk);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Gk=e=>+e||0;function rc(e,t){const n={},s=ct(t),i=s?Object.keys(t):t,r=ct(e)?s?o=>tt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=Gk(r(o));return n}function tp(e){return rc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ms(e){return rc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fe(e){const t=tp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ee(e,t){e=e||{},t=t||It.font;let n=tt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=tt(e.style,t.style);s&&!(""+s).match(Yk)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:tt(e.family,t.family),lineHeight:Kk(tt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:tt(e.weight,t.weight),string:""};return i.string=Fk(i),i}function Ei(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function Jk(e,t,n){const{min:s,max:i}=e,r=Vg(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Jn(e,t){return Object.assign(Object.create(e),t)}function oc(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=ip("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>oc([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return np(a,l,()=>iS(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return lh(a).includes(l)},ownKeys(a){return lh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ti(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ep(e,s),setContext:r=>ti(e,r,n,s),override:r=>ti(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return np(r,o,()=>Qk(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function ep(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Kn(n)?n:()=>n,isIndexable:Kn(s)?s:()=>s}}const Xk=(e,t)=>e?e+tc(t):t,ac=(e,t)=>ct(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function np(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function Qk(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return Kn(a)&&o.isScriptable(t)&&(a=Zk(t,a,e,n)),Dt(a)&&a.length&&(a=tS(t,a,e,o.isIndexable)),ac(t,a)&&(a=ti(a,i,r&&r[t],o)),a}function Zk(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),ac(e,l)&&(l=lc(i._scopes,i,e,l)),l}function tS(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(ct(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=lc(c,i,e,u);t.push(ti(h,r,o&&o[e],a))}}return t}function sp(e,t,n){return Kn(e)?e(t,n):e}const eS=(e,t)=>e===!0?t:typeof e=="string"?Yn(t,e):void 0;function nS(e,t,n,s,i){for(const r of t){const o=eS(n,r);if(o){e.add(o);const a=sp(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function lc(e,t,n,s){const i=t._rootScopes,r=sp(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=ah(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=ah(a,o,r,l,s),l===null)?!1:oc(Array.from(a),[""],i,r,()=>sS(t,n,s))}function ah(e,t,n,s,i){for(;n;)n=nS(e,t,n,s,i);return n}function sS(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Dt(i)&&ct(n)?n:i||{}}function iS(e,t,n,s){let i;for(const r of t)if(i=ip(Xk(r,e),n),typeof i<"u")return ac(e,i)?lc(n,s,e,i):i}function ip(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function lh(e){let t=e._keys;return t||(t=e._keys=rS(e._scopes)),t}function rS(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function rp(e,t,n,s){const{iScale:i}=e,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=t[c],o[a]={r:i.parse(Yn(u,r),c)};return o}const oS=Number.EPSILON||1e-14,ei=(e,t)=>t<e.length&&!e[t].skip&&e[t],op=e=>e==="x"?"y":"x";function aS(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=al(r,i),l=al(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function lS(e,t,n){const s=e.length;let i,r,o,a,l,c=ei(e,0);for(let u=0;u<s-1;++u)if(l=c,c=ei(e,u+1),!(!l||!c)){if(Fi(t[u],0,oS)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])}}function cS(e,t,n="x"){const s=op(n),i=e.length;let r,o,a,l=ei(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ei(e,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*t[c])}}function uS(e,t="x"){const n=op(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=ei(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=ei(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?ln(i[o-1])!==ln(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}lS(e,i,r),cS(e,r,t)}function Mr(e,t,n){return Math.max(Math.min(e,n),t)}function hS(e,t){let n,s,i,r,o,a=kn(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&kn(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=Mr(i.cp1x,t.left,t.right),i.cp1y=Mr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Mr(i.cp2x,t.left,t.right),i.cp2y=Mr(i.cp2y,t.top,t.bottom)))}function dS(e,t,n,s,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")uS(e,i);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=aS(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&hS(e,n)}function cc(){return typeof window<"u"&&typeof document<"u"}function uc(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ho(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const $o=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function fS(e,t){return $o(e).getPropertyValue(t)}const gS=["top","right","bottom","left"];function bs(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=gS[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const pS=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function mS(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(pS(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ls(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=$o(n),r=i.boxSizing==="border-box",o=bs(i,"padding"),a=bs(i,"border","width"),{x:l,y:c,box:u}=mS(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/s),y:Math.round((c-d)/g*n.height/s)}}function bS(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&uc(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=$o(r),l=bs(a,"border","width"),c=bs(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=ho(a.maxWidth,r,"clientWidth"),i=ho(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||co,maxHeight:i||co}}const Vn=e=>Math.round(e*10)/10;function yS(e,t,n,s){const i=$o(e),r=bs(i,"margin"),o=ho(i.maxWidth,e,"clientWidth")||co,a=ho(i.maxHeight,e,"clientHeight")||co,l=bS(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=bs(i,"border","width"),f=bs(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Vn(Math.min(c,o,l.maxWidth)),u=Vn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Vn(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Vn(Math.floor(u*s))),{width:c,height:u}}function ch(e,t,n){const s=t||1,i=Vn(e.height*s),r=Vn(e.width*s);e.height=Vn(e.height),e.width=Vn(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const _S=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};cc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function uh(e,t){const n=fS(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function cs(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function vS(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function wS(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=cs(e,i,n),a=cs(i,r,n),l=cs(r,t,n),c=cs(o,a,n),u=cs(a,l,n);return cs(c,u,n)}const xS=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},kS=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ys(e,t,n){return e?xS(t,n):kS()}function ap(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function lp(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function cp(e){return e==="angle"?{between:nr,compare:Sk,normalize:ae}:{between:wn,compare:(t,n)=>t-n,normalize:t=>t}}function hh({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function SS(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=cp(s),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function up(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=cp(s),{start:u,end:h,loop:d,style:f}=SS(e,t,n),g=[];let p=!1,m=null,b,y,w;const x=()=>l(i,w,b)&&a(i,w)!==0,S=()=>a(r,b)===0||l(r,w,b),E=()=>p||x(),O=()=>!p||S();for(let R=u,N=u;R<=h;++R)y=t[R%o],!y.skip&&(b=c(y[s]),b!==w&&(p=l(b,i,r),m===null&&E()&&(m=a(b,i)===0?R:N),m!==null&&O()&&(g.push(hh({start:m,end:R,loop:d,count:o,style:f})),m=null),N=R,w=b));return m!==null&&g.push(hh({start:m,end:h,loop:d,count:o,style:f})),g}function hp(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=up(s[i],e.points,t);r.length&&n.push(...r)}return n}function ES(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function OS(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function TS(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=ES(n,i,r,s);if(s===!0)return dh(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return dh(e,OS(n,o,l,c),n,t)}function dh(e,t,n,s){return!s||!s.setContext||!n?t:PS(e,t,n,s)}function PS(e,t,n,s){const i=e._chart.getContext(),r=fh(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function f(g,p,m,b){const y=a?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=y;for(;n[p%l].skip;)p+=y;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),u=b,h=p%l)}}for(const g of t){h=a?h:g.start;let p=n[h%l],m;for(d=h+1;d<=g.end;d++){const b=n[d%l];m=fh(s.setContext(Jn(i,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),CS(m,u)&&f(h,d-1,g.loop,u),p=b,u=m}h<d-1&&f(h,d-1,g.loop,u)}return c}function fh(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function CS(e,t){if(!t)return!1;const n=[],s=function(i,r){return ic(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Rr(e,t,n){return e.options.clip?e[n]:t[n]}function AS(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Rr(n,t,"left"),right:Rr(n,t,"right"),top:Rr(s,t,"top"),bottom:Rr(s,t,"bottom")}:t}function dp(e,t){const n=t._clip;if(n.disabled)return!1;const s=AS(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Kg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var gn=new MS;const gh="transparent",RS={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=ih(e||gh),i=s.valid&&ih(t||gh);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class DS{constructor(t,n,s,i){const r=n[s];i=Ei([t.to,i,r,t.from]);const o=Ei([t.from,r,i]);this._active=!0,this._fn=t.fn||RS[t.type||typeof o],this._easing=Bi[t.easing]||Bi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ei([t.to,n,i,t.from]),this._from=Ei([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class fp{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ct(t))return;const n=Object.keys(It.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ct(r))return;const o={};for(const a of n)o[a]=r[a];(Dt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=LS(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&IS(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new DS(d,t,c,u),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return gn.add(this._chart,s),!0}}function IS(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function LS(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ph(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function jS(e,t,n){if(n===!1)return!1;const s=ph(e,n),i=ph(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function NS(e){let t,n,s,i;return ct(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function gp(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function mh(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],Bt(c)&&(r||t===0||ln(t)===ln(c))&&(t+=c)}return!u&&!s.all?0:t}function $S(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function ya(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function FS(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function BS(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function WS(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function bh(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function yh(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=FS(r,o,s),h=t.length;let d;for(let f=0;f<h;++f){const g=t[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});d=b[c]=WS(i,u,p),d[a]=m,d._top=bh(d,o,!0,s.type),d._bottom=bh(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function _a(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function VS(e,t){return Jn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function US(e,t,n){return Jn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function gi(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const va=e=>e==="reset"||e==="none",_h=(e,t)=>t?e:Object.assign({},e),HS=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:gp(n,!0),values:null};class Xn{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ya(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&gi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=n.xAxisID=tt(s.xAxisID,_a(t,"x")),o=n.yAxisID=tt(s.yAxisID,_a(t,"y")),a=n.rAxisID=tt(s.rAxisID,_a(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&eh(this._data,this),t._stacked&&gi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ct(n)){const i=this._cachedMeta;this._data=$S(n,i)}else if(s!==n){if(s){eh(s,this);const i=this._cachedMeta;gi(i),i._parsed=[]}n&&Object.isExtensible(n)&&Pk(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=ya(n.vScale,n),n.stack!==s.stack&&(i=!0,gi(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(yh(this,n._parsed),n._stacked=ya(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Dt(i[t])?d=this.parseArrayData(s,i,t,n):ct(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&yh(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,g;for(d=0,f=i;d<f;++d)g=d+s,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=n[d],c[u]={x:r.parse(Yn(f,a),d),y:o.parse(Yn(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:gp(i,!0),values:n._stacks[t.axis]._visualValues};return mh(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=mh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=HS(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=BS(a);let d,f;function g(){f=i[d];const p=f[a.axis];return!Bt(f[t.axis])||u>p||h<p}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Bt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=NS(tt(this.options.clip,jS(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=US(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=VS(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&er(s);if(a)return _h(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(It.elements[t]),g=()=>this.getContext(s,i,n),p=c.resolveNamedOptions(d,f,g,h);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(_h(p,l))),p}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,s,n))}const c=new fp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||va(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){va(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!va(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&gi(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zS(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Yg(s.sort((i,r)=>i-r))}return e._cache.$bar}function qS(e){const t=e.iScale,n=zS(t,e.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(er(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function YS(e,t,n,s){const i=n.barThickness;let r,o;return lt(i)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[e]-r/2}}function KS(e,t,n,s){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function GS(e,t,n,s){const i=n.parse(e[0],s),r=n.parse(e[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function pp(e,t,n,s){return Dt(e)?GS(e,t,n,s):t[n.axis]=n.parse(e,s),t}function vh(e,t,n,s){const i=e.iScale,r=e.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=n,u=n+s;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(pp(d,h,r,c));return l}function wa(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function JS(e,t,n){return e!==0?ln(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function XS(e){let t,n,s,i,r;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:t,top:i,bottom:r}}function QS(e,t,n,s){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=XS(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[wh(u,o,a,l)]=!0,i=c)),r[wh(i,o,a,l)]=!0,e.borderSkipped=r}function wh(e,t,n,s){return s?(e=ZS(e,t,n),e=xh(e,n,t)):e=xh(e,t,n),e}function ZS(e,t,n){return e===t?n:e===n?t:e}function xh(e,t,n){return e==="start"?t:e==="end"?n:e}function tE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class eE extends Xn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,i){return vh(t,n,s,i)}parseArrayData(t,n,s,i){return vh(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,p;for(d=s,f=s+i;d<f;++d)p=n[d],g={},g[r.axis]=r.parse(Yn(p,c),d),h.push(pp(Yn(p,u),g,o,d));return h}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(t),o=r._custom,a=wa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const g=this.getParsed(f),p=r||lt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(g._stacks||{})[a.axis],y={horizontal:c,base:p.base,enableBorderRadius:!b||wa(g._custom)||o===b._top||o===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const w=y.options||t[f].options;QS(y,w,b,o),tE(y,w,u.ratio),this.updateElement(t[f],f,y,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(lt(d)||isNaN(d))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[tt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const i=this._getStacks(t,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||qS(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=wa(c);let h=l[n.axis],d=0,f=s?this.applyStack(n,l,s):h,g,p;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&ln(h)!==ln(c.barEnd)&&(d=0),d+=h);const m=!lt(r)&&!u?r:d;let b=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(d+f):g=b,p=g-b,Math.abs(p)<o){p=JS(p,n,a)*o,h===a&&(b-=p/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),x=Math.min(y,w),S=Math.max(y,w);b=Math.max(Math.min(b,S),x),g=b+p,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const y=ln(p)*n.getLineWidthForValue(a)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,r=i.skipNull,o=tt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?KS(t,n,i,u*c):YS(t,n,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(tt(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+f;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class nE extends Xn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const r=super.parsePrimitiveData(t,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,n,s,i){const r=super.parseArrayData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=tt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,n,s,i){const r=super.parseObjectData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=tt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+s;d++){const f=t[d],g=!r&&this.getParsed(d),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),b=p[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(p.options.radius=0)),this.updateElement(f,d,p,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=tt(s&&s._custom,r),i}}function sE(e,t,n){let s=1,i=1,r=0,o=0;if(t<Mt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,x,S)=>nr(w,a,l,!0)?1:Math.max(x,x*n,S,S*n),g=(w,x,S)=>nr(w,a,l,!0)?-1:Math.min(x,x*n,S,S*n),p=f(0,c,h),m=f(qt,u,d),b=g(ft,c,h),y=g(ft+qt,u,d);s=(p-b)/2,i=(m-y)/2,r=-(p+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class hc extends Xn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(ct(s[t])){const{key:l="value"}=this._parsing;r=c=>+Yn(s[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return He(this.options.rotation-90)}_getCircumference(){return He(this.options.circumference)}_getRotationExtents(){let t=Mt,n=-Mt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(fk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=sE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),w=Vg(this.options.radius,y),x=Math.max(w*l,0),S=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/Mt)}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,i);let b=this._getRotation(),y;for(y=0;y<n;++y)b+=this._circumference(y,r);for(y=n;y<n+s;++y){const w=this._circumference(y,r),x=t[y],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:f};m&&(S.options=p||this.resolveDataElementOptions(y,x.active?"active":i)),b+=w,this.updateElement(x,y,S,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Mt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=hr(n._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,r,o,a,l;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class iE extends Xn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Jg(n,i,o);this._drawStart=a,this._drawCount=l,Xg(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Zs(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=n+s,w=t.length;let x=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const E=t[S],O=b?E:{};if(S<n||S>=y){O.skip=!0;continue}const R=this.getParsed(S),N=lt(R[f]),Y=O[d]=o.getPixelForValue(R[d],S),J=O[f]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[f],S);O.skip=isNaN(Y)||isNaN(J)||N,O.stop=S>0&&Math.abs(R[d]-x[d])>m,p&&(O.parsed=R,O.raw=c.data[S]),h&&(O.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),b||this.updateElement(E,S,O,i),x=R}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class mp extends Xn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=hr(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,n,s,i){return rp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*ft;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,p);for(g=n;g<n+s;g++){const m=t[g];let b=f,y=f+this._computeAngle(g,i,p),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(g,m.active?"active":i)};this.updateElement(m,g,x,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?He(this.resolveDataElementOptions(t,n).angle||s):0}}class rE extends hc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class oE extends Xn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return rp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class aE extends Xn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=Jg(n,s,i);if(this._drawStart=r,this._drawCount=o,Xg(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=Zs(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let w=n>0&&this.getParsed(n-1);for(let x=n;x<n+s;++x){const S=t[x],E=this.getParsed(x),O=y?S:{},R=lt(E[g]),N=O[f]=o.getPixelForValue(E[f],x),Y=O[g]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],x);O.skip=isNaN(N)||isNaN(Y)||R,O.stop=x>0&&Math.abs(E[f]-w[f])>b,m&&(O.parsed=E,O.raw=c.data[x]),d&&(O.options=h||this.resolveDataElementOptions(x,S.active?"active":i)),y||this.updateElement(S,x,O,i),w=E}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var lE=Object.freeze({__proto__:null,BarController:eE,BubbleController:nE,DoughnutController:hc,LineController:iE,PieController:rE,PolarAreaController:mp,RadarController:oE,ScatterController:aE});function is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dc{static override(t){Object.assign(dc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return is()}parse(){return is()}format(){return is()}add(){return is()}diff(){return is()}startOf(){return is()}endOf(){return is()}}var bp={_date:dc};function cE(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Ok:xn;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,n-h),f=c(r,t,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=e,f=d.slice(0,u.lo+1).reverse().findIndex(p=>!lt(p[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(p=>!lt(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function Fo(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=cE(r[a],t,o,i);for(let f=h;f<=d;++f){const g=u[f];g.skip||s(g,c,f)}}}function uE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function xa(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||Fo(e,n,t,function(a,l,c){!i&&!kn(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function hE(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=zg(o,{x:t.x,y:t.y});nr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Fo(e,n,t,r),i}function dE(e,t,n,s,i,r){let o=[];const a=uE(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,i);if(s&&!f)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!f)return;const m=a(t,g);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return Fo(e,n,t,c),o}function ka(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?hE(e,t,n,i):dE(e,t,n,s,i,r)}function kh(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Fo(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var fE={modes:{index(e,t,n,s){const i=ls(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?xa(e,i,r,s,o):ka(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const i=ls(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?xa(e,i,r,s,o):ka(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const i=ls(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return xa(e,i,r,s,o)},nearest(e,t,n,s){const i=ls(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return ka(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=ls(t,e);return kh(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=ls(t,e);return kh(e,i,"y",n.intersect,s)}}};const yp=["left","top","right","bottom"];function pi(e,t){return e.filter(n=>n.pos===t)}function Sh(e,t){return e.filter(n=>yp.indexOf(n.pos)===-1&&n.box.axis===t)}function mi(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function gE(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function pE(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!yp.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function mE(e,t){const n=pE(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return n}function bE(e){const t=gE(e),n=mi(t.filter(c=>c.box.fullSize),!0),s=mi(pi(t,"left"),!0),i=mi(pi(t,"right")),r=mi(pi(t,"top"),!0),o=mi(pi(t,"bottom")),a=Sh(t,"x"),l=Sh(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:pi(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Eh(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function _p(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yE(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!ct(i)){n.size&&(e[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[i]+=n.size}r.getPadding&&_p(o,r.getPadding());const a=Math.max(0,t.outerWidth-Eh(o,e,"left","right")),l=Math.max(0,t.outerHeight-Eh(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function _E(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vE(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Oi(e,t,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,vE(a.horizontal,t));const{same:h,other:d}=yE(t,n,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Oi(i,t,n,s)||u}function Dr(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function Oh(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;er(c.start)&&(o=c.start),l.fullSize?Dr(l,i.left,o,n.outerWidth-i.right-i.left,d):Dr(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;er(c.start)&&(r=c.start),l.fullSize?Dr(l,r,i.top,d,n.outerHeight-i.bottom-i.top):Dr(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var ue={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=fe(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=bE(e.boxes),l=a.vertical,c=a.horizontal;vt(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);_p(d,fe(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),g=mE(l.concat(c),h);Oi(a.fullSize,f,h,g),Oi(l,f,h,g),Oi(c,f,h,g)&&Oi(l,f,h,g),_E(f),Oh(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Oh(a.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},vt(a.chartArea,p=>{const m=p.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class vp{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class wE extends vp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qr="$chartjs",xE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Th=e=>e===null||e==="";function kE(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[qr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Th(i)){const r=uh(e,"width");r!==void 0&&(e.width=r)}if(Th(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=uh(e,"height");r!==void 0&&(e.height=r)}return e}const wp=_S?{passive:!0}:!1;function SE(e,t,n){e&&e.addEventListener(t,n,wp)}function EE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,wp)}function OE(e,t){const n=xE[e.type]||e.type,{x:s,y:i}=ls(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function fo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function TE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fo(a.addedNodes,s),o=o&&!fo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function PE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||fo(a.removedNodes,s),o=o&&!fo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ir=new Map;let Ph=0;function xp(){const e=window.devicePixelRatio;e!==Ph&&(Ph=e,ir.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function CE(e,t){ir.size||window.addEventListener("resize",xp),ir.set(e,t)}function AE(e){ir.delete(e),ir.size||window.removeEventListener("resize",xp)}function ME(e,t,n){const s=e.canvas,i=s&&uc(s);if(!i)return;const r=Gg((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),CE(e,r),o}function Sa(e,t,n){n&&n.disconnect(),t==="resize"&&AE(e)}function RE(e,t,n){const s=e.canvas,i=Gg(r=>{e.ctx!==null&&n(OE(r,e))},e);return SE(s,t,i),i}class DE extends vp{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(kE(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[qr])return!1;const s=n[qr].initial;["height","width"].forEach(r=>{const o=s[r];lt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[qr],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:TE,detach:PE,resize:ME}[n]||RE;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Sa,detach:Sa,resize:Sa}[n]||EE)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return yS(t,n,s,i)}isAttached(t){const n=t&&uc(t);return!!(n&&n.isConnected)}}function IE(e){return!cc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?wE:DE}let Mn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Zs(this.x)&&Zs(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function LE(e,t){const n=e.options.ticks,s=jE(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?$E(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return FE(t,c,r,o/i),c;const u=NE(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Ir(t,c,u,lt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Ir(t,c,u,r[h],r[h+1]);return Ir(t,c,u,l,lt(f)?t.length:l+f),c}return Ir(t,c,u),c}function jE(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function NE(e,t,n){const s=BE(e),i=t.length/n;if(!s)return Math.max(i,1);const r=wk(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function $E(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function FE(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Ir(e,t,n,s,i){const r=tt(s,0),o=Math.min(tt(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function BE(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const WE=e=>e==="left"?"right":e==="right"?"left":e,Ch=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Ah=(e,t)=>Math.min(t||e,e);function Mh(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function VE(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function UE(e,t){vt(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function bi(e){return e.drawTicks?e.tickLength:0}function Rh(e,t){if(!e.display)return 0;const n=ee(e.font,t),s=fe(e.padding);return(Dt(e.text)?e.text.length:1)*n.lineHeight+s.height}function HE(e,t){return Jn(e,{scale:t,type:"scale"})}function zE(e,t,n){return Jn(e,{tick:n,index:t,type:"tick"})}function qE(e,t,n){let s=sc(e);return(n&&t!=="right"||!n&&t==="right")&&(s=WE(s)),s}function YE(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,g;const p=o-i,m=a-r;if(e.isHorizontal()){if(f=oe(s,r,a),ct(n)){const b=Object.keys(n)[0],y=n[b];g=u[b].getPixelForValue(y)+p-t}else n==="center"?g=(c.bottom+c.top)/2+p-t:g=Ch(e,n,t);d=a-r}else{if(ct(n)){const b=Object.keys(n)[0],y=n[b];f=u[b].getPixelForValue(y)-m+t}else n==="center"?f=(c.left+c.right)/2-m+t:f=Ch(e,n,t);g=oe(s,o,i),h=n==="left"?-qt:qt}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class ks extends Mn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=Me(t,Number.POSITIVE_INFINITY),n=Me(n,Number.NEGATIVE_INFINITY),s=Me(s,Number.POSITIVE_INFINITY),i=Me(i,Number.NEGATIVE_INFINITY),{min:Me(t,s),max:Me(n,i),minDefined:Bt(t),maxDefined:Bt(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Me(n,Me(s,n)),max:Me(s,Me(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pt(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jk(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Mh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=LE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pt(this.options.afterUpdate,[this])}beforeSetDimensions(){Pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Pt(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Ah(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=ne(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-bi(t.grid)-n.padding-Rh(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=ec(Math.min(Math.asin(ne((u.highest.height+6)/a,-1,1)),Math.asin(ne(l/c,-1,1))-Math.asin(ne(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Rh(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=bi(r)+l):(t.height=this.maxHeight,t.width=bi(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,g=He(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=s.mirror?0:m*h.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:p*h.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*t.width,f=s*n.height):(d=s*t.height,f=i*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)lt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Mh(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Ah(n,s));let c=0,u=0,h,d,f,g,p,m,b,y,w,x,S;for(h=0;h<n;h+=l){if(g=t[h].label,p=this._resolveTickFontOptions(h),i.font=m=p.string,b=r[m]=r[m]||{data:{},gc:[]},y=p.lineHeight,w=x=0,!lt(g)&&!Dt(g))w=uo(i,b.data,b.gc,w,g),x=y;else if(Dt(g))for(d=0,f=g.length;d<f;++d)S=g[d],!lt(S)&&!Dt(S)&&(w=uo(i,b.data,b.gc,w,S),x+=y);o.push(w),a.push(x),c=Math.max(w,c),u=Math.max(x,u)}UE(r,n);const E=o.indexOf(c),O=a.indexOf(u),R=N=>({width:o[N]||0,height:a[N]||0});return{first:R(0),last:R(n-1),widest:R(E),highest:R(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Ek(this._alignToPixels?ss(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=zE(this.getContext(),t,s))}return this.$context||(this.$context=HE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=He(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=bi(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(nt){return ss(s,nt,p)};let y,w,x,S,E,O,R,N,Y,J,it,wt;if(o==="top")y=b(this.bottom),O=this.bottom-d,N=y-m,J=b(t.top)+m,wt=t.bottom;else if(o==="bottom")y=b(this.top),J=t.top,wt=b(t.bottom)-m,O=y+m,N=this.top+d;else if(o==="left")y=b(this.right),E=this.right-d,R=y-m,Y=b(t.left)+m,it=t.right;else if(o==="right")y=b(this.left),Y=t.left,it=b(t.right)-m,E=y+m,R=this.left+d;else if(n==="x"){if(o==="center")y=b((t.top+t.bottom)/2+.5);else if(ct(o)){const nt=Object.keys(o)[0],K=o[nt];y=b(this.chart.scales[nt].getPixelForValue(K))}J=t.top,wt=t.bottom,O=y+m,N=O+d}else if(n==="y"){if(o==="center")y=b((t.left+t.right)/2);else if(ct(o)){const nt=Object.keys(o)[0],K=o[nt];y=b(this.chart.scales[nt].getPixelForValue(K))}E=y-m,R=E-d,Y=t.left,it=t.right}const Qt=tt(i.ticks.maxTicksLimit,h),ut=Math.max(1,Math.ceil(h/Qt));for(w=0;w<h;w+=ut){const nt=this.getContext(w),K=r.setContext(nt),rt=a.setContext(nt),St=K.lineWidth,ge=K.color,pe=rt.dash||[],Ht=rt.dashOffset,Ne=K.tickWidth,we=K.tickColor,Te=K.tickBorderDash||[],Gt=K.tickBorderDashOffset;x=VE(this,w,l),x!==void 0&&(S=ss(s,x,St),c?E=R=Y=it=S:O=N=J=wt=S,f.push({tx1:E,ty1:O,tx2:R,ty2:N,x1:Y,y1:J,x2:it,y2:wt,width:St,color:ge,borderDash:pe,borderDashOffset:Ht,tickWidth:Ne,tickColor:we,tickBorderDash:Te,tickBorderDashOffset:Gt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=bi(s.grid),f=d+u,g=h?-u:f,p=-He(this.labelRotation),m=[];let b,y,w,x,S,E,O,R,N,Y,J,it,wt="middle";if(i==="top")E=this.bottom-g,O=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+g,O=this._getXAxisLabelAlignment();else if(i==="left"){const ut=this._getYAxisLabelAlignment(d);O=ut.textAlign,S=ut.x}else if(i==="right"){const ut=this._getYAxisLabelAlignment(d);O=ut.textAlign,S=ut.x}else if(n==="x"){if(i==="center")E=(t.top+t.bottom)/2+f;else if(ct(i)){const ut=Object.keys(i)[0],nt=i[ut];E=this.chart.scales[ut].getPixelForValue(nt)+f}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(t.left+t.right)/2-f;else if(ct(i)){const ut=Object.keys(i)[0],nt=i[ut];S=this.chart.scales[ut].getPixelForValue(nt)}O=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?wt="top":l==="end"&&(wt="bottom"));const Qt=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){w=a[b],x=w.label;const ut=r.setContext(this.getContext(b));R=this.getPixelForTick(b)+r.labelOffset,N=this._resolveTickFontOptions(b),Y=N.lineHeight,J=Dt(x)?x.length:1;const nt=J/2,K=ut.color,rt=ut.textStrokeColor,St=ut.textStrokeWidth;let ge=O;o?(S=R,O==="inner"&&(b===y-1?ge=this.options.reverse?"left":"right":b===0?ge=this.options.reverse?"right":"left":ge="center"),i==="top"?c==="near"||p!==0?it=-J*Y+Y/2:c==="center"?it=-Qt.highest.height/2-nt*Y+Y:it=-Qt.highest.height+Y/2:c==="near"||p!==0?it=Y/2:c==="center"?it=Qt.highest.height/2-nt*Y:it=Qt.highest.height-J*Y,h&&(it*=-1),p!==0&&!ut.showLabelBackdrop&&(S+=Y/2*Math.sin(p))):(E=R,it=(1-J)*Y/2);let pe;if(ut.showLabelBackdrop){const Ht=fe(ut.backdropPadding),Ne=Qt.heights[b],we=Qt.widths[b];let Te=it-Ht.top,Gt=0-Ht.left;switch(wt){case"middle":Te-=Ne/2;break;case"bottom":Te-=Ne;break}switch(O){case"center":Gt-=we/2;break;case"right":Gt-=we;break;case"inner":b===y-1?Gt-=we:b>0&&(Gt-=we/2);break}pe={left:Gt,top:Te,width:we+Ht.width,height:Ne+Ht.height,color:ut.backdropColor}}m.push({label:x,font:N,textOffset:it,options:{rotation:p,color:K,strokeColor:rt,strokeWidth:St,textAlign:ge,textBaseline:wt,translation:[S,E],backdrop:pe}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-He(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ss(t,this.left,o)-o/2,u=ss(t,this.right,a)+a/2,h=d=l):(h=ss(t,this.top,o)-o/2,d=ss(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&jo(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;_s(s,c,0,u,l,a)}i&&No(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ee(s.font),o=fe(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ct(n)?(l+=o.bottom,Dt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=YE(this,l,n,a);_s(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:qE(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=tt(t.grid&&t.grid.z,-1),i=tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ks.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ee(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lr{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;JE(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,KE(t,o,s),this.override&&It.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in It[i]&&(delete It[i][s],this.override&&delete ys[s])}}function KE(e,t,n){const s=tr(Object.create(null),[n?It.get(n):{},It.get(t),e.defaults]);It.set(t,s),e.defaultRoutes&&GE(t,e.defaultRoutes),e.descriptors&&It.describe(t,e.descriptors)}function GE(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");It.route(r,i,l,a)})}function JE(e){return"id"in e&&"defaults"in e}class XE{constructor(){this.controllers=new Lr(Xn,"datasets",!0),this.elements=new Lr(Mn,"elements"),this.plugins=new Lr(Object,"plugins"),this.scales=new Lr(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):vt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=tc(t);Pt(s["before"+i],[],s),n[t](s),Pt(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var nn=new XE;class QE{constructor(){this._init=void 0}notify(t,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Pt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=tt(s.options&&s.options.plugins,{}),r=ZE(s);return i===!1&&!n?[]:eO(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function ZE(e){const t={},n=[],s=Object.keys(nn.plugins.items);for(let r=0;r<s.length;r++)n.push(nn.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function tO(e,t){return!t&&e===!1?null:e===!0?{}:e}function eO(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=tO(s[l],i);c!==null&&r.push({plugin:a,options:nO(e.config,{plugin:a,local:n[l]},c,o)})}return r}function nO(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ul(e,t){const n=It.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function sO(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iO(e,t){return e===t?"_index_":"_value_"}function Dh(e){if(e==="x"||e==="y"||e==="r")return e}function rO(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function hl(e,...t){if(Dh(e))return e;for(const n of t){const s=n.axis||rO(n.position)||e.length>1&&Dh(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ih(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function oO(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Ih(e,"x",n[0])||Ih(e,"y",n[0])}return{}}function aO(e,t){const n=ys[e.type]||{scales:{}},s=t.scales||{},i=ul(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ct(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=hl(o,a,oO(o,e),It.scales[a.type]),c=iO(l,i),u=n.scales||{};r[o]=$i(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ul(a,t),u=(ys[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=sO(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),$i(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];$i(a,[It.scales[a.type],It.scale])}),r}function kp(e){const t=e.options||(e.options={});t.plugins=tt(t.plugins,{}),t.scales=aO(e,t)}function Sp(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function lO(e){return e=e||{},e.data=Sp(e.data),kp(e),e}const Lh=new Map,Ep=new Set;function jr(e,t){let n=Lh.get(e);return n||(n=t(),Lh.set(e,n),Ep.add(n)),n}const yi=(e,t,n)=>{const s=Yn(t,n);s!==void 0&&e.add(s)};class cO{constructor(t){this._config=lO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Sp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),kp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return jr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return jr(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return jr(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return jr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>yi(l,t,h))),u.forEach(h=>yi(l,i,h)),u.forEach(h=>yi(l,ys[r]||{},h)),u.forEach(h=>yi(l,It,h)),u.forEach(h=>yi(l,ll,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ep.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ys[n]||{},It.datasets[n]||{},{type:n},It,ll]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=jh(this._resolverCache,t,i);let l=o;if(hO(o,n)){r.$shared=!1,s=Kn(s)?s():s;const c=this.createResolver(t,s,a);l=ti(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=jh(this._resolverCache,t,s);return ct(n)?ti(r,n,void 0,i):r}}function jh(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:oc(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const uO=e=>ct(e)&&Object.getOwnPropertyNames(e).some(t=>Kn(e[t]));function hO(e,t){const{isScriptable:n,isIndexable:s}=ep(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(Kn(a)||uO(a))||o&&Dt(a))return!0}return!1}var dO="4.5.1";const fO=["top","bottom","left","right","chartArea"];function Nh(e,t){return e==="top"||e==="bottom"||fO.indexOf(e)===-1&&t==="x"}function $h(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Fh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Pt(n&&n.onComplete,[e],t)}function gO(e){const t=e.chart,n=t.options.animation;Pt(n&&n.onProgress,[e],t)}function Op(e){return cc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yr={},Bh=e=>{const t=Op(e);return Object.values(Yr).filter(n=>n.canvas===t).pop()};function pO(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function mO(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class fc{static defaults=It;static instances=Yr;static overrides=ys;static registry=nn;static version=dO;static getChart=Bh;static register(...t){nn.add(...t),Wh()}static unregister(...t){nn.remove(...t),Wh()}constructor(t,n){const s=this.config=new cO(n),i=Op(t),r=Bh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||IE(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=dk(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ck(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Yr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}gn.listen(this,"complete",Fh),gn.listen(this,"progress",gO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return lt(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ch(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oh(this.canvas,this.ctx),this}stop(){return gn.stop(this),this}resize(t,n){gn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ch(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Pt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=hl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),vt(r,o=>{const a=o.options,l=a.id,c=hl(l,a),u=tt(a.type,o.dtype);(a.position===void 0||Nh(a.position,c)!==Nh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=nn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),vt(i,(o,a)=>{o||delete s[a]}),vt(s,o=>{ue.configure(this,o,o.options),ue.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort($h("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||ul(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=nn.getController(a),{datasetElementType:c,dataElementType:u}=It.datasets[a];Object.assign(l,{dataElementType:nn.getElement(u),datasetElementType:c&&nn.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||vt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($h("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vt(this.scales,t=>{ue.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Xu(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;pO(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Xu(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ue.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],vt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Kn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gn.has(this)?this.attached&&!gn.running(this)&&gn.start(this):(this.draw(),Fh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=dp(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&jo(n,i),t.controller.draw(),i&&No(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return kn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=fE.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Jn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);er(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),gn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),oh(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};vt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){vt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},vt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ao(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=yk(t),c=mO(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Pt(r.onHover,[t,a,this],this),l&&Pt(r.onClick,[t,a,this],this));const u=!ao(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Wh(){return vt(fc.instances,e=>e._plugins.invalidate())}function bO(e,t,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,ae(s-n));if(e.beginPath(),e.arc(i,r,o-c/2,s+h/2,n-h/2),a>0){const d=Math.min(c/a,ae(s-n));e.arc(i,r,a+c/2,n-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*ae(s-n));if(u==="round")e.arc(i,r,d,n-ft/2,s+ft/2,!0);else if(u==="bevel"){const f=2*d*d,g=-f*Math.cos(n+ft/2)+i,p=-f*Math.sin(n+ft/2)+r,m=f*Math.cos(s+ft/2)+i,b=f*Math.sin(s+ft/2)+r;e.lineTo(g,p),e.lineTo(m,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function yO(e,t,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(r,o,a,s-c,n+c),l>i?(c=i/l,e.arc(r,o,l,n+c,s-c,!0)):e.arc(r,o,i,n+qt,s-qt),e.closePath(),e.clip()}function _O(e){return rc(e,["outerStart","outerEnd","innerStart","innerEnd"])}function vO(e,t,n,s){const i=_O(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return ne(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ne(i.innerStart,0,o),innerEnd:ne(i.innerEnd,0,o)}}function Ds(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function go(e,t,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+s+n-c,0),d=u>0?u+s+n+c:0;let f=0;const g=i-l;if(s){const ut=u>0?u-s:0,nt=h>0?h-s:0,K=(ut+nt)/2,rt=K!==0?g*K/(K+s):g;f=(g-rt)/2}const p=Math.max(.001,g*h-n/ft)/h,m=(g-p)/2,b=l+m+f,y=i-m-f,{outerStart:w,outerEnd:x,innerStart:S,innerEnd:E}=vO(t,d,h,y-b),O=h-w,R=h-x,N=b+w/O,Y=y-x/R,J=d+S,it=d+E,wt=b+S/J,Qt=y-E/it;if(e.beginPath(),r){const ut=(N+Y)/2;if(e.arc(o,a,h,N,ut),e.arc(o,a,h,ut,Y),x>0){const St=Ds(R,Y,o,a);e.arc(St.x,St.y,x,Y,y+qt)}const nt=Ds(it,y,o,a);if(e.lineTo(nt.x,nt.y),E>0){const St=Ds(it,Qt,o,a);e.arc(St.x,St.y,E,y+qt,Qt+Math.PI)}const K=(y-E/d+(b+S/d))/2;if(e.arc(o,a,d,y-E/d,K,!0),e.arc(o,a,d,K,b+S/d,!0),S>0){const St=Ds(J,wt,o,a);e.arc(St.x,St.y,S,wt+Math.PI,b-qt)}const rt=Ds(O,b,o,a);if(e.lineTo(rt.x,rt.y),w>0){const St=Ds(O,N,o,a);e.arc(St.x,St.y,w,b-qt,N)}}else{e.moveTo(o,a);const ut=Math.cos(N)*h+o,nt=Math.sin(N)*h+a;e.lineTo(ut,nt);const K=Math.cos(Y)*h+o,rt=Math.sin(Y)*h+a;e.lineTo(K,rt)}e.closePath()}function wO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){go(e,t,n,s,l,i);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%Mt||Mt))}return go(e,t,n,s,l,i),e.fill(),l}function xO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,g?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){go(e,t,n,s,p,i);for(let m=0;m<r;++m)e.stroke();isNaN(a)||(p=o+(a%Mt||Mt))}g&&yO(e,t,p),l.selfJoin&&p-o>=ft&&f===0&&u!=="miter"&&bO(e,t,p),r||(go(e,t,n,s,p,i),e.stroke())}class kO extends Mn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=zg(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=tt(h,l-a),g=nr(r,a,l)&&a!==l,p=f>=Mt||g,m=wn(o,c+d,u+d);return p&&m}getCenterPoint(t){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Mt?Math.floor(s/Mt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(ft,s||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,wO(t,this,c,r,o),xO(t,this,c,r,o),t.restore()}}function Tp(e,t,n=t){e.lineCap=tt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(tt(n.borderDash,t.borderDash)),e.lineDashOffset=tt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=tt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=tt(n.borderWidth,t.borderWidth),e.strokeStyle=tt(n.borderColor,t.borderColor)}function SO(e,t,n){e.lineTo(n.x,n.y)}function EO(e){return e.stepped?Wk:e.tension||e.cubicInterpolationMode==="monotone"?Vk:SO}function Pp(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function OO(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Pp(i,n,s),u=EO(r);let{move:h=!0,reverse:d}=s||{},f,g,p;for(f=0;f<=c;++f)g=i[(a+(d?c-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,p,g,d,r.stepped),p=g);return l&&(g=i[(a+(d?c:0))%o],u(e,p,g,d,r.stepped)),!!l}function TO(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=Pp(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,g,p,m,b;const y=x=>(o+(c?a-x:x))%r,w=()=>{p!==m&&(e.lineTo(u,m),e.lineTo(u,p),e.lineTo(u,b))};for(l&&(f=i[y(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,S=f.y,E=x|0;E===g?(S<p?p=S:S>m&&(m=S),u=(h*u+x)/++h):(w(),e.lineTo(x,S),g=E,h=0,p=m=S),b=S}w()}function dl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?TO:OO}function PO(e){return e.stepped?vS:e.tension||e.cubicInterpolationMode==="monotone"?wS:cs}function CO(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),Tp(e,t.options),e.stroke(i)}function AO(e,t,n,s){const{segments:i,options:r}=t,o=dl(t);for(const a of i)Tp(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const MO=typeof Path2D=="function";function RO(e,t,n,s){MO&&!t.options.segment?CO(e,t,n,s):AO(e,t,n,s)}class Bo extends Mn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;dS(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=hp(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=PO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const p=Math.abs((i-f[n])/(g[n]-f[n])),m=l(f,g,p,s.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,s){return dl(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=dl(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),RO(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Vh(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class DO extends Mn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Vh(this,t,"x",n)}inYRange(t,n){return Vh(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!kn(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,cl(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Cp(e,t){const{x:n,y:s,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Un(e,t,n,s){return e?0:ne(t,n,s)}function IO(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,r=tp(s);return{t:Un(i.top,r.top,0,n),r:Un(i.right,r.right,0,t),b:Un(i.bottom,r.bottom,0,n),l:Un(i.left,r.left,0,t)}}function LO(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=ms(i),o=Math.min(t,n),a=e.borderSkipped,l=s||ct(i);return{topLeft:Un(!l||a.top||a.left,r.topLeft,0,o),topRight:Un(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Un(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Un(!l||a.bottom||a.right,r.bottomRight,0,o)}}function jO(e){const t=Cp(e),n=t.right-t.left,s=t.bottom-t.top,i=IO(e,n/2,s/2),r=LO(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ea(e,t,n,s){const i=t===null,r=n===null,a=e&&!(i&&r)&&Cp(e,s);return a&&(i||wn(t,a.left,a.right))&&(r||wn(n,a.top,a.bottom))}function NO(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function $O(e,t){e.rect(t.x,t.y,t.w,t.h)}function Oa(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class FO extends Mn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=jO(this),a=NO(o.radius)?sr:$O;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Oa(o,n,r)),t.clip(),a(t,Oa(r,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Oa(r,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return Ea(this,t,n,s)}inXRange(t,n){return Ea(this,t,null,n)}inYRange(t,n){return Ea(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var BO=Object.freeze({__proto__:null,ArcElement:kO,BarElement:FO,LineElement:Bo,PointElement:DO});const fl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Uh=fl.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ap(e){return fl[e%fl.length]}function Mp(e){return Uh[e%Uh.length]}function WO(e,t){return e.borderColor=Ap(t),e.backgroundColor=Mp(t),++t}function VO(e,t){return e.backgroundColor=e.data.map(()=>Ap(t++)),t}function UO(e,t){return e.backgroundColor=e.data.map(()=>Mp(t++)),t}function HO(e){let t=0;return(n,s)=>{const i=e.getDatasetMeta(s).controller;i instanceof hc?t=VO(n,t):i instanceof mp?t=UO(n,t):i&&(t=WO(n,t))}}function Hh(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function zO(e){return e&&(e.borderColor||e.backgroundColor)}function qO(){return It.borderColor!=="rgba(0,0,0,0.1)"||It.backgroundColor!=="rgba(0,0,0,0.1)"}var YO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=e.config,{elements:r}=i,o=Hh(s)||zO(i)||r&&Hh(r)||qO();if(!n.forceOverride&&o)return;const a=HO(e);s.forEach(a)}};function KO(e,t,n,s,i){const r=i.samples||s;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,d,f,g,p;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,b=0,y;const w=Math.floor((h+1)*a)+1+t,x=Math.min(Math.floor((h+2)*a)+1,n)+t,S=x-w;for(y=w;y<x;y++)m+=e[y].x,b+=e[y].y;m/=S,b/=S;const E=Math.floor(h*a)+1+t,O=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:R,y:N}=e[u];for(f=g=-1,y=E;y<O;y++)g=.5*Math.abs((R-m)*(e[y].y-N)-(R-e[y].x)*(b-N)),g>f&&(f=g,d=e[y],p=y);o[l++]=d,u=p}return o[l++]=e[c],o}function GO(e,t,n,s){let i=0,r=0,o,a,l,c,u,h,d,f,g,p;const m=[],b=t+n-1,y=e[t].x,x=e[b].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/x*s,c=a.y;const S=l|0;if(S===u)c<g?(g=c,h=o):c>p&&(p=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!lt(h)&&!lt(d)){const O=Math.min(h,d),R=Math.max(h,d);O!==f&&O!==E&&m.push({...e[O],x:i}),R!==f&&R!==E&&m.push({...e[R],x:i})}o>0&&E!==f&&m.push(e[E]),m.push(a),u=S,r=0,g=p=c,h=d=f=o}}return m}function Rp(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function zh(e){e.data.datasets.forEach(t=>{Rp(t)})}function JO(e,t){const n=t.length;let s=0,i;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ne(xn(t,r.axis,o).lo,0,n-1)),c?i=ne(xn(t,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var XO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){zh(e);return}const s=e.width;e.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(r),c=o||i.data;if(Ei([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=JO(l,c);const f=n.threshold||4*s;if(d<=f){Rp(i);return}lt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(n.algorithm){case"lttb":g=KO(c,h,d,s,n);break;case"min-max":g=GO(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(e){zh(e)}};function QO(e,t,n){const s=e.segments,i=e.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=Wo(l,c,i);const u=gl(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=hp(t,u);for(const d of h){const f=gl(n,r[d.start],r[d.end],d.loop),g=up(a,i,f);for(const p of g)o.push({source:p,target:d,start:{[n]:qh(u,f,"start",Math.max)},end:{[n]:qh(u,f,"end",Math.min)}})}}return o}function gl(e,t,n,s){if(s)return;let i=t[e],r=n[e];return e==="angle"&&(i=ae(i),r=ae(r)),{property:e,start:i,end:r}}function ZO(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Wo(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Wo(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function qh(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function Dp(e,t){let n=[],s=!1;return Dt(e)?(s=!0,n=e):n=ZO(e,t),n.length?new Bo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Yh(e){return e&&e.fill!==!1}function tT(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Bt(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function eT(e,t,n){const s=rT(e);if(ct(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Bt(i)&&Math.floor(i)===i?nT(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function nT(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function sT(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ct(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function iT(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:ct(e)?s=e.value:s=t.getBaseValue(),s}function rT(e){const t=e.options,n=t.fill;let s=tt(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function oT(e){const{scale:t,index:n,line:s}=e,i=[],r=s.segments,o=s.points,a=aT(t,n);a.push(Dp({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)lT(i,o[u],a)}return new Bo({points:i,options:{}})}function aT(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function lT(e,t,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=cT(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function cT(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(wn(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class Ip{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Mt},t.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,r=t.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function uT(e){const{chart:t,fill:n,line:s}=e;if(Bt(n))return hT(t,n);if(n==="stack")return oT(e);if(n==="shape")return!0;const i=dT(e);return i instanceof Ip?i:Dp(i,s)}function hT(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function dT(e){return(e.scale||{}).getPointPositionForValue?gT(e):fT(e)}function fT(e){const{scale:t={},fill:n}=e,s=sT(n,t);if(Bt(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function gT(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=iT(n,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Ip({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Ta(e,t,n){const s=uT(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},g=i.getDatasetMeta(r),p=dp(i,g);s&&o.points.length&&(jo(e,n),pT(e,{line:o,target:s,above:d,below:f,area:n,scale:a,axis:l,clip:p}),No(e))}function pT(e,t){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=r;r!==i&&(c==="x"?(Kh(e,s,o.top),Pa(e,{line:n,target:s,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),Kh(e,s,o.bottom)):c==="y"&&(Gh(e,s,o.left),Pa(e,{line:n,target:s,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),Gh(e,s,o.right),u=i)),Pa(e,{line:n,target:s,color:u,scale:a,property:c,clip:l}),e.restore()}function Kh(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Wo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Gh(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[Wo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Pa(e,t){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=t,l=QO(n,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,g=s!==!0;e.save(),e.fillStyle=f,mT(e,o,a,g&&gl(i,h,d)),e.beginPath();const p=!!n.pathSegment(e,c);let m;if(g){p?e.closePath():Jh(e,s,d,i);const b=!!s.pathSegment(e,u,{move:p,reverse:!0});m=p&&b,m||Jh(e,s,h,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function mT(e,t,n,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),e.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function Jh(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var bT={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Bo&&(l={visible:e.isDatasetVisible(o),index:o,fill:eT(a,o,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=tT(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Ta(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Yh(r)&&Ta(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!Yh(s)||n.drawTime!=="beforeDatasetDraw"||Ta(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xh=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},yT=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Qh extends Mn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Pt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=ee(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Xh(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,p)=>{const m=s+n/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,f+=u,d++),l[p]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:w}=_T(s,n,r,m,i);b>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[b]={left:g,top:f,col:p,width:y,height:w},d=Math.max(d,y),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ys(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=oe(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=oe(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=oe(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=oe(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;jo(t,this),this._draw(),No(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=It.color,l=Ys(t.rtl,this.left,this.width),c=ee(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=Xh(o,h),b=function(E,O,R){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const N=tt(R.lineWidth,1);if(i.fillStyle=tt(R.fillStyle,a),i.lineCap=tt(R.lineCap,"butt"),i.lineDashOffset=tt(R.lineDashOffset,0),i.lineJoin=tt(R.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=tt(R.strokeStyle,a),i.setLineDash(tt(R.lineDash,[])),o.usePointStyle){const Y={radius:p*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:N},J=l.xPlus(E,g/2),it=O+d;Zg(i,Y,J,it,o.pointStyleWidth&&g)}else{const Y=O+Math.max((h-p)/2,0),J=l.leftForLtr(E,g),it=ms(R.borderRadius);i.beginPath(),Object.values(it).some(wt=>wt!==0)?sr(i,{x:J,y:Y,w:g,h:p,radius:it}):i.rect(J,Y,g,p),i.fill(),N!==0&&i.stroke()}i.restore()},y=function(E,O,R){_s(i,R.text,E,O+m/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:oe(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:oe(r,this.top+x+u,this.bottom-n[0].height),line:0},ap(this.ctx,t.textDirection);const S=m+u;this.legendItems.forEach((E,O)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const R=i.measureText(E.text).width,N=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),Y=g+d+R;let J=f.x,it=f.y;l.setWidth(this.width),w?O>0&&J+Y+u>this.right&&(it=f.y+=S,f.line++,J=f.x=oe(r,this.left+u,this.right-s[f.line])):O>0&&it+S>this.bottom&&(J=f.x=J+n[f.line].width+u,f.line++,it=f.y=oe(r,this.top+x+u,this.bottom-n[f.line].height));const wt=l.x(J);if(b(wt,it,E),J=Ak(N,J+g+d,w?J+Y:this.right,t.rtl),y(l.x(J),it,E),w)f.x+=Y+u;else if(typeof E.text!="string"){const Qt=c.lineHeight;f.y+=Lp(E,Qt)+u}else f.y+=S}),lp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ee(n.font),i=fe(n.padding);if(!n.display)return;const r=Ys(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=oe(t.align,h,this.right-d);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+oe(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=oe(a,h,h+d);o.textAlign=r.textAlign(sc(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,_s(o,n.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,n=ee(t.font),s=fe(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(wn(t,this.left,this.right)&&wn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],wn(t,i.left,i.left+i.width)&&wn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!xT(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=yT(i,s);i&&!r&&Pt(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Pt(n.onHover,[t,s,this],this)}else s&&Pt(n.onClick,[t,s,this],this)}}function _T(e,t,n,s,i){const r=vT(s,e,t,n),o=wT(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function vT(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function wT(e,t,n){let s=e;return typeof t.text!="string"&&(s=Lp(t,n)),s}function Lp(e,t){const n=e.text?e.text.length:0;return t*n}function xT(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var kT={id:"legend",_element:Qh,start(e,t,n){const s=e.legend=new Qh({ctx:e.ctx,options:n,chart:e});ue.configure(e,s,n),ue.addBox(e,s)},stop(e){ue.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;ue.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=fe(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class gc extends Mn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Dt(s.text)?s.text.length:1;this._padding=fe(s.padding);const r=i*ee(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=oe(a,s,r),h=n+t,c=r-s):(o.position==="left"?(u=s+t,h=oe(a,i,n),l=ft*-.5):(u=r-t,h=oe(a,n,i),l=ft*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=ee(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);_s(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:sc(n.align),textBaseline:"middle",translation:[o,a]})}}function ST(e,t){const n=new gc({ctx:e.ctx,options:t,chart:e});ue.configure(e,n,t),ue.addBox(e,n),e.titleBlock=n}var ET={id:"title",_element:gc,start(e,t,n){ST(e,n)},stop(e){const t=e.titleBlock;ue.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;ue.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nr=new WeakMap;var OT={id:"subtitle",start(e,t,n){const s=new gc({ctx:e.ctx,options:n,chart:e});ue.configure(e,s,n),ue.addBox(e,s),Nr.set(e,s)},stop(e){ue.removeBox(e,Nr.get(e)),Nr.delete(e)},beforeUpdate(e,t,n){const s=Nr.get(e);ue.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ti={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=al(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function tn(e,t){return t&&(Dt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function TT(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Zh(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ee(t.bodyFont),c=ee(t.titleFont),u=ee(t.footerFont),h=r.length,d=i.length,f=s.length,g=fe(t.padding);let p=g.height,m=0,b=s.reduce((x,S)=>x+S.before.length+S.lines.length+S.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const w=function(x){m=Math.max(m,n.measureText(x).width+y)};return n.save(),n.font=c.string,vt(e.title,w),n.font=l.string,vt(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,vt(s,x=>{vt(x.before,w),vt(x.lines,w),vt(x.after,w)}),y=0,n.font=u.string,vt(e.footer,w),n.restore(),m+=g.width,{width:m,height:p}}function PT(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function CT(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function AT(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),CT(c,e,t,n)&&(c="center"),c}function td(e,t,n){const s=n.yAlign||t.yAlign||PT(e,n);return{xAlign:n.xAlign||t.xAlign||AT(e,t,n,s),yAlign:s}}function MT(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function RT(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function ed(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ms(o);let g=MT(t,a);const p=RT(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,f)+i),{x:ne(g,0,s.width-t.width),y:ne(p,0,s.height-t.height)}}function $r(e,t,n){const s=fe(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function nd(e){return tn([],pn(e))}function DT(e,t,n){return Jn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function sd(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const jp={beforeTitle:fn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:fn,beforeBody:fn,beforeLabel:fn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return lt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:fn,afterBody:fn,beforeFooter:fn,footer:fn,afterFooter:fn};function Se(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?jp[t].call(n,s):i}class id extends Mn{static positioners=Ti;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new fp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=DT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=Se(s,"beforeTitle",this,t),r=Se(s,"title",this,t),o=Se(s,"afterTitle",this,t);let a=[];return a=tn(a,pn(i)),a=tn(a,pn(r)),a=tn(a,pn(o)),a}getBeforeBody(t,n){return nd(Se(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return vt(t,r=>{const o={before:[],lines:[],after:[]},a=sd(s,r);tn(o.before,pn(Se(a,"beforeLabel",this,r))),tn(o.lines,Se(a,"label",this,r)),tn(o.after,pn(Se(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return nd(Se(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=Se(s,"beforeFooter",this,t),r=Se(s,"footer",this,t),o=Se(s,"afterFooter",this,t);let a=[];return a=tn(a,pn(i)),a=tn(a,pn(r)),a=tn(a,pn(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(TT(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),vt(a,u=>{const h=sd(t.callbacks,u);i.push(Se(h,"labelColor",this,u)),r.push(Se(h,"labelPointStyle",this,u)),o.push(Se(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ti[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Zh(this,s),c=Object.assign({},a,l),u=td(this.chart,s,c),h=ed(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=ms(a),{x:d,y:f}=t,{width:g,height:p}=n;let m,b,y,w,x,S;return r==="center"?(x=f+p/2,i==="left"?(m=d,b=m-o,w=x+o,S=x-o):(m=d+g,b=m+o,w=x-o,S=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+g-Math.max(c,h)-o:b=this.caretX,r==="top"?(w=f,x=w-o,m=b-o,y=b+o):(w=f+p,x=w+o,m=b+o,y=b-o),S=w),{x1:m,x2:b,x3:y,y1:w,y2:x,y3:S}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Ys(s.rtl,this.x,this.width);for(t.x=$r(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=ee(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ee(r.bodyFont),h=$r(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,cl(t,p,m,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,cl(t,p,m,b)}else{t.lineWidth=ct(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=ms(o.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,sr(t,{x:p,y:g,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),sr(t,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ee(s.bodyFont);let d=h.lineHeight,f=0;const g=Ys(s.rtl,this.x,this.width),p=function(R){n.fillText(R,g.x(t.x+f),t.y+d/2),t.y+=d+r},m=g.textAlign(o);let b,y,w,x,S,E,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=$r(this,m,s),n.fillStyle=s.bodyColor,vt(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(b=i[x],y=this.labelTextColors[x],n.fillStyle=y,vt(b.before,p),w=b.lines,a&&w.length&&(this._drawColorBox(n,t,x,g,s),d=Math.max(h.lineHeight,l)),S=0,O=w.length;S<O;++S)p(w[S]),d=h.lineHeight;vt(b.after,p)}f=0,d=h.lineHeight,vt(this.afterBody,p),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Ys(s.rtl,this.x,this.width);for(t.x=$r(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=ee(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=ms(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ti[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Zh(this,t),l=Object.assign({},o,this._size),c=td(n,t,l),u=ed(t,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=fe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),ap(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),lp(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ao(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!ao(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Ti[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}var IT={id:"tooltip",_element:id,positioners:Ti,afterInit(e,t,n){n&&(e.tooltip=new id({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},LT=Object.freeze({__proto__:null,Colors:YO,Decimation:XO,Filler:bT,Legend:kT,SubTitle:OT,Title:ET,Tooltip:IT});const jT=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function NT(e,t,n,s){const i=e.indexOf(t);if(i===-1)return jT(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const $T=(e,t)=>e===null?null:ne(Math.round(e),0,t);function rd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class FT extends ks{static id="category";static defaults={ticks:{callback:rd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(lt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:NT(s,t,tt(n,t),this._addedLabels),$T(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return rd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function BT(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,g=u-1,{min:p,max:m}=t,b=!lt(o),y=!lt(a),w=!lt(c),x=(m-p)/(h+1);let S=Zu((m-p)/g/f)*f,E,O,R,N;if(S<1e-14&&!b&&!y)return[{value:p},{value:m}];N=Math.ceil(m/S)-Math.floor(p/S),N>g&&(S=Zu(N*S/g/f)*f),lt(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(O=Math.floor(p/S)*S,R=Math.ceil(m/S)*S):(O=p,R=m),b&&y&&r&&kk((a-o)/r,S/1e3)?(N=Math.round(Math.min((a-o)/S,u)),S=(a-o)/N,O=o,R=a):w?(O=b?o:O,R=y?a:R,N=c-1,S=(R-O)/N):(N=(R-O)/S,Fi(N,Math.round(N),S/1e3)?N=Math.round(N):N=Math.ceil(N));const Y=Math.max(th(S),th(O));E=Math.pow(10,lt(l)?Y:l),O=Math.round(O*E)/E,R=Math.round(R*E)/E;let J=0;for(b&&(d&&O!==o?(n.push({value:o}),O<o&&J++,Fi(Math.round((O+J*S)*E)/E,o,od(o,x,e))&&J++):O<o&&J++);J<N;++J){const it=Math.round((O+J*S)*E)/E;if(y&&it>a)break;n.push({value:it})}return y&&d&&R!==a?n.length&&Fi(n[n.length-1].value,a,od(a,x,e))?n[n.length-1].value=a:n.push({value:a}):(!y||R===a)&&n.push({value:R}),n}function od(e,t,{horizontal:n,minRotation:s}){const i=He(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class po extends ks{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=ln(i),c=ln(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=BT(i,r);return t.bounds==="ticks"&&Hg(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return hr(t,this.chart.options.locale,this.options.ticks.format)}}class WT extends po{static id="linear";static defaults={ticks:{callback:Lo.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Bt(t)?t:0,this.max=Bt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=He(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const rr=e=>Math.floor(Wn(e)),rs=(e,t)=>Math.pow(10,rr(e)+t);function ad(e){return e/Math.pow(10,rr(e))===1}function ld(e,t,n){const s=Math.pow(10,n),i=Math.floor(e/s);return Math.ceil(t/s)-i}function VT(e,t){const n=t-e;let s=rr(n);for(;ld(e,t,s)>10;)s++;for(;ld(e,t,s)<10;)s--;return Math.min(s,rr(e))}function UT(e,{min:t,max:n}){t=Me(e.min,t);const s=[],i=rr(t);let r=VT(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Me(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)s.push({value:d,major:ad(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Me(e.max,d);return s.push({value:f,major:ad(f),significand:h}),s}class HT extends ks{static id="logarithmic";static defaults={ticks:{callback:Lo.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=po.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return Bt(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Bt(t)?Math.max(0,t):null,this.max=Bt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Bt(this._userMin)&&(this.min=t===rs(this.min,0)?rs(this.min,-1):rs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(rs(s,-1)),o(rs(i,1)))),s<=0&&r(rs(i,-1)),i<=0&&o(rs(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=UT(n,this);return t.bounds==="ticks"&&Hg(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":hr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Wn(t),this._valueRange=Wn(this.max)-Wn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Wn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function pl(e){const t=e.ticks;if(t.display&&e.display){const n=fe(t.backdropPadding);return tt(t.font&&t.font.size,It.font.size)+n.height}return 0}function zT(e,t,n){return n=Dt(n)?n:[n],{w:Bk(e,t.string,n),h:n.length*t.lineHeight}}function cd(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function qT(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?ft/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),h=ee(c.font),d=zT(e.ctx,h,e._pointLabels[l]);s[l]=d;const f=ae(e.getIndexAngle(l)+a),g=Math.round(ec(f)),p=cd(g,u.x,d.w,0,180),m=cd(g,u.y,d.h,90,270);YT(n,t,f,p,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=JT(e,s,i)}function YT(e,t,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function KT(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,s+i+o,r),c=Math.round(ec(ae(l.angle+qt))),u=ZT(l.y,a.h,c),h=XT(c),d=QT(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function GT(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:r}=e;return!(kn({x:n,y:s},t)||kn({x:n,y:r},t)||kn({x:i,y:s},t)||kn({x:i,y:r},t))}function JT(e,t,n){const s=[],i=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:pl(r)/2,additionalAngle:o?ft/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const h=KT(e,u,l);s.push(h),a==="auto"&&(h.visible=GT(h,c),h.visible&&(c=h))}return s}function XT(e){return e===0||e===180?"center":e<180?"left":"right"}function QT(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function ZT(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function tP(e,t,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=t;if(!lt(a)){const l=ms(t.borderRadius),c=fe(t.backdropPadding);e.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),sr(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function eP(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const r=e._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(e.getPointLabelContext(i));tP(n,o,r);const a=ee(o.font),{x:l,y:c,textAlign:u}=r;_s(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Np(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Mt);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=e.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function nP(e,t,n,s,i){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Np(e,n,o,s),r.closePath(),r.stroke(),r.restore())}function sP(e,t,n){return Jn(e,{label:n,index:t,type:"pointLabel"})}class iP extends po{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Lo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=fe(pl(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Bt(t)&&!isNaN(t)?t:0,this.max=Bt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pl(this.options))}generateTickLabels(t){po.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=Pt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?qT(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=Mt/(this._pointLabels.length||1),s=this.options.startAngle||0;return ae(t*n+He(s))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(lt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return sP(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-qt+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Np(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&eP(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),g=r.setContext(d);nP(this,f,l,o,g)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=ee(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=fe(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}_s(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Vo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oe=Object.keys(Vo);function ud(e,t){return e-t}function hd(e,t){if(lt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Bt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Zs(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function dd(e,t,n,s){const i=Oe.length;for(let r=Oe.indexOf(e);r<i-1;++r){const o=Vo[Oe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return Oe[r]}return Oe[i-1]}function rP(e,t,n,s,i){for(let r=Oe.length-1;r>=Oe.indexOf(n);r--){const o=Oe[r];if(Vo[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return Oe[n?Oe.indexOf(n):0]}function oP(e){for(let t=Oe.indexOf(e)+1,n=Oe.length;t<n;++t)if(Vo[Oe[t]].common)return Oe[t]}function fd(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=nc(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function aP(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function gd(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:aP(e,s,i,n)}class ml extends ks{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new bp._date(t.adapters.date);i.init(n),$i(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:hd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Bt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Bt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Tk(i,r,o);return this._unit=n.unit||(s.autoSkip?dd(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):rP(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:oP(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),gd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ne(n,0,o),s=ne(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||dd(r.minUnit,n,s,this._getLabelCapacity(n)),a=tt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Zs(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+t.add(d,a,o),f++)fd(u,d,g);return(d===s||i.bounds==="ticks"||f===1)&&fd(u,d,g),Object.keys(u).sort(ud).map(p=>+p)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Pt(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[n],f=c&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=He(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,gd(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(hd(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Yg(t.sort(ud))}}function Fr(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=xn(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=xn(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class lP extends ml{static id="timeseries";static defaults=ml.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fr(n,this.min),this._tableRange=Fr(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Fr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Fr(this._table,s*this._tableRange+this._minPos,!0)}}var cP=Object.freeze({__proto__:null,CategoryScale:FT,LinearScale:WT,LogarithmicScale:HT,RadialLinearScale:iP,TimeScale:ml,TimeSeriesScale:lP});const uP=[lE,BO,LT,cP];fc.register(...uP);const $p=6048e5,hP=864e5,dr=6e4,fr=36e5,dP=1e3,pd=Symbol.for("constructDateFrom");function Vt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&pd in e?e[pd](t):e instanceof Date?new e.constructor(t):new Date(t)}function et(e,t){return Vt(t||e,e)}function Uo(e,t,n){const s=et(e,n?.in);return isNaN(t)?Vt(n?.in||e,NaN):(t&&s.setDate(s.getDate()+t),s)}function pc(e,t,n){const s=et(e,n?.in);if(isNaN(t))return Vt(e,NaN);if(!t)return s;const i=s.getDate(),r=Vt(e,s.getTime());r.setMonth(s.getMonth()+t+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function mc(e,t,n){return Vt(e,+et(e)+t)}function fP(e,t,n){return mc(e,t*fr)}let gP={};function Ss(){return gP}function un(e,t){const n=Ss(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=et(e,t?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ni(e,t){return un(e,{...t,weekStartsOn:1})}function Fp(e,t){const n=et(e,t?.in),s=n.getFullYear(),i=Vt(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=ni(i),o=Vt(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=ni(o);return n.getTime()>=r.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function mo(e){const t=et(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Es(e,...t){const n=Vt.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function bl(e,t){const n=et(e,t?.in);return n.setHours(0,0,0,0),n}function Bp(e,t,n){const[s,i]=Es(n?.in,e,t),r=bl(s),o=bl(i),a=+r-mo(r),l=+o-mo(o);return Math.round((a-l)/hP)}function pP(e,t){const n=Fp(e,t),s=Vt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),ni(s)}function mP(e,t,n){const s=et(e,n?.in);return s.setTime(s.getTime()+t*dr),s}function bP(e,t,n){return pc(e,t*3,n)}function yP(e,t,n){return mc(e,t*1e3)}function _P(e,t,n){return Uo(e,t*7,n)}function vP(e,t,n){return pc(e,t*12,n)}function Vi(e,t){const n=+et(e)-+et(t);return n<0?-1:n>0?1:n}function wP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wp(e){return!(!wP(e)&&typeof e!="number"||isNaN(+et(e)))}function xP(e,t,n){const[s,i]=Es(n?.in,e,t),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function kP(e,t,n){const[s,i]=Es(n?.in,e,t);return s.getFullYear()-i.getFullYear()}function Vp(e,t,n){const[s,i]=Es(n?.in,e,t),r=md(s,i),o=Math.abs(Bp(s,i));s.setDate(s.getDate()-r*o);const a=+(md(s,i)===-r),l=r*(o-a);return l===0?0:l}function md(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function gr(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function SP(e,t,n){const[s,i]=Es(n?.in,e,t),r=(+s-+i)/fr;return gr(n?.roundingMethod)(r)}function bc(e,t){return+et(e)-+et(t)}function EP(e,t,n){const s=bc(e,t)/dr;return gr(n?.roundingMethod)(s)}function Up(e,t){const n=et(e,t?.in);return n.setHours(23,59,59,999),n}function Hp(e,t){const n=et(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function OP(e,t){const n=et(e,t?.in);return+Up(n,t)==+Hp(n,t)}function zp(e,t,n){const[s,i,r]=Es(n?.in,e,e,t),o=Vi(i,r),a=Math.abs(xP(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=Vi(i,r)===-o;OP(s)&&a===1&&Vi(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function TP(e,t,n){const s=zp(e,t,n)/3;return gr(n?.roundingMethod)(s)}function PP(e,t,n){const s=bc(e,t)/1e3;return gr(n?.roundingMethod)(s)}function CP(e,t,n){const s=Vp(e,t,n)/7;return gr(n?.roundingMethod)(s)}function AP(e,t,n){const[s,i]=Es(n?.in,e,t),r=Vi(s,i),o=Math.abs(kP(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=Vi(s,i)===-r,l=r*(o-+a);return l===0?0:l}function MP(e,t){const n=et(e,t?.in),s=n.getMonth(),i=s-s%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function RP(e,t){const n=et(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function DP(e,t){const n=et(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function qp(e,t){const n=et(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function IP(e,t){const n=et(e,t?.in);return n.setMinutes(59,59,999),n}function LP(e,t){const n=Ss(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=et(e,t?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function jP(e,t){const n=et(e,t?.in);return n.setSeconds(59,999),n}function NP(e,t){const n=et(e,t?.in),s=n.getMonth(),i=s-s%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}function $P(e,t){const n=et(e,t?.in);return n.setMilliseconds(999),n}const FP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BP=(e,t,n)=>{let s;const i=FP[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ca(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const WP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HP={date:Ca({formats:WP,defaultWidth:"full"}),time:Ca({formats:VP,defaultWidth:"full"}),dateTime:Ca({formats:UP,defaultWidth:"full"})},zP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qP=(e,t,n,s)=>zP[e];function _i(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const r=e.argumentCallback?e.argumentCallback(t):t;return i[r]}}const YP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZP=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t1={ordinalNumber:ZP,era:_i({values:YP,defaultWidth:"wide"}),quarter:_i({values:KP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_i({values:GP,defaultWidth:"wide"}),day:_i({values:JP,defaultWidth:"wide"}),dayPeriod:_i({values:XP,defaultWidth:"wide",formattingValues:QP,defaultFormattingWidth:"wide"})};function vi(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],r=t.match(i);if(!r)return null;const o=r[0],a=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?n1(a,h=>h.test(o)):e1(a,h=>h.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function e1(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function n1(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function s1(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],r=t.match(e.parsePattern);if(!r)return null;let o=e.valueCallback?e.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const i1=/^(\d+)(th|st|nd|rd)?/i,r1=/\d+/i,o1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a1={any:[/^b/i,/^(a|c)/i]},l1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c1={any:[/1/i,/2/i,/3/i,/4/i]},u1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},d1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m1={ordinalNumber:s1({matchPattern:i1,parsePattern:r1,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:a1,defaultParseWidth:"any"}),quarter:vi({matchPatterns:l1,defaultMatchWidth:"wide",parsePatterns:c1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:u1,defaultMatchWidth:"wide",parsePatterns:h1,defaultParseWidth:"any"}),day:vi({matchPatterns:d1,defaultMatchWidth:"wide",parsePatterns:f1,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:g1,defaultMatchWidth:"any",parsePatterns:p1,defaultParseWidth:"any"})},Yp={code:"en-US",formatDistance:BP,formatLong:HP,formatRelative:qP,localize:t1,match:m1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b1(e,t){const n=et(e,t?.in);return Bp(n,qp(n))+1}function Kp(e,t){const n=et(e,t?.in),s=+ni(n)-+pP(n);return Math.round(s/$p)+1}function yc(e,t){const n=et(e,t?.in),s=n.getFullYear(),i=Ss(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Vt(t?.in||e,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=un(o,t),l=Vt(t?.in||e,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=un(l,t);return+n>=+a?s+1:+n>=+c?s:s-1}function y1(e,t){const n=Ss(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=yc(e,t),r=Vt(t?.in||e,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),un(r,t)}function Gp(e,t){const n=et(e,t?.in),s=+un(n,t)-+y1(n,t);return Math.round(s/$p)+1}function _t(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const In={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return _t(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_t(n+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return _t(i,t.length)}},Is={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bd={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return In.y(e,t)},Y:function(e,t,n,s){const i=yc(e,s),r=i>0?i:1-i;if(t==="YY"){const o=r%100;return _t(o,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):_t(r,t.length)},R:function(e,t){const n=Fp(e);return _t(n,t.length)},u:function(e,t){const n=e.getFullYear();return _t(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return _t(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return _t(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return In.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return _t(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=Gp(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):_t(i,t.length)},I:function(e,t,n){const s=Kp(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):_t(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):In.d(e,t)},D:function(e,t,n){const s=b1(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):_t(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return _t(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return _t(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return _t(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Is.noon:s===0?i=Is.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Is.evening:s>=12?i=Is.afternoon:s>=4?i=Is.morning:i=Is.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return In.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):In.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):_t(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):_t(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):In.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):In.s(e,t)},S:function(e,t){return In.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return _d(s);case"XXXX":case"XX":return us(s);case"XXXXX":case"XXX":default:return us(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return _d(s);case"xxxx":case"xx":return us(s);case"xxxxx":case"xxx":default:return us(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yd(s,":");case"OOOO":default:return"GMT"+us(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yd(s,":");case"zzzz":default:return"GMT"+us(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return _t(s,t.length)},T:function(e,t,n){return _t(+e,t.length)}};function yd(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),r=s%60;return r===0?n+String(i):n+String(i)+t+_t(r,2)}function _d(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):us(e,t)}function us(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=_t(Math.trunc(s/60),2),r=_t(s%60,2);return n+i+t+r}const vd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Jp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_1=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return vd(e,t);let r;switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",vd(s,t)).replace("{{time}}",Jp(i,t))},yl={p:Jp,P:_1},v1=/^D+$/,w1=/^Y+$/,x1=["D","DD","YY","YYYY"];function Xp(e){return v1.test(e)}function Qp(e){return w1.test(e)}function _l(e,t,n){const s=k1(e,t,n);if(console.warn(s),x1.includes(e))throw new RangeError(s)}function k1(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O1=/^'([^]*?)'?$/,T1=/''/g,P1=/[a-zA-Z]/;function C1(e,t,n){const s=Ss(),i=n?.locale??s.locale??Yp,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=et(e,n?.in);if(!Wp(a))throw new RangeError("Invalid time value");let l=t.match(E1).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=yl[h];return d(u,i.formatLong)}return u}).join("").match(S1).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:A1(u)};if(bd[h])return{isToken:!0,value:u};if(h.match(P1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!n?.useAdditionalWeekYearTokens&&Qp(h)||!n?.useAdditionalDayOfYearTokens&&Xp(h))&&_l(h,t,String(e));const d=bd[h[0]];return d(a,h,i.localize,c)}).join("")}function A1(e){const t=e.match(O1);return t?t[1].replace(T1,"'"):e}function M1(){return Object.assign({},Ss())}function R1(e,t){const n=et(e,t?.in).getDay();return n===0?7:n}function D1(e,t){const n=I1(t)?new t(0):Vt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function I1(e){return typeof e=="function"&&e.prototype?.constructor===e}const L1=10;class Zp{subPriority=0;validate(t,n){return!0}}class j1 extends Zp{constructor(t,n,s,i,r){super(),this.value=t,this.validateValue=n,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,s){return this.setValue(t,n,this.value,s)}}class N1 extends Zp{priority=L1;subPriority=-1;constructor(t,n){super(),this.context=t||(s=>Vt(n,s))}set(t,n){return n.timestampIsSet?t:Vt(t,D1(t,this.context))}}class gt{run(t,n,s,i){const r=this.parse(t,n,s,i);return r?{setter:new j1(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,n,s){return!0}}class $1 extends gt{priority=140;parse(t,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,n,s){return n.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Yt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Kt(e,t){return e&&{value:t(e.value),rest:e.rest}}function jt(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function on(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const s=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:s*(i*fr+r*dr+o*dP),rest:t.slice(n[0].length)}}function tm(e){return jt(Yt.anyDigitsSigned,e)}function Ut(e,t){switch(e){case 1:return jt(Yt.singleDigit,t);case 2:return jt(Yt.twoDigits,t);case 3:return jt(Yt.threeDigits,t);case 4:return jt(Yt.fourDigits,t);default:return jt(new RegExp("^\\d{1,"+e+"}"),t)}}function bo(e,t){switch(e){case 1:return jt(Yt.singleDigitSigned,t);case 2:return jt(Yt.twoDigitsSigned,t);case 3:return jt(Yt.threeDigitsSigned,t);case 4:return jt(Yt.fourDigitsSigned,t);default:return jt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function _c(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function em(e,t){const n=t>0,s=n?t:1-t;let i;if(s<=50)i=e||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=e>=r%100;i=e+o-(a?100:0)}return n?i:1-i}function nm(e){return e%400===0||e%4===0&&e%100!==0}class F1 extends gt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return Kt(Ut(4,t),i);case"yo":return Kt(s.ordinalNumber(t,{unit:"year"}),i);default:return Kt(Ut(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s){const i=t.getFullYear();if(s.isTwoDigitYear){const o=em(s.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const r=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class B1 extends gt{priority=130;parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Kt(Ut(4,t),i);case"Yo":return Kt(s.ordinalNumber(t,{unit:"year"}),i);default:return Kt(Ut(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s,i){const r=yc(t,i);if(s.isTwoDigitYear){const a=em(s.year,r);return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),un(t,i)}const o=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),un(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class W1 extends gt{priority=130;parse(t,n){return bo(n==="R"?4:n.length,t)}set(t,n,s){const i=Vt(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),ni(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class V1 extends gt{priority=130;parse(t,n){return bo(n==="u"?4:n.length,t)}set(t,n,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class U1 extends gt{priority=120;parse(t,n,s){switch(n){case"Q":case"QQ":return Ut(n.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class H1 extends gt{priority=120;parse(t,n,s){switch(n){case"q":case"qq":return Ut(n.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class z1 extends gt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"M":return Kt(jt(Yt.month,t),i);case"MM":return Kt(Ut(2,t),i);case"Mo":return Kt(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class q1 extends gt{priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"L":return Kt(jt(Yt.month,t),i);case"LL":return Kt(Ut(2,t),i);case"Lo":return Kt(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Y1(e,t,n){const s=et(e,n?.in),i=Gp(s,n)-t;return s.setDate(s.getDate()-i*7),et(s,n?.in)}class K1 extends gt{priority=100;parse(t,n,s){switch(n){case"w":return jt(Yt.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s,i){return un(Y1(t,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function G1(e,t,n){const s=et(e,n?.in),i=Kp(s,n)-t;return s.setDate(s.getDate()-i*7),s}class J1 extends gt{priority=100;parse(t,n,s){switch(n){case"I":return jt(Yt.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s){return ni(G1(t,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const X1=[31,28,31,30,31,30,31,31,30,31,30,31],Q1=[31,29,31,30,31,30,31,31,30,31,30,31];class Z1 extends gt{priority=90;subPriority=1;parse(t,n,s){switch(n){case"d":return jt(Yt.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Ut(n.length,t)}}validate(t,n){const s=t.getFullYear(),i=nm(s),r=t.getMonth();return i?n>=1&&n<=Q1[r]:n>=1&&n<=X1[r]}set(t,n,s){return t.setDate(s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class tC extends gt{priority=90;subpriority=1;parse(t,n,s){switch(n){case"D":case"DD":return jt(Yt.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Ut(n.length,t)}}validate(t,n){const s=t.getFullYear();return nm(s)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function vc(e,t,n){const s=Ss(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=et(e,n?.in),o=r.getDay(),l=(t%7+7)%7,c=7-i,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Uo(r,u,n)}class eC extends gt{priority=90;parse(t,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=vc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class nC extends gt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return Kt(Ut(n.length,t),r);case"eo":return Kt(s.ordinalNumber(t,{unit:"day"}),r);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=vc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class sC extends gt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return Kt(Ut(n.length,t),r);case"co":return Kt(s.ordinalNumber(t,{unit:"day"}),r);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=vc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function iC(e,t,n){const s=et(e,n?.in),i=R1(s,n),r=t-i;return Uo(s,r,n)}class rC extends gt{priority=90;parse(t,n,s){const i=r=>r===0?7:r;switch(n){case"i":case"ii":return Ut(n.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Kt(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Kt(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Kt(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Kt(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,s){return t=iC(t,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class oC extends gt{priority=80;parse(t,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(_c(s),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class aC extends gt{priority=80;parse(t,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(_c(s),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class lC extends gt{priority=80;parse(t,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(_c(s),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class cC extends gt{priority=70;parse(t,n,s){switch(n){case"h":return jt(Yt.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class uC extends gt{priority=70;parse(t,n,s){switch(n){case"H":return jt(Yt.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,s){return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class hC extends gt{priority=70;parse(t,n,s){switch(n){case"K":return jt(Yt.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class dC extends gt{priority=70;parse(t,n,s){switch(n){case"k":return jt(Yt.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ut(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class fC extends gt{priority=60;parse(t,n,s){switch(n){case"m":return jt(Yt.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setMinutes(s,0,0),t}incompatibleTokens=["t","T"]}class gC extends gt{priority=50;parse(t,n,s){switch(n){case"s":return jt(Yt.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Ut(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setSeconds(s,0),t}incompatibleTokens=["t","T"]}class pC extends gt{priority=30;parse(t,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Kt(Ut(n.length,t),s)}set(t,n,s){return t.setMilliseconds(s),t}incompatibleTokens=["t","T"]}class mC extends gt{priority=10;parse(t,n){switch(n){case"X":return on(rn.basicOptionalMinutes,t);case"XX":return on(rn.basic,t);case"XXXX":return on(rn.basicOptionalSeconds,t);case"XXXXX":return on(rn.extendedOptionalSeconds,t);case"XXX":default:return on(rn.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Vt(t,t.getTime()-mo(t)-s)}incompatibleTokens=["t","T","x"]}class bC extends gt{priority=10;parse(t,n){switch(n){case"x":return on(rn.basicOptionalMinutes,t);case"xx":return on(rn.basic,t);case"xxxx":return on(rn.basicOptionalSeconds,t);case"xxxxx":return on(rn.extendedOptionalSeconds,t);case"xxx":default:return on(rn.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Vt(t,t.getTime()-mo(t)-s)}incompatibleTokens=["t","T","X"]}class yC extends gt{priority=40;parse(t){return tm(t)}set(t,n,s){return[Vt(t,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class _C extends gt{priority=20;parse(t){return tm(t)}set(t,n,s){return[Vt(t,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const vC={G:new $1,y:new F1,Y:new B1,R:new W1,u:new V1,Q:new U1,q:new H1,M:new z1,L:new q1,w:new K1,I:new J1,d:new Z1,D:new tC,E:new eC,e:new nC,c:new sC,i:new rC,a:new oC,b:new aC,B:new lC,h:new cC,H:new uC,K:new hC,k:new dC,m:new fC,s:new gC,S:new pC,X:new mC,x:new bC,t:new yC,T:new _C},wC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kC=/^'([^]*?)'?$/,SC=/''/g,EC=/\S/,OC=/[a-zA-Z]/;function TC(e,t,n,s){const i=()=>Vt(s?.in||n,NaN),r=M1(),o=s?.locale??r.locale??Yp,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return e?i():et(n,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new N1(s?.in,n)],h=t.match(xC).map(m=>{const b=m[0];if(b in yl){const y=yl[b];return y(m,o.formatLong)}return m}).join("").match(wC),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&Qp(m)&&_l(m,t,e),!s?.useAdditionalDayOfYearTokens&&Xp(m)&&_l(m,t,e);const b=m[0],y=vC[b];if(y){const{incompatibleTokens:w}=y;if(Array.isArray(w)){const S=d.find(E=>w.includes(E.token)||E.token===b);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(e,m,o.match,c);if(!x)return i();u.push(x.setter),e=x.rest}else{if(b.match(OC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=PC(m)),e.indexOf(m)===0)e=e.slice(m.length);else return i()}}if(e.length>0&&EC.test(e))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let g=et(n,s?.in);if(isNaN(+g))return i();const p={};for(const m of f){if(!m.validate(g,c))return i();const b=m.set(g,p,c);Array.isArray(b)?(g=b[0],Object.assign(p,b[1])):g=b}return g}function PC(e){return e.match(kC)[1].replace(SC,"'")}function CC(e,t){const n=et(e,t?.in);return n.setMinutes(0,0,0),n}function AC(e,t){const n=et(e,t?.in);return n.setSeconds(0,0),n}function MC(e,t){const n=et(e,t?.in);return n.setMilliseconds(0),n}function RC(e,t){const n=()=>Vt(t?.in,NaN),s=t?.additionalDigits??2,i=jC(e);let r;if(i.date){const c=NC(i.date,s);r=$C(c.restDateString,c.year)}if(!r||isNaN(+r))return n();const o=+r;let a=0,l;if(i.time&&(a=FC(i.time),isNaN(a)))return n();if(i.timezone){if(l=BC(i.timezone),isNaN(l))return n()}else{const c=new Date(o+a),u=et(0,t?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return et(o+a+l,t?.in)}const Br={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},DC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,IC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jC(e){const t={},n=e.split(Br.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Br.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Br.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=Br.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function NC(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:e.slice((s[1]||s[2]).length)}}function $C(e,t){if(t===null)return new Date(NaN);const n=e.match(DC);if(!n)return new Date(NaN);const s=!!n[4],i=wi(n[1]),r=wi(n[2])-1,o=wi(n[3]),a=wi(n[4]),l=wi(n[5])-1;if(s)return zC(t,a,l)?WC(t,a,l):new Date(NaN);{const c=new Date(0);return!UC(t,r,o)||!HC(t,i)?new Date(NaN):(c.setUTCFullYear(t,r,Math.max(i,o)),c)}}function wi(e){return e?parseInt(e):1}function FC(e){const t=e.match(IC);if(!t)return NaN;const n=Aa(t[1]),s=Aa(t[2]),i=Aa(t[3]);return qC(n,s,i)?n*fr+s*dr+i*1e3:NaN}function Aa(e){return e&&parseFloat(e.replace(",","."))||0}function BC(e){if(e==="Z")return 0;const t=e.match(LC);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return YC(s,i)?n*(s*fr+i*dr):NaN}function WC(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,r=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const VC=[31,null,31,30,31,30,31,31,30,31,30,31];function sm(e){return e%400===0||e%4===0&&e%100!==0}function UC(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(VC[t]||(sm(e)?29:28))}function HC(e,t){return t>=1&&t<=(sm(e)?366:365)}function zC(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function qC(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function YC(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const KC={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};bp._date.override({_id:"date-fns",formats:function(){return KC},parse:function(e,t){if(e===null||typeof e>"u")return null;const n=typeof e;return n==="number"||e instanceof Date?e=et(e):n==="string"&&(typeof t=="string"?e=TC(e,t,new Date,this.options):e=RC(e,this.options)),Wp(e)?e.getTime():null},format:function(e,t){return C1(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return mc(e,t);case"second":return yP(e,t);case"minute":return mP(e,t);case"hour":return fP(e,t);case"day":return Uo(e,t);case"week":return _P(e,t);case"month":return pc(e,t);case"quarter":return bP(e,t);case"year":return vP(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return bc(e,t);case"second":return PP(e,t);case"minute":return EP(e,t);case"hour":return SP(e,t);case"day":return Vp(e,t);case"week":return CP(e,t);case"month":return zp(e,t);case"quarter":return TP(e,t);case"year":return AP(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return MC(e);case"minute":return AC(e);case"hour":return CC(e);case"day":return bl(e);case"week":return un(e);case"isoWeek":return un(e,{weekStartsOn:+n});case"month":return RP(e);case"quarter":return MP(e);case"year":return qp(e);default:return e}},endOf:function(e,t){switch(t){case"second":return $P(e);case"minute":return jP(e);case"hour":return IP(e);case"day":return Up(e);case"week":return LP(e);case"month":return Hp(e);case"quarter":return NP(e);case"year":return DP(e);default:return e}}});const GC={class:"softBubble"},JC=xt({__name:"WorkoutVolumeByWorkout",setup(e){return ws(async()=>{const t=await $g();t.reverse();const n=document.getElementById("workoutVolumeChart");t.map(u=>u.getVolume()),t.map(u=>u.getStartTimeShortDateString());const i={datasets:[{label:"My First Dataset",data:t.map(u=>({x:u.getStartTime(),y:u.getVolume()})),fill:!1,borderColor:"rgb(75, 192, 192)",borderWidth:2,tension:0,showLine:!0,pointRadius:5}]},r={family:"Avenir",size:16},o={family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},a=document.documentElement,l=getComputedStyle(a),c={type:"scatter",data:i,options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Workout Volume (kg)",font:o,color:l.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(u){return[t[u.dataIndex].getTitle(),`Volume: ${u.parsed.y} kg`,`Date: ${new Date(u.parsed.x).toLocaleDateString()}`]}},bodyFont:r}},scales:{x:{type:"time",time:{unit:"week",displayFormats:{week:"MMM d"}},ticks:{font:r}},y:{ticks:{maxTicksLimit:3,font:r},position:"right",startAtZero:!1}}}};new fc(n,c)}),(t,n)=>(V(),at("div",GC,[...n[0]||(n[0]=[M("canvas",{id:"workoutVolumeChart"},null,-1)])]))}}),XC={class:"viewArea"},QC={class:"margins"},ZC=xt({__name:"StatsView",setup(e){return(t,n)=>(V(),at(At,null,[M("div",XC,[M("div",QC,[q(JC)])]),q(Io,{active:"/stats"})],64))}}),tA=[{path:"/",name:"SignIn",component:pw},{path:"/signup",name:"SignUp",component:_w},{path:"/emailconf",name:"Email Confirmation",component:kw},{path:"/home",name:"Home",component:Gw},{path:"/upload",name:"Upload",component:ex},{path:"/viewWorkout/:workout_id",name:"View Workout",component:Ux,props:!0},{path:"/stats",name:"Stats",component:ZC}],eA=nw({history:jv(),routes:tA}),im=vy(iw);im.use(eA);im.mount("#app");
