(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ol(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Et={},Us=[],cn=()=>{},Ad=()=>!1,ko=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Tl=e=>e.startsWith("onUpdate:"),pe=Object.assign,Pl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},fm=Object.prototype.hasOwnProperty,vt=(e,t)=>fm.call(e,t),tt=Array.isArray,zs=e=>So(e)==="[object Map]",Md=e=>So(e)==="[object Set]",rt=e=>typeof e=="function",Zt=e=>typeof e=="string",Dn=e=>typeof e=="symbol",Lt=e=>e!==null&&typeof e=="object",Rd=e=>(Lt(e)||rt(e))&&rt(e.then)&&rt(e.catch),Dd=Object.prototype.toString,So=e=>Dd.call(e),gm=e=>So(e).slice(8,-1),Id=e=>So(e)==="[object Object]",Cl=e=>Zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ii=Ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},pm=/-\w/g,He=Eo(e=>e.replace(pm,t=>t.slice(1).toUpperCase())),mm=/\B([A-Z])/g,Es=Eo(e=>e.replace(mm,"-$1").toLowerCase()),Oo=Eo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Go=Eo(e=>e?`on${Oo(e)}`:""),Gn=(e,t)=>!Object.is(e,t),Yr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ld=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Na=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Rc;const To=()=>Rc||(Rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Al(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Zt(s)?vm(s):Al(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Zt(e)||Lt(e))return e}const bm=/;(?![^(]*\))/g,ym=/:([^]+)/,_m=/\/\*[^]*?\*\//g;function vm(e){const t={};return e.replace(_m,"").split(bm).forEach(n=>{if(n){const s=n.split(ym);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function fe(e){let t="";if(Zt(e))t=e;else if(tt(e))for(let n=0;n<e.length;n++){const s=fe(e[n]);s&&(t+=s+" ")}else if(Lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const wm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xm=Ol(wm);function jd(e){return!!e||e===""}const Nd=e=>!!(e&&e.__v_isRef===!0),Tt=e=>Zt(e)?e:e==null?"":tt(e)||Lt(e)&&(e.toString===Dd||!rt(e.toString))?Nd(e)?Tt(e.value):JSON.stringify(e,$d,2):String(e),$d=(e,t)=>Nd(t)?$d(e,t.value):zs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[Jo(s,r)+" =>"]=i,n),{})}:Md(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jo(n))}:Dn(t)?Jo(t):Lt(t)&&!tt(t)&&!Id(t)?String(t):t,Jo=(e,t="")=>{var n;return Dn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class km{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!t&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Pe;try{return Pe=this,t()}finally{Pe=n}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Sm(){return Pe}let Mt;const Xo=new WeakSet;class Fd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xo.has(this)&&(Xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dc(this),Vd(this);const t=Mt,n=Ke;Mt=this,Ke=!0;try{return this.fn()}finally{Hd(this),Mt=t,Ke=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Dl(t);this.deps=this.depsTail=void 0,Dc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$a(this)&&this.run()}get dirty(){return $a(this)}}let Bd=0,Li,ji;function Wd(e,t=!1){if(e.flags|=8,t){e.next=ji,ji=e;return}e.next=Li,Li=e}function Ml(){Bd++}function Rl(){if(--Bd>0)return;if(ji){let t=ji;for(ji=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Li;){let t=Li;for(Li=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Vd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Hd(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Dl(s),Em(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function $a(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ud(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ud(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gi)||(e.globalVersion=Gi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$a(e))))return;e.flags|=2;const t=e.dep,n=Mt,s=Ke;Mt=e,Ke=!0;try{Vd(e);const i=e.fn(e._value);(t.version===0||Gn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Mt=n,Ke=s,Hd(e),e.flags&=-3}}function Dl(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Dl(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Em(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ke=!0;const zd=[];function Cn(){zd.push(Ke),Ke=!1}function An(){const e=zd.pop();Ke=e===void 0?!0:e}function Dc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Mt;Mt=void 0;try{t()}finally{Mt=n}}}let Gi=0;class Om{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Il{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Mt||!Ke||Mt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Mt)n=this.activeLink=new Om(Mt,this),Mt.deps?(n.prevDep=Mt.depsTail,Mt.depsTail.nextDep=n,Mt.depsTail=n):Mt.deps=Mt.depsTail=n,qd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Mt.depsTail,n.nextDep=void 0,Mt.depsTail.nextDep=n,Mt.depsTail=n,Mt.deps===n&&(Mt.deps=s)}return n}trigger(t){this.version++,Gi++,this.notify(t)}notify(t){Ml();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Rl()}}}function qd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)qd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Fa=new WeakMap,vs=Symbol(""),Ba=Symbol(""),Ji=Symbol("");function ue(e,t,n){if(Ke&&Mt){let s=Fa.get(e);s||Fa.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Il),i.map=s,i.key=n),i.track()}}function kn(e,t,n,s,i,r){const o=Fa.get(e);if(!o){Gi++;return}const a=l=>{l&&l.trigger()};if(Ml(),t==="clear")o.forEach(a);else{const l=tt(e),c=l&&Cl(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Ji||!Dn(d)&&d>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ji)),t){case"add":l?c&&a(o.get("length")):(a(o.get(vs)),zs(e)&&a(o.get(Ba)));break;case"delete":l||(a(o.get(vs)),zs(e)&&a(o.get(Ba)));break;case"set":zs(e)&&a(o.get(vs));break}}Rl()}function As(e){const t=_t(e);return t===e?t:(ue(t,"iterate",Ji),Ve(e)?t:t.map(re))}function Po(e){return ue(e=_t(e),"iterate",Ji),e}const Tm={__proto__:null,[Symbol.iterator](){return Qo(this,Symbol.iterator,re)},concat(...e){return As(this).concat(...e.map(t=>tt(t)?As(t):t))},entries(){return Qo(this,"entries",e=>(e[1]=re(e[1]),e))},every(e,t){return gn(this,"every",e,t,void 0,arguments)},filter(e,t){return gn(this,"filter",e,t,n=>n.map(re),arguments)},find(e,t){return gn(this,"find",e,t,re,arguments)},findIndex(e,t){return gn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gn(this,"findLast",e,t,re,arguments)},findLastIndex(e,t){return gn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zo(this,"includes",e)},indexOf(...e){return Zo(this,"indexOf",e)},join(e){return As(this).join(e)},lastIndexOf(...e){return Zo(this,"lastIndexOf",e)},map(e,t){return gn(this,"map",e,t,void 0,arguments)},pop(){return pi(this,"pop")},push(...e){return pi(this,"push",e)},reduce(e,...t){return Ic(this,"reduce",e,t)},reduceRight(e,...t){return Ic(this,"reduceRight",e,t)},shift(){return pi(this,"shift")},some(e,t){return gn(this,"some",e,t,void 0,arguments)},splice(...e){return pi(this,"splice",e)},toReversed(){return As(this).toReversed()},toSorted(e){return As(this).toSorted(e)},toSpliced(...e){return As(this).toSpliced(...e)},unshift(...e){return pi(this,"unshift",e)},values(){return Qo(this,"values",re)}};function Qo(e,t,n){const s=Po(e),i=s[t]();return s!==e&&!Ve(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Pm=Array.prototype;function gn(e,t,n,s,i,r){const o=Po(e),a=o!==e&&!Ve(e),l=o[t];if(l!==Pm[t]){const h=l.apply(e,r);return a?re(h):h}let c=n;o!==e&&(a?c=function(h,d){return n.call(this,re(h),d,e)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,e)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Ic(e,t,n,s){const i=Po(e);let r=n;return i!==e&&(Ve(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,re(a),l,e)}),i[t](r,...s)}function Zo(e,t,n){const s=_t(e);ue(s,"iterate",Ji);const i=s[t](...n);return(i===-1||i===!1)&&Nl(n[0])?(n[0]=_t(n[0]),s[t](...n)):i}function pi(e,t,n=[]){Cn(),Ml();const s=_t(e)[t].apply(e,n);return Rl(),An(),s}const Cm=Ol("__proto__,__v_isRef,__isVue"),Yd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dn));function Am(e){Dn(e)||(e=String(e));const t=_t(this);return ue(t,"has",e),t.hasOwnProperty(e)}class Kd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Bm:Qd:r?Xd:Jd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=tt(t);if(!i){let l;if(o&&(l=Tm[n]))return l;if(n==="hasOwnProperty")return Am}const a=Reflect.get(t,n,ge(t)?t:s);if((Dn(n)?Yd.has(n):Cm(n))||(i||ue(t,"get",n),r))return a;if(ge(a)){const l=o&&Cl(n)?a:a.value;return i&&Lt(l)?Va(l):l}return Lt(a)?i?Va(a):Co(a):a}}class Gd extends Kd{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const l=Xn(r);if(!Ve(s)&&!Xn(s)&&(r=_t(r),s=_t(s)),!tt(t)&&ge(r)&&!ge(s))return l||(r.value=s),!0}const o=tt(t)&&Cl(n)?Number(n)<t.length:vt(t,n),a=Reflect.set(t,n,s,ge(t)?t:i);return t===_t(i)&&(o?Gn(s,r)&&kn(t,"set",n,s):kn(t,"add",n,s)),a}deleteProperty(t,n){const s=vt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&kn(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Dn(n)||!Yd.has(n))&&ue(t,"has",n),s}ownKeys(t){return ue(t,"iterate",tt(t)?"length":vs),Reflect.ownKeys(t)}}class Mm extends Kd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Rm=new Gd,Dm=new Mm,Im=new Gd(!0);const Wa=e=>e,vr=e=>Reflect.getPrototypeOf(e);function Lm(e,t,n){return function(...s){const i=this.__v_raw,r=_t(i),o=zs(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),u=n?Wa:t?Zr:re;return!t&&ue(r,"iterate",l?Ba:vs),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function wr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jm(e,t){const n={get(i){const r=this.__v_raw,o=_t(r),a=_t(i);e||(Gn(i,a)&&ue(o,"get",i),ue(o,"get",a));const{has:l}=vr(o),c=t?Wa:e?Zr:re;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&ue(_t(i),"iterate",vs),i.size},has(i){const r=this.__v_raw,o=_t(r),a=_t(i);return e||(Gn(i,a)&&ue(o,"has",i),ue(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=_t(a),c=t?Wa:e?Zr:re;return!e&&ue(l,"iterate",vs),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return pe(n,e?{add:wr("add"),set:wr("set"),delete:wr("delete"),clear:wr("clear")}:{add(i){!t&&!Ve(i)&&!Xn(i)&&(i=_t(i));const r=_t(this);return vr(r).has.call(r,i)||(r.add(i),kn(r,"add",i,i)),this},set(i,r){!t&&!Ve(r)&&!Xn(r)&&(r=_t(r));const o=_t(this),{has:a,get:l}=vr(o);let c=a.call(o,i);c||(i=_t(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Gn(r,u)&&kn(o,"set",i,r):kn(o,"add",i,r),this},delete(i){const r=_t(this),{has:o,get:a}=vr(r);let l=o.call(r,i);l||(i=_t(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&kn(r,"delete",i,void 0),c},clear(){const i=_t(this),r=i.size!==0,o=i.clear();return r&&kn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Lm(i,e,t)}),n}function Ll(e,t){const n=jm(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(vt(n,i)&&i in s?n:s,i,r)}const Nm={get:Ll(!1,!1)},$m={get:Ll(!1,!0)},Fm={get:Ll(!0,!1)};const Jd=new WeakMap,Xd=new WeakMap,Qd=new WeakMap,Bm=new WeakMap;function Wm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vm(e){return e.__v_skip||!Object.isExtensible(e)?0:Wm(gm(e))}function Co(e){return Xn(e)?e:jl(e,!1,Rm,Nm,Jd)}function Zd(e){return jl(e,!1,Im,$m,Xd)}function Va(e){return jl(e,!0,Dm,Fm,Qd)}function jl(e,t,n,s,i){if(!Lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Vm(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function qs(e){return Xn(e)?qs(e.__v_raw):!!(e&&e.__v_isReactive)}function Xn(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function Nl(e){return e?!!e.__v_raw:!1}function _t(e){const t=e&&e.__v_raw;return t?_t(t):e}function Hm(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&Ld(e,"__v_skip",!0),e}const re=e=>Lt(e)?Co(e):e,Zr=e=>Lt(e)?Va(e):e;function ge(e){return e?e.__v_isRef===!0:!1}function z(e){return tf(e,!1)}function Um(e){return tf(e,!0)}function tf(e,t){return ge(e)?e:new zm(e,t)}class zm{constructor(t,n){this.dep=new Il,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_t(t),this._value=n?t:re(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ve(t)||Xn(t);t=s?t:_t(t),Gn(t,n)&&(this._rawValue=t,this._value=s?t:re(t),this.dep.trigger())}}function Yt(e){return ge(e)?e.value:e}const qm={get:(e,t,n)=>t==="__v_raw"?e:Yt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ge(i)&&!ge(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function ef(e){return qs(e)?e:new Proxy(e,qm)}class Ym{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Il(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Mt!==this)return Wd(this,!0),!0}get value(){const t=this.dep.track();return Ud(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Km(e,t,n=!1){let s,i;return rt(e)?s=e:(s=e.get,i=e.set),new Ym(s,i,n)}const xr={},to=new WeakMap;let hs;function Gm(e,t=!1,n=hs){if(n){let s=to.get(n);s||to.set(n,s=[]),s.push(e)}}function Jm(e,t,n=Et){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=x=>i?x:Ve(x)||i===!1||i===0?Sn(x,1):Sn(x);let u,h,d,f,p=!1,g=!1;if(ge(e)?(h=()=>e.value,p=Ve(e)):qs(e)?(h=()=>c(e),p=!0):tt(e)?(g=!0,p=e.some(x=>qs(x)||Ve(x)),h=()=>e.map(x=>{if(ge(x))return x.value;if(qs(x))return c(x);if(rt(x))return l?l(x,2):x()})):rt(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){Cn();try{d()}finally{An()}}const x=hs;hs=u;try{return l?l(e,3,[f]):e(f)}finally{hs=x}}:h=cn,t&&i){const x=h,k=i===!0?1/0:i;h=()=>Sn(x(),k)}const m=Sm(),b=()=>{u.stop(),m&&m.active&&Pl(m.effects,u)};if(r&&t){const x=t;t=(...k)=>{x(...k),b()}}let y=g?new Array(e.length).fill(xr):xr;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const k=u.run();if(i||p||(g?k.some((E,O)=>Gn(E,y[O])):Gn(k,y))){d&&d();const E=hs;hs=u;try{const O=[k,y===xr?void 0:g&&y[0]===xr?[]:y,f];y=k,l?l(t,3,O):t(...O)}finally{hs=E}}}else u.run()};return a&&a(v),u=new Fd(h),u.scheduler=o?()=>o(v,!1):v,f=x=>Gm(x,!1,u),d=u.onStop=()=>{const x=to.get(u);if(x){if(l)l(x,4);else for(const k of x)k();to.delete(u)}},t?s?v(!0):y=u.run():o?o(v.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Sn(e,t=1/0,n){if(t<=0||!Lt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,ge(e))Sn(e.value,t,n);else if(tt(e))for(let s=0;s<e.length;s++)Sn(e[s],t,n);else if(Md(e)||zs(e))e.forEach(s=>{Sn(s,t,n)});else if(Id(e)){for(const s in e)Sn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Sn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dr(e,t,n,s){try{return s?e(...s):e()}catch(i){Ao(i,t,n)}}function dn(e,t,n,s){if(rt(e)){const i=dr(e,t,n,s);return i&&Rd(i)&&i.catch(r=>{Ao(r,t,n)}),i}if(tt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(dn(e[r],t,n,s));return i}}function Ao(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Et;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(r){Cn(),dr(r,null,10,[e,l,c]),An();return}}Xm(e,n,i,s,o)}function Xm(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const we=[];let sn=-1;const Ys=[];let Wn=null,Fs=0;const nf=Promise.resolve();let eo=null;function En(e){const t=eo||nf;return e?t.then(this?e.bind(this):e):t}function Qm(e){let t=sn+1,n=we.length;for(;t<n;){const s=t+n>>>1,i=we[s],r=Xi(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function $l(e){if(!(e.flags&1)){const t=Xi(e),n=we[we.length-1];!n||!(e.flags&2)&&t>=Xi(n)?we.push(e):we.splice(Qm(t),0,e),e.flags|=1,sf()}}function sf(){eo||(eo=nf.then(of))}function Zm(e){tt(e)?Ys.push(...e):Wn&&e.id===-1?Wn.splice(Fs+1,0,e):e.flags&1||(Ys.push(e),e.flags|=1),sf()}function Lc(e,t,n=sn+1){for(;n<we.length;n++){const s=we[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;we.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function rf(e){if(Ys.length){const t=[...new Set(Ys)].sort((n,s)=>Xi(n)-Xi(s));if(Ys.length=0,Wn){Wn.push(...t);return}for(Wn=t,Fs=0;Fs<Wn.length;Fs++){const n=Wn[Fs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Fs=0}}const Xi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function of(e){try{for(sn=0;sn<we.length;sn++){const t=we[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),dr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<we.length;sn++){const t=we[sn];t&&(t.flags&=-2)}sn=-1,we.length=0,rf(),eo=null,(we.length||Ys.length)&&of()}}let oe=null,af=null;function no(e){const t=oe;return oe=e,af=e&&e.type.__scopeId||null,t}function Je(e,t=oe,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&ro(-1);const r=no(t);let o;try{o=e(...i)}finally{no(r),s._d&&ro(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function xe(e,t){if(oe===null)return e;const n=Lo(oe),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=Et]=t[i];r&&(rt(r)&&(r={mounted:r,updated:r}),r.deep&&Sn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ss(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Cn(),dn(l,n,8,[e.el,a,e,t]),An())}}const tb=Symbol("_vte"),eb=e=>e.__isTeleport,nb=Symbol("_leaveCb");function Fl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function mt(e,t){return rt(e)?pe({name:e.name},t,{setup:e}):e}function lf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const so=new WeakMap;function Ni(e,t,n,s,i=!1){if(tt(e)){e.forEach((p,g)=>Ni(p,t&&(tt(t)?t[g]:t),n,s,i));return}if(Ks(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ni(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Lo(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Et?a.refs={}:a.refs,h=a.setupState,d=_t(h),f=h===Et?Ad:p=>vt(d,p);if(c!=null&&c!==l){if(jc(t),Zt(c))u[c]=null,f(c)&&(h[c]=null);else if(ge(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(rt(l))dr(l,a,12,[o,u]);else{const p=Zt(l),g=ge(l);if(p||g){const m=()=>{if(e.f){const b=p?f(l)?h[l]:u[l]:l.value;if(i)tt(b)&&Pl(b,r);else if(tt(b))b.includes(r)||b.push(r);else if(p)u[l]=[r],f(l)&&(h[l]=u[l]);else{const y=[r];l.value=y,e.k&&(u[e.k]=y)}}else p?(u[l]=o,f(l)&&(h[l]=o)):g&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{m(),so.delete(e)};b.id=-1,so.set(e,b),Re(b,n)}else jc(e),m()}}}function jc(e){const t=so.get(e);t&&(t.flags|=8,so.delete(e))}To().requestIdleCallback;To().cancelIdleCallback;const Ks=e=>!!e.type.__asyncLoader,cf=e=>e.type.__isKeepAlive;function sb(e,t){uf(e,"a",t)}function ib(e,t){uf(e,"da",t)}function uf(e,t,n=he){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Mo(t,s,n),n){let i=n.parent;for(;i&&i.parent;)cf(i.parent.vnode)&&rb(s,t,n,i),i=i.parent}}function rb(e,t,n,s){const i=Mo(t,e,s,!0);Wl(()=>{Pl(s[t],i)},n)}function Mo(e,t,n=he,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Cn();const a=fr(n),l=dn(t,n,e,o);return a(),An(),l});return s?i.unshift(r):i.push(r),r}}const In=e=>(t,n=he)=>{(!tr||e==="sp")&&Mo(e,(...s)=>t(...s),n)},ob=In("bm"),Ln=In("m"),ab=In("bu"),Bl=In("u"),hf=In("bum"),Wl=In("um"),lb=In("sp"),cb=In("rtg"),ub=In("rtc");function hb(e,t=he){Mo("ec",e,t)}const db="components";function fb(e,t){return pb(db,e,!0,t)||e}const gb=Symbol.for("v-ndc");function pb(e,t,n=!0,s=!1){const i=oe||he;if(i){const r=i.type;{const a=sy(r,!1);if(a&&(a===t||a===He(t)||a===Oo(He(t))))return r}const o=Nc(i[e]||r[e],t)||Nc(i.appContext[e],t);return!o&&s?r:o}}function Nc(e,t){return e&&(e[t]||e[He(t)]||e[Oo(He(t))])}function Ro(e,t,n,s){let i;const r=n,o=tt(e);if(o||Zt(e)){const a=o&&qs(e);let l=!1,c=!1;a&&(l=!Ve(e),c=Xn(e),e=Po(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(l?c?Zr(re(e[u])):re(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(Lt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}function df(e,t,n={},s,i){if(oe.ce||oe.parent&&Ks(oe.parent)&&oe.parent.ce){const c=Object.keys(n).length>0;return N(),Ft(Ot,null,[H("slot",n,s)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),N();const o=r&&ff(r(n)),a=n.key||o&&o.key,l=Ft(Ot,{key:(a&&!Dn(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function ff(e){return e.some(t=>Zi(t)?!(t.type===Mn||t.type===Ot&&!ff(t.children)):!0)?e:null}const Ha=e=>e?Df(e)?Lo(e):Ha(e.parent):null,$i=pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ha(e.parent),$root:e=>Ha(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pf(e),$forceUpdate:e=>e.f||(e.f=()=>{$l(e.update)}),$nextTick:e=>e.n||(e.n=En.bind(e.proxy)),$watch:e=>jb.bind(e)}),ta=(e,t)=>e!==Et&&!e.__isScriptSetup&&vt(e,t),mb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(ta(s,t))return o[t]=1,s[t];if(i!==Et&&vt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,r[t];if(n!==Et&&vt(n,t))return o[t]=4,n[t];Ua&&(o[t]=0)}}const u=$i[t];let h,d;if(u)return t==="$attrs"&&ue(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Et&&vt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,vt(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return ta(i,t)?(i[t]=n,!0):s!==Et&&vt(s,t)?(s[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(n[a]||e!==Et&&a[0]!=="$"&&vt(e,a)||ta(t,a)||(l=r[0])&&vt(l,a)||vt(s,a)||vt($i,a)||vt(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function $c(e){return tt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ua=!0;function bb(e){const t=pf(e),n=e.proxy,s=e.ctx;Ua=!1,t.beforeCreate&&Fc(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:v,unmounted:x,render:k,renderTracked:E,renderTriggered:O,errorCaptured:R,serverPrefetch:$,expose:K,inheritAttrs:X,components:ot,directives:St,filters:te}=t;if(c&&yb(c,s,null),o)for(const G in o){const at=o[G];rt(at)&&(s[G]=at.bind(n))}if(i){const G=i.call(n,n);Lt(G)&&(e.data=Co(G))}if(Ua=!0,r)for(const G in r){const at=r[G],Pt=rt(at)?at.bind(n,n):rt(at.get)?at.get.bind(n,n):cn,be=!rt(at)&&rt(at.set)?at.set.bind(n):cn,ye=Le({get:Pt,set:be});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>ye.value,set:qt=>ye.value=qt})}if(a)for(const G in a)gf(a[G],s,n,G);if(l){const G=rt(l)?l.call(n):l;Reflect.ownKeys(G).forEach(at=>{Kr(at,G[at])})}u&&Fc(u,e,"c");function it(G,at){tt(at)?at.forEach(Pt=>G(Pt.bind(n))):at&&G(at.bind(n))}if(it(ob,h),it(Ln,d),it(ab,f),it(Bl,p),it(sb,g),it(ib,m),it(hb,R),it(ub,E),it(cb,O),it(hf,y),it(Wl,x),it(lb,$),tt(K))if(K.length){const G=e.exposed||(e.exposed={});K.forEach(at=>{Object.defineProperty(G,at,{get:()=>n[at],set:Pt=>n[at]=Pt,enumerable:!0})})}else e.exposed||(e.exposed={});k&&e.render===cn&&(e.render=k),X!=null&&(e.inheritAttrs=X),ot&&(e.components=ot),St&&(e.directives=St),$&&lf(e)}function yb(e,t,n=cn){tt(e)&&(e=za(e));for(const s in e){const i=e[s];let r;Lt(i)?"default"in i?r=Ge(i.from||s,i.default,!0):r=Ge(i.from||s):r=Ge(i),ge(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Fc(e,t,n){dn(tt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function gf(e,t,n,s){let i=s.includes(".")?Pf(n,s):()=>n[s];if(Zt(e)){const r=t[e];rt(r)&&Js(i,r)}else if(rt(e))Js(i,e.bind(n));else if(Lt(e))if(tt(e))e.forEach(r=>gf(r,t,n,s));else{const r=rt(e.handler)?e.handler.bind(n):t[e.handler];rt(r)&&Js(i,r,e)}}function pf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>io(l,c,o,!0)),io(l,t,o)),Lt(t)&&r.set(t,l),l}function io(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&io(e,r,n,!0),i&&i.forEach(o=>io(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=_b[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const _b={data:Bc,props:Wc,emits:Wc,methods:Pi,computed:Pi,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:Pi,directives:Pi,watch:wb,provide:Bc,inject:vb};function Bc(e,t){return t?e?function(){return pe(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function vb(e,t){return Pi(za(e),za(t))}function za(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _e(e,t){return e?[...new Set([].concat(e,t))]:t}function Pi(e,t){return e?pe(Object.create(null),e,t):t}function Wc(e,t){return e?tt(e)&&tt(t)?[...new Set([...e,...t])]:pe(Object.create(null),$c(e),$c(t??{})):t}function wb(e,t){if(!e)return t;if(!t)return e;const n=pe(Object.create(null),e);for(const s in t)n[s]=_e(e[s],t[s]);return n}function mf(){return{app:null,config:{isNativeTag:Ad,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xb=0;function kb(e,t){return function(s,i=null){rt(s)||(s=pe({},s)),i!=null&&!Lt(i)&&(i=null);const r=mf(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:xb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ry,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&rt(u.install)?(o.add(u),u.install(c,...h)):rt(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||H(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Lo(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(dn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Gs;Gs=c;try{return u()}finally{Gs=h}}};return c}}let Gs=null;function Kr(e,t){if(he){let n=he.provides;const s=he.parent&&he.parent.provides;s===n&&(n=he.provides=Object.create(s)),n[e]=t}}function Ge(e,t,n=!1){const s=Qb();if(s||Gs){let i=Gs?Gs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&rt(t)?t.call(s&&s.proxy):t}}const bf={},yf=()=>Object.create(bf),_f=e=>Object.getPrototypeOf(e)===bf;function Sb(e,t,n,s=!1){const i={},r=yf();e.propsDefaults=Object.create(null),vf(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:Zd(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Eb(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=_t(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Do(e.emitsOptions,d))continue;const f=t[d];if(l)if(vt(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const p=He(d);i[p]=qa(l,a,p,f,e,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{vf(e,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!vt(t,h)&&((u=Es(h))===h||!vt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=qa(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!vt(t,h))&&(delete r[h],c=!0)}c&&kn(e.attrs,"set","")}function vf(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ii(l))continue;const c=t[l];let u;i&&vt(i,u=He(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Do(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=_t(n),c=a||Et;for(let u=0;u<r.length;u++){const h=r[u];n[h]=qa(i,l,h,c[h],e,!vt(c,h))}}return o}function qa(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=vt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&rt(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=fr(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Es(n))&&(s=!0))}return s}const Ob=new WeakMap;function wf(e,t,n=!1){const s=n?Ob:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!rt(e)){const u=h=>{l=!0;const[d,f]=wf(h,t,!0);pe(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Lt(e)&&s.set(e,Us),Us;if(tt(r))for(let u=0;u<r.length;u++){const h=He(r[u]);Vc(h)&&(o[h]=Et)}else if(r)for(const u in r){const h=He(u);if(Vc(h)){const d=r[u],f=o[h]=tt(d)||rt(d)?{type:d}:pe({},d),p=f.type;let g=!1,m=!0;if(tt(p))for(let b=0;b<p.length;++b){const y=p[b],v=rt(y)&&y.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(m=!1)}else g=rt(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||vt(f,"default"))&&a.push(h)}}const c=[o,a];return Lt(e)&&s.set(e,c),c}function Vc(e){return e[0]!=="$"&&!Ii(e)}const Vl=e=>e==="_"||e==="_ctx"||e==="$stable",Hl=e=>tt(e)?e.map(on):[on(e)],Tb=(e,t,n)=>{if(t._n)return t;const s=Je((...i)=>Hl(t(...i)),n);return s._c=!1,s},xf=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Vl(i))continue;const r=e[i];if(rt(r))t[i]=Tb(i,r,s);else if(r!=null){const o=Hl(r);t[i]=()=>o}}},kf=(e,t)=>{const n=Hl(t);e.slots.default=()=>n},Sf=(e,t,n)=>{for(const s in t)(n||!Vl(s))&&(e[s]=t[s])},Pb=(e,t,n)=>{const s=e.slots=yf();if(e.vnode.shapeFlag&32){const i=t._;i?(Sf(s,t,n),n&&Ld(s,"_",i,!0)):xf(t,s)}else t&&kf(e,t)},Cb=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=Et;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:Sf(i,t,n):(r=!t.$stable,xf(t,i)),o=t}else t&&(kf(e,t),o={default:1});if(r)for(const a in i)!Vl(a)&&o[a]==null&&delete i[a]},Re=Ub;function Ab(e){return Mb(e)}function Mb(e,t){const n=To();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=cn,insertStaticContent:p}=e,g=(_,w,S,C=null,M=null,T=null,j=void 0,L=null,I=!!w.dynamicChildren)=>{if(_===w)return;_&&!mi(_,w)&&(C=A(_),qt(_,M,T,!0),_=null),w.patchFlag===-2&&(I=!1,w.dynamicChildren=null);const{type:D,ref:J,shapeFlag:B}=w;switch(D){case Io:m(_,w,S,C);break;case Mn:b(_,w,S,C);break;case na:_==null&&y(w,S,C,j);break;case Ot:ot(_,w,S,C,M,T,j,L,I);break;default:B&1?k(_,w,S,C,M,T,j,L,I):B&6?St(_,w,S,C,M,T,j,L,I):(B&64||B&128)&&D.process(_,w,S,C,M,T,j,L,I,U)}J!=null&&M?Ni(J,_&&_.ref,T,w||_,!w):J==null&&_&&_.ref!=null&&Ni(_.ref,null,T,_,!0)},m=(_,w,S,C)=>{if(_==null)s(w.el=a(w.children),S,C);else{const M=w.el=_.el;w.children!==_.children&&c(M,w.children)}},b=(_,w,S,C)=>{_==null?s(w.el=l(w.children||""),S,C):w.el=_.el},y=(_,w,S,C)=>{[_.el,_.anchor]=p(_.children,w,S,C,_.el,_.anchor)},v=({el:_,anchor:w},S,C)=>{let M;for(;_&&_!==w;)M=d(_),s(_,S,C),_=M;s(w,S,C)},x=({el:_,anchor:w})=>{let S;for(;_&&_!==w;)S=d(_),i(_),_=S;i(w)},k=(_,w,S,C,M,T,j,L,I)=>{w.type==="svg"?j="svg":w.type==="math"&&(j="mathml"),_==null?E(w,S,C,M,T,j,L,I):$(_,w,M,T,j,L,I)},E=(_,w,S,C,M,T,j,L)=>{let I,D;const{props:J,shapeFlag:B,transition:q,dirs:Z}=_;if(I=_.el=o(_.type,T,J&&J.is,J),B&8?u(I,_.children):B&16&&R(_.children,I,null,C,M,ea(_,T),j,L),Z&&ss(_,null,C,"created"),O(I,_,_.scopeId,j,C),J){for(const Ct in J)Ct!=="value"&&!Ii(Ct)&&r(I,Ct,null,J[Ct],T,C);"value"in J&&r(I,"value",null,J.value,T),(D=J.onVnodeBeforeMount)&&en(D,C,_)}Z&&ss(_,null,C,"beforeMount");const ft=Rb(M,q);ft&&q.beforeEnter(I),s(I,w,S),((D=J&&J.onVnodeMounted)||ft||Z)&&Re(()=>{D&&en(D,C,_),ft&&q.enter(I),Z&&ss(_,null,C,"mounted")},M)},O=(_,w,S,C,M)=>{if(S&&f(_,S),C)for(let T=0;T<C.length;T++)f(_,C[T]);if(M){let T=M.subTree;if(w===T||Af(T.type)&&(T.ssContent===w||T.ssFallback===w)){const j=M.vnode;O(_,j,j.scopeId,j.slotScopeIds,M.parent)}}},R=(_,w,S,C,M,T,j,L,I=0)=>{for(let D=I;D<_.length;D++){const J=_[D]=L?Vn(_[D]):on(_[D]);g(null,J,w,S,C,M,T,j,L)}},$=(_,w,S,C,M,T,j)=>{const L=w.el=_.el;let{patchFlag:I,dynamicChildren:D,dirs:J}=w;I|=_.patchFlag&16;const B=_.props||Et,q=w.props||Et;let Z;if(S&&is(S,!1),(Z=q.onVnodeBeforeUpdate)&&en(Z,S,w,_),J&&ss(w,_,S,"beforeUpdate"),S&&is(S,!0),(B.innerHTML&&q.innerHTML==null||B.textContent&&q.textContent==null)&&u(L,""),D?K(_.dynamicChildren,D,L,S,C,ea(w,M),T):j||at(_,w,L,null,S,C,ea(w,M),T,!1),I>0){if(I&16)X(L,B,q,S,M);else if(I&2&&B.class!==q.class&&r(L,"class",null,q.class,M),I&4&&r(L,"style",B.style,q.style,M),I&8){const ft=w.dynamicProps;for(let Ct=0;Ct<ft.length;Ct++){const wt=ft[Ct],Ee=B[wt],Oe=q[wt];(Oe!==Ee||wt==="value")&&r(L,wt,Ee,Oe,M,S)}}I&1&&_.children!==w.children&&u(L,w.children)}else!j&&D==null&&X(L,B,q,S,M);((Z=q.onVnodeUpdated)||J)&&Re(()=>{Z&&en(Z,S,w,_),J&&ss(w,_,S,"updated")},C)},K=(_,w,S,C,M,T,j)=>{for(let L=0;L<w.length;L++){const I=_[L],D=w[L],J=I.el&&(I.type===Ot||!mi(I,D)||I.shapeFlag&198)?h(I.el):S;g(I,D,J,null,C,M,T,j,!0)}},X=(_,w,S,C,M)=>{if(w!==S){if(w!==Et)for(const T in w)!Ii(T)&&!(T in S)&&r(_,T,w[T],null,M,C);for(const T in S){if(Ii(T))continue;const j=S[T],L=w[T];j!==L&&T!=="value"&&r(_,T,L,j,M,C)}"value"in S&&r(_,"value",w.value,S.value,M)}},ot=(_,w,S,C,M,T,j,L,I)=>{const D=w.el=_?_.el:a(""),J=w.anchor=_?_.anchor:a("");let{patchFlag:B,dynamicChildren:q,slotScopeIds:Z}=w;Z&&(L=L?L.concat(Z):Z),_==null?(s(D,S,C),s(J,S,C),R(w.children||[],S,J,M,T,j,L,I)):B>0&&B&64&&q&&_.dynamicChildren?(K(_.dynamicChildren,q,S,M,T,j,L),(w.key!=null||M&&w===M.subTree)&&Ef(_,w,!0)):at(_,w,S,J,M,T,j,L,I)},St=(_,w,S,C,M,T,j,L,I)=>{w.slotScopeIds=L,_==null?w.shapeFlag&512?M.ctx.activate(w,S,C,j,I):te(w,S,C,M,T,j,I):ht(_,w,I)},te=(_,w,S,C,M,T,j)=>{const L=_.component=Xb(_,C,M);if(cf(_)&&(L.ctx.renderer=U),Zb(L,!1,j),L.asyncDep){if(M&&M.registerDep(L,it,j),!_.el){const I=L.subTree=H(Mn);b(null,I,w,S),_.placeholder=I.el}}else it(L,_,w,S,M,T,j)},ht=(_,w,S)=>{const C=w.component=_.component;if(Vb(_,w,S))if(C.asyncDep&&!C.asyncResolved){G(C,w,S);return}else C.next=w,C.update();else w.el=_.el,C.vnode=w},it=(_,w,S,C,M,T,j)=>{const L=()=>{if(_.isMounted){let{next:B,bu:q,u:Z,parent:ft,vnode:Ct}=_;{const Ze=Of(_);if(Ze){B&&(B.el=Ct.el,G(_,B,j)),Ze.asyncDep.then(()=>{_.isUnmounted||L()});return}}let wt=B,Ee;is(_,!1),B?(B.el=Ct.el,G(_,B,j)):B=Ct,q&&Yr(q),(Ee=B.props&&B.props.onVnodeBeforeUpdate)&&en(Ee,ft,B,Ct),is(_,!0);const Oe=Uc(_),Qe=_.subTree;_.subTree=Oe,g(Qe,Oe,h(Qe.el),A(Qe),_,M,T),B.el=Oe.el,wt===null&&Hb(_,Oe.el),Z&&Re(Z,M),(Ee=B.props&&B.props.onVnodeUpdated)&&Re(()=>en(Ee,ft,B,Ct),M)}else{let B;const{el:q,props:Z}=w,{bm:ft,m:Ct,parent:wt,root:Ee,type:Oe}=_,Qe=Ks(w);is(_,!1),ft&&Yr(ft),!Qe&&(B=Z&&Z.onVnodeBeforeMount)&&en(B,wt,w),is(_,!0);{Ee.ce&&Ee.ce._def.shadowRoot!==!1&&Ee.ce._injectChildStyle(Oe);const Ze=_.subTree=Uc(_);g(null,Ze,S,C,_,M,T),w.el=Ze.el}if(Ct&&Re(Ct,M),!Qe&&(B=Z&&Z.onVnodeMounted)){const Ze=w;Re(()=>en(B,wt,Ze),M)}(w.shapeFlag&256||wt&&Ks(wt.vnode)&&wt.vnode.shapeFlag&256)&&_.a&&Re(_.a,M),_.isMounted=!0,w=S=C=null}};_.scope.on();const I=_.effect=new Fd(L);_.scope.off();const D=_.update=I.run.bind(I),J=_.job=I.runIfDirty.bind(I);J.i=_,J.id=_.uid,I.scheduler=()=>$l(J),is(_,!0),D()},G=(_,w,S)=>{w.component=_;const C=_.vnode.props;_.vnode=w,_.next=null,Eb(_,w.props,C,S),Cb(_,w.children,S),Cn(),Lc(_),An()},at=(_,w,S,C,M,T,j,L,I=!1)=>{const D=_&&_.children,J=_?_.shapeFlag:0,B=w.children,{patchFlag:q,shapeFlag:Z}=w;if(q>0){if(q&128){be(D,B,S,C,M,T,j,L,I);return}else if(q&256){Pt(D,B,S,C,M,T,j,L,I);return}}Z&8?(J&16&&Xt(D,M,T),B!==D&&u(S,B)):J&16?Z&16?be(D,B,S,C,M,T,j,L,I):Xt(D,M,T,!0):(J&8&&u(S,""),Z&16&&R(B,S,C,M,T,j,L,I))},Pt=(_,w,S,C,M,T,j,L,I)=>{_=_||Us,w=w||Us;const D=_.length,J=w.length,B=Math.min(D,J);let q;for(q=0;q<B;q++){const Z=w[q]=I?Vn(w[q]):on(w[q]);g(_[q],Z,S,null,M,T,j,L,I)}D>J?Xt(_,M,T,!0,!1,B):R(w,S,C,M,T,j,L,I,B)},be=(_,w,S,C,M,T,j,L,I)=>{let D=0;const J=w.length;let B=_.length-1,q=J-1;for(;D<=B&&D<=q;){const Z=_[D],ft=w[D]=I?Vn(w[D]):on(w[D]);if(mi(Z,ft))g(Z,ft,S,null,M,T,j,L,I);else break;D++}for(;D<=B&&D<=q;){const Z=_[B],ft=w[q]=I?Vn(w[q]):on(w[q]);if(mi(Z,ft))g(Z,ft,S,null,M,T,j,L,I);else break;B--,q--}if(D>B){if(D<=q){const Z=q+1,ft=Z<J?w[Z].el:C;for(;D<=q;)g(null,w[D]=I?Vn(w[D]):on(w[D]),S,ft,M,T,j,L,I),D++}}else if(D>q)for(;D<=B;)qt(_[D],M,T,!0),D++;else{const Z=D,ft=D,Ct=new Map;for(D=ft;D<=q;D++){const Me=w[D]=I?Vn(w[D]):on(w[D]);Me.key!=null&&Ct.set(Me.key,D)}let wt,Ee=0;const Oe=q-ft+1;let Qe=!1,Ze=0;const gi=new Array(Oe);for(D=0;D<Oe;D++)gi[D]=0;for(D=Z;D<=B;D++){const Me=_[D];if(Ee>=Oe){qt(Me,M,T,!0);continue}let tn;if(Me.key!=null)tn=Ct.get(Me.key);else for(wt=ft;wt<=q;wt++)if(gi[wt-ft]===0&&mi(Me,w[wt])){tn=wt;break}tn===void 0?qt(Me,M,T,!0):(gi[tn-ft]=D+1,tn>=Ze?Ze=tn:Qe=!0,g(Me,w[tn],S,null,M,T,j,L,I),Ee++)}const Cc=Qe?Db(gi):Us;for(wt=Cc.length-1,D=Oe-1;D>=0;D--){const Me=ft+D,tn=w[Me],Ac=w[Me+1],Mc=Me+1<J?Ac.el||Ac.placeholder:C;gi[D]===0?g(null,tn,S,Mc,M,T,j,L,I):Qe&&(wt<0||D!==Cc[wt]?ye(tn,S,Mc,2):wt--)}}},ye=(_,w,S,C,M=null)=>{const{el:T,type:j,transition:L,children:I,shapeFlag:D}=_;if(D&6){ye(_.component.subTree,w,S,C);return}if(D&128){_.suspense.move(w,S,C);return}if(D&64){j.move(_,w,S,U);return}if(j===Ot){s(T,w,S);for(let B=0;B<I.length;B++)ye(I[B],w,S,C);s(_.anchor,w,S);return}if(j===na){v(_,w,S);return}if(C!==2&&D&1&&L)if(C===0)L.beforeEnter(T),s(T,w,S),Re(()=>L.enter(T),M);else{const{leave:B,delayLeave:q,afterLeave:Z}=L,ft=()=>{_.ctx.isUnmounted?i(T):s(T,w,S)},Ct=()=>{T._isLeaving&&T[nb](!0),B(T,()=>{ft(),Z&&Z()})};q?q(T,ft,Ct):Ct()}else s(T,w,S)},qt=(_,w,S,C=!1,M=!1)=>{const{type:T,props:j,ref:L,children:I,dynamicChildren:D,shapeFlag:J,patchFlag:B,dirs:q,cacheIndex:Z}=_;if(B===-2&&(M=!1),L!=null&&(Cn(),Ni(L,null,S,_,!0),An()),Z!=null&&(w.renderCache[Z]=void 0),J&256){w.ctx.deactivate(_);return}const ft=J&1&&q,Ct=!Ks(_);let wt;if(Ct&&(wt=j&&j.onVnodeBeforeUnmount)&&en(wt,w,_),J&6)Ae(_.component,S,C);else{if(J&128){_.suspense.unmount(S,C);return}ft&&ss(_,null,w,"beforeUnmount"),J&64?_.type.remove(_,w,S,U,C):D&&!D.hasOnce&&(T!==Ot||B>0&&B&64)?Xt(D,w,S,!1,!0):(T===Ot&&B&384||!M&&J&16)&&Xt(I,w,S),C&&Be(_)}(Ct&&(wt=j&&j.onVnodeUnmounted)||ft)&&Re(()=>{wt&&en(wt,w,_),ft&&ss(_,null,w,"unmounted")},S)},Be=_=>{const{type:w,el:S,anchor:C,transition:M}=_;if(w===Ot){Se(S,C);return}if(w===na){x(_);return}const T=()=>{i(S),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(_.shapeFlag&1&&M&&!M.persisted){const{leave:j,delayLeave:L}=M,I=()=>j(S,T);L?L(_.el,T,I):I()}else T()},Se=(_,w)=>{let S;for(;_!==w;)S=d(_),i(_),_=S;i(w)},Ae=(_,w,S)=>{const{bum:C,scope:M,job:T,subTree:j,um:L,m:I,a:D}=_;Hc(I),Hc(D),C&&Yr(C),M.stop(),T&&(T.flags|=8,qt(j,_,w,S)),L&&Re(L,w),Re(()=>{_.isUnmounted=!0},w)},Xt=(_,w,S,C=!1,M=!1,T=0)=>{for(let j=T;j<_.length;j++)qt(_[j],w,S,C,M)},A=_=>{if(_.shapeFlag&6)return A(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const w=d(_.anchor||_.el),S=w&&w[tb];return S?d(S):w};let W=!1;const F=(_,w,S)=>{_==null?w._vnode&&qt(w._vnode,null,null,!0):g(w._vnode||null,_,w,null,null,null,S),w._vnode=_,W||(W=!0,Lc(),rf(),W=!1)},U={p:g,um:qt,m:ye,r:Be,mt:te,mc:R,pc:at,pbc:K,n:A,o:e};return{render:F,hydrate:void 0,createApp:kb(F)}}function ea({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function is({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Rb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ef(e,t,n=!1){const s=e.children,i=t.children;if(tt(s)&&tt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Vn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Ef(o,a)),a.type===Io&&a.patchFlag!==-1&&(a.el=o.el),a.type===Mn&&!a.el&&(a.el=o.el)}}function Db(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Of(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Of(t)}function Hc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ib=Symbol.for("v-scx"),Lb=()=>Ge(Ib);function Js(e,t,n){return Tf(e,t,n)}function Tf(e,t,n=Et){const{immediate:s,deep:i,flush:r,once:o}=n,a=pe({},n),l=t&&s||!t&&r!=="post";let c;if(tr){if(r==="sync"){const f=Lb();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=cn,f.resume=cn,f.pause=cn,f}}const u=he;a.call=(f,p,g)=>dn(f,u,p,g);let h=!1;r==="post"?a.scheduler=f=>{Re(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,p)=>{p?f():$l(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Jm(e,t,a);return tr&&(c?c.push(d):l&&d()),d}function jb(e,t,n){const s=this.proxy,i=Zt(e)?e.includes(".")?Pf(s,e):()=>s[e]:e.bind(s,s);let r;rt(t)?r=t:(r=t.handler,n=t);const o=fr(this),a=Tf(i,r.bind(s),n);return o(),a}function Pf(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Nb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${He(t)}Modifiers`]||e[`${Es(t)}Modifiers`];function $b(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Et;let i=n;const r=t.startsWith("update:"),o=r&&Nb(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>Zt(u)?u.trim():u)),o.number&&(i=n.map(Na)));let a,l=s[a=Go(t)]||s[a=Go(He(t))];!l&&r&&(l=s[a=Go(Es(t))]),l&&dn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dn(c,e,6,i)}}const Fb=new WeakMap;function Cf(e,t,n=!1){const s=n?Fb:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!rt(e)){const l=c=>{const u=Cf(c,t,!0);u&&(a=!0,pe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Lt(e)&&s.set(e,null),null):(tt(r)?r.forEach(l=>o[l]=null):pe(o,r),Lt(e)&&s.set(e,o),o)}function Do(e,t){return!e||!ko(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,Es(t))||vt(e,t))}function Uc(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=e,m=no(e);let b,y;try{if(n.shapeFlag&4){const x=i||s,k=x;b=on(c.call(k,x,u,h,f,d,p)),y=a}else{const x=t;b=on(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),y=t.props?a:Bb(a)}}catch(x){Fi.length=0,Ao(x,e,1),b=H(Mn)}let v=b;if(y&&g!==!1){const x=Object.keys(y),{shapeFlag:k}=v;x.length&&k&7&&(r&&x.some(Tl)&&(y=Wb(y,r)),v=Zs(v,y,!1,!0))}return n.dirs&&(v=Zs(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Fl(v,n.transition),b=v,no(m),b}const Bb=e=>{let t;for(const n in e)(n==="class"||n==="style"||ko(n))&&((t||(t={}))[n]=e[n]);return t},Wb=(e,t)=>{const n={};for(const s in e)(!Tl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Vb(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?zc(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Do(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?zc(s,o,c):!0:!!o;return!1}function zc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Do(n,r))return!0}return!1}function Hb({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Af=e=>e.__isSuspense;function Ub(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):Zm(e)}const Ot=Symbol.for("v-fgt"),Io=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Fi=[];let Fe=null;function N(e=!1){Fi.push(Fe=e?null:[])}function zb(){Fi.pop(),Fe=Fi[Fi.length-1]||null}let Qi=1;function ro(e,t=!1){Qi+=e,e<0&&Fe&&t&&(Fe.hasOnce=!0)}function Mf(e){return e.dynamicChildren=Qi>0?Fe||Us:null,zb(),Qi>0&&Fe&&Fe.push(e),e}function Q(e,t,n,s,i,r){return Mf(P(e,t,n,s,i,r,!0))}function Ft(e,t,n,s,i){return Mf(H(e,t,n,s,i,!0))}function Zi(e){return e?e.__v_isVNode===!0:!1}function mi(e,t){return e.type===t.type&&e.key===t.key}const Rf=({key:e})=>e??null,Gr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Zt(e)||ge(e)||rt(e)?{i:oe,r:e,k:t,f:!!n}:e:null);function P(e,t=null,n=null,s=0,i=null,r=e===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rf(t),ref:t&&Gr(t),scopeId:af,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:oe};return a?(Ul(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=Zt(n)?8:16),Qi>0&&!o&&Fe&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Fe.push(l),l}const H=qb;function qb(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===gb)&&(e=Mn),Zi(e)){const a=Zs(e,t,!0);return n&&Ul(a,n),Qi>0&&!r&&Fe&&(a.shapeFlag&6?Fe[Fe.indexOf(e)]=a:Fe.push(a)),a.patchFlag=-2,a}if(iy(e)&&(e=e.__vccOpts),t){t=Yb(t);let{class:a,style:l}=t;a&&!Zt(a)&&(t.class=fe(a)),Lt(l)&&(Nl(l)&&!tt(l)&&(l=pe({},l)),t.style=Al(l))}const o=Zt(e)?1:Af(e)?128:eb(e)?64:Lt(e)?4:rt(e)?2:0;return P(e,t,n,s,i,o,r,!0)}function Yb(e){return e?Nl(e)||_f(e)?pe({},e):e:null}function Zs(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?Kb(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Rf(c),ref:t&&t.ref?n&&r?tt(r)?r.concat(Gr(t)):[r,Gr(t)]:Gr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zs(e.ssContent),ssFallback:e.ssFallback&&Zs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Fl(u,l.clone(u)),u}function Nt(e=" ",t=0){return H(Io,null,e,t)}function gt(e="",t=!1){return t?(N(),Ft(Mn,null,e)):H(Mn,null,e)}function on(e){return e==null||typeof e=="boolean"?H(Mn):tt(e)?H(Ot,null,e.slice()):Zi(e)?Vn(e):H(Io,null,String(e))}function Vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zs(e)}function Ul(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(tt(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Ul(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!_f(t)?t._ctx=oe:i===3&&oe&&(oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:oe},n=32):(t=String(t),s&64?(n=16,t=[Nt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kb(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=fe([t.class,s.class]));else if(i==="style")t.style=Al([t.style,s.style]);else if(ko(i)){const r=t[i],o=s[i];o&&r!==o&&!(tt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function en(e,t,n,s=null){dn(e,t,7,[n,s])}const Gb=mf();let Jb=0;function Xb(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Gb,r={uid:Jb++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new km(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wf(s,i),emitsOptions:Cf(s,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:s.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=$b.bind(null,r),e.ce&&e.ce(r),r}let he=null;const Qb=()=>he||oe;let oo,Ya;{const e=To(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};oo=t("__VUE_INSTANCE_SETTERS__",n=>he=n),Ya=t("__VUE_SSR_SETTERS__",n=>tr=n)}const fr=e=>{const t=he;return oo(e),e.scope.on(),()=>{e.scope.off(),oo(t)}},qc=()=>{he&&he.scope.off(),oo(null)};function Df(e){return e.vnode.shapeFlag&4}let tr=!1;function Zb(e,t=!1,n=!1){t&&Ya(t);const{props:s,children:i}=e.vnode,r=Df(e);Sb(e,s,r,t),Pb(e,i,n||t);const o=r?ty(e,t):void 0;return t&&Ya(!1),o}function ty(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mb);const{setup:s}=n;if(s){Cn();const i=e.setupContext=s.length>1?ny(e):null,r=fr(e),o=dr(s,e,0,[e.props,i]),a=Rd(o);if(An(),r(),(a||e.sp)&&!Ks(e)&&lf(e),a){if(o.then(qc,qc),t)return o.then(l=>{Yc(e,l)}).catch(l=>{Ao(l,e,0)});e.asyncDep=o}else Yc(e,o)}else If(e)}function Yc(e,t,n){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lt(t)&&(e.setupState=ef(t)),If(e)}function If(e,t,n){const s=e.type;e.render||(e.render=s.render||cn);{const i=fr(e);Cn();try{bb(e)}finally{An(),i()}}}const ey={get(e,t){return ue(e,"get",""),e[t]}};function ny(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ey),slots:e.slots,emit:e.emit,expose:t}}function Lo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ef(Hm(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $i)return $i[n](e)},has(t,n){return n in t||n in $i}})):e.proxy}function sy(e,t=!0){return rt(e)?e.displayName||e.name:e.name||t&&e.__name}function iy(e){return rt(e)&&"__vccOpts"in e}const Le=(e,t)=>Km(e,t,tr);function Lf(e,t,n){try{ro(-1);const s=arguments.length;return s===2?Lt(t)&&!tt(t)?Zi(t)?H(e,null,[t]):H(e,t):H(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Zi(n)&&(n=[n]),H(e,t,n))}finally{ro(1)}}const ry="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ka;const Kc=typeof window<"u"&&window.trustedTypes;if(Kc)try{Ka=Kc.createPolicy("vue",{createHTML:e=>e})}catch{}const jf=Ka?e=>Ka.createHTML(e):e=>e,oy="http://www.w3.org/2000/svg",ay="http://www.w3.org/1998/Math/MathML",vn=typeof document<"u"?document:null,Gc=vn&&vn.createElement("template"),ly={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?vn.createElementNS(oy,e):t==="mathml"?vn.createElementNS(ay,e):n?vn.createElement(e,{is:n}):vn.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>vn.createTextNode(e),createComment:e=>vn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Gc.innerHTML=jf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Gc.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},cy=Symbol("_vtc");function uy(e,t,n){const s=e[cy];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Jc=Symbol("_vod"),hy=Symbol("_vsh"),dy=Symbol(""),fy=/(?:^|;)\s*display\s*:/;function gy(e,t,n){const s=e.style,i=Zt(n);let r=!1;if(n&&!i){if(t)if(Zt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Jr(s,a,"")}else for(const o in t)n[o]==null&&Jr(s,o,"");for(const o in n)o==="display"&&(r=!0),Jr(s,o,n[o])}else if(i){if(t!==n){const o=s[dy];o&&(n+=";"+o),s.cssText=n,r=fy.test(n)}}else t&&e.removeAttribute("style");Jc in e&&(e[Jc]=r?s.display:"",e[hy]&&(s.display="none"))}const Xc=/\s*!important$/;function Jr(e,t,n){if(tt(n))n.forEach(s=>Jr(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=py(e,t);Xc.test(n)?e.setProperty(Es(s),n.replace(Xc,""),"important"):e[s]=n}}const Qc=["Webkit","Moz","ms"],sa={};function py(e,t){const n=sa[t];if(n)return n;let s=He(t);if(s!=="filter"&&s in e)return sa[t]=s;s=Oo(s);for(let i=0;i<Qc.length;i++){const r=Qc[i]+s;if(r in e)return sa[t]=r}return t}const Zc="http://www.w3.org/1999/xlink";function tu(e,t,n,s,i,r=xm(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Zc,t.slice(6,t.length)):e.setAttributeNS(Zc,t,n):n==null||r&&!jd(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Dn(n)?String(n):n)}function eu(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jf(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=jd(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Bs(e,t,n,s){e.addEventListener(t,n,s)}function my(e,t,n,s){e.removeEventListener(t,n,s)}const nu=Symbol("_vei");function by(e,t,n,s,i=null){const r=e[nu]||(e[nu]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=yy(t);if(s){const c=r[t]=wy(s,i);Bs(e,a,c,l)}else o&&(my(e,a,o,l),r[t]=void 0)}}const su=/(?:Once|Passive|Capture)$/;function yy(e){let t;if(su.test(e)){t={};let s;for(;s=e.match(su);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Es(e.slice(2)),t]}let ia=0;const _y=Promise.resolve(),vy=()=>ia||(_y.then(()=>ia=0),ia=Date.now());function wy(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dn(xy(s,n.value),t,5,[s])};return n.value=e,n.attached=vy(),n}function xy(e,t){if(tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const iu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ky=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?uy(e,s,o):t==="style"?gy(e,n,s):ko(t)?Tl(t)||by(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sy(e,t,s,o))?(eu(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&tu(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Zt(s))?eu(e,He(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),tu(e,t,s,o))};function Sy(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&iu(t)&&rt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return iu(t)&&Zt(n)?!1:t in e}const ru=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?n=>Yr(t,n):t};function Ey(e){e.target.composing=!0}function ou(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ra=Symbol("_assign"),ke={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[ra]=ru(i);const r=s||i.props&&i.props.type==="number";Bs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Na(a)),e[ra](a)}),n&&Bs(e,"change",()=>{e.value=e.value.trim()}),t||(Bs(e,"compositionstart",Ey),Bs(e,"compositionend",ou),Bs(e,"change",ou))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[ra]=ru(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Na(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Oy=pe({patchProp:ky},ly);let au;function Ty(){return au||(au=Ab(Oy))}const Py=((...e)=>{const t=Ty().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Ay(s);if(!i)return;const r=t._component;!rt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Cy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function Cy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ay(e){return Zt(e)?document.querySelector(e):e}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ws=typeof document<"u";function Nf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function My(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Nf(e.default)}const yt=Object.assign;function oa(e,t){const n={};for(const s in t){const i=t[s];n[s]=Xe(i)?i.map(e):e(i)}return n}const Bi=()=>{},Xe=Array.isArray;function lu(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const $f=/#/g,Ry=/&/g,Dy=/\//g,Iy=/=/g,Ly=/\?/g,Ff=/\+/g,jy=/%5B/g,Ny=/%5D/g,Bf=/%5E/g,$y=/%60/g,Wf=/%7B/g,Fy=/%7C/g,Vf=/%7D/g,By=/%20/g;function zl(e){return e==null?"":encodeURI(""+e).replace(Fy,"|").replace(jy,"[").replace(Ny,"]")}function Wy(e){return zl(e).replace(Wf,"{").replace(Vf,"}").replace(Bf,"^")}function Ga(e){return zl(e).replace(Ff,"%2B").replace(By,"+").replace($f,"%23").replace(Ry,"%26").replace($y,"`").replace(Wf,"{").replace(Vf,"}").replace(Bf,"^")}function Vy(e){return Ga(e).replace(Iy,"%3D")}function Hy(e){return zl(e).replace($f,"%23").replace(Ly,"%3F")}function Uy(e){return Hy(e).replace(Dy,"%2F")}function er(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const zy=/\/$/,qy=e=>e.replace(zy,"");function aa(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),r=t.slice(l,a>0?a:t.length),i=e(r.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Jy(s??t,n),{fullPath:s+r+o,path:s,query:i,hash:er(o)}}function Yy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function cu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ky(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&ti(t.matched[s],n.matched[i])&&Hf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Hf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Gy(e[n],t[n]))return!1;return!0}function Gy(e,t){return Xe(e)?uu(e,t):Xe(t)?uu(t,e):e===t}function uu(e,t){return Xe(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Jy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Nn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ja=(function(e){return e.pop="pop",e.push="push",e})({}),la=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function Xy(e){if(!e)if(Ws){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qy(e)}const Qy=/^[^#]+#/;function Zy(e,t){return e.replace(Qy,"#")+t}function t_(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function e_(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=t_(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function hu(e,t){return(history.state?history.state.position-t:-1)+e}const Xa=new Map;function n_(e,t){Xa.set(e,t)}function s_(e){const t=Xa.get(e);return Xa.delete(e),t}function i_(e){return typeof e=="string"||e&&typeof e=="object"}function Uf(e){return typeof e=="string"||typeof e=="symbol"}let Vt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const zf=Symbol("");Vt.MATCHER_NOT_FOUND+"",Vt.NAVIGATION_GUARD_REDIRECT+"",Vt.NAVIGATION_ABORTED+"",Vt.NAVIGATION_CANCELLED+"",Vt.NAVIGATION_DUPLICATED+"";function ei(e,t){return yt(new Error,{type:e,[zf]:!0},t)}function pn(e,t){return e instanceof Error&&zf in e&&(t==null||!!(e.type&t))}const r_=["params","query","hash"];function o_(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of r_)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function a_(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Ff," "),r=i.indexOf("="),o=er(r<0?i:i.slice(0,r)),a=r<0?null:er(i.slice(r+1));if(o in t){let l=t[o];Xe(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function du(e){let t="";for(let n in e){const s=e[n];if(n=Vy(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xe(s)?s.map(i=>i&&Ga(i)):[s&&Ga(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function l_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Xe(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const c_=Symbol(""),fu=Symbol(""),No=Symbol(""),ql=Symbol(""),Qa=Symbol("");function bi(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Hn(e,t,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ei(Vt.NAVIGATION_ABORTED,{from:n,to:t})):d instanceof Error?l(d):i_(d)?l(ei(Vt.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(s&&s.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function ca(e,t,n,s,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Nf(l)){const c=(l.__vccOpts||l)[t];c&&r.push(Hn(c,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=My(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Hn(d,n,s,o,a,i)()}))}}return r}function u_(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>ti(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>ti(c,l))||i.push(l))}return[n,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let h_=()=>location.protocol+"//"+location.host;function qf(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let o=i.includes(e.slice(r))?e.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),cu(a,"")}return cu(n,e)+s+i}function d_(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=qf(e,location),p=n.value,g=t.value;let m=0;if(d){if(n.value=f,t.value=d,o&&o===p){o=null;return}m=g?d.position-g.position:0}else s(f);i.forEach(b=>{b(n.value,p,{delta:m,type:Ja.pop,direction:m?m>0?la.forward:la.back:la.unknown})})};function l(){o=n.value}function c(d){i.push(d);const f=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(yt({},d.state,{scroll:jo()}),"")}}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function gu(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?jo():null}}function f_(e){const{history:t,location:n}=window,s={value:qf(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:h_()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){r(l,yt({},t.state,gu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=yt({},i.value,t.state,{forward:l,scroll:jo()});r(u.current,u,!0),r(l,yt({},gu(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function g_(e){e=Xy(e);const t=f_(e),n=d_(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=yt({location:"",base:e,go:s,createHref:Zy.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function p_(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),g_(e)}let ys=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var ee=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(ee||{});const m_={type:ys.Static,value:""},b_=/[a-zA-Z0-9_]/;function y_(e){if(!e)return[[]];if(e==="/")return[[m_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=ee.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===ee.Static?r.push({type:ys.Static,value:c}):n===ee.Param||n===ee.ParamRegExp||n===ee.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:ys.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==ee.ParamRegExp){s=n,n=ee.EscapeNext;continue}switch(n){case ee.Static:l==="/"?(c&&h(),o()):l===":"?(h(),n=ee.Param):d();break;case ee.EscapeNext:d(),n=s;break;case ee.Param:l==="("?n=ee.ParamRegExp:b_.test(l)?d():(h(),n=ee.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ee.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=ee.ParamRegExpEnd:u+=l;break;case ee.ParamRegExpEnd:h(),n=ee.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===ee.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const pu="[^/]+?",__={sensitive:!1,strict:!1,start:!0,end:!0};var ve=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(ve||{});const v_=/[.+*?^${}()[\]/\\]/g;function w_(e,t){const n=yt({},__,t),s=[];let i=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[ve.Root];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=ve.Segment+(n.sensitive?ve.BonusCaseSensitive:0);if(d.type===ys.Static)h||(i+="/"),i+=d.value.replace(v_,"\\$&"),f+=ve.Static;else if(d.type===ys.Param){const{value:p,repeatable:g,optional:m,regexp:b}=d;r.push({name:p,repeatable:g,optional:m});const y=b||pu;if(y!==pu){f+=ve.BonusCustomRegExp;try{`${y}`}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let v=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(v=m&&c.length<2?`(?:/${v})`:"/"+v),m&&(v+="?"),i+=v,f+=ve.Dynamic,m&&(f+=ve.BonusOptional),g&&(f+=ve.BonusRepeatable),y===".*"&&(f+=ve.BonusWildcard)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=ve.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",p=r[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===ys.Static)u+=f.value;else if(f.type===ys.Param){const{value:p,repeatable:g,optional:m}=f,b=p in c?c[p]:"";if(Xe(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Xe(b)?b.join("/"):b;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function x_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===ve.Static+ve.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ve.Static+ve.Segment?1:-1:0}function Yf(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=x_(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(mu(s))return 1;if(mu(i))return-1}return i.length-s.length}function mu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const k_={strict:!1,end:!0,sensitive:!1};function S_(e,t,n){const s=w_(y_(e.path),n),i=yt(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function E_(e,t){const n=[],s=new Map;t=lu(k_,t);function i(h){return s.get(h)}function r(h,d,f){const p=!f,g=yu(h);g.aliasOf=f&&f.record;const m=lu(t,h),b=[g];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of x)b.push(yu(yt({},g,{components:f?f.record.components:g.components,path:k,aliasOf:f?f.record:g})))}let y,v;for(const x of b){const{path:k}=x;if(d&&k[0]!=="/"){const E=d.record.path,O=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(k&&O+k)}if(y=S_(x,d,m),f?f.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),p&&h.name&&!_u(y)&&o(h.name)),Kf(y)&&l(y),g.children){const E=g.children;for(let O=0;O<E.length;O++)r(E[O],y,f&&f.children[O])}f=f||y}return v?()=>{o(v)}:Bi}function o(h){if(Uf(h)){const d=s.get(h);d&&(s.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=P_(h,n);n.splice(d,0,h),h.record.name&&!_u(h)&&s.set(h.record.name,h)}function c(h,d){let f,p={},g,m;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ei(Vt.MATCHER_NOT_FOUND,{location:h});m=f.record.name,p=yt(bu(d.params,f.keys.filter(v=>!v.optional).concat(f.parent?f.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),h.params&&bu(h.params,f.keys.map(v=>v.name))),g=f.stringify(p)}else if(h.path!=null)g=h.path,f=n.find(v=>v.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=d.name?s.get(d.name):n.find(v=>v.re.test(d.path)),!f)throw ei(Vt.MATCHER_NOT_FOUND,{location:h,currentLocation:d});m=f.record.name,p=yt({},d.params,h.params),g=f.stringify(p)}const b=[];let y=f;for(;y;)b.unshift(y.record),y=y.parent;return{name:m,path:g,params:p,matched:b,meta:T_(b)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function bu(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function yu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:O_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function O_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function _u(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function T_(e){return e.reduce((t,n)=>yt(t,n.meta),{})}function P_(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;Yf(e,t[r])<0?s=r:n=r+1}const i=C_(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function C_(e){let t=e;for(;t=t.parent;)if(Kf(t)&&Yf(e,t)===0)return t}function Kf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function vu(e){const t=Ge(No),n=Ge(ql),s=Le(()=>{const l=Yt(e.to);return t.resolve(l)}),i=Le(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(ti.bind(null,u));if(d>-1)return d;const f=wu(l[c-2]);return c>1&&wu(u)===f&&h[h.length-1].path!==f?h.findIndex(ti.bind(null,l[c-2])):d}),r=Le(()=>i.value>-1&&D_(n.params,s.value.params)),o=Le(()=>i.value>-1&&i.value===n.matched.length-1&&Hf(n.params,s.value.params));function a(l={}){if(R_(l)){const c=t[Yt(e.replace)?"replace":"push"](Yt(e.to)).catch(Bi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Le(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function A_(e){return e.length===1?e[0]:e}const M_=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vu,setup(e,{slots:t}){const n=Co(vu(e)),{options:s}=Ge(No),i=Le(()=>({[xu(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xu(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&A_(t.default(n));return e.custom?r:Lf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Yl=M_;function R_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function D_(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Xe(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function wu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xu=(e,t,n)=>e??t??n,I_=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ge(Qa),i=Le(()=>e.route||s.value),r=Ge(fu,0),o=Le(()=>{let c=Yt(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Le(()=>i.value.matched[o.value]);Kr(fu,Le(()=>o.value+1)),Kr(c_,a),Kr(Qa,i);const l=z();return Js(()=>[l.value,a.value,e.name],([c,u,h],[d,f,p])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!ti(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return ku(n.default,{Component:d,route:c});const f=h.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Lf(d,yt({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return ku(n.default,{Component:m,route:c})||m}}});function ku(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Gf=I_;function L_(e){const t=E_(e.routes,e),n=e.parseQuery||a_,s=e.stringifyQuery||du,i=e.history,r=bi(),o=bi(),a=bi(),l=Um(Nn);let c=Nn;Ws&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=oa.bind(null,A=>""+A),h=oa.bind(null,Uy),d=oa.bind(null,er);function f(A,W){let F,U;return Uf(A)?(F=t.getRecordMatcher(A),U=W):U=A,t.addRoute(U,F)}function p(A){const W=t.getRecordMatcher(A);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(A=>A.record)}function m(A){return!!t.getRecordMatcher(A)}function b(A,W){if(W=yt({},W||l.value),typeof A=="string"){const S=aa(n,A,W.path),C=t.resolve({path:S.path},W),M=i.createHref(S.fullPath);return yt(S,C,{params:d(C.params),hash:er(S.hash),redirectedFrom:void 0,href:M})}let F;if(A.path!=null)F=yt({},A,{path:aa(n,A.path,W.path).path});else{const S=yt({},A.params);for(const C in S)S[C]==null&&delete S[C];F=yt({},A,{params:h(S)}),W.params=h(W.params)}const U=t.resolve(F,W),dt=A.hash||"";U.params=u(d(U.params));const _=Yy(s,yt({},A,{hash:Wy(dt),path:U.path})),w=i.createHref(_);return yt({fullPath:_,hash:dt,query:s===du?l_(A.query):A.query||{}},U,{redirectedFrom:void 0,href:w})}function y(A){return typeof A=="string"?aa(n,A,l.value.path):yt({},A)}function v(A,W){if(c!==A)return ei(Vt.NAVIGATION_CANCELLED,{from:W,to:A})}function x(A){return O(A)}function k(A){return x(yt(y(A),{replace:!0}))}function E(A,W){const F=A.matched[A.matched.length-1];if(F&&F.redirect){const{redirect:U}=F;let dt=typeof U=="function"?U(A,W):U;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=y(dt):{path:dt},dt.params={}),yt({query:A.query,hash:A.hash,params:dt.path!=null?{}:A.params},dt)}}function O(A,W){const F=c=b(A),U=l.value,dt=A.state,_=A.force,w=A.replace===!0,S=E(F,U);if(S)return O(yt(y(S),{state:typeof S=="object"?yt({},dt,S.state):dt,force:_,replace:w}),W||F);const C=F;C.redirectedFrom=W;let M;return!_&&Ky(s,U,F)&&(M=ei(Vt.NAVIGATION_DUPLICATED,{to:C,from:U}),ye(U,U,!0,!1)),(M?Promise.resolve(M):K(C,U)).catch(T=>pn(T)?pn(T,Vt.NAVIGATION_GUARD_REDIRECT)?T:be(T):at(T,C,U)).then(T=>{if(T){if(pn(T,Vt.NAVIGATION_GUARD_REDIRECT))return O(yt({replace:w},y(T.to),{state:typeof T.to=="object"?yt({},dt,T.to.state):dt,force:_}),W||C)}else T=ot(C,U,!0,w,dt);return X(C,U,T),T})}function R(A,W){const F=v(A,W);return F?Promise.reject(F):Promise.resolve()}function $(A){const W=Se.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(A):A()}function K(A,W){let F;const[U,dt,_]=u_(A,W);F=ca(U.reverse(),"beforeRouteLeave",A,W);for(const S of U)S.leaveGuards.forEach(C=>{F.push(Hn(C,A,W))});const w=R.bind(null,A,W);return F.push(w),Xt(F).then(()=>{F=[];for(const S of r.list())F.push(Hn(S,A,W));return F.push(w),Xt(F)}).then(()=>{F=ca(dt,"beforeRouteUpdate",A,W);for(const S of dt)S.updateGuards.forEach(C=>{F.push(Hn(C,A,W))});return F.push(w),Xt(F)}).then(()=>{F=[];for(const S of _)if(S.beforeEnter)if(Xe(S.beforeEnter))for(const C of S.beforeEnter)F.push(Hn(C,A,W));else F.push(Hn(S.beforeEnter,A,W));return F.push(w),Xt(F)}).then(()=>(A.matched.forEach(S=>S.enterCallbacks={}),F=ca(_,"beforeRouteEnter",A,W,$),F.push(w),Xt(F))).then(()=>{F=[];for(const S of o.list())F.push(Hn(S,A,W));return F.push(w),Xt(F)}).catch(S=>pn(S,Vt.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function X(A,W,F){a.list().forEach(U=>$(()=>U(A,W,F)))}function ot(A,W,F,U,dt){const _=v(A,W);if(_)return _;const w=W===Nn,S=Ws?history.state:{};F&&(U||w?i.replace(A.fullPath,yt({scroll:w&&S&&S.scroll},dt)):i.push(A.fullPath,dt)),l.value=A,ye(A,W,F,w),be()}let St;function te(){St||(St=i.listen((A,W,F)=>{if(!Ae.listening)return;const U=b(A),dt=E(U,Ae.currentRoute.value);if(dt){O(yt(dt,{replace:!0,force:!0}),U).catch(Bi);return}c=U;const _=l.value;Ws&&n_(hu(_.fullPath,F.delta),jo()),K(U,_).catch(w=>pn(w,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_CANCELLED)?w:pn(w,Vt.NAVIGATION_GUARD_REDIRECT)?(O(yt(y(w.to),{force:!0}),U).then(S=>{pn(S,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_DUPLICATED)&&!F.delta&&F.type===Ja.pop&&i.go(-1,!1)}).catch(Bi),Promise.reject()):(F.delta&&i.go(-F.delta,!1),at(w,U,_))).then(w=>{w=w||ot(U,_,!1),w&&(F.delta&&!pn(w,Vt.NAVIGATION_CANCELLED)?i.go(-F.delta,!1):F.type===Ja.pop&&pn(w,Vt.NAVIGATION_ABORTED|Vt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),X(U,_,w)}).catch(Bi)}))}let ht=bi(),it=bi(),G;function at(A,W,F){be(A);const U=it.list();return U.length?U.forEach(dt=>dt(A,W,F)):console.error(A),Promise.reject(A)}function Pt(){return G&&l.value!==Nn?Promise.resolve():new Promise((A,W)=>{ht.add([A,W])})}function be(A){return G||(G=!A,te(),ht.list().forEach(([W,F])=>A?F(A):W()),ht.reset()),A}function ye(A,W,F,U){const{scrollBehavior:dt}=e;if(!Ws||!dt)return Promise.resolve();const _=!F&&s_(hu(A.fullPath,0))||(U||!F)&&history.state&&history.state.scroll||null;return En().then(()=>dt(A,W,_)).then(w=>w&&e_(w)).catch(w=>at(w,A,W))}const qt=A=>i.go(A);let Be;const Se=new Set,Ae={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:g,resolve:b,options:e,push:x,replace:k,go:qt,back:()=>qt(-1),forward:()=>qt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:it.add,isReady:Pt,install(A){A.component("RouterLink",Yl),A.component("RouterView",Gf),A.config.globalProperties.$router=Ae,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Yt(l)}),Ws&&!Be&&l.value===Nn&&(Be=!0,x(i.location).catch(U=>{}));const W={};for(const U in Nn)Object.defineProperty(W,U,{get:()=>l.value[U],enumerable:!0});A.provide(No,Ae),A.provide(ql,Zd(W)),A.provide(Qa,l);const F=A.unmount;Se.add(A),A.unmount=function(){Se.delete(A),Se.size<1&&(c=Nn,St&&St(),St=null,l.value=Nn,Be=!1,G=!1),F()}}};function Xt(A){return A.reduce((W,F)=>W.then(()=>$(F)),Promise.resolve())}return Ae}function li(){return Ge(No)}function j_(e){return Ge(ql)}const N_={class:"navLabel"},$_=mt({__name:"NavBarButton",props:{label:{},icon:{},route:{},active:{}},setup(e){return li(),(t,n)=>(N(),Ft(Yt(Yl),{to:e.route,class:fe("navLink"+(e.active===e.label?" active":""))},{default:Je(()=>[P("i",{class:fe(e.icon)},null,2),P("span",N_,Tt(e.label),1)]),_:1},8,["to","class"]))}}),Dt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},ua=Dt($_,[["__scopeId","data-v-5fb478db"]]),F_={class:"nav-bar"},B_=mt({__name:"NavBar",props:{active:{}},setup(e){return(t,n)=>(N(),Q("nav",F_,[H(ua,{label:"Stats",icon:"fas fa-chart-bar",route:"/stats",active:e.active},null,8,["active"]),H(ua,{label:"Home",icon:"fas fa-home",route:"/home",active:e.active},null,8,["active"]),H(ua,{label:"Upload",icon:"fas fa-camera",route:"/upload",active:e.active},null,8,["active"])]))}}),W_=Dt(B_,[["__scopeId","data-v-bb3b9011"]]);var Za=function(e,t){return Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Za(e,t)};function Jf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Za(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ao=function(){return ao=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(this,arguments)};function ci(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Xf(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function Qf(e,t){return function(n,s){t(n,s,e)}}function Zf(e,t,n,s,i,r){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?s.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in s)p[g]=g==="access"?{}:s[g];for(var g in s.access)p.access[g]=s.access[g];p.addInitializer=function(b){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(b||null))};var m=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(u.get=h),(h=o(m.set))&&(u.set=h),(h=o(m.init))&&i.unshift(h)}else(h=o(m))&&(a==="field"?i.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function tg(e,t,n){for(var s=arguments.length>2,i=0;i<t.length;i++)n=s?t[i].call(e,n):t[i].call(e);return s?n:void 0}function eg(e){return typeof e=="symbol"?e:"".concat(e)}function ng(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function sg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function V(e,t,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})}function ig(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(s=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){n.label=c[1];break}if(c[0]===6&&n.label<r[1]){n.label=r[1],r=c;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(c);break}r[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{s=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var $o=Object.create?(function(e,t,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}):(function(e,t,n,s){s===void 0&&(s=n),e[s]=t[n]});function rg(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&$o(t,e,n)}function lo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),i,r=[],o;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}function og(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kl(arguments[t]));return e}function ag(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,i++)s[i]=r[o];return s}function lg(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,r;s<i;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function ni(e){return this instanceof ni?(this.v=e,this):new ni(e)}function cg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,h)}}function a(f,p){s[f]&&(i[f]=function(g){return new Promise(function(m,b){r.push([f,g,m,b])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(s[f](p))}catch(g){d(r[0][3],g)}}function c(f){f.value instanceof ni?Promise.resolve(f.value.v).then(u,h):d(r[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}}function ug(e){var t,n;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,r){t[i]=e[i]?function(o){return(n=!n)?{value:ni(e[i](o)),done:!1}:r?r(o):o}:r}}function hg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lo=="function"?lo(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(r){n[r]=e[r]&&function(o){return new Promise(function(a,l){o=e[r](o),i(a,l,o.done,o.value)})}}function i(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}}function dg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var V_=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},tl=function(e){return tl=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},tl(e)};function fg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=tl(e),s=0;s<n.length;s++)n[s]!=="default"&&$o(t,e,n[s]);return V_(t,e),t}function gg(e){return e&&e.__esModule?e:{default:e}}function pg(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)}function mg(e,t,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function bg(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function yg(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:s,async:n})}else n&&e.stack.push({async:!0});return t}var H_=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var s=new Error(n);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function _g(e){function t(r){e.error=e.hasError?new H_(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,s=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&s===1)return s=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(r).then(i,function(o){return t(o),i()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function vg(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,r,o){return s?t?".jsx":".js":i&&(!r||!o)?n:i+r+"."+o.toLowerCase()+"js"}):e}const U_={__extends:Jf,__assign:ao,__rest:ci,__decorate:Xf,__param:Qf,__esDecorate:Zf,__runInitializers:tg,__propKey:eg,__setFunctionName:ng,__metadata:sg,__awaiter:V,__generator:ig,__createBinding:$o,__exportStar:rg,__values:lo,__read:Kl,__spread:og,__spreadArrays:ag,__spreadArray:lg,__await:ni,__asyncGenerator:cg,__asyncDelegator:ug,__asyncValues:hg,__makeTemplateObject:dg,__importStar:fg,__importDefault:gg,__classPrivateFieldGet:pg,__classPrivateFieldSet:mg,__classPrivateFieldIn:bg,__addDisposableResource:yg,__disposeResources:_g,__rewriteRelativeImportExtension:vg},z_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:yg,get __assign(){return ao},__asyncDelegator:ug,__asyncGenerator:cg,__asyncValues:hg,__await:ni,__awaiter:V,__classPrivateFieldGet:pg,__classPrivateFieldIn:bg,__classPrivateFieldSet:mg,__createBinding:$o,__decorate:Xf,__disposeResources:_g,__esDecorate:Zf,__exportStar:rg,__extends:Jf,__generator:ig,__importDefault:gg,__importStar:fg,__makeTemplateObject:dg,__metadata:sg,__param:Qf,__propKey:eg,__read:Kl,__rest:ci,__rewriteRelativeImportExtension:vg,__runInitializers:tg,__setFunctionName:ng,__spread:og,__spreadArray:lg,__spreadArrays:ag,__values:lo,default:U_},Symbol.toStringTag,{value:"Module"})),q_="modulepreload",Y_=function(e){return"/paperWeight/dist/"+e},Su={},ui=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=Y_(u),u in Su)return;Su[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":q_,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},K_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Gl extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Eu extends Gl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ou extends Gl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tu extends Gl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var el;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(el||(el={}));class G_{constructor(t,{headers:n={},customFetch:s,region:i=el.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=K_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:r,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:d,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new Eu(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Ou(f);if(!f.ok)throw new Tu(f);let g=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield f.json():g==="application/octet-stream"||g==="application/pdf"?m=yield f.blob():g==="text/event-stream"?m=f:g==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new Eu(r)}:{data:null,error:r,response:r instanceof Tu||r instanceof Ou?r.context:void 0}}})}}function J_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wg(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var ae={};const hi=wg(z_);var kr={},Sr={},Er={},Or={},Tr={},X_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},si=X_();const Q_=si.fetch,xg=si.fetch.bind(si),kg=si.Headers,Z_=si.Request,t0=si.Response,Os=Object.freeze(Object.defineProperty({__proto__:null,Headers:kg,Request:Z_,Response:t0,default:xg,fetch:Q_},Symbol.toStringTag,{value:"Module"})),e0=wg(Os);var Pr={},Pu;function Sg(){if(Pu)return Pr;Pu=1,Object.defineProperty(Pr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Pr.default=e,Pr}var Cu;function Eg(){if(Cu)return Tr;Cu=1,Object.defineProperty(Tr,"__esModule",{value:!0});const e=hi,t=e.__importDefault(e0),n=e.__importDefault(Sg());class s{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let p=null,g=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=E:g=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(g=[],p=null,b=200,y="OK")}catch{c.status===404&&x===""?(b=204,y="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p?.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,y="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:g,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return Tr.default=s,Tr}var Au;function Og(){if(Au)return Or;Au=1,Object.defineProperty(Or,"__esModule",{value:!0});const t=hi.__importDefault(Eg());class n extends t.default{select(i){let r=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[i?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Or.default=n,Or}var Mu;function Jl(){if(Mu)return Er;Mu=1,Object.defineProperty(Er,"__esModule",{value:!0});const t=hi.__importDefault(Og());class n extends t.default{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}in(i,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(i,r,o){return this.url.searchParams.append(i,`not.${r}.${o}`),this}or(i,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,o){return this.url.searchParams.append(i,`${r}.${o}`),this}}return Er.default=n,Er}var Ru;function Tg(){if(Ru)return Sr;Ru=1,Object.defineProperty(Sr,"__esModule",{value:!0});const t=hi.__importDefault(Jl());class n{constructor(i,{headers:r={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(i,r){const{head:o=!1,count:a}=r??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var r;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return Sr.default=n,Sr}var Du;function n0(){if(Du)return kr;Du=1,Object.defineProperty(kr,"__esModule",{value:!0});const e=hi,t=e.__importDefault(Tg()),n=e.__importDefault(Jl());class s{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new s(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${r}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{d.searchParams.append(g,m)})):(h="POST",f=o);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new n.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return kr.default=s,kr}var Iu;function s0(){if(Iu)return ae;Iu=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.PostgrestError=ae.PostgrestBuilder=ae.PostgrestTransformBuilder=ae.PostgrestFilterBuilder=ae.PostgrestQueryBuilder=ae.PostgrestClient=void 0;const e=hi,t=e.__importDefault(n0());ae.PostgrestClient=t.default;const n=e.__importDefault(Tg());ae.PostgrestQueryBuilder=n.default;const s=e.__importDefault(Jl());ae.PostgrestFilterBuilder=s.default;const i=e.__importDefault(Og());ae.PostgrestTransformBuilder=i.default;const r=e.__importDefault(Eg());ae.PostgrestBuilder=r.default;const o=e.__importDefault(Sg());return ae.PostgrestError=o.default,ae.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:r.default,PostgrestError:o.default},ae}var i0=s0();const r0=J_(i0),{PostgrestClient:o0,PostgrestQueryBuilder:TA,PostgrestFilterBuilder:PA,PostgrestTransformBuilder:CA,PostgrestBuilder:AA,PostgrestError:MA}=r0;class a0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const l0="2.76.1",c0=`realtime-js/${l0}`,u0="1.0.0",nl=1e4,h0=1e3,d0=100;var Wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wi||(Wi={}));var ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ne||(ne={}));var qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qe||(qe={}));var sl;(function(e){e.websocket="websocket"})(sl||(sl={}));var ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ms||(ms={}));class f0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+i));o=o+i;const l=s.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Pg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const Lu=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((r,o)=>(r[o]=g0(o,e,t,i),r),{}):{}},g0=(e,t,n,s)=>{const i=t.find(a=>a.name===e),r=i?.type,o=n[e];return r&&!s.includes(r)?Cg(r,o):il(o)},Cg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return y0(t,n)}switch(e){case At.bool:return p0(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return m0(t);case At.json:case At.jsonb:return b0(t);case At.timestamp:return _0(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return il(t);default:return il(t)}},il=e=>e,p0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},b0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Cg(t,a))}return e},_0=e=>typeof e=="string"?e.replace(" ","T"):e,Ag=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ha{constructor(t,n,s={},i=nl){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ju;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ju||(ju={}));class Vi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Vi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const r=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=h.filter(m=>d.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(t,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nu||(Nu={}));var Hi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hi||(Hi={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class Xl{constructor(t,n={config:{}},s){var i,r;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ha(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Pg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vi(this),this.broadcastEndpointURL=Ag(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(wn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(wn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<m;y++){const v=g[y],{filter:{event:x,schema:k,table:E,filter:O}}=v,R=f&&f[y];if(R&&R.event===x&&R.schema===k&&R.table===E&&R.filter===O)b.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=ne.errored,t?.(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(wn.SUBSCRIBED);return}}).receive("error",f=>{this.state=ne.errored,t?.(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===ne.joined&&t===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new ha(this,qe.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ha(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qe;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var p,g,m,b,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return x&&((g=n.ids)===null||g===void 0?void 0:g.includes(x))&&(k==="*"||k?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((v=n?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:g,table:m,commit_timestamp:b,type:y,errors:v}=p;d=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(d,s)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Xl.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lu(t.columns,t.old_record)),n}}const da=()=>{},Cr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v0=[1e3,2e3,5e3,1e4],w0=1e4,x0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k0{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nl,this.transport=null,this.heartbeatIntervalMs=Cr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=da,this.ref=0,this.reconnectTimer=null,this.logger=da,this.conn=null,this.sendBuffer=[],this.serializer=new f0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>ui(async()=>{const{default:a}=await Promise.resolve().then(()=>Os);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${sl.websocket}`,this.httpEndpoint=Ag(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u0}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return ms.Connecting;case Wi.open:return ms.Open;case Wi.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new Xl(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:s,payload:i,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(h0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([x0],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:c0};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Pg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,r,o,a,l,c,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:nl,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Cr.HEARTBEAT_INTERVAL,this.worker=(r=t?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:da,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>v0[h-1]||w0),this.encode=(c=t?.encode)!==null&&c!==void 0?c:((h,d)=>d(JSON.stringify(h))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Ql extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S0 extends Ql{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends Ql{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Zl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},E0=()=>V(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ui(()=>Promise.resolve().then(()=>Os),void 0)).Response:Response}),ol=e=>{if(Array.isArray(e))return e.map(n=>ol(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=ol(s)}),t},O0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T0=(e,t,n)=>V(void 0,void 0,void 0,function*(){const s=yield E0();e instanceof s&&!n?.noResolveJson?e.json().then(i=>{const r=e.status||500,o=i?.statusCode||r+"";t(new S0(fa(i),r,o))}).catch(i=>{t(new rl(fa(i),i))}):t(new rl(fa(e),e))}),P0=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:(O0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function gr(e,t,n,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,P0(t,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>T0(l,a,s))})})}function nr(e,t,n,s){return V(this,void 0,void 0,function*(){return gr(e,"GET",t,n,s)})}function ze(e,t,n,s,i){return V(this,void 0,void 0,function*(){return gr(e,"POST",t,s,i,n)})}function al(e,t,n,s,i){return V(this,void 0,void 0,function*(){return gr(e,"PUT",t,s,i,n)})}function C0(e,t,n,s){return V(this,void 0,void 0,function*(){return gr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function tc(e,t,n,s,i){return V(this,void 0,void 0,function*(){return gr(e,"DELETE",t,s,i,n)})}class A0{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return V(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var Mg;class M0{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Mg]="BlobDownloadBuilder",this.promise=null}asStream(){return new A0(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return V(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}Mg=Symbol.toStringTag;const R0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D0{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=Zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return V(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},$u),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(t=="PUT"?al:ze)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}upload(t,n,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return V(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:$u.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield al(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return V(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const r=yield ze(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Ql("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}update(t,n,s){return V(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return V(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return V(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield ze(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return V(this,void 0,void 0,function*(){try{const i=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),o=r?`?${r}`:"",a=this._getFinalPath(t),l=()=>nr(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new M0(l,this.shouldThrowOnError)}info(t){return V(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield nr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ol(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}exists(t){return V(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield C0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s)&&s instanceof rl){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],r=n?.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(t){return V(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}list(t,n,s){return V(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},R0),n),{prefix:t||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}listV2(t,n){return V(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Rg="2.76.1",Dg={"X-Client-Info":`storage-js/${Rg}`};class I0{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dg),n),this.fetch=Zl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return V(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}createBucket(t){return V(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return V(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class L0{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dg),n),this.fetch=Zl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listBuckets(t){return V(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,r=yield nr(this.fetch,i,{headers:this.headers});return{data:Array.isArray(r)?r.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}const ec={"X-Client-Info":`storage-js/${Rg}`,"Content-Type":"application/json"};class Ig extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ga extends Ig{constructor(t,n,s){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class j0 extends Ig{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Fu;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fu||(Fu={}));const nc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},N0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$0=(e,t,n)=>V(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new ga(Bu(o),i,a))}).catch(()=>{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ga(a,i,o))});else{const o=i+"",a=r.statusText||`HTTP ${i} error`;t(new ga(a,i,o))}}else t(new j0(Bu(e),e))}),F0=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return s?(N0(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function B0(e,t,n,s,i,r){return V(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,F0(t,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>$0(l,a,s))})})}function Ne(e,t,n,s,i){return V(this,void 0,void 0,function*(){return B0(e,"POST",t,s,i,n)})}class W0{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ec),n),this.fetch=nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getIndex(t,n){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}listIndexes(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}}class V0{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ec),n),this.fetch=nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return V(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listVectors(t){return V(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ne(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}queryVectors(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteVectors(t){return V(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class H0{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ec),n),this.fetch=nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getBucket(t){return V(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listBuckets(){return V(this,arguments,void 0,function*(t={}){try{return{data:yield Ne(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return V(this,void 0,void 0,function*(){try{return{data:(yield Ne(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class U0 extends H0{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new z0(this.url,this.headers,t,this.fetch)}}class z0 extends W0{constructor(t,n,s,i){super(t,n,i),this.vectorBucketName=s}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return V(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return V(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return V(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return V(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new q0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class q0 extends V0{constructor(t,n,s,i,r){super(t,n,r),this.vectorBucketName=s,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return V(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return V(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return V(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return V(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return V(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Y0 extends I0{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new D0(this.url,this.headers,t,this.fetch)}get vectors(){return new U0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new L0(this.url+"/iceberg",this.headers,this.fetch)}}const K0="2.76.1";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const G0={"X-Client-Info":`supabase-js-${Ci}/${K0}`},J0={headers:G0},X0={schema:"public"},Q0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z0={},tv=e=>{let t;return e?t=e:typeof fetch>"u"?t=xg:t=fetch,(...n)=>t(...n)},ev=()=>typeof Headers>"u"?kg:Headers,nv=(e,t,n)=>{const s=tv(n),i=ev();return async(r,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))}};function sv(e){return e.endsWith("/")?e:e+"/"}function iv(e,t){var n,s;const{db:i,auth:r,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function rv(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lg="2.76.1",Vs=30*1e3,ll=3,pa=ll*Vs,ov="http://localhost:9999",av="supabase.auth.token",lv={"X-Client-Info":`gotrue-js/${Lg}`},cl="X-Supabase-Api-Version",jg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uv=600*1e3;class sr extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hv extends sr{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function dv(e){return Y(e)&&e.name==="AuthApiError"}class bs extends sr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ts extends sr{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Bn extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fv(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ms extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ar extends ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mr extends ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gv(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wu extends ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ul extends ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ma(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Vu extends ts{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class hl extends ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hu=` 	
\r=`.split(""),pv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hu.length;t+=1)e[Hu[t].charCodeAt(0)]=-2;for(let t=0;t<co.length;t+=1)e[co[t].charCodeAt(0)]=t;return e})();function Uu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(co[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(co[s]),t.queuedBits-=6}}function Ng(e,t,n){const s=pv[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{yv(o,s,n)};for(let o=0;o<e.length;o+=1)Ng(e.charCodeAt(o),i,r);return t.join("")}function mv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bv(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mv(s,t)}}function yv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Xs(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Ng(e.charCodeAt(i),n,s);return new Uint8Array(t)}function _v(e){const t=[];return bv(e,n=>t.push(n)),new Uint8Array(t)}function _s(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>Uu(i,n,s)),Uu(null,n,s),t.join("")}function vv(e){return Math.round(Date.now()/1e3)+e}function wv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const De=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},$g=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function xv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const Fg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Os);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},kv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},os=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$n=async(e,t)=>{await e.removeItem(t)};class Fo{constructor(){this.promise=new Fo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fo.promiseConstructor=Promise;function ba(e){const t=e.split(".");if(t.length!==3)throw new hl("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!cv.test(t[s]))throw new hl("JWT not in base64url format");return{header:JSON.parse(zu(t[0])),payload:JSON.parse(zu(t[1])),signature:Xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ev(e,t){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await e(r);if(!t(r,null,o)){s(o);return}}catch(o){if(!t(r,o)){i(o);return}}})()})}function Ov(e){return("0"+e.toString(16)).substr(-2)}function Tv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,Ov).join("")}async function Pv(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function Cv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Pv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(e,t,n=!1){const s=Tv();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Hs(e,`${t}-code-verifier`,i);const r=await Cv(s);return[r,s===r?"plain":"s256"]}const Av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mv(e){const t=e.headers.get(cl);if(!t||!t.match(Av))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Dv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Iv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(e){if(!Iv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ya(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qu(e){return JSON.parse(JSON.stringify(e))}const ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lv=[502,503,504];async function Yu(e){var t;if(!kv(e))throw new ul(ds(e),0);if(Lv.includes(e.status))throw new ul(ds(e),e.status);let n;try{n=await e.json()}catch(r){throw new bs(ds(r),r)}let s;const i=Mv(e);if(i&&i.getTime()>=jg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Vu(ds(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Vu(ds(n),e.status,n.weak_password.reasons);throw new hv(ds(n),e.status||500,s)}const jv=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function et(e,t,n,s){var i;const r=Object.assign({},s?.headers);r[cl]||(r[cl]=jg["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Nv(e,t,n+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Nv(e,t,n,s,i,r){const o=jv(t,s,i,r);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new ul(ds(l),0)}if(a.ok||await Yu(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Yu(l)}}function Ue(e){var t;let n=null;Bv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vv(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Ku(e){const t=Ue(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $v(e){return{data:e,error:null}}function Fv(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=e,o=ci(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gu(e){return e}function Bv(e){return e.access_token&&e.refresh_token&&e.expires_in}const _a=["global","local","others"];class Wv{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Fg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=_a[0]){if(_a.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_a.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=ci(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Fv,redirectTo:n?.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Un})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Gu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ds(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Un})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ds(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ds(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Un})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ds(t.userId);try{const{data:n,error:s}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ds(t.userId),Ds(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Gu});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}}function Ju(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Is={debug:!!(globalThis&&$g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vv extends Bg{}async function Hv(e,t,n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Is.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Uv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function zv(e){return parseInt(e,16)}function qv(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Yv(e){var t;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Wg(e.address),p=u?`${u}://${s}`:s,g=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}b+=y}return`${m}
${b}`}class Qt extends Error{constructor({message:t,code:n,cause:s,name:i}){var r;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class uo extends Qt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Kv({error:e,options:t}){var n,s,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Vg(o)){if(r.rp.id!==o)return new Qt({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Gv({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Vg(s)){if(n.rpId!==s)return new Qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Jv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xv=new Jv;function Qv(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,i=ci(e,["challenge","user","excludeCredentials"]),r=Xs(t).buffer,o=Object.assign(Object.assign({},n),{id:Xs(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Xs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Zv(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=ci(e,["challenge","allowCredentials"]),i=Xs(t).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Xs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function tw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:_s(new Uint8Array(e.response.attestationObject)),clientDataJSON:_s(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ew(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_s(new Uint8Array(i.authenticatorData)),clientDataJSON:_s(new Uint8Array(i.clientDataJSON)),signature:_s(new Uint8Array(i.signature)),userHandle:i.userHandle?_s(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xu(){var e,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",t)}:{data:null,error:new uo("Empty credential response",t)}}catch(t){return{data:null,error:Kv({error:t,options:e})}}}async function sw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",t)}:{data:null,error:new uo("Empty credential response",t)}}catch(t){return{data:null,error:Gv({error:t,options:e})}}}const iw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rw={userVerification:"preferred",hints:["security-key"]};function ho(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of e)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(n(o))s[r]=o;else if(t(o)){const a=s[r];t(a)?s[r]=ho(a,o):s[r]=ho(o)}else s[r]=o}return s}function ow(e,t){return ho(iw,e,t||{})}function aw(e,t){return ho(rw,e,t||{})}class lw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??Xv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=ow(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:h}=await nw({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=aw(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:h}=await sw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},r){if(!n)return{data:null,error:new sr("rpId is required for WebAuthn authentication")};try{if(!Xu())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},r){if(!n)return{data:null,error:new sr("rpId is required for WebAuthn registration")};try{if(!Xu())return{data:null,error:new bs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new bs("Unexpected error in register",o)}}}}Uv();const cw={url:ov,storageKey:av,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qu(e,t,n){return await n()}const Ls={};class ir{get jwks(){var t,n;return(n=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{cachedAt:t})}constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ir.nextInstanceID,ir.nextInstanceID+=1,this.instanceID>0&&De()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cw),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Fg(i.fetch),this.lock=i.lock||Qu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:De()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Hv:this.lock=Qu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lw(this)},this.persistSession?(i.storage?this.storage=i.storage:$g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xv(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),De()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),gv(r)){const l=(t=r.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?{error:n}:{error:new bs("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ue}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,s,i;try{let r;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Rs(this.storage,this.storageKey)),r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ue})}else if("phone"in t){const{phone:u,password:h,options:d}=t;r=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ue})}else throw new Ar("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:o,options:a}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ku})}else if("phone"in t){const{phone:r,password:o,options:a}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ku})}else throw new Ar("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ms}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,i,r,o,a,l,c,u,h,d;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:g,wallet:m,statement:b,options:y}=t;let v;if(De())if(typeof m=="object")v=m;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")v=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const x=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Wg(k[0]);let O=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!O){const $=await v.request({method:"eth_chainId"});O=zv($)}const R={domain:x.host,address:E,statement:b,uri:x.href,version:"1",chainId:O,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Yv(R),p=await v.request({method:"personal_sign",params:[qv(f),E]})}try{const{data:g,error:m}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ue});if(m)throw m;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ms}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:m})}catch(g){if(Y(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,s,i,r,o,a,l,c,u,h,d,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:b,statement:y,options:v}=t;let x;if(De())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const k=new URL((n=v?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let O;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")O=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)O=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)p=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(s=v?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=v?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:m,error:b}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:_s(g)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ue});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ms}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(Y(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const n=await os(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ue});if(await $n(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(Y(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=t,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ue}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ms}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,r,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rs(this.storage,this.storageKey));const{error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Ar("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Ue});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Rs(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:$v})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Bn;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:r}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:r}=t,{data:o,error:a}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Ar("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<pa:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await os(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=ya()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Un})})}catch(n){if(Y(n))return fv(n)&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Bn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Rs(this.storage,this.storageKey));const{data:c,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Un});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=ba(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(Y(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Bn;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!De())throw new Mr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wu("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!r||!a||!o||!c)throw new Mr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:g,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(Y(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(dv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await $n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=wv(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Rs(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return De()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(Y(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ue}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ms}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Ev(async i=>(i>0&&await Sv(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ue})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ma(r)&&Date.now()+o-s<Vs})}catch(s){if(this._debug(n,"error",s),Y(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),De()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await os(this.storage,this.storageKey);if(i&&this.userStorage){let o=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Hs(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:ya()}else if(i&&!i.user&&!i.user){const o=await os(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await $n(this.storage,this.storageKey+"-user"),await Hs(this.storage,this.storageKey,i)):i.user=ya()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pa;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${pa}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ma(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fo;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Bn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),Y(r)){const o={data:null,error:r};return ma(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Hs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=qu(i);await Hs(this.storage,this.storageKey,r)}else{const i=qu(n);await Hs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await $n(this.storage,this.storageKey),await $n(this.storage,this.storageKey+"-code-verifier"),await $n(this.storage,this.storageKey+"-user"),this.userStorage&&await $n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${ll} ticks`),i<=ll&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Rs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tw(t.webauthn.credential_response):ew(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Qv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:r}=t;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ba(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(a=>a.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+uv>i)return s;const{data:r,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=ba(s);n?.allowExpired||Rv(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=Dv(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,_v(`${a}.${l}`)))throw new hl("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}ir.nextInstanceID=0;const uw=ir;class hw extends uw{constructor(t){super(t)}}class dw{constructor(t,n,s){var i,r,o;this.supabaseUrl=t,this.supabaseKey=n;const a=rv(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:X0,realtime:Z0,auth:Object.assign(Object.assign({},Q0),{storageKey:l}),global:J0},u=iv(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=nv(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new o0(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Y0(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new G_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hw({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new k0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fw=(e,t,n)=>new dw(e,t,n);function gw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pw="https://gkyqqlkxpfskmtryfmyp.supabase.co",mw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXFxbGt4cGZza210cnlmbXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwOTEwNzEsImV4cCI6MjA3NjY2NzA3MX0.RN1Ph6dwPV_0wJuhb0SuXP0Rpd_35a2C7efdzwzbfH8",$e=fw(pw,mw),bw=mt({__name:"App",setup(e){z("/home");const t=li(),n=j_();async function s(){n.name==="SignIn"||n.name==="SignUp"||(await $e.auth.getUser()).data.user||t.push({name:"SignIn"})}return s(),(i,r)=>(N(),Q(Ot,null,[H(Yt(Gf)),H(W_,{active:Yt(n).name||""},null,8,["active"])],64))}}),yw={key:0,class:"bubbleError"},_w=mt({__name:"ErrorBubble",props:["errorMsg"],setup(e){return(t,n)=>e.errorMsg?(N(),Q("div",yw,[n[0]||(n[0]=P("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),P("p",null,Tt(e.errorMsg),1)])):gt("",!0)}}),Hg=Dt(_w,[["__scopeId","data-v-26b1daef"]]),vw={},ww={class:"loading"};function xw(e,t){return N(),Q("div",ww,[...t[0]||(t[0]=[P("i",{class:"fa-solid fa-spinner"},null,-1)])])}const di=Dt(vw,[["render",xw],["__scopeId","data-v-72d81299"]]),kw=["disabled"],Sw=mt({__name:"BubbleButton",props:{label:{},loading:{type:Boolean},red:{type:Boolean},fullWidth:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e,s=t;return(i,r)=>(N(),Q("button",{class:fe(["bubbleButton",{red:n.red},{fullWidth:n.fullWidth}]),disabled:e.loading,onClick:r[0]||(r[0]=o=>s("click"))},[df(i.$slots,"default",{},void 0),Nt(" "+Tt(e.label||""),1)],10,kw))}}),Rn=Dt(Sw,[["__scopeId","data-v-2fc2d1c3"]]),Ew={class:"margins"},Ow={key:0},Tw=mt({__name:"SignInView",setup(e){const t=li(),n=z(""),s=z(""),i=z(null),r=z(!0),o=z(!1);async function a(){try{r.value=!0,i.value=null,o.value=!1;const{data:c,error:u}=await $e.auth.signInWithPassword({email:n.value,password:s.value});if(u)throw u;o.value=!0,t.push({name:"Home"})}catch(c){i.value=c.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function l(){if(!(await $e.auth.getUser()).data.user){r.value=!1;return}t.push({name:"Home"})}return l(),(c,u)=>(N(),Q(Ot,null,[r.value?(N(),Ft(di,{key:0})):gt("",!0),P("div",Ew,[u[4]||(u[4]=P("h2",null,"Sign In",-1)),u[5]||(u[5]=P("h3",null,"Email",-1)),xe(P("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),type:"email",placeholder:"example@example.com"},null,512),[[ke,n.value]]),u[6]||(u[6]=P("h3",null,"Password",-1)),xe(P("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),type:"password",placeholder:"password..."},null,512),[[ke,s.value]]),H(Rn,{loading:r.value,label:"Sign In",onClick:u[2]||(u[2]=h=>a())},null,8,["loading"]),P("p",null,[H(Yt(Yl),{to:{name:"SignUp"}},{default:Je(()=>[...u[3]||(u[3]=[Nt("Don't have an account? Sign Up",-1)])]),_:1})]),H(Hg,{errorMsg:i.value},null,8,["errorMsg"]),o.value?(N(),Q("div",Ow,"You are now signed in.")):gt("",!0)])],64))}}),Pw=Dt(Tw,[["__scopeId","data-v-94565b56"]]),Cw={class:"margins"},Aw=["disabled"],Mw={__name:"SignUpView",setup(e){const t=li(),n=z(""),s=z(""),i=z(""),r=z(!1),o=z("");async function a(){try{r.value=!0;const{error:l}=await $e.auth.signUp({email:s.value,password:i.value,options:{data:{display_name:n.value}}});if(l)throw l;t.push({name:"Email Confirmation"})}catch(l){o.value=l.message}finally{r.value=!1}}return(l,c)=>(N(),Q(Ot,null,[r.value?(N(),Ft(di,{key:0})):gt("",!0),P("div",Cw,[c[3]||(c[3]=P("h2",null,"Sign Up",-1)),c[4]||(c[4]=P("h3",null,"Display name",-1)),xe(P("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),type:"text",placeholder:"Enter your display name."},null,512),[[ke,n.value]]),c[5]||(c[5]=P("h3",null,"Email",-1)),xe(P("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),type:"email",placeholder:"Enter your email."},null,512),[[ke,s.value]]),c[6]||(c[6]=P("h3",null,"Password",-1)),xe(P("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>i.value=u),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[ke,i.value]]),P("button",{class:"bubbleButton",disabled:r.value,onClick:a},"Sign Up",8,Aw),H(Hg,{errorMsg:o.value},null,8,["errorMsg"])])],64))}},Rw=Dt(Mw,[["__scopeId","data-v-f3ba868a"]]),Dw={},Iw={class:"cont"};function Lw(e,t){return N(),Q("div",Iw,[...t[0]||(t[0]=[P("i",{class:"fa-solid fa-envelope"},null,-1),P("h1",null,"Please check your email to finalise your account.",-1),P("h3",null,"Follow the link, then login using your email and password.",-1)])])}const jw=Dt(Dw,[["render",Lw],["__scopeId","data-v-ab9688cb"]]),Nw={key:0,class:"item"},yi=mt({__name:"ThumbnailItem",props:{icon:{},label:{}},setup(e){return(t,n)=>e.label?(N(),Q("div",Nw,[e.icon?(N(),Q("i",{key:0,class:fe(e.icon)},null,2)):gt("",!0),Nt(" "+Tt(e.label),1)])):gt("",!0)}}),$w=mt({__name:"IconButton",props:{icon:{}},emits:["click"],setup(e,{emit:t}){return(n,s)=>(N(),Q("button",{onClick:s[0]||(s[0]=i=>n.$emit("click")),class:"icon-button"},[P("i",{class:fe(e.icon)},null,2)]))}}),Fw=Dt($w,[["__scopeId","data-v-667d6651"]]),Bw={class:"popupOverlay"},Ww={key:0,class:"fa-solid fa-triangle-exclamation",style:{color:"var(--errorBorder)","margin-right":"10px"}},Vw={class:"buttonContainer"},Hw=mt({__name:"OptionPopup",props:{title:{},message:{},confirmText:{},confirmRed:{type:Boolean},cancelText:{},cancelRed:{type:Boolean},error:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:t}){return(n,s)=>(N(),Q("div",Bw,[P("div",{class:fe(["popupContainer softBubble marginsWidth",{error:e.error}])},[P("h2",null,[e.error?(N(),Q("i",Ww)):gt("",!0),Nt(" "+Tt(e.title),1)]),P("p",null,[Nt(Tt(e.message)+" ",1),df(n.$slots,"default",{},void 0)]),P("div",Vw,[H(Rn,{label:e.confirmText,red:e.confirmRed||!1||e.error||!1,loading:!1,onClick:s[0]||(s[0]=i=>n.$emit("confirm"))},null,8,["label","red"]),e.cancelText?(N(),Ft(Rn,{key:0,label:e.cancelText,red:e.cancelRed||!1,loading:!1,onClick:s[1]||(s[1]=i=>n.$emit("cancel"))},null,8,["label","red"])):gt("",!0)])],2)]))}}),fi=Dt(Hw,[["__scopeId","data-v-82f8d070"]]),Uw=mt({__name:"DeleteWorkoutModal",props:{workout:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(N(),Ft(fi,{key:0,title:`Delete Workout: ${e.workout.getTitle()}`,message:"Are you sure you want to delete this workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):gt("",!0)}}),zw={class:"thumbnail"},qw={class:"greyed"},Yw={class:"items"},Kw={id:"deleteContainer"},Gw=mt({__name:"WorkoutThumbnail",props:["workout"],emits:["reload"],setup(e,{emit:t}){li();const n=e,s=t,i=z(!1),r=z(!1);async function o(){i.value=!0,await n.workout.deleteWorkout(),setTimeout(()=>{s("reload"),i.value=!1},500)}return(a,l)=>{const c=fb("RouterLink");return N(),Q(Ot,null,[i.value?(N(),Ft(di,{key:0})):gt("",!0),H(Uw,{visible:r.value,workout:e.workout,onConfirm:l[0]||(l[0]=u=>{o(),r.value=!1}),onCancel:l[1]||(l[1]=u=>r.value=!1)},null,8,["visible","workout"]),P("div",zw,[H(c,{class:"link",to:`/viewWorkout/${e.workout.getId()}`},{default:Je(()=>[P("h3",null,[Nt(Tt(e.workout.getTitle())+" ",1),P("span",qw,Tt(e.workout.getDateString()),1)])]),_:1},8,["to"]),P("div",Yw,[H(yi,{icon:"fa-solid fa-dumbbell",label:e.workout.getVolumeString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-clock",label:e.workout.getDurationString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-list",label:e.workout.countSetsString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-fire",label:e.workout.getEnergyString()},null,8,["label"]),H(yi,{icon:"fa-solid fa-heart",label:e.workout.getHeartRateString()},null,8,["label"])]),P("div",Kw,[H(Fw,{icon:"fa-solid fa-trash",onClick:l[2]||(l[2]=u=>r.value=!0)})])])],64)}}}),Jw=Dt(Gw,[["__scopeId","data-v-6d8b0740"]]),Xw={},Qw={class:"container"};function Zw(e,t){return N(),Q("div",Qw,[...t[0]||(t[0]=[P("i",{class:"fas fa-dumbbell fa-8x"},null,-1),P("h2",null,"No Workouts Found",-1),P("h3",null,"Start by uploading your first workout in the upload page.",-1)])])}const tx=Dt(Xw,[["render",Zw],["__scopeId","data-v-56405e8b"]]);class Zu{name;sets;notes;workout;constructor(t,n){this.name=t.exercise,this.sets=t.sets,this.notes=t.notes,this.workout=n}deserialize(){return{exercise:this.name,sets:this.sets,notes:this.notes}}addNewSet(){if(this.sets.length===0){this.sets.push({reps:0,weight:0,unit:"kg",notes:""});return}const t=this.sets[this.sets.length-1],n={reps:t.reps,weight:t.weight,unit:t.unit,notes:t.notes};this.sets.push(n),this.workout.changeMade()}removeSet(t){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets.splice(t,1),this.workout.changeMade()}removeFromWorkout(){const t=this.workout.getExercises().indexOf(this);if(t===-1)throw new Error("Exercise not found in workout");this.workout.removeExercise(t)}updateSet(t,n){if(t<0||t>=this.sets.length)throw new Error("Index out of bounds");this.sets[t]=n,this.workout.changeMade()}setName(t){this.name=t,this.workout.changeMade()}setNotes(t){this.notes=t,this.workout.changeMade()}reorderUp(){const t=this.workout.getExercises(),n=t.indexOf(this);n<=0||([t[n-1],t[n]]=[t[n],t[n-1]],this.workout.setExercises(t))}reorderDown(){const t=this.workout.getExercises(),n=t.indexOf(this);n===-1||n>=t.length-1||([t[n+1],t[n]]=[t[n],t[n+1]],this.workout.setExercises(t))}getVolume(){let t=0;for(const n of this.sets){let s=n.reps*n.weight;n.unit==="lbs"&&(s=s*.453592),t+=s}return t}getSets(){return this.sets}countSets(){return this.sets.length}getName(){return this.name}getNotes(){return this.notes}getWorkout(){return this.workout}}class lt{static addPeriod(t,n,s){const i=new Date(t);switch(n){case"day":i.setDate(i.getDate()+s);break;case"week":i.setDate(i.getDate()+s*7);break;case"month":i.setMonth(i.getMonth()+s);break;case"year":i.setFullYear(i.getFullYear()+s);break}return i}static getStartOfTerm(t,n){switch(n){case"month":const s=new Date;return s.setMonth(s.getMonth()-t),lt.getStartOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-t),lt.getStartOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-t*7),lt.getStartOfWeek(r);default:return null}}static getEndOfTerm(t,n){switch(n){case"month":const s=new Date;return s.setMonth(s.getMonth()-t),lt.getEndOfMonth(s);case"year":const i=new Date;return i.setFullYear(i.getFullYear()-t),lt.getEndOfYear(i);case"week":const r=new Date;return r.setDate(r.getDate()-t*7),lt.getEndOfWeek(r);default:return null}}static getStartOfWeek(t){t=new Date(t);var n=t.getDay(),s=t.getDate()-n+(n==0?-6:1);return t.setDate(s),t.setHours(0,0,0,0),t}static getEndOfWeek(t){const n=lt.getStartOfWeek(t),s=new Date(n);return s.setDate(n.getDate()+6),s.setHours(23,59,59,999),s}static getStartOfPreviousWeek(t){const n=lt.getStartOfWeek(t),s=new Date(n);return s.setDate(n.getDate()-7),s}static getStartOfMonth(t){const n=new Date(t);return n.setDate(1),n.setHours(0,0,0,0),n}static getEndOfMonth(t){const n=t.getFullYear(),s=t.getMonth();return new Date(n,s+1,0,23,59,59,999)}static getStartOfPreviousMonth(t){const n=lt.getStartOfMonth(t),s=new Date(n);return s.setMonth(n.getMonth()-1),s}static getStartOfYear(t){const n=new Date(t);return n.setMonth(0),n.setDate(1),n.setHours(0,0,0,0),n}static getEndOfYear(t){const n=t.getFullYear();return new Date(n,11,31,23,59,59,999)}static getStartOfPreviousYear(t){const n=lt.getStartOfYear(t),s=new Date(n);return s.setFullYear(n.getFullYear()-1),s}static getStart(t,n){switch(n){case"week":return lt.getStartOfWeek(t);case"month":return lt.getStartOfMonth(t);case"year":return lt.getStartOfYear(t);default:return t}}static getEnd(t,n){switch(n){case"week":return lt.getEndOfWeek(t);case"month":return lt.getEndOfMonth(t);case"year":return lt.getEndOfYear(t);default:return t}}static getStartOfPrevious(t,n){switch(n){case"week":return lt.getStartOfPreviousWeek(t);case"month":return lt.getStartOfPreviousMonth(t);case"year":return lt.getStartOfPreviousYear(t);default:return t}}static getDurationString(t){if(t<=0)return null;const n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return n>0&&r.push(`${n}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}static getPeriodString(t,n){const s=new Date,i=lt.addPeriod(lt.getStart(s,t),t,-n),r=lt.addPeriod(lt.getEnd(s,t),t,-n);switch(t){case"month":return`
                    ${i.toLocaleString("default",{month:"long"})} 
                    ${i.getFullYear()}
                `;case"year":return`${i.getFullYear()}`;case"week":return`
                    ${i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}  
                    ${r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}
                `;default:return""}}}class un{static stringifyItem(t,n){switch(n){case"time":return lt.getDurationString(t)||"0 s";case"workouts":return t.toString()+(t===1?" workout":" workouts");case"energy":return un.commaNumber(t)+" kj";case"volume":return un.commaNumber(t)+" kg";default:return un.commaNumber(t)}}static fullNameForType(t){switch(t){case"time":return"Workout time";case"workouts":return"Number of workouts";case"energy":return"Energy burned";case"volume":return"Volume";default:return t}}static commaNumber(t){let n="";for(let s=0;s<t.toString().length;s++){n+=t.toString()[s];const i=t.toString().length-s-1;i%3===0&&i!==0&&(n+=",")}return n}}class Ug{workout_id;title;start_time;end_time;created_at;exercises;notes;energy;heart_rate;unsavedChanges=0;saving=!1;constructor(t){this.exercises=[],this.title=t.title,this.workout_id=t.workout_id,this.start_time=new Date(t.start_time),this.end_time=new Date(t.end_time),this.created_at=new Date(t.created_at),this.notes=t.notes,this.energy=t.energy,this.heart_rate=t.heart_rate;for(const n of t.exercises_full)this.exercises.push(new Zu(n,this))}async deleteWorkout(){const{data:t,error:n}=await $e.from("workouts").delete().eq("workout_id",this.workout_id);n&&console.error("Failed to delete workout:",n)}changeMade(){this.unsavedChanges++,!this.saving&&this.saveChanges()}async saveChanges(){this.saving=!0;const t=this.unsavedChanges,{data:n,error:s}=await $e.from("workouts").update(this.deserialize()).eq("workout_id",this.workout_id);if(s&&console.error("Failed to save workout changes:",s),this.unsavedChanges-=t,this.unsavedChanges==0){this.saving=!1;return}this.saveChanges()}removeExercise(t){if(t<0||t>=this.exercises.length)throw new Error("Index out of bounds");this.exercises.splice(t,1),this.changeMade()}addEmptyExercise(){const t={exercise:"New Exercise",sets:[],notes:""},n=new Zu(t,this);this.exercises.push(n),this.changeMade()}setExercises(t){this.exercises=t,this.changeMade()}setHeartRate(t){this.heart_rate=t,this.changeMade()}setEnergy(t){this.energy=t,this.changeMade()}setTitle(t){this.title=t,this.changeMade()}setStartDate(t){this.start_time=t,this.changeMade()}setEndDate(t){this.end_time=t,this.changeMade()}deserialize(){const t=[],n=[];for(const s of this.exercises)t.push(s.deserialize()),n.push(s.getName());return{title:this.title,workout_id:this.workout_id,start_time:this.start_time.toISOString(),end_time:this.end_time.toISOString(),created_at:this.created_at.toISOString(),exercises_full:t,exercises:n,notes:this.notes,energy:this.energy,heart_rate:this.heart_rate}}savingInProgress(){return this.saving}getNotes(){return this.notes}getEnergy(){return this.energy}getEnergyString(){const t=this.getEnergy();return t===null?null:`${un.commaNumber(t)} kj`}getHeartRate(){return this.heart_rate}getHeartRateString(){return this.heart_rate===null?null:`${this.heart_rate} bpm`}getExercises(){return this.exercises}getVolume(){let t=0;for(const n of this.exercises)t+=n.getVolume();return t}getVolumeString(){const t=this.getVolume();return t===0?null:`${un.commaNumber(t)} kg`}countSets(){let t=0;for(const n of this.exercises)t+=n.countSets();return t}countSetsString(){const t=this.countSets();return t===0?null:`${t} sets`}getId(){return this.workout_id}getTitle(){return this.title}getDuration(){return(this.end_time.getTime()-this.start_time.getTime())/1e3}getDurationString(){const t=this.getDuration();if(t<=0)return null;const n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=Math.floor(t%60),r=[];return n>0&&r.push(`${n}h`),s>0&&r.push(`${s}m`),(i>0||r.length===0)&&r.push(`${i}s`),r.join(" ")}getDateString(){return this.start_time.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+", "+this.start_time.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}getStartTime(){return this.start_time}getStartTimeShortDateString(){return this.start_time.toLocaleDateString(void 0,{month:"short",day:"numeric"})}getEndTime(){return this.end_time}countExercises(){return this.exercises.length}getItem(t){switch(t){case"workouts":return 1;case"time":return this.getDuration();case"energy":return this.getEnergy();case"volume":return this.getVolume();default:throw new Error(`Unknown item: ${t}`)}}}async function zg(){const e=await $e.from("workouts").select(),t=[];for(const n of e.data||[])t.push(new Ug(n));return t.sort((n,s)=>s.getStartTime().getTime()-n.getStartTime().getTime()),t}const ex={class:"viewArea"},nx={class:"thumbnailContainer margins"},sx=mt({__name:"HomeView",setup(e){const t=z([]),n=z(!0);Ln(async()=>{await s()});async function s(){t.value=await zg(),n.value=!1}return(i,r)=>(N(),Q(Ot,null,[n.value?(N(),Ft(di,{key:0})):gt("",!0),P("div",ex,[P("div",nx,[(N(!0),Q(Ot,null,Ro(t.value,o=>(N(),Ft(Jw,{key:o.getId(),workout:o,onReload:r[0]||(r[0]=a=>s())},null,8,["workout"]))),128))]),!n.value&&t.value.length===0?(N(),Ft(tx,{key:0})):gt("",!0)])],64))}}),ix=Dt(sx,[["__scopeId","data-v-55e1afc1"]]),rx={key:0,id:"urlsCount"},ox=mt({__name:"UploadComponent",props:{pageCount:{}},emits:["uploadWorkoutData","retakePhoto"],setup(e){return(t,n)=>e.pageCount>0?(N(),Q("div",rx,[Nt(" pages "+Tt(e.pageCount)+" ",1),H(Rn,{label:"Upload",loading:!1,onClick:n[0]||(n[0]=s=>t.$emit("uploadWorkoutData"))}),H(Rn,{label:"Retake",loading:!1,onClick:n[1]||(n[1]=s=>t.$emit("retakePhoto"))})])):gt("",!0)}}),ax=Dt(ox,[["__scopeId","data-v-0d77d51b"]]),sc=mt({__name:"ErrorPopup",props:{error:{}},emits:["close"],setup(e){return(t,n)=>e.error.shouldDisplay()?(N(),Ft(fi,{key:0,title:e.error.getTitle(),message:e.error.getMessage(),confirmText:"OK",error:!0,onConfirm:n[0]||(n[0]=s=>e.error.clearError())},null,8,["title","message"])):gt("",!0)}});class ic{title;message;display;constructor(){this.title="",this.message="",this.display=!1}setError(t,n){this.title=t,this.message=n,this.display=!0}clearError(){this.title="",this.message="",this.display=!1}getTitle(){return this.title}getMessage(){return this.message}shouldDisplay(){return this.display}}const lx={class:"viewArea"},cx=mt({__name:"UploadView",setup(e){const t=z(0),n=li(),s=z(null),i=z(null),r=z([]),o=z(0),a=z(null),l=z(new ic);Ln(async()=>{const g={video:{width:{ideal:480},height:{ideal:640},facingMode:"environment"}};s.value&&navigator.mediaDevices.getUserMedia(g).then(m=>{a.value=m,s?s.value.srcObject=m:(l.value.setError("Error creating video feed","Video element not found"),console.error("Video element not found"))}).catch(m=>{l.value.setError("Error accessing camera",m.message),console.error("Error accessing camera: ",m)})}),hf(()=>{a.value&&a.value.getTracks().forEach(g=>g.stop())});const c=async()=>{if(!s.value||!i.value){console.error("Video or canvas element not found"),l.value.setError("Error capturing image","Video or canvas element not found");return}const{data:{user:g},error:m}=await $e.auth.getUser();if(m||!g){console.error("User not authenticated"),l.value.setError("User not authenticated",m?.message||"No user found");return}i.value.width=s.value.videoWidth,i.value.height=s.value.videoHeight;const b=i.value.getContext("2d");if(!b){l.value.setError("Error capturing image","Failed to get canvas context"),console.error("Failed to get canvas context");return}b.drawImage(s.value,0,0),i.value.toBlob(async y=>{if(!y){l.value.setError("Error capturing image","Failed to capture image blob"),console.error("Failed to capture image");return}const v=new File([y],`photo-${Date.now()}-${g.id}.jpg`,{type:"image/jpeg"}),{data:x,error:k}=await $e.storage.from("workoutImage").upload(`photos/${g.id}/${v.name}`,v,{contentType:"image/jpeg",upsert:!1});if(k){l.value.setError("Error uploading image",k.message),console.error("Error uploading image: ",k);return}r.value.push(`https://gkyqqlkxpfskmtryfmyp.supabase.co/storage/v1/object/public/workoutImage/${x.path}`),o.value++},"image/jpeg",.8)};function u(g,m){let b=m?g.startTime:g.endTime;if(!b)return null;const y=new Date;return b.year||(b.year=y.getFullYear()),b.month||(b.month=y.getMonth()+1),b.day||(b.day=y.getDate()),b.hour||(b.hour=y.getHours()),b.minute||(b.minute=y.getMinutes()),new Date(b.year,b.month-1,b.day,b.hour,b.minute,0)}async function h(g){t.value++;const m=u(g,!0),b=u(g,!1);let y=[];for(const E of g.exercises||[])y.push(E.exercise);let v=g.energy&&g.energy.amount||null;v!=null&&g.energy.unit==="kJ"&&(v=v/4.184),v!=null&&(v=Math.round(v));const x=g.heart_rate||null,k=(await $e.auth.getUser()).data.user?.id;return t.value--,{user_id:k,start_time:m?m.toISOString():null,end_time:b?b.toISOString():null,title:g.title||"unnamed workout",exercises_full:g.exercises||[],exercises:y,notes:g.notes||"",energy:v,heart_rate:x}}async function d(){const g=await p(r.value);if(!g){l.value.setError("Error generating workout data","No workout data generated. Please try again by clicking the upload button again."),console.error("No workout data generated");return}const{data:m,error:b}=await f(g);if(b){l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),console.error("Error uploading workout data: ",b);return}n.push({name:"Home"})}async function f(g){t.value++;const{data:m,error:b}=await $e.from("workouts").insert([await h(g)]);return b?(console.error("Error uploading workout data: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),t.value--,{data:m,error:b}):(t.value--,{data:m,error:b})}async function p(g){t.value++;const{data:m,error:b}=await $e.functions.invoke("generate-workout-data",{body:{name:"Functions",imgURLs:g}});return b?(console.error("Error invoking function: ",b),l.value.setError("Error uploading workout data","Please try again by clicking the upload button again."),t.value--,""):(t.value--,m)}return(g,m)=>(N(),Q(Ot,null,[t.value>0?(N(),Ft(di,{key:0})):gt("",!0),H(sc,{error:l.value},null,8,["error"]),P("div",lx,[P("video",{ref_key:"video",ref:s,class:"cameraFeed",muted:"",playsinline:"","webkit-playsinline":"true","x-website-airplay":"deny",preload:"auto","aria-label":"",autoplay:""},null,512),P("button",{class:"captureButton",onClick:m[0]||(m[0]=b=>c())}),H(ax,{pageCount:o.value,onUploadWorkoutData:m[1]||(m[1]=b=>d()),onRetakePhoto:m[2]||(m[2]=b=>{r.value.pop(),o.value--})},null,8,["pageCount"]),P("canvas",{ref_key:"canvas",ref:i,class:"hidden"},null,512)])],64))}}),ux=Dt(cx,[["__scopeId","data-v-54ae7180"]]),hx={key:0,class:"overview-item"},dx={class:"overview-title"},fx={class:"overview-value"},gx=mt({__name:"OverviewItem",props:{label:{},value:{},icon:{}},setup(e){return(t,n)=>e.value?(N(),Q("div",hx,[P("p",dx,Tt(e.label),1),P("h1",fx,[P("i",{class:fe(e.icon+" overview-icon")},null,2),Nt(Tt(e.value),1)])])):gt("",!0)}}),_i=Dt(gx,[["__scopeId","data-v-5430079f"]]),px={class:"softBubble overview"},mx=mt({__name:"WorkoutOverview",props:{workout:{}},setup(e){return(t,n)=>(N(),Q("div",px,[H(_i,{icon:"fa-solid fa-clock",label:"duration",value:e.workout.getDurationString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-dumbbell",label:"volume",value:e.workout.getVolumeString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-list",label:"sets",value:e.workout.countSets()},null,8,["value"]),H(_i,{icon:"fa-solid fa-fire",label:"energy",value:e.workout.getEnergyString()},null,8,["value"]),H(_i,{icon:"fa-solid fa-heart",label:"avg. heart rate",value:e.workout.getHeartRateString()},null,8,["value"])]))}}),bx=Dt(mx,[["__scopeId","data-v-90dd851b"]]),yx={class:"inputs"},_x={class:"flexCol"},vx=mt({__name:"SetEditModal",props:{set:{},exercise:{},index:{}},emits:["cancel"],setup(e,{emit:t}){const n=z(0),s=z(0),i=z(""),r=e,o=t;function a(){const c={weight:Number(n.value),reps:Number(s.value),notes:i.value,unit:r.set.units||"kg"};r.exercise.updateSet(r.index,c),o("cancel")}function l(){n.value=r.set.weight||0,s.value=r.set.reps||0,i.value=r.set.notes||""}return Ln(()=>{l()}),Bl(()=>{l()}),(c,u)=>(N(),Ft(fi,{title:"Edit Set",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[4]||(u[4]=h=>a()),onCancel:u[5]||(u[5]=h=>o("cancel"))},{default:Je(()=>[P("div",yx,[xe(P("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),min:"0"},null,512),[[ke,n.value]]),u[6]||(u[6]=Nt(" kg ",-1)),u[7]||(u[7]=P("i",{class:"fa-solid fa-xmark"},null,-1)),xe(P("input",{id:"weightInput",type:"number","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),min:"0"},null,512),[[ke,s.value]]),u[8]||(u[8]=Nt(" reps ",-1))]),P("div",_x,[xe(P("textarea",{id:"setNotesInput","onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),rows:"4",placeholder:"Set notes..."},null,512),[[ke,i.value]]),H(Rn,{red:"",loading:!1,onClick:u[3]||(u[3]=()=>{r.exercise.removeSet(r.index),o("cancel")})},{default:Je(()=>[...u[9]||(u[9]=[P("i",{class:"fa-solid fa-trash"},null,-1),Nt(" Delete Set ",-1)])]),_:1})])]),_:1}))}}),wx=Dt(vx,[["__scopeId","data-v-890ce486"]]),xx={class:"setlabel"},kx={class:"setdetails"},Sx={key:0},Ex={key:1,class:"fa-solid fa-note-sticky noteIcon"},Ox=mt({__name:"SetContainer",props:{set:{},index:{},exercise:{}},setup(e){const t=z(!1);return(n,s)=>(N(),Q(Ot,null,[t.value?(N(),Ft(wx,{key:0,set:e.set,exercise:e.exercise,index:e.index,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["set","exercise","index"])):gt("",!0),P("tr",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"setItem"},[P("td",xx,Tt(e.index+1),1),P("td",kx,[e.set.weight!==null?(N(),Q("span",Sx,[Nt(Tt(e.set.weight)+" kg ",1),s[2]||(s[2]=P("i",{class:"fa-solid fa-xmark"},null,-1))])):gt("",!0),Nt(" "+Tt(e.set.reps)+" reps ",1),e.set.notes!==""&&e.set.notes!==null?(N(),Q("i",Ex)):gt("",!0)])])],64))}}),Tx=Dt(Ox,[["__scopeId","data-v-8bdd5088"]]),Px=mt({__name:"DeleteExerciseModal",props:{exercise:{},visible:{type:Boolean}},emits:["confirm","cancel"],setup(e){return(t,n)=>e.visible?(N(),Ft(fi,{key:0,title:`Remove Exercise: ${e.exercise.getName()}`,message:"Are you sure you want to remove this exercise from the workout? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmRed:!0,onConfirm:n[0]||(n[0]=s=>t.$emit("confirm")),onCancel:n[1]||(n[1]=s=>t.$emit("cancel"))},null,8,["title"])):gt("",!0)}}),Cx={class:"inputs"},Ax=mt({__name:"ExerciseEditModal",props:{exercise:{}},emits:["cancel"],setup(e,{emit:t}){const n=z(""),s=z(""),i=z(!1),r=e,o=t;function a(){r.exercise.setName(n.value),r.exercise.setNotes(s.value),o("cancel")}function l(){i.value=!1,r.exercise.removeFromWorkout(),o("cancel")}return Ln(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),Bl(()=>{n.value=r.exercise.getName(),s.value=r.exercise.getNotes()||""}),(c,u)=>(N(),Q(Ot,null,[H(fi,{title:"Edit Exercise",confirmText:"Confirm",cancelText:"Cancel",onConfirm:u[3]||(u[3]=h=>a()),onCancel:u[4]||(u[4]=h=>c.$emit("cancel"))},{default:Je(()=>[P("div",Cx,[xe(P("input",{id:"exerciseNameInput",type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h)},null,512),[[ke,n.value]]),xe(P("textarea",{id:"exerciseNotesInput","onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),rows:"4",placeholder:"Notes..."},null,512),[[ke,s.value]])]),H(Rn,{red:"",fullWidth:"",loading:!1,onClick:u[2]||(u[2]=h=>i.value=!0)},{default:Je(()=>[...u[7]||(u[7]=[P("i",{class:"fa-solid fa-trash"},null,-1),Nt(" Remove Exercise ",-1)])]),_:1})]),_:1}),H(Px,{exercise:r.exercise,visible:i.value,onConfirm:u[5]||(u[5]=h=>l()),onCancel:u[6]||(u[6]=h=>i.value=!1)},null,8,["exercise","visible"])],64))}}),Mx=Dt(Ax,[["__scopeId","data-v-66211c76"]]),Rx={class:"exerciseContainer softBubble"},Dx={class:"exerciseTitle"},Ix={key:0,class:"reorderHandles clickable"},Lx={class:"setsContainer"},jx={key:0},Nx={key:1},$x={colspan:"2"},Fx={class:"setLabel"},Bx={class:"setDetails"},Wx=mt({__name:"ExerciseContainer",props:{exercise:{},showSets:{type:Boolean},index:{}},setup(e){const t=z(!1);return(n,s)=>(N(),Q(Ot,null,[t.value?(N(),Ft(Mx,{key:0,exercise:e.exercise,onCancel:s[0]||(s[0]=i=>t.value=!1)},null,8,["exercise"])):gt("",!0),P("div",Rx,[P("h2",Dx,[P("span",{onClick:s[1]||(s[1]=i=>t.value=!0),class:"clickable"},[Nt(Tt(e.exercise.getName())+" ",1),s[5]||(s[5]=P("i",{class:"fa-solid fa-pen-to-square"},null,-1))]),e.index!==0?(N(),Q("div",Ix,[P("i",{onClick:s[2]||(s[2]=i=>e.exercise.reorderUp()),class:"fa-solid fa-chevron-up reorder"})])):gt("",!0)]),P("table",Lx,[e.showSets?(N(),Q("thead",jx,[...s[6]||(s[6]=[P("tr",null,[P("th",{class:"greyed",colspan:"1"},"set"),P("th",{class:"greyed",colspan:"1"},"weight & reps")],-1)])])):gt("",!0),e.showSets?(N(),Q("tbody",Nx,[(N(!0),Q(Ot,null,Ro(e.exercise.getSets(),(i,r)=>(N(),Ft(Tx,{key:r,index:r,set:i,exercise:e.exercise},null,8,["index","set","exercise"]))),128)),P("tr",null,[P("td",$x,[P("button",{onClick:s[3]||(s[3]=i=>e.exercise.addNewSet()),class:"borderlessButton"},[...s[7]||(s[7]=[P("i",{class:"fa-solid fa-plus"},null,-1),Nt("Add set",-1)])])])])])):gt("",!0),P("tfoot",null,[P("tr",null,[P("td",Fx,[s[8]||(s[8]=P("b",null,"sets:",-1)),Nt(" "+Tt(e.exercise.countSets()),1)]),P("td",Bx,[s[9]||(s[9]=P("b",null,"volume:",-1)),Nt(" "+Tt(e.exercise.getVolume())+" kg ",1),e.index!==e.exercise.getWorkout().countExercises()-1?(N(),Q("i",{key:0,onClick:s[4]||(s[4]=i=>e.exercise.reorderDown()),class:"fa-solid fa-chevron-down reorder"})):gt("",!0)])])])])])],64))}}),Vx=mt({__name:"SavingDisplay",props:{workout:{}},setup(e){return(t,n)=>(N(),Q("div",{class:fe(["savingDisplay",{display:e.workout.savingInProgress()}])},[...n[0]||(n[0]=[P("i",{class:"fa-solid fa-floppy-disk"},null,-1)])],2))}}),Hx=Dt(Vx,[["__scopeId","data-v-2e9e3957"]]),Ux={class:"inputs"},zx=mt({__name:"WorkoutDetailsEditModal",props:{workout:{}},emits:["cancel"],setup(e,{emit:t}){const n=e,s=t,i=z(n.workout.getTitle()),r=z(n.workout.getHeartRate()||""),o=z(n.workout.getEnergy()||""),a=z(n.workout.getStartTime()),l=z(n.workout.getEndTime());function c(){n.workout.setTitle(i.value),n.workout.setHeartRate(Number(r.value)||null),n.workout.setEnergy(Number(o.value)||null),n.workout.setStartDate(a.value),n.workout.setEndDate(l.value),s("cancel")}const u=Le({get(){return a.value.getFullYear()+"-"+String(a.value.getMonth()+1).padStart(2,"0")+"-"+String(a.value.getDate()).padStart(2,"0")+"T"+String(a.value.getHours()).padStart(2,"0")+":"+String(a.value.getMinutes()).padStart(2,"0")},set(d){a.value=new Date(d)}}),h=Le({get(){return l.value.getFullYear()+"-"+String(l.value.getMonth()+1).padStart(2,"0")+"-"+String(l.value.getDate()).padStart(2,"0")+"T"+String(l.value.getHours()).padStart(2,"0")+":"+String(l.value.getMinutes()).padStart(2,"0")},set(d){l.value=new Date(d)}});return(d,f)=>(N(),Ft(fi,{title:"Edit Workout Details",confirmText:"Save",cancelText:"Cancel",onConfirm:f[5]||(f[5]=p=>c()),onCancel:f[6]||(f[6]=p=>s("cancel"))},{default:Je(()=>[P("div",Ux,[f[7]||(f[7]=P("label",{for:"titleInput"},"Title:",-1)),xe(P("input",{id:"titleInput",type:"text","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[ke,i.value]]),f[8]||(f[8]=P("label",{for:"startDate"},"Start Date and Time:",-1)),xe(P("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[1]||(f[1]=p=>u.value=p)},null,512),[[ke,u.value]]),f[9]||(f[9]=P("label",{for:"endDate"},"End Date and Time:",-1)),xe(P("input",{id:"startDate",type:"datetime-local","onUpdate:modelValue":f[2]||(f[2]=p=>h.value=p)},null,512),[[ke,h.value]]),f[10]||(f[10]=P("label",{for:"heartRateInput"},"Average Heart Rate (bpm):",-1)),xe(P("input",{id:"heartRateInput",type:"number","onUpdate:modelValue":f[3]||(f[3]=p=>r.value=p),min:"0"},null,512),[[ke,r.value,void 0,{number:!0}]]),f[11]||(f[11]=P("label",{for:"energyInput"},"Energy Burned (kj):",-1)),xe(P("input",{id:"energyInput",type:"number","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p),min:"0"},null,512),[[ke,o.value,void 0,{number:!0}]])])]),_:1}))}}),qx=Dt(zx,[["__scopeId","data-v-d96ddd76"]]),Yx={key:1,class:"viewArea"},Kx={class:"margins"},Gx={class:"greyed"},Jx={key:0,class:"softBubble"},Xx=mt({__name:"ViewWorkout",props:["workout_id"],setup(e){const t=e,n=z(null),s=z(!0),i=z(!0),r=z(!1),o=z(new ic);return Ln(async()=>{const{data:a,error:l}=await $e.from("workouts").select().eq("workout_id",t.workout_id).single();if(l){if(console.error("Error fetching workout:",l),l.code=="PGRST116"){o.value.setError("Workout not found","The requested workout does not exist."),i.value=!1;return}o.value.setError("Error fetching workout","Please try again."),i.value=!1;return}n.value=new Ug(a),i.value=!1}),(a,l)=>(N(),Q(Ot,null,[H(sc,{error:o.value},null,8,["error"]),r.value&&n.value?(N(),Ft(qx,{key:0,workout:n.value,onCancel:l[0]||(l[0]=c=>r.value=!1)},null,8,["workout"])):gt("",!0),n.value?(N(),Q("div",Yx,[P("div",Kx,[P("h2",null,[Nt(Tt(n.value.getTitle())+" ",1),P("i",{class:"fa-solid fa-ellipsis clickable",onClick:l[1]||(l[1]=c=>r.value=!0)})]),P("p",Gx,Tt(n.value.getDateString()),1),n.value.getNotes()!==""?(N(),Q("p",Jx,Tt(n.value.getNotes()),1)):gt("",!0),H(bx,{workout:n.value},null,8,["workout"]),H(Rn,{onClick:l[2]||(l[2]=c=>s.value=!s.value),fullWidth:""},{default:Je(()=>[P("i",{class:fe(["fa-solid",s.value?"fa-eye-slash":"fa-eye"])},null,2),Nt(" "+Tt(s.value?"Hide Sets":"Show Sets"),1)]),_:1}),(N(!0),Q(Ot,null,Ro(n.value.getExercises(),(c,u)=>(N(),Ft(Wx,{key:c.getName(),exercise:c,showSets:s.value,index:u},null,8,["exercise","showSets","index"]))),128)),H(Hx,{workout:n.value},null,8,["workout"]),H(Rn,{onClick:l[3]||(l[3]=c=>n.value.addEmptyExercise()),fullWidth:""},{default:Je(()=>[...l[4]||(l[4]=[P("i",{class:"fa-solid fa-plus"},null,-1),Nt(" Add Exercise ",-1)])]),_:1})])])):gt("",!0),i.value?(N(),Ft(di,{key:2})):gt("",!0)],64))}}),Qx=Dt(Xx,[["__scopeId","data-v-932afde6"]]),Zx={class:"container"},tk={class:"selector"},ek=["onClick"],nk=mt({__name:"Selector",props:{options:{}},emits:["select"],setup(e,{emit:t}){const n=e,s=z("");return Ln(()=>{n.options.length>0&&(s.value=n.options[0].value)}),(i,r)=>(N(),Q("div",Zx,[P("div",tk,[(N(!0),Q(Ot,null,Ro(e.options,o=>(N(),Q("div",{key:o.value,class:fe({selectorOption:!0,clickable:!0,selected:o.value===s.value}),onClick:a=>{s.value=o.value,i.$emit("select",o.value)}},Tt(o.label),11,ek))),128))])]))}}),sk=Dt(nk,[["__scopeId","data-v-77cbf122"]]);function ik(e,t,n,s){if(e.length===0)return[];const i=[...e].sort((h,d)=>h.x.getTime()-d.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=lt.addPeriod(lt.getStartOfTerm(0,n)||r,n,-s),l=lt.addPeriod(lt.getEndOfTerm(0,n)||o,n,-s);console.log(a,l),console.log(t);const c=qg(a,l,t);console.log(c);const u=new Array(c.length-1).fill(0);for(const{x:h,y:d}of e){const f=ok(h,c);f>=0&&f<u.length&&(u[f]+=d)}return console.log(u),u}function rk(e,t,n,s){if(e.length===0)return[];const i=[...e].sort((u,h)=>u.x.getTime()-h.x.getTime()),r=i[0].x,o=i[i.length-1].x,a=lt.addPeriod(lt.getStartOfTerm(0,n)||r,n,-s),l=lt.addPeriod(lt.getEndOfTerm(0,n)||o,n,-s);console.log(l);const c=qg(a,l,t);return c.slice(0,-1).map((u,h)=>ak(u,c[h+1],t))}function qg(e,t,n){console.log(e,t);const s=[];let i=th(e,n);const r=va(t,n,1);for(;i<=r;)console.log("kia ora"),s.push(new Date(i)),i=th(va(i,n,1),n);return s.length===1&&s.push(va(s[0],n,1)),s}function ok(e,t){for(let n=0;n<t.length-1;n++)if(e>=t[n]&&e<t[n+1])return n;return e>=t[t.length-1]?t.length-2:-1}function ak(e,t,n){const s=i=>{switch(n){case"day":return i.toLocaleDateString(void 0,{month:"short",day:"numeric"});case"week":return`${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`;case"month":return i.toLocaleDateString(void 0,{month:"short",year:"2-digit"});case"year":return i.getFullYear().toString()}};if(n==="week"){const i=new Date(t);return i.setDate(i.getDate()-1),`${s(e)}  ${s(i)}`}return s(e)}function th(e,t){const n=new Date(e);switch(t){case"day":n.setHours(0,0,0,0);break;case"week":n.setHours(0,0,0,0);const s=n.getDay();n.setDate(n.getDate()-(s===0?6:s-1));break;case"month":n.setDate(1),n.setHours(0,0,0,0);break;case"year":n.setMonth(0,1),n.setHours(0,0,0,0);break}return n}function va(e,t,n){const s=new Date(e);switch(t){case"day":s.setDate(s.getDate()+n);break;case"week":s.setDate(s.getDate()+n*7);break;case"month":s.setMonth(s.getMonth()+n);break;case"year":s.setFullYear(s.getFullYear()+n);break}return s}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pr(e){return e+.5|0}const zn=(e,t,n)=>Math.max(Math.min(e,n),t);function Ai(e){return zn(pr(e*2.55),0,255)}function Jn(e){return zn(pr(e*255),0,255)}function xn(e){return zn(pr(e/2.55)/100,0,1)}function eh(e){return zn(pr(e*100),0,100)}const We={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dl=[..."0123456789ABCDEF"],lk=e=>dl[e&15],ck=e=>dl[(e&240)>>4]+dl[e&15],Rr=e=>(e&240)>>4===(e&15),uk=e=>Rr(e.r)&&Rr(e.g)&&Rr(e.b)&&Rr(e.a);function hk(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&We[e[1]]*17,g:255&We[e[2]]*17,b:255&We[e[3]]*17,a:t===5?We[e[4]]*17:255}:(t===7||t===9)&&(n={r:We[e[1]]<<4|We[e[2]],g:We[e[3]]<<4|We[e[4]],b:We[e[5]]<<4|We[e[6]],a:t===9?We[e[7]]<<4|We[e[8]]:255})),n}const dk=(e,t)=>e<255?t(e):"";function fk(e){var t=uk(e)?lk:ck;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dk(e.a,t):void 0}const gk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yg(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function pk(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function mk(e,t,n){const s=Yg(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function bk(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function rc(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=bk(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function oc(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Jn)}function ac(e,t,n){return oc(Yg,e,t,n)}function yk(e,t,n){return oc(mk,e,t,n)}function _k(e,t,n){return oc(pk,e,t,n)}function Kg(e){return(e%360+360)%360}function vk(e){const t=gk.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Ai(+t[5]):Jn(+t[5]));const i=Kg(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=yk(i,r,o):t[1]==="hsv"?s=_k(i,r,o):s=ac(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function wk(e,t){var n=rc(e);n[0]=Kg(n[0]+t),n=ac(n),e.r=n[0],e.g=n[1],e.b=n[2]}function xk(e){if(!e)return;const t=rc(e),n=t[0],s=eh(t[1]),i=eh(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${xn(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const nh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},sh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kk(){const e={},t=Object.keys(sh),n=Object.keys(nh);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,nh[r]);r=parseInt(sh[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Dr;function Sk(e){Dr||(Dr=kk(),Dr.transparent=[0,0,0,0]);const t=Dr[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ek=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ok(e){const t=Ek.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Ai(o):zn(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Ai(s):zn(s,0,255)),i=255&(t[4]?Ai(i):zn(i,0,255)),r=255&(t[6]?Ai(r):zn(r,0,255)),{r:s,g:i,b:r,a:n}}}function Tk(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const wa=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,js=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Pk(e,t,n){const s=js(xn(e.r)),i=js(xn(e.g)),r=js(xn(e.b));return{r:Jn(wa(s+n*(js(xn(t.r))-s))),g:Jn(wa(i+n*(js(xn(t.g))-i))),b:Jn(wa(r+n*(js(xn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Ir(e,t,n){if(e){let s=rc(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=ac(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Gg(e,t){return e&&Object.assign(t||{},e)}function ih(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jn(e[3]))):(t=Gg(e,{r:0,g:0,b:0,a:1}),t.a=Jn(t.a)),t}function Ck(e){return e.charAt(0)==="r"?Ok(e):vk(e)}class rr{constructor(t){if(t instanceof rr)return t;const n=typeof t;let s;n==="object"?s=ih(t):n==="string"&&(s=hk(t)||Sk(t)||Ck(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Gg(this._rgb);return t&&(t.a=xn(t.a)),t}set rgb(t){this._rgb=ih(t)}rgbString(){return this._valid?Tk(this._rgb):void 0}hexString(){return this._valid?fk(this._rgb):void 0}hslString(){return this._valid?xk(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=Pk(this._rgb,t._rgb,n)),this}clone(){return new rr(this.rgb)}alpha(t){return this._rgb.a=Jn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=pr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ir(this._rgb,2,t),this}darken(t){return Ir(this._rgb,2,-t),this}saturate(t){return Ir(this._rgb,1,t),this}desaturate(t){return Ir(this._rgb,1,-t),this}rotate(t){return wk(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mn(){}const Ak=(()=>{let e=0;return()=>e++})();function ct(e){return e==null}function jt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ut(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ht(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ie(e,t){return Ht(e)?e:t}function nt(e,t){return typeof e>"u"?t:e}const Mk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Jg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Rt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function kt(e,t,n,s){let i,r,o;if(jt(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(ut(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function fo(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function go(e){if(jt(e))return e.map(go);if(ut(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=go(e[n[i]]);return t}return e}function Xg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Rk(e,t,n,s){if(!Xg(e))return;const i=t[e],r=n[e];ut(i)&&ut(r)?or(i,r,s):t[e]=go(r)}function or(e,t,n){const s=jt(t)?t:[t],i=s.length;if(!ut(e))return e;n=n||{};const r=n.merger||Rk;let o;for(let a=0;a<i;++a){if(o=s[a],!ut(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Ui(e,t){return or(e,t,{merger:Dk})}function Dk(e,t,n){if(!Xg(e))return;const s=t[e],i=n[e];ut(s)&&ut(i)?Ui(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=go(i))}const rh={"":e=>e,x:e=>e.x,y:e=>e.y};function Ik(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Lk(e){const t=Ik(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Qn(e,t){return(rh[t]||(rh[t]=Lk(t)))(e)}function lc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ar=e=>typeof e<"u",Zn=e=>typeof e=="function",oh=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function jk(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pt=Math.PI,It=2*pt,Nk=It+pt,po=Number.POSITIVE_INFINITY,$k=pt/180,Kt=pt/2,as=pt/4,ah=pt*2/3,qn=Math.log10,hn=Math.sign;function zi(e,t,n){return Math.abs(e-t)<n}function lh(e){const t=Math.round(e);e=zi(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(qn(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Fk(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function Bk(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ii(e){return!Bk(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Wk(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Qg(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ye(e){return e*(pt/180)}function cc(e){return e*(180/pt)}function ch(e){if(!Ht(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Zg(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*pt&&(r+=It),{angle:r,distance:i}}function fl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Vk(e,t){return(e-t+Nk)%It-pt}function ce(e){return(e%It+It)%It}function lr(e,t,n,s){const i=ce(e),r=ce(t),o=ce(n),a=ce(r-i),l=ce(o-i),c=ce(i-r),u=ce(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ie(e,t,n){return Math.max(t,Math.min(n,e))}function Hk(e){return ie(e,-32768,32767)}function On(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function uc(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Tn=(e,t,n,s)=>uc(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),Uk=(e,t,n)=>uc(e,n,s=>e[s][t]>=n);function zk(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const tp=["push","pop","shift","splice","unshift"];function qk(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),tp.forEach(n=>{const s="_onData"+lc(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function uh(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(tp.forEach(r=>{delete e[r]}),delete e._chartjs)}function ep(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const np=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function sp(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,np.call(window,()=>{s=!1,e.apply(t,n)}))}}function Yk(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const hc=e=>e==="start"?"left":e==="end"?"right":"center",le=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Kk=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function ip(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(i=Math.min(Tn(l,u,h).lo,n?s:Tn(t,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(m=>!ct(m[a.axis]));i-=Math.max(0,g)}i=ie(i,0,s-1)}if(p){let g=Math.max(Tn(l,o.axis,d,!0).hi+1,n?0:Tn(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(g-1).findIndex(b=>!ct(b[a.axis]));g+=Math.max(0,m)}r=ie(g,i,s)-i}else r=s-i}return{start:i,count:r}}function rp(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Lr=e=>e===0||e===1,hh=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*It/n)),dh=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*It/n)+1,qi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Kt)+1,easeOutSine:e=>Math.sin(e*Kt),easeInOutSine:e=>-.5*(Math.cos(pt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Lr(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Lr(e)?e:hh(e,.075,.3),easeOutElastic:e=>Lr(e)?e:dh(e,.075,.3),easeInOutElastic(e){return Lr(e)?e:e<.5?.5*hh(e*2,.1125,.45):.5+.5*dh(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-qi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?qi.easeInBounce(e*2)*.5:qi.easeOutBounce(e*2-1)*.5+.5};function dc(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fh(e){return dc(e)?e:new rr(e)}function xa(e){return dc(e)?e:new rr(e).saturate(.5).darken(.1).hexString()}const Gk=["x","y","borderWidth","radius","tension"],Jk=["color","borderColor","backgroundColor"];function Xk(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Jk},numbers:{type:"number",properties:Gk}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Qk(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gh=new Map;function Zk(e,t){t=t||{};const n=e+JSON.stringify(t);let s=gh.get(n);return s||(s=new Intl.NumberFormat(e,t),gh.set(n,s)),s}function mr(e,t,n){return Zk(t,n).format(e)}const op={values(e){return jt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=tS(e,n)}const o=qn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),mr(e,s,l)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(qn(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?op.numeric.call(this,e,t,n):""}};function tS(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Bo={formatters:op};function eS(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ks=Object.create(null),gl=Object.create(null);function Yi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function ka(e,t,n){return typeof t=="string"?or(Yi(e,t),n):or(Yi(e,""),t)}class nS{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>xa(i.backgroundColor),this.hoverBorderColor=(s,i)=>xa(i.borderColor),this.hoverColor=(s,i)=>xa(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ka(this,t,n)}get(t){return Yi(this,t)}describe(t,n){return ka(gl,t,n)}override(t,n){return ka(ks,t,n)}route(t,n,s,i){const r=Yi(this,t),o=Yi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ut(l)?Object.assign({},c,l):nt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var $t=new nS({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Xk,Qk,eS]);function sS(e){return!e||ct(e.size)||ct(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mo(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function iS(e,t,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!jt(h))o=mo(e,i,r,o,h);else if(jt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!jt(d)&&(o=mo(e,i,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function ls(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function ph(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function pl(e,t,n,s){ap(e,t,n,s,null)}function ap(e,t,n,s,i){let r,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*$k;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,s,i/2,g,0,0,It):e.arc(n,s,g,0,It),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,s-Math.cos(m)*g),m+=ah,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*g),m+=ah,e.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+as)*l,h=Math.cos(m+as)*(i?i/2-c:l),a=Math.sin(m+as)*l,d=Math.sin(m+as)*(i?i/2-c:l),e.arc(n-h,s-a,c,m-pt,m-Kt),e.arc(n+d,s-o,c,m-Kt,m),e.arc(n+h,s+a,c,m,m+Kt),e.arc(n-d,s+o,c,m+Kt,m+pt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,s-l,2*u,2*l);break}m+=as;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,s-a),e.lineTo(n+d,s-o),e.lineTo(n+h,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":m+=as;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),m+=as,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(m)*(i?i/2:g),s+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Pn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Wo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Vo(e){e.restore()}function rS(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function oS(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function aS(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ct(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function lS(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function cS(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ss(e,t,n,s,i,r={}){const o=jt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,aS(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&cS(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),ct(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),lS(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function cr(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*pt,pt,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,pt,Kt,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Kt,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Kt,!0),e.lineTo(n+o.topLeft,s)}const uS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dS(e,t){const n=(""+e).match(uS);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const fS=e=>+e||0;function fc(e,t){const n={},s=ut(t),i=s?Object.keys(t):t,r=ut(e)?s?o=>nt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=fS(r(o));return n}function lp(e){return fc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ws(e){return fc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function me(e){const t=lp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function se(e,t){e=e||{},t=t||$t.font;let n=nt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=nt(e.style,t.style);s&&!(""+s).match(hS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:nt(e.family,t.family),lineHeight:dS(nt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:nt(e.weight,t.weight),string:""};return i.string=sS(i),i}function Mi(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function gS(e,t,n){const{min:s,max:i}=e,r=Jg(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function es(e,t){return Object.assign(Object.create(e),t)}function gc(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=dp("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>gc([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return up(a,l,()=>xS(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return bh(a).includes(l)},ownKeys(a){return bh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ri(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:cp(e,s),setContext:r=>ri(e,r,n,s),override:r=>ri(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return up(r,o,()=>mS(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function cp(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Zn(n)?n:()=>n,isIndexable:Zn(s)?s:()=>s}}const pS=(e,t)=>e?e+lc(t):t,pc=(e,t)=>ut(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function up(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function mS(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return Zn(a)&&o.isScriptable(t)&&(a=bS(t,a,e,n)),jt(a)&&a.length&&(a=yS(t,a,e,o.isIndexable)),pc(t,a)&&(a=ri(a,i,r&&r[t],o)),a}function bS(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),pc(e,l)&&(l=mc(i._scopes,i,e,l)),l}function yS(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(ut(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=mc(c,i,e,u);t.push(ri(h,r,o&&o[e],a))}}return t}function hp(e,t,n){return Zn(e)?e(t,n):e}const _S=(e,t)=>e===!0?t:typeof e=="string"?Qn(t,e):void 0;function vS(e,t,n,s,i){for(const r of t){const o=_S(n,r);if(o){e.add(o);const a=hp(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function mc(e,t,n,s){const i=t._rootScopes,r=hp(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=mh(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=mh(a,o,r,l,s),l===null)?!1:gc(Array.from(a),[""],i,r,()=>wS(t,n,s))}function mh(e,t,n,s,i){for(;n;)n=vS(e,t,n,s,i);return n}function wS(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return jt(i)&&ut(n)?n:i||{}}function xS(e,t,n,s){let i;for(const r of t)if(i=dp(pS(r,e),n),typeof i<"u")return pc(e,i)?mc(n,s,e,i):i}function dp(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function bh(e){let t=e._keys;return t||(t=e._keys=kS(e._scopes)),t}function kS(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function fp(e,t,n,s){const{iScale:i}=e,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=t[c],o[a]={r:i.parse(Qn(u,r),c)};return o}const SS=Number.EPSILON||1e-14,oi=(e,t)=>t<e.length&&!e[t].skip&&e[t],gp=e=>e==="x"?"y":"x";function ES(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=fl(r,i),l=fl(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function OS(e,t,n){const s=e.length;let i,r,o,a,l,c=oi(e,0);for(let u=0;u<s-1;++u)if(l=c,c=oi(e,u+1),!(!l||!c)){if(zi(t[u],0,SS)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])}}function TS(e,t,n="x"){const s=gp(n),i=e.length;let r,o,a,l=oi(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=oi(e,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*t[c])}}function PS(e,t="x"){const n=gp(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=oi(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=oi(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?hn(i[o-1])!==hn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}OS(e,i,r),TS(e,r,t)}function jr(e,t,n){return Math.max(Math.min(e,n),t)}function CS(e,t){let n,s,i,r,o,a=Pn(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&Pn(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=jr(i.cp1x,t.left,t.right),i.cp1y=jr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=jr(i.cp2x,t.left,t.right),i.cp2y=jr(i.cp2y,t.top,t.bottom)))}function AS(e,t,n,s,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")PS(e,i);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=ES(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&CS(e,n)}function bc(){return typeof window<"u"&&typeof document<"u"}function yc(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function bo(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Ho=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function MS(e,t){return Ho(e).getPropertyValue(t)}const RS=["top","right","bottom","left"];function xs(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=RS[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const DS=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function IS(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(DS(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function fs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Ho(n),r=i.boxSizing==="border-box",o=xs(i,"padding"),a=xs(i,"border","width"),{x:l,y:c,box:u}=IS(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/s),y:Math.round((c-d)/p*n.height/s)}}function LS(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&yc(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Ho(r),l=xs(a,"border","width"),c=xs(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=bo(a.maxWidth,r,"clientWidth"),i=bo(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||po,maxHeight:i||po}}const Yn=e=>Math.round(e*10)/10;function jS(e,t,n,s){const i=Ho(e),r=xs(i,"margin"),o=bo(i.maxWidth,e,"clientWidth")||po,a=bo(i.maxHeight,e,"clientHeight")||po,l=LS(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=xs(i,"border","width"),f=xs(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Yn(Math.min(c,o,l.maxWidth)),u=Yn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Yn(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Yn(Math.floor(u*s))),{width:c,height:u}}function yh(e,t,n){const s=t||1,i=Yn(e.height*s),r=Yn(e.width*s);e.height=Yn(e.height),e.width=Yn(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const NS=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};bc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function _h(e,t){const n=MS(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function gs(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $S(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function FS(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=gs(e,i,n),a=gs(i,r,n),l=gs(r,t,n),c=gs(o,a,n),u=gs(a,l,n);return gs(c,u,n)}const BS=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},WS=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Qs(e,t,n){return e?BS(t,n):WS()}function pp(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function mp(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function bp(e){return e==="angle"?{between:lr,compare:Vk,normalize:ce}:{between:On,compare:(t,n)=>t-n,normalize:t=>t}}function vh({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function VS(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=bp(s),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function yp(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=bp(s),{start:u,end:h,loop:d,style:f}=VS(e,t,n),p=[];let g=!1,m=null,b,y,v;const x=()=>l(i,v,b)&&a(i,v)!==0,k=()=>a(r,b)===0||l(r,v,b),E=()=>g||x(),O=()=>!g||k();for(let R=u,$=u;R<=h;++R)y=t[R%o],!y.skip&&(b=c(y[s]),b!==v&&(g=l(b,i,r),m===null&&E()&&(m=a(b,i)===0?R:$),m!==null&&O()&&(p.push(vh({start:m,end:R,loop:d,count:o,style:f})),m=null),$=R,v=b));return m!==null&&p.push(vh({start:m,end:h,loop:d,count:o,style:f})),p}function _p(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=yp(s[i],e.points,t);r.length&&n.push(...r)}return n}function HS(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function US(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function zS(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=HS(n,i,r,s);if(s===!0)return wh(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return wh(e,US(n,o,l,c),n,t)}function wh(e,t,n,s){return!s||!s.setContext||!n?t:qS(e,t,n,s)}function qS(e,t,n,s){const i=e._chart.getContext(),r=xh(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function f(p,g,m,b){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:b}),u=b,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(d=h+1;d<=p.end;d++){const b=n[d%l];m=xh(s.setContext(es(i,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),YS(m,u)&&f(h,d-1,p.loop,u),g=b,u=m}h<d-1&&f(h,d-1,p.loop,u)}return c}function xh(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function YS(e,t){if(!t)return!1;const n=[],s=function(i,r){return dc(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Nr(e,t,n){return e.options.clip?e[n]:t[n]}function KS(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Nr(n,t,"left"),right:Nr(n,t,"right"),top:Nr(s,t,"top"),bottom:Nr(s,t,"bottom")}:t}function vp(e,t){const n=t._clip;if(n.disabled)return!1;const s=KS(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class GS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=np.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var yn=new GS;const kh="transparent",JS={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=fh(e||kh),i=s.valid&&fh(t||kh);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class XS{constructor(t,n,s,i){const r=n[s];i=Mi([t.to,i,r,t.from]);const o=Mi([t.from,r,i]);this._active=!0,this._fn=t.fn||JS[t.type||typeof o],this._easing=qi[t.easing]||qi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Mi([t.to,n,i,t.from]),this._from=Mi([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class wp{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ut(t))return;const n=Object.keys($t.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ut(r))return;const o={};for(const a of n)o[a]=r[a];(jt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=ZS(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&QS(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new XS(d,t,c,u),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return yn.add(this._chart,s),!0}}function QS(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function ZS(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Sh(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function tE(e,t,n){if(n===!1)return!1;const s=Sh(e,n),i=Sh(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function eE(e){let t,n,s,i;return ut(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function xp(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Eh(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],Ht(c)&&(r||t===0||hn(t)===hn(c))&&(t+=c)}return!u&&!s.all?0:t}function nE(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function Sa(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function sE(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function iE(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function rE(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Oh(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Th(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=sE(r,o,s),h=t.length;let d;for(let f=0;f<h;++f){const p=t[f],{[l]:g,[c]:m}=p,b=p._stacks||(p._stacks={});d=b[c]=rE(i,u,g),d[a]=m,d._top=Oh(d,o,!0,s.type),d._bottom=Oh(d,o,!1,s.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Ea(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function oE(e,t){return es(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function aE(e,t,n){return es(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function vi(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Oa=e=>e==="reset"||e==="none",Ph=(e,t)=>t?e:Object.assign({},e),lE=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:xp(n,!0),values:null};class ns{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Sa(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&vi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=nt(s.xAxisID,Ea(t,"x")),o=n.yAxisID=nt(s.yAxisID,Ea(t,"y")),a=n.rAxisID=nt(s.rAxisID,Ea(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&uh(this._data,this),t._stacked&&vi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ut(n)){const i=this._cachedMeta;this._data=nE(n,i)}else if(s!==n){if(s){uh(s,this);const i=this._cachedMeta;vi(i),i._parsed=[]}n&&Object.isExtensible(n)&&qk(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Sa(n.vScale,n),n.stack!==s.stack&&(i=!0,vi(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(Th(this,n._parsed),n._stacked=Sa(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{jt(i[t])?d=this.parseArrayData(s,i,t,n):ut(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);s._sorted=l}o&&Th(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+s,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=n[d],c[u]={x:r.parse(Qn(f,a),d),y:o.parse(Qn(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:xp(i,!0),values:n._stacks[t.axis]._visualValues};return Eh(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Eh(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=lE(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=iE(a);let d,f;function p(){f=i[d];const g=f[a.axis];return!Ht(f[t.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Ht(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=eE(nt(this.options.clip,tE(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=aE(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=oE(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&ar(s);if(a)return Ph(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys($t.elements[t]),p=()=>this.getContext(s,i,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Ph(g,l))),g}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,s,n))}const c=new wp(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Oa(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){Oa(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Oa(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&vi(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function cE(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=ep(s.sort((i,r)=>i-r))}return e._cache.$bar}function uE(e){const t=e.iScale,n=cE(t,e.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(ar(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function hE(e,t,n,s){const i=n.barThickness;let r,o;return ct(i)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[e]-r/2}}function dE(e,t,n,s){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function fE(e,t,n,s){const i=n.parse(e[0],s),r=n.parse(e[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function kp(e,t,n,s){return jt(e)?fE(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Ch(e,t,n,s){const i=e.iScale,r=e.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=n,u=n+s;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(kp(d,h,r,c));return l}function Ta(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function gE(e,t,n){return e!==0?hn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function pE(e){let t,n,s,i,r;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:t,top:i,bottom:r}}function mE(e,t,n,s){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=pE(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[Ah(u,o,a,l)]=!0,i=c)),r[Ah(i,o,a,l)]=!0,e.borderSkipped=r}function Ah(e,t,n,s){return s?(e=bE(e,t,n),e=Mh(e,n,t)):e=Mh(e,t,n),e}function bE(e,t,n){return e===t?n:e===n?t:e}function Mh(e,t,n){return e==="start"?t:e==="end"?n:e}function yE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class _E extends ns{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,i){return Ch(t,n,s,i)}parseArrayData(t,n,s,i){return Ch(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=s,f=s+i;d<f;++d)g=n[d],p={},p[r.axis]=r.parse(Qn(g,c),d),h.push(kp(Qn(g,u),p,o,d));return h}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(t),o=r._custom,a=Ta(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const p=this.getParsed(f),g=r||ct(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!b||Ta(p._custom)||o===b._top||o===b._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const v=y.options||t[f].options;mE(y,v,b,o),yE(y,v,u.ratio),this.updateElement(t[f],f,y,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(f=>f[s.axis]===l),d=h&&h[u.vScale.axis];if(ct(d)||isNaN(d))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[nt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const i=this._getStacks(t,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||uE(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Ta(c);let h=l[n.axis],d=0,f=s?this.applyStack(n,l,s):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&hn(h)!==hn(c.barEnd)&&(d=0),d+=h);const m=!ct(r)&&!u?r:d;let b=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(d+f):p=b,g=p-b,Math.abs(g)<o){g=gE(g,n,a)*o,h===a&&(b-=g/2);const y=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),x=Math.min(y,v),k=Math.max(y,v);b=Math.max(Math.min(b,k),x),p=b+g,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const y=hn(g)*n.getLineWidthForValue(a)/2;b+=y,g-=y}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,r=i.skipNull,o=nt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?dE(t,n,i,u*c):hE(t,n,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(nt(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+f;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class vE extends ns{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const r=super.parsePrimitiveData(t,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,n,s,i){const r=super.parseArrayData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=nt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,n,s,i){const r=super.parseObjectData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=nt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+s;d++){const f=t[d],p=!r&&this.getParsed(d),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),b=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(b),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":i),r&&(g.options.radius=0)),this.updateElement(f,d,g,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=nt(s&&s._custom,r),i}}function wE(e,t,n){let s=1,i=1,r=0,o=0;if(t<It){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,x,k)=>lr(v,a,l,!0)?1:Math.max(x,x*n,k,k*n),p=(v,x,k)=>lr(v,a,l,!0)?-1:Math.min(x,x*n,k,k*n),g=f(0,c,h),m=f(Kt,u,d),b=p(pt,c,h),y=p(pt+Kt,u,d);s=(g-b)/2,i=(m-y)/2,r=-(g+b)/2,o=-(m+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class _c extends ns{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(ut(s[t])){const{key:l="value"}=this._parsing;r=c=>+Qn(s[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Ye(this.options.rotation-90)}_getCircumference(){return Ye(this.options.circumference)}_getRotationExtents(){let t=It,n=-It;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(Mk(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=wE(h,u,l),m=(s.width-o)/d,b=(s.height-o)/f,y=Math.max(Math.min(m,b)/2,0),v=Jg(this.options.radius,y),x=Math.max(v*l,0),k=(v-x)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,i.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/It)}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,i);let b=this._getRotation(),y;for(y=0;y<n;++y)b+=this._circumference(y,r);for(y=n;y<n+s;++y){const v=this._circumference(y,r),x=t[y],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:p,innerRadius:f};m&&(k.options=g||this.resolveDataElementOptions(y,x.active?"active":i)),b+=v,this.updateElement(x,y,k,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?It*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=mr(n._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,r,o,a,l;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class xE extends ns{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=ip(n,i,o);this._drawStart=a,this._drawCount=l,rp(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=ii(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",y=n+s,v=t.length;let x=n>0&&this.getParsed(n-1);for(let k=0;k<v;++k){const E=t[k],O=b?E:{};if(k<n||k>=y){O.skip=!0;continue}const R=this.getParsed(k),$=ct(R[f]),K=O[d]=o.getPixelForValue(R[d],k),X=O[f]=r||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[f],k);O.skip=isNaN(K)||isNaN(X)||$,O.stop=k>0&&Math.abs(R[d]-x[d])>m,g&&(O.parsed=R,O.raw=c.data[k]),h&&(O.options=u||this.resolveDataElementOptions(k,E.active?"active":i)),b||this.updateElement(E,k,O,i),x=R}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Sp extends ns{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=mr(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,n,s,i){return fp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*pt;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,i,g);for(p=n;p<n+s;p++){const m=t[p];let b=f,y=f+this._computeAngle(p,i,g),v=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=y,r&&(l.animateScale&&(v=0),l.animateRotate&&(b=y=d));const x={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":i)};this.updateElement(m,p,x,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?Ye(this.resolveDataElementOptions(t,n).angle||s):0}}class kE extends _c{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class SE extends ns{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return fp.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}class EE extends ns{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=ip(n,s,i);if(this._drawStart=r,this._drawCount=o,rp(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=ii(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let v=n>0&&this.getParsed(n-1);for(let x=n;x<n+s;++x){const k=t[x],E=this.getParsed(x),O=y?k:{},R=ct(E[p]),$=O[f]=o.getPixelForValue(E[f],x),K=O[p]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],x);O.skip=isNaN($)||isNaN(K)||R,O.stop=x>0&&Math.abs(E[f]-v[f])>b,m&&(O.parsed=E,O.raw=c.data[x]),d&&(O.options=h||this.resolveDataElementOptions(x,k.active?"active":i)),y||this.updateElement(k,x,O,i),v=E}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var OE=Object.freeze({__proto__:null,BarController:_E,BubbleController:vE,DoughnutController:_c,LineController:xE,PieController:kE,PolarAreaController:Sp,RadarController:SE,ScatterController:EE});function cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vc{static override(t){Object.assign(vc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return cs()}parse(){return cs()}format(){return cs()}add(){return cs()}diff(){return cs()}startOf(){return cs()}endOf(){return cs()}}var Ep={_date:vc};function TE(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Uk:Tn;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,n-h),f=c(r,t,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=e,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!ct(g[h.axis]));u.lo-=Math.max(0,f);const p=d.slice(u.hi).findIndex(g=>!ct(g[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function Uo(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=TE(r[a],t,o,i);for(let f=h;f<=d;++f){const p=u[f];p.skip||s(p,c,f)}}}function PE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Pa(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||Uo(e,n,t,function(a,l,c){!i&&!Pn(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function CE(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Zg(o,{x:t.x,y:t.y});lr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Uo(e,n,t,r),i}function AE(e,t,n,s,i,r){let o=[];const a=PE(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,i);if(s&&!f)return;const p=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(p))&&!f)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:d})}return Uo(e,n,t,c),o}function Ca(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?CE(e,t,n,i):AE(e,t,n,s,i,r)}function Rh(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Uo(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var ME={modes:{index(e,t,n,s){const i=fs(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Pa(e,i,r,s,o):Ca(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const i=fs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Pa(e,i,r,s,o):Ca(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const i=fs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Pa(e,i,r,s,o)},nearest(e,t,n,s){const i=fs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Ca(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=fs(t,e);return Rh(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=fs(t,e);return Rh(e,i,"y",n.intersect,s)}}};const Op=["left","top","right","bottom"];function wi(e,t){return e.filter(n=>n.pos===t)}function Dh(e,t){return e.filter(n=>Op.indexOf(n.pos)===-1&&n.box.axis===t)}function xi(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function RE(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function DE(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!Op.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function IE(e,t){const n=DE(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return n}function LE(e){const t=RE(e),n=xi(t.filter(c=>c.box.fullSize),!0),s=xi(wi(t,"left"),!0),i=xi(wi(t,"right")),r=xi(wi(t,"top"),!0),o=xi(wi(t,"bottom")),a=Dh(t,"x"),l=Dh(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:wi(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Ih(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Tp(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jE(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!ut(i)){n.size&&(e[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[i]+=n.size}r.getPadding&&Tp(o,r.getPadding());const a=Math.max(0,t.outerWidth-Ih(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ih(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function NE(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function $E(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Ri(e,t,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,$E(a.horizontal,t));const{same:h,other:d}=jE(t,n,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Ri(i,t,n,s)||u}function $r(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function Lh(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;ar(c.start)&&(o=c.start),l.fullSize?$r(l,i.left,o,n.outerWidth-i.right-i.left,d):$r(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;ar(c.start)&&(r=c.start),l.fullSize?$r(l,r,i.top,d,n.outerHeight-i.bottom-i.top):$r(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var de={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=me(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=LE(e.boxes),l=a.vertical,c=a.horizontal;kt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);Tp(d,me(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),p=IE(l.concat(c),h);Ri(a.fullSize,f,h,p),Ri(l,f,h,p),Ri(c,f,h,p)&&Ri(l,f,h,p),NE(f),Lh(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Lh(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},kt(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Pp{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class FE extends Pp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xr="$chartjs",BE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jh=e=>e===null||e==="";function WE(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Xr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jh(i)){const r=_h(e,"width");r!==void 0&&(e.width=r)}if(jh(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=_h(e,"height");r!==void 0&&(e.height=r)}return e}const Cp=NS?{passive:!0}:!1;function VE(e,t,n){e&&e.addEventListener(t,n,Cp)}function HE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Cp)}function UE(e,t){const n=BE[e.type]||e.type,{x:s,y:i}=fs(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function yo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function zE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||yo(a.addedNodes,s),o=o&&!yo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function qE(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||yo(a.removedNodes,s),o=o&&!yo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ur=new Map;let Nh=0;function Ap(){const e=window.devicePixelRatio;e!==Nh&&(Nh=e,ur.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function YE(e,t){ur.size||window.addEventListener("resize",Ap),ur.set(e,t)}function KE(e){ur.delete(e),ur.size||window.removeEventListener("resize",Ap)}function GE(e,t,n){const s=e.canvas,i=s&&yc(s);if(!i)return;const r=sp((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),YE(e,r),o}function Aa(e,t,n){n&&n.disconnect(),t==="resize"&&KE(e)}function JE(e,t,n){const s=e.canvas,i=sp(r=>{e.ctx!==null&&n(UE(r,e))},e);return VE(s,t,i),i}class XE extends Pp{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(WE(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Xr])return!1;const s=n[Xr].initial;["height","width"].forEach(r=>{const o=s[r];ct(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Xr],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:zE,detach:qE,resize:GE}[n]||JE;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Aa,detach:Aa,resize:Aa}[n]||HE)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return jS(t,n,s,i)}isAttached(t){const n=t&&yc(t);return!!(n&&n.isConnected)}}function QE(e){return!bc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?FE:XE}let jn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return ii(this.x)&&ii(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function ZE(e,t){const n=e.options.ticks,s=tO(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?nO(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return sO(t,c,r,o/i),c;const u=eO(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fr(t,c,u,ct(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Fr(t,c,u,r[h],r[h+1]);return Fr(t,c,u,l,ct(f)?t.length:l+f),c}return Fr(t,c,u),c}function tO(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function eO(e,t,n){const s=iO(e),i=t.length/n;if(!s)return Math.max(i,1);const r=Fk(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function nO(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function sO(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Fr(e,t,n,s,i){const r=nt(s,0),o=Math.min(nt(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function iO(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const rO=e=>e==="left"?"right":e==="right"?"left":e,$h=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Fh=(e,t)=>Math.min(t||e,e);function Bh(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function oO(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function aO(e,t){kt(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ki(e){return e.drawTicks?e.tickLength:0}function Wh(e,t){if(!e.display)return 0;const n=se(e.font,t),s=me(e.padding);return(jt(e.text)?e.text.length:1)*n.lineHeight+s.height}function lO(e,t){return es(e,{scale:t,type:"scale"})}function cO(e,t,n){return es(e,{tick:n,index:t,type:"tick"})}function uO(e,t,n){let s=hc(e);return(n&&t!=="right"||!n&&t==="right")&&(s=rO(s)),s}function hO(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-i,m=a-r;if(e.isHorizontal()){if(f=le(s,r,a),ut(n)){const b=Object.keys(n)[0],y=n[b];p=u[b].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=$h(e,n,t);d=a-r}else{if(ut(n)){const b=Object.keys(n)[0],y=n[b];f=u[b].getPixelForValue(y)-m+t}else n==="center"?f=(c.left+c.right)/2-m+t:f=$h(e,n,t);p=le(s,o,i),h=n==="left"?-Kt:Kt}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Ts extends jn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=Ie(t,Number.POSITIVE_INFINITY),n=Ie(n,Number.NEGATIVE_INFINITY),s=Ie(s,Number.POSITIVE_INFINITY),i=Ie(i,Number.NEGATIVE_INFINITY),{min:Ie(t,s),max:Ie(n,i),minDefined:Ht(t),maxDefined:Ht(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Ie(n,Ie(s,n)),max:Ie(s,Ie(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gS(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Bh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ZE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Rt(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Fh(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=ie(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-ki(t.grid)-n.padding-Wh(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=cc(Math.min(Math.asin(ie((u.highest.height+6)/a,-1,1)),Math.asin(ie(l/c,-1,1))-Math.asin(ie(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Wh(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=ki(r)+l):(t.height=this.maxHeight,t.width=ki(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,p=Ye(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const b=s.mirror?0:m*h.width+g*d.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:g*h.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*t.width,f=s*n.height):(d=s*t.height,f=i*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)ct(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Bh(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Fh(n,s));let c=0,u=0,h,d,f,p,g,m,b,y,v,x,k;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),i.font=m=g.string,b=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,v=x=0,!ct(p)&&!jt(p))v=mo(i,b.data,b.gc,v,p),x=y;else if(jt(p))for(d=0,f=p.length;d<f;++d)k=p[d],!ct(k)&&!jt(k)&&(v=mo(i,b.data,b.gc,v,k),x+=y);o.push(v),a.push(x),c=Math.max(v,c),u=Math.max(x,u)}aO(r,n);const E=o.indexOf(c),O=a.indexOf(u),R=$=>({width:o[$]||0,height:a[$]||0});return{first:R(0),last:R(n-1),widest:R(E),highest:R(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Hk(this._alignToPixels?ls(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=cO(this.getContext(),t,s))}return this.$context||(this.$context=lO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ye(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=ki(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,b=function(it){return ls(s,it,g)};let y,v,x,k,E,O,R,$,K,X,ot,St;if(o==="top")y=b(this.bottom),O=this.bottom-d,$=y-m,X=b(t.top)+m,St=t.bottom;else if(o==="bottom")y=b(this.top),X=t.top,St=b(t.bottom)-m,O=y+m,$=this.top+d;else if(o==="left")y=b(this.right),E=this.right-d,R=y-m,K=b(t.left)+m,ot=t.right;else if(o==="right")y=b(this.left),K=t.left,ot=b(t.right)-m,E=y+m,R=this.left+d;else if(n==="x"){if(o==="center")y=b((t.top+t.bottom)/2+.5);else if(ut(o)){const it=Object.keys(o)[0],G=o[it];y=b(this.chart.scales[it].getPixelForValue(G))}X=t.top,St=t.bottom,O=y+m,$=O+d}else if(n==="y"){if(o==="center")y=b((t.left+t.right)/2);else if(ut(o)){const it=Object.keys(o)[0],G=o[it];y=b(this.chart.scales[it].getPixelForValue(G))}E=y-m,R=E-d,K=t.left,ot=t.right}const te=nt(i.ticks.maxTicksLimit,h),ht=Math.max(1,Math.ceil(h/te));for(v=0;v<h;v+=ht){const it=this.getContext(v),G=r.setContext(it),at=a.setContext(it),Pt=G.lineWidth,be=G.color,ye=at.dash||[],qt=at.dashOffset,Be=G.tickWidth,Se=G.tickColor,Ae=G.tickBorderDash||[],Xt=G.tickBorderDashOffset;x=oO(this,v,l),x!==void 0&&(k=ls(s,x,Pt),c?E=R=K=ot=k:O=$=X=St=k,f.push({tx1:E,ty1:O,tx2:R,ty2:$,x1:K,y1:X,x2:ot,y2:St,width:Pt,color:be,borderDash:ye,borderDashOffset:qt,tickWidth:Be,tickColor:Se,tickBorderDash:Ae,tickBorderDashOffset:Xt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=ki(s.grid),f=d+u,p=h?-u:f,g=-Ye(this.labelRotation),m=[];let b,y,v,x,k,E,O,R,$,K,X,ot,St="middle";if(i==="top")E=this.bottom-p,O=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+p,O=this._getXAxisLabelAlignment();else if(i==="left"){const ht=this._getYAxisLabelAlignment(d);O=ht.textAlign,k=ht.x}else if(i==="right"){const ht=this._getYAxisLabelAlignment(d);O=ht.textAlign,k=ht.x}else if(n==="x"){if(i==="center")E=(t.top+t.bottom)/2+f;else if(ut(i)){const ht=Object.keys(i)[0],it=i[ht];E=this.chart.scales[ht].getPixelForValue(it)+f}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(t.left+t.right)/2-f;else if(ut(i)){const ht=Object.keys(i)[0],it=i[ht];k=this.chart.scales[ht].getPixelForValue(it)}O=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?St="top":l==="end"&&(St="bottom"));const te=this._getLabelSizes();for(b=0,y=a.length;b<y;++b){v=a[b],x=v.label;const ht=r.setContext(this.getContext(b));R=this.getPixelForTick(b)+r.labelOffset,$=this._resolveTickFontOptions(b),K=$.lineHeight,X=jt(x)?x.length:1;const it=X/2,G=ht.color,at=ht.textStrokeColor,Pt=ht.textStrokeWidth;let be=O;o?(k=R,O==="inner"&&(b===y-1?be=this.options.reverse?"left":"right":b===0?be=this.options.reverse?"right":"left":be="center"),i==="top"?c==="near"||g!==0?ot=-X*K+K/2:c==="center"?ot=-te.highest.height/2-it*K+K:ot=-te.highest.height+K/2:c==="near"||g!==0?ot=K/2:c==="center"?ot=te.highest.height/2-it*K:ot=te.highest.height-X*K,h&&(ot*=-1),g!==0&&!ht.showLabelBackdrop&&(k+=K/2*Math.sin(g))):(E=R,ot=(1-X)*K/2);let ye;if(ht.showLabelBackdrop){const qt=me(ht.backdropPadding),Be=te.heights[b],Se=te.widths[b];let Ae=ot-qt.top,Xt=0-qt.left;switch(St){case"middle":Ae-=Be/2;break;case"bottom":Ae-=Be;break}switch(O){case"center":Xt-=Se/2;break;case"right":Xt-=Se;break;case"inner":b===y-1?Xt-=Se:b>0&&(Xt-=Se/2);break}ye={left:Xt,top:Ae,width:Se+qt.width,height:Be+qt.height,color:ht.backdropColor}}m.push({label:x,font:$,textOffset:ot,options:{rotation:g,color:G,strokeColor:at,strokeWidth:Pt,textAlign:be,textBaseline:St,translation:[k,E],backdrop:ye}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ye(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ls(t,this.left,o)-o/2,u=ls(t,this.right,a)+a/2,h=d=l):(h=ls(t,this.top,o)-o/2,d=ls(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Wo(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ss(s,c,0,u,l,a)}i&&Vo(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=se(s.font),o=me(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(l+=o.bottom,jt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=hO(this,l,n,a);Ss(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:uO(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=nt(t.grid&&t.grid.z,-1),i=nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ts.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return se(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Br{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;gO(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,dO(t,o,s),this.override&&$t.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in $t[i]&&(delete $t[i][s],this.override&&delete ks[s])}}function dO(e,t,n){const s=or(Object.create(null),[n?$t.get(n):{},$t.get(t),e.defaults]);$t.set(t,s),e.defaultRoutes&&fO(t,e.defaultRoutes),e.descriptors&&$t.describe(t,e.descriptors)}function fO(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");$t.route(r,i,l,a)})}function gO(e){return"id"in e&&"defaults"in e}class pO{constructor(){this.controllers=new Br(ns,"datasets",!0),this.elements=new Br(jn,"elements"),this.plugins=new Br(Object,"plugins"),this.scales=new Br(Ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):kt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=lc(t);Rt(s["before"+i],[],s),n[t](s),Rt(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var rn=new pO;class mO{constructor(){this._init=void 0}notify(t,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Rt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=nt(s.options&&s.options.plugins,{}),r=bO(s);return i===!1&&!n?[]:_O(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function bO(e){const t={},n=[],s=Object.keys(rn.plugins.items);for(let r=0;r<s.length;r++)n.push(rn.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function yO(e,t){return!t&&e===!1?null:e===!0?{}:e}function _O(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=yO(s[l],i);c!==null&&r.push({plugin:a,options:vO(e.config,{plugin:a,local:n[l]},c,o)})}return r}function vO(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ml(e,t){const n=$t.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function wO(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function xO(e,t){return e===t?"_index_":"_value_"}function Vh(e){if(e==="x"||e==="y"||e==="r")return e}function kO(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function bl(e,...t){if(Vh(e))return e;for(const n of t){const s=n.axis||kO(n.position)||e.length>1&&Vh(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Hh(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function SO(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Hh(e,"x",n[0])||Hh(e,"y",n[0])}return{}}function EO(e,t){const n=ks[e.type]||{scales:{}},s=t.scales||{},i=ml(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=bl(o,a,SO(o,e),$t.scales[a.type]),c=xO(l,i),u=n.scales||{};r[o]=Ui(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ml(a,t),u=(ks[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=wO(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Ui(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ui(a,[$t.scales[a.type],$t.scale])}),r}function Mp(e){const t=e.options||(e.options={});t.plugins=nt(t.plugins,{}),t.scales=EO(e,t)}function Rp(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function OO(e){return e=e||{},e.data=Rp(e.data),Mp(e),e}const Uh=new Map,Dp=new Set;function Wr(e,t){let n=Uh.get(e);return n||(n=t(),Uh.set(e,n),Dp.add(n)),n}const Si=(e,t,n)=>{const s=Qn(t,n);s!==void 0&&e.add(s)};class TO{constructor(t){this._config=OO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Rp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Mp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Wr(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Wr(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Wr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>Si(l,t,h))),u.forEach(h=>Si(l,i,h)),u.forEach(h=>Si(l,ks[r]||{},h)),u.forEach(h=>Si(l,$t,h)),u.forEach(h=>Si(l,gl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Dp.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ks[n]||{},$t.datasets[n]||{},{type:n},$t,gl]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=zh(this._resolverCache,t,i);let l=o;if(CO(o,n)){r.$shared=!1,s=Zn(s)?s():s;const c=this.createResolver(t,s,a);l=ri(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=zh(this._resolverCache,t,s);return ut(n)?ri(r,n,void 0,i):r}}function zh(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:gc(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const PO=e=>ut(e)&&Object.getOwnPropertyNames(e).some(t=>Zn(e[t]));function CO(e,t){const{isScriptable:n,isIndexable:s}=cp(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(Zn(a)||PO(a))||o&&jt(a))return!0}return!1}var AO="4.5.1";const MO=["top","bottom","left","right","chartArea"];function qh(e,t){return e==="top"||e==="bottom"||MO.indexOf(e)===-1&&t==="x"}function Yh(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Kh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Rt(n&&n.onComplete,[e],t)}function RO(e){const t=e.chart,n=t.options.animation;Rt(n&&n.onProgress,[e],t)}function Ip(e){return bc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qr={},Gh=e=>{const t=Ip(e);return Object.values(Qr).filter(n=>n.canvas===t).pop()};function DO(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function IO(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class wc{static defaults=$t;static instances=Qr;static overrides=ks;static registry=rn;static version=AO;static getChart=Gh;static register(...t){rn.add(...t),Jh()}static unregister(...t){rn.remove(...t),Jh()}constructor(t,n){const s=this.config=new TO(n),i=Ip(t),r=Gh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||QE(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ak(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Yk(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Qr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",Kh),yn.listen(this,"progress",RO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return ct(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ph(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(t,n){yn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,yh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Rt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=bl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kt(r,o=>{const a=o.options,l=a.id,c=bl(l,a),u=nt(a.type,o.dtype);(a.position===void 0||qh(a.position,c)!==qh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=rn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),kt(i,(o,a)=>{o||delete s[a]}),kt(s,o=>{de.configure(this,o,o.options),de.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Yh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||ml(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=rn.getController(a),{datasetElementType:c,dataElementType:u}=$t.datasets[a];Object.assign(l,{dataElementType:rn.getElement(u),datasetElementType:c&&rn.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){kt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||kt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Yh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,t=>{de.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!oh(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;DO(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!oh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;de.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],kt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Zn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),Kh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=vp(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Wo(n,i),t.controller.draw(),i&&Vo(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Pn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=ME.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);ar(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),yn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ph(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Qr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};kt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){kt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},kt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!fo(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=jk(t),c=IO(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Rt(r.onHover,[t,a,this],this),l&&Rt(r.onClick,[t,a,this],this));const u=!fo(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Jh(){return kt(wc.instances,e=>e._plugins.invalidate())}function LO(e,t,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,ce(s-n));if(e.beginPath(),e.arc(i,r,o-c/2,s+h/2,n-h/2),a>0){const d=Math.min(c/a,ce(s-n));e.arc(i,r,a+c/2,n-d/2,s+d/2,!0)}else{const d=Math.min(c/2,o*ce(s-n));if(u==="round")e.arc(i,r,d,n-pt/2,s+pt/2,!0);else if(u==="bevel"){const f=2*d*d,p=-f*Math.cos(n+pt/2)+i,g=-f*Math.sin(n+pt/2)+r,m=f*Math.cos(s+pt/2)+i,b=f*Math.sin(s+pt/2)+r;e.lineTo(p,g),e.lineTo(m,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function jO(e,t,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(r,o,a,s-c,n+c),l>i?(c=i/l,e.arc(r,o,l,n+c,s-c,!0)):e.arc(r,o,i,n+Kt,s-Kt),e.closePath(),e.clip()}function NO(e){return fc(e,["outerStart","outerEnd","innerStart","innerEnd"])}function $O(e,t,n,s){const i=NO(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return ie(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ie(i.innerStart,0,o),innerEnd:ie(i.innerEnd,0,o)}}function Ns(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function _o(e,t,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+s+n-c,0),d=u>0?u+s+n+c:0;let f=0;const p=i-l;if(s){const ht=u>0?u-s:0,it=h>0?h-s:0,G=(ht+it)/2,at=G!==0?p*G/(G+s):p;f=(p-at)/2}const g=Math.max(.001,p*h-n/pt)/h,m=(p-g)/2,b=l+m+f,y=i-m-f,{outerStart:v,outerEnd:x,innerStart:k,innerEnd:E}=$O(t,d,h,y-b),O=h-v,R=h-x,$=b+v/O,K=y-x/R,X=d+k,ot=d+E,St=b+k/X,te=y-E/ot;if(e.beginPath(),r){const ht=($+K)/2;if(e.arc(o,a,h,$,ht),e.arc(o,a,h,ht,K),x>0){const Pt=Ns(R,K,o,a);e.arc(Pt.x,Pt.y,x,K,y+Kt)}const it=Ns(ot,y,o,a);if(e.lineTo(it.x,it.y),E>0){const Pt=Ns(ot,te,o,a);e.arc(Pt.x,Pt.y,E,y+Kt,te+Math.PI)}const G=(y-E/d+(b+k/d))/2;if(e.arc(o,a,d,y-E/d,G,!0),e.arc(o,a,d,G,b+k/d,!0),k>0){const Pt=Ns(X,St,o,a);e.arc(Pt.x,Pt.y,k,St+Math.PI,b-Kt)}const at=Ns(O,b,o,a);if(e.lineTo(at.x,at.y),v>0){const Pt=Ns(O,$,o,a);e.arc(Pt.x,Pt.y,v,b-Kt,$)}}else{e.moveTo(o,a);const ht=Math.cos($)*h+o,it=Math.sin($)*h+a;e.lineTo(ht,it);const G=Math.cos(K)*h+o,at=Math.sin(K)*h+a;e.lineTo(G,at)}e.closePath()}function FO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){_o(e,t,n,s,l,i);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%It||It))}return _o(e,t,n,s,l,i),e.fill(),l}function BO(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(r){_o(e,t,n,s,g,i);for(let m=0;m<r;++m)e.stroke();isNaN(a)||(g=o+(a%It||It))}p&&jO(e,t,g),l.selfJoin&&g-o>=pt&&f===0&&u!=="miter"&&LO(e,t,g),r||(_o(e,t,n,s,g,i),e.stroke())}class WO extends jn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=Zg(i,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,f=nt(h,l-a),p=lr(r,a,l)&&a!==l,g=f>=It||p,m=On(o,c+d,u+d);return g&&m}getCenterPoint(t){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>It?Math.floor(s/It):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(pt,s||0)),c=i*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,FO(t,this,c,r,o),BO(t,this,c,r,o),t.restore()}}function Lp(e,t,n=t){e.lineCap=nt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(nt(n.borderDash,t.borderDash)),e.lineDashOffset=nt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=nt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=nt(n.borderWidth,t.borderWidth),e.strokeStyle=nt(n.borderColor,t.borderColor)}function VO(e,t,n){e.lineTo(n.x,n.y)}function HO(e){return e.stepped?rS:e.tension||e.cubicInterpolationMode==="monotone"?oS:VO}function jp(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function UO(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=jp(i,n,s),u=HO(r);let{move:h=!0,reverse:d}=s||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(d?c-f:f))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,d,r.stepped),g=p);return l&&(p=i[(a+(d?c:0))%o],u(e,g,p,d,r.stepped)),!!l}function zO(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=jp(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,d,f,p,g,m,b;const y=x=>(o+(c?a-x:x))%r,v=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,b))};for(l&&(f=i[y(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[y(d)],f.skip)continue;const x=f.x,k=f.y,E=x|0;E===p?(k<g?g=k:k>m&&(m=k),u=(h*u+x)/++h):(v(),e.lineTo(x,k),p=E,h=0,g=m=k),b=k}v()}function yl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?zO:UO}function qO(e){return e.stepped?$S:e.tension||e.cubicInterpolationMode==="monotone"?FS:gs}function YO(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),Lp(e,t.options),e.stroke(i)}function KO(e,t,n,s){const{segments:i,options:r}=t,o=yl(t);for(const a of i)Lp(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const GO=typeof Path2D=="function";function JO(e,t,n,s){GO&&!t.options.segment?YO(e,t,n,s):KO(e,t,n,s)}class zo extends jn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;AS(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=_p(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=qO(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((i-f[n])/(p[n]-f[n])),m=l(f,p,g,s.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,s){return yl(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=yl(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),JO(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Xh(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class XO extends jn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Xh(this,t,"x",n)}inYRange(t,n){return Xh(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!Pn(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,pl(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Np(e,t){const{x:n,y:s,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Kn(e,t,n,s){return e?0:ie(t,n,s)}function QO(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,r=lp(s);return{t:Kn(i.top,r.top,0,n),r:Kn(i.right,r.right,0,t),b:Kn(i.bottom,r.bottom,0,n),l:Kn(i.left,r.left,0,t)}}function ZO(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=ws(i),o=Math.min(t,n),a=e.borderSkipped,l=s||ut(i);return{topLeft:Kn(!l||a.top||a.left,r.topLeft,0,o),topRight:Kn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Kn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Kn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function tT(e){const t=Np(e),n=t.right-t.left,s=t.bottom-t.top,i=QO(e,n/2,s/2),r=ZO(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ma(e,t,n,s){const i=t===null,r=n===null,a=e&&!(i&&r)&&Np(e,s);return a&&(i||On(t,a.left,a.right))&&(r||On(n,a.top,a.bottom))}function eT(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function nT(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ra(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class sT extends jn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=tT(this),a=eT(o.radius)?cr:nT;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Ra(o,n,r)),t.clip(),a(t,Ra(r,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Ra(r,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return Ma(this,t,n,s)}inXRange(t,n){return Ma(this,t,null,n)}inYRange(t,n){return Ma(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var iT=Object.freeze({__proto__:null,ArcElement:WO,BarElement:sT,LineElement:zo,PointElement:XO});const _l=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Qh=_l.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function $p(e){return _l[e%_l.length]}function Fp(e){return Qh[e%Qh.length]}function rT(e,t){return e.borderColor=$p(t),e.backgroundColor=Fp(t),++t}function oT(e,t){return e.backgroundColor=e.data.map(()=>$p(t++)),t}function aT(e,t){return e.backgroundColor=e.data.map(()=>Fp(t++)),t}function lT(e){let t=0;return(n,s)=>{const i=e.getDatasetMeta(s).controller;i instanceof _c?t=oT(n,t):i instanceof Sp?t=aT(n,t):i&&(t=rT(n,t))}}function Zh(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function cT(e){return e&&(e.borderColor||e.backgroundColor)}function uT(){return $t.borderColor!=="rgba(0,0,0,0.1)"||$t.backgroundColor!=="rgba(0,0,0,0.1)"}var hT={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=e.config,{elements:r}=i,o=Zh(s)||cT(i)||r&&Zh(r)||uT();if(!n.forceOverride&&o)return;const a=lT(e);s.forEach(a)}};function dT(e,t,n,s,i){const r=i.samples||s;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,d,f,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,b=0,y;const v=Math.floor((h+1)*a)+1+t,x=Math.min(Math.floor((h+2)*a)+1,n)+t,k=x-v;for(y=v;y<x;y++)m+=e[y].x,b+=e[y].y;m/=k,b/=k;const E=Math.floor(h*a)+1+t,O=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:R,y:$}=e[u];for(f=p=-1,y=E;y<O;y++)p=.5*Math.abs((R-m)*(e[y].y-$)-(R-e[y].x)*(b-$)),p>f&&(f=p,d=e[y],g=y);o[l++]=d,u=g}return o[l++]=e[c],o}function fT(e,t,n,s){let i=0,r=0,o,a,l,c,u,h,d,f,p,g;const m=[],b=t+n-1,y=e[t].x,x=e[b].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/x*s,c=a.y;const k=l|0;if(k===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),i=(r*i+a.x)/++r;else{const E=o-1;if(!ct(h)&&!ct(d)){const O=Math.min(h,d),R=Math.max(h,d);O!==f&&O!==E&&m.push({...e[O],x:i}),R!==f&&R!==E&&m.push({...e[R],x:i})}o>0&&E!==f&&m.push(e[E]),m.push(a),u=k,r=0,p=g=c,h=d=f=o}}return m}function Bp(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function td(e){e.data.datasets.forEach(t=>{Bp(t)})}function gT(e,t){const n=t.length;let s=0,i;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ie(Tn(t,r.axis,o).lo,0,n-1)),c?i=ie(Tn(t,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var pT={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){td(e);return}const s=e.width;e.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=e.getDatasetMeta(r),c=o||i.data;if(Mi([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=gT(l,c);const f=n.threshold||4*s;if(d<=f){Bp(i);return}ct(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=dT(c,h,d,s,n);break;case"min-max":p=fT(c,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(e){td(e)}};function mT(e,t,n){const s=e.segments,i=e.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=qo(l,c,i);const u=vl(n,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=_p(t,u);for(const d of h){const f=vl(n,r[d.start],r[d.end],d.loop),p=yp(a,i,f);for(const g of p)o.push({source:g,target:d,start:{[n]:ed(u,f,"start",Math.max)},end:{[n]:ed(u,f,"end",Math.min)}})}}return o}function vl(e,t,n,s){if(s)return;let i=t[e],r=n[e];return e==="angle"&&(i=ce(i),r=ce(r)),{property:e,start:i,end:r}}function bT(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=qo(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function qo(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function ed(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function Wp(e,t){let n=[],s=!1;return jt(e)?(s=!0,n=e):n=bT(e,t),n.length?new zo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function nd(e){return e&&e.fill!==!1}function yT(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Ht(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function _T(e,t,n){const s=kT(e);if(ut(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Ht(i)&&Math.floor(i)===i?vT(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function vT(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function wT(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ut(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function xT(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:ut(e)?s=e.value:s=t.getBaseValue(),s}function kT(e){const t=e.options,n=t.fill;let s=nt(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function ST(e){const{scale:t,index:n,line:s}=e,i=[],r=s.segments,o=s.points,a=ET(t,n);a.push(Wp({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)OT(i,o[u],a)}return new zo({points:i,options:{}})}function ET(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function OT(e,t,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=TT(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(e.push(l),!a)break}}e.push(...s)}function TT(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(On(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:s}}class Vp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:It},t.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,r=t.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function PT(e){const{chart:t,fill:n,line:s}=e;if(Ht(n))return CT(t,n);if(n==="stack")return ST(e);if(n==="shape")return!0;const i=AT(e);return i instanceof Vp?i:Wp(i,s)}function CT(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function AT(e){return(e.scale||{}).getPointPositionForValue?RT(e):MT(e)}function MT(e){const{scale:t={},fill:n}=e,s=wT(n,t);if(Ht(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function RT(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=xT(n,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new Vp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Da(e,t,n){const s=PT(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=i.getDatasetMeta(r),g=vp(i,p);s&&o.points.length&&(Wo(e,n),DT(e,{line:o,target:s,above:d,below:f,area:n,scale:a,axis:l,clip:g}),Vo(e))}function DT(e,t){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=r;r!==i&&(c==="x"?(sd(e,s,o.top),Ia(e,{line:n,target:s,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),sd(e,s,o.bottom)):c==="y"&&(id(e,s,o.left),Ia(e,{line:n,target:s,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),id(e,s,o.right),u=i)),Ia(e,{line:n,target:s,color:u,scale:a,property:c,clip:l}),e.restore()}function sd(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[qo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function id(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[qo(l,c,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Ia(e,t){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=t,l=mT(n,s,i);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:f=r}={}}=c,p=s!==!0;e.save(),e.fillStyle=f,IT(e,o,a,p&&vl(i,h,d)),e.beginPath();const g=!!n.pathSegment(e,c);let m;if(p){g?e.closePath():rd(e,s,d,i);const b=!!s.pathSegment(e,u,{move:g,reverse:!0});m=g&&b,m||rd(e,s,h,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function IT(e,t,n,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,h;r==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),e.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function rd(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var LT={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof zo&&(l={visible:e.isDatasetVisible(o),index:o,fill:_T(a,o,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=yT(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Da(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;nd(r)&&Da(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!nd(s)||n.drawTime!=="beforeDatasetDraw"||Da(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const od=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},jT=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ad extends jn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Rt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=se(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=od(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const m=s+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:y,itemHeight:v}=NT(s,n,r,m,i);b>0&&f+v+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[b]={left:p,top:f,col:g,width:y,height:v},d=Math.max(d,y),f+=v+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Qs(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=le(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=le(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=le(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=le(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Wo(t,this),this._draw(),Vo(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=$t.color,l=Qs(t.rtl,this.left,this.width),c=se(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=od(o,h),b=function(E,O,R){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const $=nt(R.lineWidth,1);if(i.fillStyle=nt(R.fillStyle,a),i.lineCap=nt(R.lineCap,"butt"),i.lineDashOffset=nt(R.lineDashOffset,0),i.lineJoin=nt(R.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=nt(R.strokeStyle,a),i.setLineDash(nt(R.lineDash,[])),o.usePointStyle){const K={radius:g*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:$},X=l.xPlus(E,p/2),ot=O+d;ap(i,K,X,ot,o.pointStyleWidth&&p)}else{const K=O+Math.max((h-g)/2,0),X=l.leftForLtr(E,p),ot=ws(R.borderRadius);i.beginPath(),Object.values(ot).some(St=>St!==0)?cr(i,{x:X,y:K,w:p,h:g,radius:ot}):i.rect(X,K,p,g),i.fill(),$!==0&&i.stroke()}i.restore()},y=function(E,O,R){Ss(i,R.text,E,O+m/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},v=this.isHorizontal(),x=this._computeTitleHeight();v?f={x:le(r,this.left+u,this.right-s[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:le(r,this.top+x+u,this.bottom-n[0].height),line:0},pp(this.ctx,t.textDirection);const k=m+u;this.legendItems.forEach((E,O)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const R=i.measureText(E.text).width,$=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),K=p+d+R;let X=f.x,ot=f.y;l.setWidth(this.width),v?O>0&&X+K+u>this.right&&(ot=f.y+=k,f.line++,X=f.x=le(r,this.left+u,this.right-s[f.line])):O>0&&ot+k>this.bottom&&(X=f.x=X+n[f.line].width+u,f.line++,ot=f.y=le(r,this.top+x+u,this.bottom-n[f.line].height));const St=l.x(X);if(b(St,ot,E),X=Kk($,X+p+d,v?X+K:this.right,t.rtl),y(l.x(X),ot,E),v)f.x+=K+u;else if(typeof E.text!="string"){const te=c.lineHeight;f.y+=Hp(E,te)+u}else f.y+=k}),mp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=se(n.font),i=me(n.padding);if(!n.display)return;const r=Qs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=le(t.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+le(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const f=le(a,h,h+d);o.textAlign=r.textAlign(hc(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Ss(o,n.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,n=se(t.font),s=me(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(On(t,this.left,this.right)&&On(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],On(t,i.left,i.left+i.width)&&On(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!BT(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=jT(i,s);i&&!r&&Rt(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Rt(n.onHover,[t,s,this],this)}else s&&Rt(n.onClick,[t,s,this],this)}}function NT(e,t,n,s,i){const r=$T(s,e,t,n),o=FT(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function $T(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function FT(e,t,n){let s=e;return typeof t.text!="string"&&(s=Hp(t,n)),s}function Hp(e,t){const n=e.text?e.text.length:0;return t*n}function BT(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var WT={id:"legend",_element:ad,start(e,t,n){const s=e.legend=new ad({ctx:e.ctx,options:n,chart:e});de.configure(e,s,n),de.addBox(e,s)},stop(e){de.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;de.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=me(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class xc extends jn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=jt(s.text)?s.text.length:1;this._padding=me(s.padding);const r=i*se(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=le(a,s,r),h=n+t,c=r-s):(o.position==="left"?(u=s+t,h=le(a,i,n),l=pt*-.5):(u=r-t,h=le(a,n,i),l=pt*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=se(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ss(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:hc(n.align),textBaseline:"middle",translation:[o,a]})}}function VT(e,t){const n=new xc({ctx:e.ctx,options:t,chart:e});de.configure(e,n,t),de.addBox(e,n),e.titleBlock=n}var HT={id:"title",_element:xc,start(e,t,n){VT(e,n)},stop(e){const t=e.titleBlock;de.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;de.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr=new WeakMap;var UT={id:"subtitle",start(e,t,n){const s=new xc({ctx:e.ctx,options:n,chart:e});de.configure(e,s,n),de.addBox(e,s),Vr.set(e,s)},stop(e){de.removeBox(e,Vr.get(e)),Vr.delete(e)},beforeUpdate(e,t,n){const s=Vr.get(e);de.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Di={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=fl(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function nn(e,t){return t&&(jt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function _n(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function zT(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function ld(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=se(t.bodyFont),c=se(t.titleFont),u=se(t.footerFont),h=r.length,d=i.length,f=s.length,p=me(t.padding);let g=p.height,m=0,b=s.reduce((x,k)=>x+k.before.length+k.lines.length+k.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*x+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const v=function(x){m=Math.max(m,n.measureText(x).width+y)};return n.save(),n.font=c.string,kt(e.title,v),n.font=l.string,kt(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?o+2+t.boxPadding:0,kt(s,x=>{kt(x.before,v),kt(x.lines,v),kt(x.after,v)}),y=0,n.font=u.string,kt(e.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function qT(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function YT(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function KT(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),YT(c,e,t,n)&&(c="center"),c}function cd(e,t,n){const s=n.yAlign||t.yAlign||qT(e,n);return{xAlign:n.xAlign||t.xAlign||KT(e,t,n,s),yAlign:s}}function GT(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function JT(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function ud(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ws(o);let p=GT(t,a);const g=JT(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:ie(p,0,s.width-t.width),y:ie(g,0,s.height-t.height)}}function Hr(e,t,n){const s=me(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function hd(e){return nn([],_n(e))}function XT(e,t,n){return es(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function dd(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Up={beforeTitle:mn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ct(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn};function Te(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?Up[t].call(n,s):i}class fd extends jn{static positioners=Di;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new wp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=XT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=Te(s,"beforeTitle",this,t),r=Te(s,"title",this,t),o=Te(s,"afterTitle",this,t);let a=[];return a=nn(a,_n(i)),a=nn(a,_n(r)),a=nn(a,_n(o)),a}getBeforeBody(t,n){return hd(Te(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return kt(t,r=>{const o={before:[],lines:[],after:[]},a=dd(s,r);nn(o.before,_n(Te(a,"beforeLabel",this,r))),nn(o.lines,Te(a,"label",this,r)),nn(o.after,_n(Te(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return hd(Te(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=Te(s,"beforeFooter",this,t),r=Te(s,"footer",this,t),o=Te(s,"afterFooter",this,t);let a=[];return a=nn(a,_n(i)),a=nn(a,_n(r)),a=nn(a,_n(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(zT(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),kt(a,u=>{const h=dd(t.callbacks,u);i.push(Te(h,"labelColor",this,u)),r.push(Te(h,"labelPointStyle",this,u)),o.push(Te(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Di[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=ld(this,s),c=Object.assign({},a,l),u=cd(this.chart,s,c),h=ud(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=ws(a),{x:d,y:f}=t,{width:p,height:g}=n;let m,b,y,v,x,k;return r==="center"?(x=f+g/2,i==="left"?(m=d,b=m-o,v=x+o,k=x-o):(m=d+p,b=m+o,v=x-o,k=x+o),y=m):(i==="left"?b=d+Math.max(l,u)+o:i==="right"?b=d+p-Math.max(c,h)-o:b=this.caretX,r==="top"?(v=f,x=v-o,m=b-o,y=b+o):(v=f+g,x=v+o,m=b+o,y=b-o),k=v),{x1:m,x2:b,x3:y,y1:v,y2:x,y3:k}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Qs(s.rtl,this.x,this.width);for(t.x=Hr(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=se(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=se(r.bodyFont),h=Hr(this,"left",r),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,b=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,pl(t,g,m,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,pl(t,g,m,b)}else{t.lineWidth=ut(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),b=ws(o.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,cr(t,{x:g,y:p,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),cr(t,{x:m,y:p+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=se(s.bodyFont);let d=h.lineHeight,f=0;const p=Qs(s.rtl,this.x,this.width),g=function(R){n.fillText(R,p.x(t.x+f),t.y+d/2),t.y+=d+r},m=p.textAlign(o);let b,y,v,x,k,E,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Hr(this,m,s),n.fillStyle=s.bodyColor,kt(this.beforeBody,g),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(b=i[x],y=this.labelTextColors[x],n.fillStyle=y,kt(b.before,g),v=b.lines,a&&v.length&&(this._drawColorBox(n,t,x,p,s),d=Math.max(h.lineHeight,l)),k=0,O=v.length;k<O;++k)g(v[k]),d=h.lineHeight;kt(b.after,g)}f=0,d=h.lineHeight,kt(this.afterBody,g),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Qs(s.rtl,this.x,this.width);for(t.x=Hr(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=se(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=ws(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Di[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ld(this,t),l=Object.assign({},o,this._size),c=cd(n,t,l),u=ud(t,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=me(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),pp(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),mp(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!fo(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!fo(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Di[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}var QT={id:"tooltip",_element:fd,positioners:Di,afterInit(e,t,n){n&&(e.tooltip=new fd({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Up},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ZT=Object.freeze({__proto__:null,Colors:hT,Decimation:pT,Filler:LT,Legend:WT,SubTitle:UT,Title:HT,Tooltip:QT});const tP=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function eP(e,t,n,s){const i=e.indexOf(t);if(i===-1)return tP(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const nP=(e,t)=>e===null?null:ie(Math.round(e),0,t);function gd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sP extends Ts{static id="category";static defaults={ticks:{callback:gd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ct(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:eP(s,t,nt(n,t),this._addedLabels),nP(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return gd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function iP(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,p=u-1,{min:g,max:m}=t,b=!ct(o),y=!ct(a),v=!ct(c),x=(m-g)/(h+1);let k=lh((m-g)/p/f)*f,E,O,R,$;if(k<1e-14&&!b&&!y)return[{value:g},{value:m}];$=Math.ceil(m/k)-Math.floor(g/k),$>p&&(k=lh($*k/p/f)*f),ct(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),i==="ticks"?(O=Math.floor(g/k)*k,R=Math.ceil(m/k)*k):(O=g,R=m),b&&y&&r&&Wk((a-o)/r,k/1e3)?($=Math.round(Math.min((a-o)/k,u)),k=(a-o)/$,O=o,R=a):v?(O=b?o:O,R=y?a:R,$=c-1,k=(R-O)/$):($=(R-O)/k,zi($,Math.round($),k/1e3)?$=Math.round($):$=Math.ceil($));const K=Math.max(ch(k),ch(O));E=Math.pow(10,ct(l)?K:l),O=Math.round(O*E)/E,R=Math.round(R*E)/E;let X=0;for(b&&(d&&O!==o?(n.push({value:o}),O<o&&X++,zi(Math.round((O+X*k)*E)/E,o,pd(o,x,e))&&X++):O<o&&X++);X<$;++X){const ot=Math.round((O+X*k)*E)/E;if(y&&ot>a)break;n.push({value:ot})}return y&&d&&R!==a?n.length&&zi(n[n.length-1].value,a,pd(a,x,e))?n[n.length-1].value=a:n.push({value:a}):(!y||R===a)&&n.push({value:R}),n}function pd(e,t,{horizontal:n,minRotation:s}){const i=Ye(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class vo extends Ts{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ct(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=hn(i),c=hn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=iP(i,r);return t.bounds==="ticks"&&Qg(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return mr(t,this.chart.options.locale,this.options.ticks.format)}}class rP extends vo{static id="linear";static defaults={ticks:{callback:Bo.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ht(t)?t:0,this.max=Ht(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ye(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const hr=e=>Math.floor(qn(e)),us=(e,t)=>Math.pow(10,hr(e)+t);function md(e){return e/Math.pow(10,hr(e))===1}function bd(e,t,n){const s=Math.pow(10,n),i=Math.floor(e/s);return Math.ceil(t/s)-i}function oP(e,t){const n=t-e;let s=hr(n);for(;bd(e,t,s)>10;)s++;for(;bd(e,t,s)<10;)s--;return Math.min(s,hr(e))}function aP(e,{min:t,max:n}){t=Ie(e.min,t);const s=[],i=hr(t);let r=oP(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=Ie(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)s.push({value:d,major:md(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=Ie(e.max,d);return s.push({value:f,major:md(f),significand:h}),s}class lP extends Ts{static id="logarithmic";static defaults={ticks:{callback:Bo.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=vo.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return Ht(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ht(t)?Math.max(0,t):null,this.max=Ht(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ht(this._userMin)&&(this.min=t===us(this.min,0)?us(this.min,-1):us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(us(s,-1)),o(us(i,1)))),s<=0&&r(us(i,-1)),i<=0&&o(us(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=aP(n,this);return t.bounds==="ticks"&&Qg(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":mr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=qn(t),this._valueRange=qn(this.max)-qn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function wl(e){const t=e.ticks;if(t.display&&e.display){const n=me(t.backdropPadding);return nt(t.font&&t.font.size,$t.font.size)+n.height}return 0}function cP(e,t,n){return n=jt(n)?n:[n],{w:iS(e,t.string,n),h:n.length*t.lineHeight}}function yd(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function uP(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?pt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),h=se(c.font),d=cP(e.ctx,h,e._pointLabels[l]);s[l]=d;const f=ce(e.getIndexAngle(l)+a),p=Math.round(cc(f)),g=yd(p,u.x,d.w,0,180),m=yd(p,u.y,d.h,90,270);hP(n,t,f,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=gP(e,s,i)}function hP(e,t,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function dP(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,s+i+o,r),c=Math.round(cc(ce(l.angle+Kt))),u=bP(l.y,a.h,c),h=pP(c),d=mP(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function fP(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:r}=e;return!(Pn({x:n,y:s},t)||Pn({x:n,y:r},t)||Pn({x:i,y:s},t)||Pn({x:i,y:r},t))}function gP(e,t,n){const s=[],i=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:wl(r)/2,additionalAngle:o?pt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const h=dP(e,u,l);s.push(h),a==="auto"&&(h.visible=fP(h,c),h.visible&&(c=h))}return s}function pP(e){return e===0||e===180?"center":e<180?"left":"right"}function mP(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function bP(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function yP(e,t,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=t;if(!ct(a)){const l=ws(t.borderRadius),c=me(t.backdropPadding);e.fillStyle=a;const u=s-c.left,h=i-c.top,d=r-s+c.width,f=o-i+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),cr(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function _P(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const r=e._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(e.getPointLabelContext(i));yP(n,o,r);const a=se(o.font),{x:l,y:c,textAlign:u}=r;Ss(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function zp(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,It);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=e.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function vP(e,t,n,s,i){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),zp(e,n,o,s),r.closePath(),r.stroke(),r.restore())}function wP(e,t,n){return es(e,{label:n,index:t,type:"pointLabel"})}class xP extends vo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=me(wl(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ht(t)&&!isNaN(t)?t:0,this.max=Ht(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wl(this.options))}generateTickLabels(t){vo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=Rt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?uP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=It/(this._pointLabels.length||1),s=this.options.startAngle||0;return ce(t*n+Ye(s))}getDistanceFromCenterForValue(t){if(ct(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ct(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return wP(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-Kt+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),zp(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&_P(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),p=r.setContext(d);vP(this,f,l,o,p)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=se(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=me(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Ss(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const Yo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ce=Object.keys(Yo);function _d(e,t){return e-t}function vd(e,t){if(ct(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Ht(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ii(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function wd(e,t,n,s){const i=Ce.length;for(let r=Ce.indexOf(e);r<i-1;++r){const o=Yo[Ce[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return Ce[r]}return Ce[i-1]}function kP(e,t,n,s,i){for(let r=Ce.length-1;r>=Ce.indexOf(n);r--){const o=Ce[r];if(Yo[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return Ce[n?Ce.indexOf(n):0]}function SP(e){for(let t=Ce.indexOf(e)+1,n=Ce.length;t<n;++t)if(Yo[Ce[t]].common)return Ce[t]}function xd(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=uc(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function EP(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function kd(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:EP(e,s,i,n)}class xl extends Ts{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new Ep._date(t.adapters.date);i.init(n),Ui(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:vd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ht(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ht(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=zk(i,r,o);return this._unit=n.unit||(s.autoSkip?wd(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):kP(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:SP(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),kd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ie(n,0,o),s=ie(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||wd(r.minUnit,n,s,this._getLabelCapacity(n)),a=nt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ii(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+t.add(d,a,o),f++)xd(u,d,p);return(d===s||i.bounds==="ticks"||f===1)&&xd(u,d,p),Object.keys(u).sort(_d).map(g=>+g)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Rt(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[n],f=c&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=Ye(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,kd(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(vd(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ep(t.sort(_d))}}function Ur(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=Tn(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=Tn(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class OP extends xl{static id="timeseries";static defaults=xl.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ur(n,this.min),this._tableRange=Ur(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ur(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Ur(this._table,s*this._tableRange+this._minPos,!0)}}var TP=Object.freeze({__proto__:null,CategoryScale:sP,LinearScale:rP,LogarithmicScale:lP,RadialLinearScale:xP,TimeScale:xl,TimeSeriesScale:OP});const PP=[OE,iT,ZT,TP];wc.register(...PP);const qp=6048e5,CP=864e5,br=6e4,yr=36e5,AP=1e3,Sd=Symbol.for("constructDateFrom");function Ut(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Sd in e?e[Sd](t):e instanceof Date?new e.constructor(t):new Date(t)}function st(e,t){return Ut(t||e,e)}function Ko(e,t,n){const s=st(e,n?.in);return isNaN(t)?Ut(n?.in||e,NaN):(t&&s.setDate(s.getDate()+t),s)}function kc(e,t,n){const s=st(e,n?.in);if(isNaN(t))return Ut(e,NaN);if(!t)return s;const i=s.getDate(),r=Ut(e,s.getTime());r.setMonth(s.getMonth()+t+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}function Sc(e,t,n){return Ut(e,+st(e)+t)}function MP(e,t,n){return Sc(e,t*yr)}let RP={};function Ps(){return RP}function fn(e,t){const n=Ps(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(e,t?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ai(e,t){return fn(e,{...t,weekStartsOn:1})}function Yp(e,t){const n=st(e,t?.in),s=n.getFullYear(),i=Ut(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=ai(i),o=Ut(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=ai(o);return n.getTime()>=r.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function wo(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Cs(e,...t){const n=Ut.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function kl(e,t){const n=st(e,t?.in);return n.setHours(0,0,0,0),n}function Kp(e,t,n){const[s,i]=Cs(n?.in,e,t),r=kl(s),o=kl(i),a=+r-wo(r),l=+o-wo(o);return Math.round((a-l)/CP)}function DP(e,t){const n=Yp(e,t),s=Ut(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),ai(s)}function IP(e,t,n){const s=st(e,n?.in);return s.setTime(s.getTime()+t*br),s}function LP(e,t,n){return kc(e,t*3,n)}function jP(e,t,n){return Sc(e,t*1e3)}function NP(e,t,n){return Ko(e,t*7,n)}function $P(e,t,n){return kc(e,t*12,n)}function Ki(e,t){const n=+st(e)-+st(t);return n<0?-1:n>0?1:n}function FP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gp(e){return!(!FP(e)&&typeof e!="number"||isNaN(+st(e)))}function BP(e,t,n){const[s,i]=Cs(n?.in,e,t),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function WP(e,t,n){const[s,i]=Cs(n?.in,e,t);return s.getFullYear()-i.getFullYear()}function Jp(e,t,n){const[s,i]=Cs(n?.in,e,t),r=Ed(s,i),o=Math.abs(Kp(s,i));s.setDate(s.getDate()-r*o);const a=+(Ed(s,i)===-r),l=r*(o-a);return l===0?0:l}function Ed(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function _r(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function VP(e,t,n){const[s,i]=Cs(n?.in,e,t),r=(+s-+i)/yr;return _r(n?.roundingMethod)(r)}function Ec(e,t){return+st(e)-+st(t)}function HP(e,t,n){const s=Ec(e,t)/br;return _r(n?.roundingMethod)(s)}function Xp(e,t){const n=st(e,t?.in);return n.setHours(23,59,59,999),n}function Qp(e,t){const n=st(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function UP(e,t){const n=st(e,t?.in);return+Xp(n,t)==+Qp(n,t)}function Zp(e,t,n){const[s,i,r]=Cs(n?.in,e,e,t),o=Ki(i,r),a=Math.abs(BP(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let l=Ki(i,r)===-o;UP(s)&&a===1&&Ki(s,r)===1&&(l=!1);const c=o*(a-+l);return c===0?0:c}function zP(e,t,n){const s=Zp(e,t,n)/3;return _r(n?.roundingMethod)(s)}function qP(e,t,n){const s=Ec(e,t)/1e3;return _r(n?.roundingMethod)(s)}function YP(e,t,n){const s=Jp(e,t,n)/7;return _r(n?.roundingMethod)(s)}function KP(e,t,n){const[s,i]=Cs(n?.in,e,t),r=Ki(s,i),o=Math.abs(WP(s,i));s.setFullYear(1584),i.setFullYear(1584);const a=Ki(s,i)===-r,l=r*(o-+a);return l===0?0:l}function GP(e,t){const n=st(e,t?.in),s=n.getMonth(),i=s-s%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function JP(e,t){const n=st(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function XP(e,t){const n=st(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function tm(e,t){const n=st(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QP(e,t){const n=st(e,t?.in);return n.setMinutes(59,59,999),n}function ZP(e,t){const n=Ps(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(e,t?.in),r=i.getDay(),o=(r<s?-7:0)+6-(r-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function t1(e,t){const n=st(e,t?.in);return n.setSeconds(59,999),n}function e1(e,t){const n=st(e,t?.in),s=n.getMonth(),i=s-s%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}function n1(e,t){const n=st(e,t?.in);return n.setMilliseconds(999),n}const s1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i1=(e,t,n)=>{let s;const i=s1[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function La(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const r1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l1={date:La({formats:r1,defaultWidth:"full"}),time:La({formats:o1,defaultWidth:"full"}),dateTime:La({formats:a1,defaultWidth:"full"})},c1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u1=(e,t,n,s)=>c1[e];function Ei(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const r=e.argumentCallback?e.argumentCallback(t):t;return i[r]}}const h1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},d1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},m1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},b1=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},y1={ordinalNumber:b1,era:Ei({values:h1,defaultWidth:"wide"}),quarter:Ei({values:d1,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ei({values:f1,defaultWidth:"wide"}),day:Ei({values:g1,defaultWidth:"wide"}),dayPeriod:Ei({values:p1,defaultWidth:"wide",formattingValues:m1,defaultFormattingWidth:"wide"})};function Oi(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],r=t.match(i);if(!r)return null;const o=r[0],a=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?v1(a,h=>h.test(o)):_1(a,h=>h.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function _1(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function v1(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function w1(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],r=t.match(e.parsePattern);if(!r)return null;let o=e.valueCallback?e.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const x1=/^(\d+)(th|st|nd|rd)?/i,k1=/\d+/i,S1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E1={any:[/^b/i,/^(a|c)/i]},O1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T1={any:[/1/i,/2/i,/3/i,/4/i]},P1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},M1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I1={ordinalNumber:w1({matchPattern:x1,parsePattern:k1,valueCallback:e=>parseInt(e,10)}),era:Oi({matchPatterns:S1,defaultMatchWidth:"wide",parsePatterns:E1,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:O1,defaultMatchWidth:"wide",parsePatterns:T1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Oi({matchPatterns:P1,defaultMatchWidth:"wide",parsePatterns:C1,defaultParseWidth:"any"}),day:Oi({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:M1,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:R1,defaultMatchWidth:"any",parsePatterns:D1,defaultParseWidth:"any"})},em={code:"en-US",formatDistance:i1,formatLong:l1,formatRelative:u1,localize:y1,match:I1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L1(e,t){const n=st(e,t?.in);return Kp(n,tm(n))+1}function nm(e,t){const n=st(e,t?.in),s=+ai(n)-+DP(n);return Math.round(s/qp)+1}function Oc(e,t){const n=st(e,t?.in),s=n.getFullYear(),i=Ps(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ut(t?.in||e,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=fn(o,t),l=Ut(t?.in||e,0);l.setFullYear(s,0,r),l.setHours(0,0,0,0);const c=fn(l,t);return+n>=+a?s+1:+n>=+c?s:s-1}function j1(e,t){const n=Ps(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Oc(e,t),r=Ut(t?.in||e,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),fn(r,t)}function sm(e,t){const n=st(e,t?.in),s=+fn(n,t)-+j1(n,t);return Math.round(s/qp)+1}function xt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Fn={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return xt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return xt(i,t.length)}},$s={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Od={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Fn.y(e,t)},Y:function(e,t,n,s){const i=Oc(e,s),r=i>0?i:1-i;if(t==="YY"){const o=r%100;return xt(o,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):xt(r,t.length)},R:function(e,t){const n=Yp(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return xt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return xt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Fn.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return xt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=sm(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},I:function(e,t,n){const s=nm(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):xt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fn.d(e,t)},D:function(e,t,n){const s=L1(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):xt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return xt(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return xt(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return xt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=$s.noon:s===0?i=$s.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=$s.evening:s>=12?i=$s.afternoon:s>=4?i=$s.morning:i=$s.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Fn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fn.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):xt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):xt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fn.s(e,t)},S:function(e,t){return Fn.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Pd(s);case"XXXX":case"XX":return ps(s);case"XXXXX":case"XXX":default:return ps(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Pd(s);case"xxxx":case"xx":return ps(s);case"xxxxx":case"xxx":default:return ps(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Td(s,":");case"OOOO":default:return"GMT"+ps(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Td(s,":");case"zzzz":default:return"GMT"+ps(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return xt(s,t.length)},T:function(e,t,n){return xt(+e,t.length)}};function Td(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),r=s%60;return r===0?n+String(i):n+String(i)+t+xt(r,2)}function Pd(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):ps(e,t)}function ps(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=xt(Math.trunc(s/60),2),r=xt(s%60,2);return n+i+t+r}const Cd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},im=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},N1=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Cd(e,t);let r;switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Cd(s,t)).replace("{{time}}",im(i,t))},Sl={p:im,P:N1},$1=/^D+$/,F1=/^Y+$/,B1=["D","DD","YY","YYYY"];function rm(e){return $1.test(e)}function om(e){return F1.test(e)}function El(e,t,n){const s=W1(e,t,n);if(console.warn(s),B1.includes(e))throw new RangeError(s)}function W1(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const V1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U1=/^'([^]*?)'?$/,z1=/''/g,q1=/[a-zA-Z]/;function Y1(e,t,n){const s=Ps(),i=n?.locale??s.locale??em,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=st(e,n?.in);if(!Gp(a))throw new RangeError("Invalid time value");let l=t.match(H1).map(u=>{const h=u[0];if(h==="p"||h==="P"){const d=Sl[h];return d(u,i.formatLong)}return u}).join("").match(V1).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:K1(u)};if(Od[h])return{isToken:!0,value:u};if(h.match(q1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!n?.useAdditionalWeekYearTokens&&om(h)||!n?.useAdditionalDayOfYearTokens&&rm(h))&&El(h,t,String(e));const d=Od[h[0]];return d(a,h,i.localize,c)}).join("")}function K1(e){const t=e.match(U1);return t?t[1].replace(z1,"'"):e}function G1(){return Object.assign({},Ps())}function J1(e,t){const n=st(e,t?.in).getDay();return n===0?7:n}function X1(e,t){const n=Q1(t)?new t(0):Ut(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Q1(e){return typeof e=="function"&&e.prototype?.constructor===e}const Z1=10;class am{subPriority=0;validate(t,n){return!0}}class tC extends am{constructor(t,n,s,i,r){super(),this.value=t,this.validateValue=n,this.setValue=s,this.priority=i,r&&(this.subPriority=r)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,s){return this.setValue(t,n,this.value,s)}}class eC extends am{priority=Z1;subPriority=-1;constructor(t,n){super(),this.context=t||(s=>Ut(n,s))}set(t,n){return n.timestampIsSet?t:Ut(t,X1(t,this.context))}}class bt{run(t,n,s,i){const r=this.parse(t,n,s,i);return r?{setter:new tC(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,n,s){return!0}}class nC extends bt{priority=140;parse(t,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,n,s){return n.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Gt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},an={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Jt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wt(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ln(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const s=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:s*(i*yr+r*br+o*AP),rest:t.slice(n[0].length)}}function lm(e){return Wt(Gt.anyDigitsSigned,e)}function zt(e,t){switch(e){case 1:return Wt(Gt.singleDigit,t);case 2:return Wt(Gt.twoDigits,t);case 3:return Wt(Gt.threeDigits,t);case 4:return Wt(Gt.fourDigits,t);default:return Wt(new RegExp("^\\d{1,"+e+"}"),t)}}function xo(e,t){switch(e){case 1:return Wt(Gt.singleDigitSigned,t);case 2:return Wt(Gt.twoDigitsSigned,t);case 3:return Wt(Gt.threeDigitsSigned,t);case 4:return Wt(Gt.fourDigitsSigned,t);default:return Wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Tc(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function cm(e,t){const n=t>0,s=n?t:1-t;let i;if(s<=50)i=e||100;else{const r=s+50,o=Math.trunc(r/100)*100,a=e>=r%100;i=e+o-(a?100:0)}return n?i:1-i}function um(e){return e%400===0||e%4===0&&e%100!==0}class sC extends bt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return Jt(zt(4,t),i);case"yo":return Jt(s.ordinalNumber(t,{unit:"year"}),i);default:return Jt(zt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s){const i=t.getFullYear();if(s.isTwoDigitYear){const o=cm(s.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const r=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class iC extends bt{priority=130;parse(t,n,s){const i=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Jt(zt(4,t),i);case"Yo":return Jt(s.ordinalNumber(t,{unit:"year"}),i);default:return Jt(zt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s,i){const r=Oc(t,i);if(s.isTwoDigitYear){const a=cm(s.year,r);return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),fn(t,i)}const o=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),fn(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class rC extends bt{priority=130;parse(t,n){return xo(n==="R"?4:n.length,t)}set(t,n,s){const i=Ut(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),ai(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class oC extends bt{priority=130;parse(t,n){return xo(n==="u"?4:n.length,t)}set(t,n,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class aC extends bt{priority=120;parse(t,n,s){switch(n){case"Q":case"QQ":return zt(n.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class lC extends bt{priority=120;parse(t,n,s){switch(n){case"q":case"qq":return zt(n.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class cC extends bt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"M":return Jt(Wt(Gt.month,t),i);case"MM":return Jt(zt(2,t),i);case"Mo":return Jt(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class uC extends bt{priority=110;parse(t,n,s){const i=r=>r-1;switch(n){case"L":return Jt(Wt(Gt.month,t),i);case"LL":return Jt(zt(2,t),i);case"Lo":return Jt(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function hC(e,t,n){const s=st(e,n?.in),i=sm(s,n)-t;return s.setDate(s.getDate()-i*7),st(s,n?.in)}class dC extends bt{priority=100;parse(t,n,s){switch(n){case"w":return Wt(Gt.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s,i){return fn(hC(t,s,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function fC(e,t,n){const s=st(e,n?.in),i=nm(s,n)-t;return s.setDate(s.getDate()-i*7),s}class gC extends bt{priority=100;parse(t,n,s){switch(n){case"I":return Wt(Gt.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s){return ai(fC(t,s))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const pC=[31,28,31,30,31,30,31,31,30,31,30,31],mC=[31,29,31,30,31,30,31,31,30,31,30,31];class bC extends bt{priority=90;subPriority=1;parse(t,n,s){switch(n){case"d":return Wt(Gt.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return zt(n.length,t)}}validate(t,n){const s=t.getFullYear(),i=um(s),r=t.getMonth();return i?n>=1&&n<=mC[r]:n>=1&&n<=pC[r]}set(t,n,s){return t.setDate(s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class yC extends bt{priority=90;subpriority=1;parse(t,n,s){switch(n){case"D":case"DD":return Wt(Gt.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return zt(n.length,t)}}validate(t,n){const s=t.getFullYear();return um(s)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Pc(e,t,n){const s=Ps(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=st(e,n?.in),o=r.getDay(),l=(t%7+7)%7,c=7-i,u=t<0||t>6?t-(o+c)%7:(l+c)%7-(o+c)%7;return Ko(r,u,n)}class _C extends bt{priority=90;parse(t,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Pc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class vC extends bt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return Jt(zt(n.length,t),r);case"eo":return Jt(s.ordinalNumber(t,{unit:"day"}),r);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Pc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class wC extends bt{priority=90;parse(t,n,s,i){const r=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return Jt(zt(n.length,t),r);case"co":return Jt(s.ordinalNumber(t,{unit:"day"}),r);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,i){return t=Pc(t,s,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function xC(e,t,n){const s=st(e,n?.in),i=J1(s,n),r=t-i;return Ko(s,r,n)}class kC extends bt{priority=90;parse(t,n,s){const i=r=>r===0?7:r;switch(n){case"i":case"ii":return zt(n.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Jt(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Jt(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Jt(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Jt(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,s){return t=xC(t,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class SC extends bt{priority=80;parse(t,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Tc(s),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class EC extends bt{priority=80;parse(t,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Tc(s),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class OC extends bt{priority=80;parse(t,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(Tc(s),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class TC extends bt{priority=70;parse(t,n,s){switch(n){case"h":return Wt(Gt.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class PC extends bt{priority=70;parse(t,n,s){switch(n){case"H":return Wt(Gt.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,s){return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class CC extends bt{priority=70;parse(t,n,s){switch(n){case"K":return Wt(Gt.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class AC extends bt{priority=70;parse(t,n,s){switch(n){case"k":return Wt(Gt.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class MC extends bt{priority=60;parse(t,n,s){switch(n){case"m":return Wt(Gt.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setMinutes(s,0,0),t}incompatibleTokens=["t","T"]}class RC extends bt{priority=50;parse(t,n,s){switch(n){case"s":return Wt(Gt.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setSeconds(s,0),t}incompatibleTokens=["t","T"]}class DC extends bt{priority=30;parse(t,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Jt(zt(n.length,t),s)}set(t,n,s){return t.setMilliseconds(s),t}incompatibleTokens=["t","T"]}class IC extends bt{priority=10;parse(t,n){switch(n){case"X":return ln(an.basicOptionalMinutes,t);case"XX":return ln(an.basic,t);case"XXXX":return ln(an.basicOptionalSeconds,t);case"XXXXX":return ln(an.extendedOptionalSeconds,t);case"XXX":default:return ln(an.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Ut(t,t.getTime()-wo(t)-s)}incompatibleTokens=["t","T","x"]}class LC extends bt{priority=10;parse(t,n){switch(n){case"x":return ln(an.basicOptionalMinutes,t);case"xx":return ln(an.basic,t);case"xxxx":return ln(an.basicOptionalSeconds,t);case"xxxxx":return ln(an.extendedOptionalSeconds,t);case"xxx":default:return ln(an.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Ut(t,t.getTime()-wo(t)-s)}incompatibleTokens=["t","T","X"]}class jC extends bt{priority=40;parse(t){return lm(t)}set(t,n,s){return[Ut(t,s*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class NC extends bt{priority=20;parse(t){return lm(t)}set(t,n,s){return[Ut(t,s),{timestampIsSet:!0}]}incompatibleTokens="*"}const $C={G:new nC,y:new sC,Y:new iC,R:new rC,u:new oC,Q:new aC,q:new lC,M:new cC,L:new uC,w:new dC,I:new gC,d:new bC,D:new yC,E:new _C,e:new vC,c:new wC,i:new kC,a:new SC,b:new EC,B:new OC,h:new TC,H:new PC,K:new CC,k:new AC,m:new MC,s:new RC,S:new DC,X:new IC,x:new LC,t:new jC,T:new NC},FC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WC=/^'([^]*?)'?$/,VC=/''/g,HC=/\S/,UC=/[a-zA-Z]/;function zC(e,t,n,s){const i=()=>Ut(s?.in||n,NaN),r=G1(),o=s?.locale??r.locale??em,a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return e?i():st(n,s?.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},u=[new eC(s?.in,n)],h=t.match(BC).map(m=>{const b=m[0];if(b in Sl){const y=Sl[b];return y(m,o.formatLong)}return m}).join("").match(FC),d=[];for(let m of h){!s?.useAdditionalWeekYearTokens&&om(m)&&El(m,t,e),!s?.useAdditionalDayOfYearTokens&&rm(m)&&El(m,t,e);const b=m[0],y=$C[b];if(y){const{incompatibleTokens:v}=y;if(Array.isArray(v)){const k=d.find(E=>v.includes(E.token)||E.token===b);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:b,fullToken:m});const x=y.run(e,m,o.match,c);if(!x)return i();u.push(x.setter),e=x.rest}else{if(b.match(UC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=qC(m)),e.indexOf(m)===0)e=e.slice(m.length);else return i()}}if(e.length>0&&HC.test(e))return i();const f=u.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,y)=>y.indexOf(m)===b).map(m=>u.filter(b=>b.priority===m).sort((b,y)=>y.subPriority-b.subPriority)).map(m=>m[0]);let p=st(n,s?.in);if(isNaN(+p))return i();const g={};for(const m of f){if(!m.validate(p,c))return i();const b=m.set(p,g,c);Array.isArray(b)?(p=b[0],Object.assign(g,b[1])):p=b}return p}function qC(e){return e.match(WC)[1].replace(VC,"'")}function YC(e,t){const n=st(e,t?.in);return n.setMinutes(0,0,0),n}function KC(e,t){const n=st(e,t?.in);return n.setSeconds(0,0),n}function GC(e,t){const n=st(e,t?.in);return n.setMilliseconds(0),n}function JC(e,t){const n=()=>Ut(t?.in,NaN),s=t?.additionalDigits??2,i=tA(e);let r;if(i.date){const c=eA(i.date,s);r=nA(c.restDateString,c.year)}if(!r||isNaN(+r))return n();const o=+r;let a=0,l;if(i.time&&(a=sA(i.time),isNaN(a)))return n();if(i.timezone){if(l=iA(i.timezone),isNaN(l))return n()}else{const c=new Date(o+a),u=st(0,t?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return st(o+a+l,t?.in)}const zr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},XC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ZC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tA(e){const t={},n=e.split(zr.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],zr.timeZoneDelimiter.test(t.date)&&(t.date=e.split(zr.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=zr.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function eA(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:e.slice((s[1]||s[2]).length)}}function nA(e,t){if(t===null)return new Date(NaN);const n=e.match(XC);if(!n)return new Date(NaN);const s=!!n[4],i=Ti(n[1]),r=Ti(n[2])-1,o=Ti(n[3]),a=Ti(n[4]),l=Ti(n[5])-1;if(s)return cA(t,a,l)?rA(t,a,l):new Date(NaN);{const c=new Date(0);return!aA(t,r,o)||!lA(t,i)?new Date(NaN):(c.setUTCFullYear(t,r,Math.max(i,o)),c)}}function Ti(e){return e?parseInt(e):1}function sA(e){const t=e.match(QC);if(!t)return NaN;const n=ja(t[1]),s=ja(t[2]),i=ja(t[3]);return uA(n,s,i)?n*yr+s*br+i*1e3:NaN}function ja(e){return e&&parseFloat(e.replace(",","."))||0}function iA(e){if(e==="Z")return 0;const t=e.match(ZC);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return hA(s,i)?n*(s*yr+i*br):NaN}function rA(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,r=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const oA=[31,null,31,30,31,30,31,31,30,31,30,31];function hm(e){return e%400===0||e%4===0&&e%100!==0}function aA(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(oA[t]||(hm(e)?29:28))}function lA(e,t){return t>=1&&t<=(hm(e)?366:365)}function cA(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function uA(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function hA(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const dA={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Ep._date.override({_id:"date-fns",formats:function(){return dA},parse:function(e,t){if(e===null||typeof e>"u")return null;const n=typeof e;return n==="number"||e instanceof Date?e=st(e):n==="string"&&(typeof t=="string"?e=zC(e,t,new Date,this.options):e=JC(e,this.options)),Gp(e)?e.getTime():null},format:function(e,t){return Y1(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return Sc(e,t);case"second":return jP(e,t);case"minute":return IP(e,t);case"hour":return MP(e,t);case"day":return Ko(e,t);case"week":return NP(e,t);case"month":return kc(e,t);case"quarter":return LP(e,t);case"year":return $P(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return Ec(e,t);case"second":return qP(e,t);case"minute":return HP(e,t);case"hour":return VP(e,t);case"day":return Jp(e,t);case"week":return YP(e,t);case"month":return Zp(e,t);case"quarter":return zP(e,t);case"year":return KP(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return GC(e);case"minute":return KC(e);case"hour":return YC(e);case"day":return kl(e);case"week":return fn(e);case"isoWeek":return fn(e,{weekStartsOn:+n});case"month":return JP(e);case"quarter":return GP(e);case"year":return tm(e);default:return e}},endOf:function(e,t){switch(t){case"second":return n1(e);case"minute":return t1(e);case"hour":return QP(e);case"day":return Xp(e);case"week":return ZP(e);case"month":return Qp(e);case"quarter":return e1(e);case"year":return XP(e);default:return e}}});const fA={class:"softBubble"},gA=mt({__name:"WorkoutVolumeByWorkout",props:{workouts:{},graphSize:{},backTimes:{},binSize:{},whatGraphed:{}},setup(e){const t=e,n=z(null),s=z(null),i=z(!1),r=z(0);function o(){if(s.value){try{s.value.destroy()}catch(l){console.warn("Error destroying chart:",l)}s.value=null}}async function a(){if(!n.value||!t.workouts||t.workouts.length===0||i.value)return;i.value=!0,r.value++;const l=r.value;if(o(),await En(),l!==r.value){i.value=!1;return}if(!n.value){i.value=!1;return}const c=t.workouts.map(g=>({x:g.getStartTime(),y:g.getItem(t.whatGraphed)})),u=getComputedStyle(document.documentElement);[...t.workouts];const h={labels:rk(c,t.binSize,t.graphSize,t.backTimes),datasets:[{label:"My First Dataset",data:ik(c,t.binSize||"day",t.graphSize,t.backTimes),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,borderRadius:10}]},d={family:"Avenir",size:16},f={family:"Avenir",size:20,weight:"900",color:"#FFFFFF"},p={type:"bar",data:h,options:{responsive:!0,categoryPercentage:1,animation:{duration:0},plugins:{legend:{display:!1},title:{display:!0,text:un.fullNameForType(t.whatGraphed),font:f,color:u.getPropertyValue("--text")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(g){return[un.stringifyItem(g.parsed.y,t.whatGraphed)]}},bodyFont:d}},scales:{y:{ticks:{maxTicksLimit:3,font:d},position:"right",startAtZero:!1}}}};try{if(l!==r.value||!n.value){i.value=!1;return}const g=new wc(n.value,p);l===r.value?s.value=g:g.destroy()}catch(g){console.error("Error creating chart:",g)}finally{i.value=!1}}return Ln(async()=>{await En(),a()}),Js(()=>t.workouts,async(l,c)=>{if(l!==c){if(await En(),!l||l.length===0){s.value&&(s.value.destroy(),s.value=null);return}await En(()=>a())}},{deep:!1,immediate:!1}),Js(()=>t.whatGraphed,async(l,c)=>{await En(),a()}),Wl(()=>{s.value&&(s.value.destroy(),s.value=null),i.value=!1}),(l,c)=>(N(),Q("div",fA,[P("canvas",{ref_key:"canvasRef",ref:n,id:"workoutVolumeChart"},null,512)]))}}),pA={key:0},mA=mt({__name:"DashboardStatBubble",props:{label:{},value:{},prevValue:{},dispValue:{},icon:{},selected:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e;function s(){if(n.prevValue==0)return"N/A";let i=(n.value-n.prevValue)/n.prevValue*100;return i<0&&(i*=-1),i.toFixed(1)}return(i,r)=>(N(),Q("div",{class:fe(["statBubble softBubble clickable",{selected:e.selected}]),onClick:r[0]||(r[0]=o=>i.$emit("click"))},[P("p",null,[Nt(Tt(e.label)+" ",1),P("i",{class:fe(["right fa-solid",e.icon])},null,2)]),P("h2",null,Tt(e.dispValue),1),e.prevValue!==0?(N(),Q("p",pA,[e.value!==e.prevValue?(N(),Q("i",{key:0,class:fe(["fa-solid",e.value-e.prevValue>=0?"fa-arrow-up":"fa-arrow-down"])},null,2)):gt("",!0),Nt(" "+Tt(s())+" % ",1)])):gt("",!0)],2))}}),qr=Dt(mA,[["__scopeId","data-v-40435f7f"]]);class bn{static getTotalDuration(t){return t.reduce((n,s)=>n+s.getDuration(),0)}static getTotalEnergy(t){return t.reduce((n,s)=>n+(s.getEnergy()||0),0)}static getTotalEnergyString(t){const n=this.getTotalEnergy(t);return`${un.commaNumber(n)} kj`}static getTotalVolume(t){return t.reduce((n,s)=>n+s.getVolume(),0)}static getTotalVolumeString(t){const n=this.getTotalVolume(t);return`${un.commaNumber(n)} kg`}}const bA={class:"viewArea"},yA={class:"margins"},_A={key:0,class:"periodSelect"},vA={class:"center"},wA={class:"flex"},xA={key:1},kA=mt({__name:"StatsView",setup(e){let t=[];const n=z([]),s=z([]),i=z(!0),r=z("week"),o=z("volume"),a=z(0),l=z(new ic);function c(h){switch(h){case"week":return"day";case"month":return"week";case"year":return"month";default:return"year"}}async function u(h){if(r.value=h,i.value=!0,h==="all"){n.value=[...t],await En(),i.value=!1;return}const d=lt.getEnd(lt.addPeriod(new Date,h,-a.value),h),f=lt.getStart(d,h),p=lt.getStartOfPrevious(f,h),g=[];s.value=[];for(const m of t)m.getStartTime()>=f&&m.getStartTime()<=d&&g.push(m),m.getStartTime()>=p&&m.getStartTime()<f&&s.value.push(m);n.value=g,await En(),i.value=!1}return Ln(async()=>{try{t=await zg(),await u("week"),i.value=!1}catch(h){l.value.setError("Failed to load workouts. Please try again later."),console.error("Failed to load workouts:",h),t=[],n.value=[],i.value=!1}}),(h,d)=>(N(),Q(Ot,null,[H(sc,{error:l.value},null,8,["error"]),P("div",bA,[P("div",yA,[d[8]||(d[8]=P("h1",null,"Workout Dashboard",-1)),d[9]||(d[9]=P("p",null,"Track your fitness journey and monitor your progress",-1)),H(sk,{options:[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"This Year",value:"year"},{label:"All Time",value:"all"}],onSelect:d[0]||(d[0]=f=>{a.value=0,u(f)})}),r.value!=="all"?(N(),Q("div",_A,[P("i",{class:"fa-solid fa-chevron-left clickable floatleft",onClick:d[1]||(d[1]=f=>{a.value=a.value+1,u(r.value)})}),P("div",vA,Tt(Yt(lt).getPeriodString(r.value,a.value)),1),a.value!==0?(N(),Q("i",{key:0,class:"fa-solid fa-chevron-right clickable floatright",onClick:d[2]||(d[2]=f=>{a.value=a.value>0?a.value-1:0,u(r.value)})})):gt("",!0)])):gt("",!0),P("div",wA,[H(qr,{label:"Total Workouts",value:n.value.length,prevValue:s.value.length,dispValue:n.value.length.toString(),icon:"fa-dumbbell",selected:o.value==="workouts",onClick:d[3]||(d[3]=f=>o.value="workouts")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Time",value:Yt(bn).getTotalDuration(n.value),prevValue:Yt(bn).getTotalDuration(s.value),dispValue:Yt(lt).getDurationString(Yt(bn).getTotalDuration(n.value))||"--",icon:"fa-clock",selected:o.value==="time",onClick:d[4]||(d[4]=f=>o.value="time")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Energy",value:Yt(bn).getTotalEnergy(n.value),prevValue:Yt(bn).getTotalEnergy(s.value),dispValue:Yt(bn).getTotalEnergyString(n.value),icon:"fa-fire",selected:o.value==="energy",onClick:d[5]||(d[5]=f=>o.value="energy")},null,8,["value","prevValue","dispValue","selected"]),H(qr,{label:"Total Volume",value:Yt(bn).getTotalVolume(n.value),prevValue:Yt(bn).getTotalVolume(s.value),dispValue:Yt(bn).getTotalVolumeString(n.value),icon:"fa-weight-hanging",selected:o.value==="volume",onClick:d[6]||(d[6]=f=>o.value="volume")},null,8,["value","prevValue","dispValue","selected"])]),i.value?(N(),Q("div",xA,[...d[7]||(d[7]=[P("p",null,"Loading workouts...",-1)])])):(N(),Ft(gA,{key:2,workouts:n.value,graphSize:r.value,binSize:c(r.value),whatGraphed:o.value,backTimes:a.value},null,8,["workouts","graphSize","binSize","whatGraphed","backTimes"]))])])],64))}}),SA=Dt(kA,[["__scopeId","data-v-ff48e511"]]),EA=[{path:"/",name:"SignIn",component:Pw},{path:"/signup",name:"SignUp",component:Rw},{path:"/emailconf",name:"Email Confirmation",component:jw},{path:"/home",name:"Home",component:ix},{path:"/upload",name:"Upload",component:ux},{path:"/viewWorkout/:workout_id",name:"View Workout",component:Qx,props:!0},{path:"/stats",name:"Stats",component:SA}],OA=L_({history:p_(),routes:EA}),dm=Py(bw);dm.use(OA);dm.mount("#app");
